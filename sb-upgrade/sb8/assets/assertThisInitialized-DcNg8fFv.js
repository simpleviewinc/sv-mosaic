import{r as n,R as d}from"./index-CDs2tPxN.js";function l(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const y=typeof window<"u"?n.useLayoutEffect:n.useEffect;function T(e){const t=n.useRef(e);return y(()=>{t.current=e}),n.useCallback((...r)=>(0,t.current)(...r),[])}function O(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{l(e,r),l(t,r)},[e,t])}let o=!0,a=!1,f;const h={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function p(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&h[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function b(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function s(){o=!1}function m(){this.visibilityState==="hidden"&&a&&(o=!0)}function w(e){e.addEventListener("keydown",b,!0),e.addEventListener("mousedown",s,!0),e.addEventListener("pointerdown",s,!0),e.addEventListener("touchstart",s,!0),e.addEventListener("visibilitychange",m,!0)}function E(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return o||p(t)}function _(){const e=n.useCallback(u=>{u!=null&&w(u.ownerDocument)},[]),t=n.useRef(!1);function r(){return t.current?(a=!0,window.clearTimeout(f),f=window.setTimeout(()=>{a=!1},100),t.current=!1,!0):!1}function i(u){return E(u)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:i,onBlur:r,ref:e}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,u){return i.__proto__=u,i},c(e,t)}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}const F=d.createContext(null);function L(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}export{F as T,v as _,T as a,y as b,L as c,_ as d,c as e,l as s,O as u};
