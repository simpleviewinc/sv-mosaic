import{j as a}from"./jsx-runtime-DiwAibxM.js";import{r as u}from"./index-Btj5Fd67.js";import{D as v}from"./DataViewPrimaryFilter-BOH2oXUo.js";import{D as w}from"./index-B6f3rorp.js";import{D}from"./FormFieldText.styled-BXg2h5EQ.js";const b=[{label:"In",value:"in"},{label:"Not In",value:"not_in"},{label:"All",value:"all"},{label:"Exists",value:"exists"},{label:"Not Exists",value:"not_exists"}],O={in:"",not_in:"Not In - ",all:"All - "};function F(e){var c,r;const[n,l]=u.useState({anchorEl:null,selected:[],dropdownOpen:!1}),d=e.data.value||[],s=e.data.comparison||"in";u.useEffect(()=>{async function t(){const E=await e.args.getSelected(d);l(p=>({...p,selected:E}))}t()},[e.data]);const m=function(t){l({...n,anchorEl:t.currentTarget})},i=function(){l({...n,anchorEl:null})},f=function(){l({...n,dropdownOpen:!0})},x=function(){l({...n,dropdownOpen:!1})},g=function(t){t.value.length>0||t.comparison==="exists"||t.comparison==="not_exists"?e.onChange(t):e.onChange(void 0),i()};let o;s==="exists"?o="EXISTS":s==="not_exists"?o="NOT EXISTS":n.selected.length>0?o=`${O[s]}${(c=n.selected[0])==null?void 0:c.label}`:o="";const h=e.args&&e.args.comparisons?b.filter(t=>e.args.comparisons.includes(t.value)):void 0;return a.jsxs("span",{children:[a.jsx(v,{label:e.label,value:o,onClick:m,multiselect:n==null?void 0:n.selected}),a.jsx(D,{anchorEl:n.anchorEl,onClose:i,onEntered:f,onExited:x,children:a.jsx(w,{comparison:s,comparisons:h,selected:n.selected,getOptions:e.args.getOptions,isOpen:n.dropdownOpen,onApply:g,placeholder:(r=e.args)==null?void 0:r.placeholder,limit:e.args.limit})})]})}export{F as D};
