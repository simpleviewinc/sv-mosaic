import{r as d,R as i}from"./index-D0AnReJb.js";import{D as x}from"./DataViewPrimaryFilter-CDMe5wxF.js";import{D as w}from"./index-Bd1hwoKI.js";import{D}from"./FormFieldText.styled-CGYIYrSS.js";const b=[{label:"In",value:"in"},{label:"Not In",value:"not_in"},{label:"All",value:"all"},{label:"Exists",value:"exists"},{label:"Not Exists",value:"not_exists"}],C={in:"",not_in:"Not In - ",all:"All - "};function y(e){var s,c;const[n,l]=d.useState({anchorEl:null,selected:[],dropdownOpen:!1}),u=e.data.value||[],a=e.data.comparison||"in";d.useEffect(()=>{async function t(){const p=await e.args.getSelected(u);l(h=>({...h,selected:p}))}t()},[e.data]);const m=function(t){l({...n,anchorEl:t.currentTarget})},r=function(){l({...n,anchorEl:null})},f=function(){l({...n,dropdownOpen:!0})},v=function(){l({...n,dropdownOpen:!1})},E=function(t){t.value.length>0||t.comparison==="exists"||t.comparison==="not_exists"?e.onChange(t):e.onChange(void 0),r()};let o;a==="exists"?o="EXISTS":a==="not_exists"?o="NOT EXISTS":n.selected.length>0?o=`${C[a]}${(s=n.selected[0])===null||s===void 0?void 0:s.label}`:o="";const g=e.args&&e.args.comparisons?b.filter(t=>e.args.comparisons.includes(t.value)):void 0;return i.createElement("span",null,i.createElement(x,{label:e.label,value:o,onClick:m,multiselect:n==null?void 0:n.selected}),i.createElement(D,{anchorEl:n.anchorEl,onClose:r,onEntered:f,onExited:v},i.createElement(w,{comparison:a,comparisons:g,selected:n.selected,getOptions:e.args.getOptions,isOpen:n.dropdownOpen,onApply:E,placeholder:(c=e.args)===null||c===void 0?void 0:c.placeholder,limit:e.args.limit})))}export{y as D};
