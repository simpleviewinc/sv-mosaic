import{j as n}from"./jsx-runtime-DiwAibxM.js";import{r as o}from"./index-Btj5Fd67.js";import{D as E}from"./DataViewPrimaryFilter-DhoCDLnO.js";import{a as F,D as b}from"./DataViewFilterDropdown-CsfLeKEd.js";import{B as j}from"./theme-D38K4W-Z.js";import{u as N,V as p,F as V}from"./Form-DsDAv5pr.js";import{S as w}from"./DataViewFilterNumber.styled-CiKFQiKg.js";import{t as A}from"./testIds-Cxqhkw8S.js";const M=[{fields:[[["min"],["max"]]],gridMinWidth:j.sm}];function h({args:a,data:{min:m,max:u}={},onChange:i,onClose:l}){const s=N({data:{min:m,max:u}}),{state:{data:{min:e,max:t},errors:d},methods:{setFormValues:r}}=s,f=o.useCallback(()=>{r({values:{min:void 0,max:void 0}})},[r]),c=o.useCallback(()=>{i(!e&&!t?void 0:{min:e,max:t}),l()},[t,e,i,l]),x=o.useMemo(()=>[{name:"min",type:"number",label:"Minimum",size:"full",inputSettings:a,validators:[{fn:p,options:{maxName:"max"}}],validates:["max"]},{name:"max",type:"number",label:"Maximum",size:"full",inputSettings:a,validators:[{fn:p,options:{minName:"min"}}],validates:["min"]}],[a]),D=Object.values(d).filter(Boolean).length>0;return n.jsxs(w,{"data-testid":A.DATA_VIEW_FILTER_NUMBER_CONTENT,children:[n.jsx(V,{...s,fields:x,sections:M,fullHeight:!1,spacing:"compact"}),n.jsx(F,{onApply:c,onClear:f,disableApply:D})]})}function C({args:a,data:m,label:u,onChange:i}){const[l,s]=o.useState(null),{min:e,max:t}=m??{},d=function(c){s(c.currentTarget)},r=function(){s(null)},f=o.useMemo(()=>{if(!(e===void 0&&t===void 0))return e===void 0?`${t} or less`:t===void 0?`${e} or greater`:`Between ${e} and ${t}`},[e,t]);return n.jsxs(n.Fragment,{children:[n.jsx(E,{label:u,value:f,onClick:d}),n.jsx(b,{anchorEl:l,onClose:r,children:n.jsx(h,{args:a,data:m,onChange:i,onClose:r})})]})}export{C as D};
