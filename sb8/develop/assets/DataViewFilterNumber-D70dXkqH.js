import{j as a}from"./jsx-runtime-EKYJJIwR.js";import{r}from"./index-DDfD_3TG.js";import{D}from"./DataViewPrimaryFilter-CR1jqifp.js";import{a as E,D as F}from"./DataViewFilterDropdown-D8zsAVgS.js";import{B as b}from"./theme-DWrYR5Gu.js";import{u as j,V as p,F as N}from"./Form-EIXaRtfg.js";import{S as V}from"./DataViewFilterNumber.styled-DFPMt5Iy.js";import{t as w}from"./testIds-Dso8kRSM.js";const A=[{fields:[[["min"],["max"]]],gridMinWidth:b.sm}];function M({args:i,data:{min:m,max:u}={},onChange:o,onClose:l}){const n=j({data:{min:m,max:u}}),{state:{data:{min:t,max:e},errors:c},methods:{setFormValues:s}}=n,d=r.useCallback(()=>{s({values:{min:void 0,max:void 0}})},[s]),f=r.useCallback(()=>{o(!t&&!e?void 0:{min:t,max:e}),l()},[e,t,o,l]),x=r.useMemo(()=>[{name:"min",type:"number",label:"Minimum",size:"full",inputSettings:i,validators:[{fn:p,options:{maxName:"max"}}],validates:["max"]},{name:"max",type:"number",label:"Maximum",size:"full",inputSettings:i,validators:[{fn:p,options:{minName:"min"}}],validates:["min"]}],[i]),v=Object.values(c).filter(Boolean).length>0;return a.jsxs(V,{"data-testid":w.DATA_VIEW_FILTER_NUMBER_CONTENT,children:[a.jsx(N,{...n,fields:x,sections:A,fullHeight:!1,spacing:"compact"}),a.jsx(E,{onApply:f,onClear:d,disableApply:v})]})}function C({args:i,data:m,label:u,onChange:o}){const[l,n]=r.useState(null),{min:t,max:e}=m??{},c=function(f){n(f.currentTarget)},s=function(){n(null)},d=r.useMemo(()=>{if(!(t===void 0&&e===void 0))return t===void 0?`${e} or less`:e===void 0?`${t} or greater`:`Between ${t} and ${e}`},[t,e]);return a.jsxs(a.Fragment,{children:[a.jsx(D,{label:u,value:d,onClick:c}),a.jsx(F,{anchorEl:l,onClose:s,children:a.jsx(M,{args:i,data:m,onChange:o,onClose:s})})]})}export{C as D};
