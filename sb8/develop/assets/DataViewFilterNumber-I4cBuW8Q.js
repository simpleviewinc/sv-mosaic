import{j as n}from"./jsx-runtime-DiwAibxM.js";import{r as s}from"./index-Btj5Fd67.js";import{D as F}from"./DataViewPrimaryFilter-COOF15GK.js";import{a as j,D as w}from"./FormFieldText.styled-CYOPNvgp.js";import{s as V,B as x}from"./theme-C7C0QMlu.js";import{u as N,V as p,F as y}from"./index-DC7k7Zpe.js";import{t as A}from"./testIds-BTxDoLqd.js";const h=V.div`
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	width: ${x.sm};
`,v=[{fields:[[["min"],["max"]]],gridMinWidth:x.sm}];function B({args:a,data:{min:i,max:l}={},onChange:r,onClose:u}){const o=N(),{state:{data:{min:e,max:t},errors:d},methods:{setFormValues:m}}=o,c=s.useCallback(async()=>({min:i,max:l}),[i,l]),f=s.useCallback(()=>{m({values:{min:void 0,max:void 0}})},[m]),D=s.useCallback(()=>{r(!e&&!t?void 0:{min:e,max:t}),u()},[t,e,r,u]),b=s.useMemo(()=>[{name:"min",type:"number",label:"Minimum",size:"full",inputSettings:a,validators:[{fn:p,options:{maxName:"max"}}],validates:["max"]},{name:"max",type:"number",label:"Maximum",size:"full",inputSettings:a,validators:[{fn:p,options:{minName:"min"}}],validates:["min"]}],[a]),E=Object.values(d).filter(Boolean).length>0;return n.jsxs(h,{"data-testid":A.DATA_VIEW_FILTER_NUMBER_CONTENT,children:[n.jsx(y,{...o,fields:b,sections:v,fullHeight:!1,spacing:"compact",getFormValues:c}),n.jsx(j,{onApply:D,onClear:f,disableApply:E})]})}function S({args:a,data:i,label:l,onChange:r}){const[u,o]=s.useState(null),{min:e,max:t}=i??{},d=function(f){o(f.currentTarget)},m=function(){o(null)},c=s.useMemo(()=>{if(!(e===void 0&&t===void 0))return e===void 0?`${t} or less`:t===void 0?`${e} or greater`:`Between ${e} and ${t}`},[e,t]);return n.jsxs(n.Fragment,{children:[n.jsx(F,{label:l,value:c,onClick:d}),n.jsx(w,{anchorEl:u,onClose:m,children:n.jsx(B,{args:a,data:i,onChange:r,onClose:m})})]})}export{S as D};
