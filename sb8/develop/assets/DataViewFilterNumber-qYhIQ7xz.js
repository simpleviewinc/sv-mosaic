import{r as c,R as e}from"./index-D0AnReJb.js";import{D as R}from"./DataViewPrimaryFilter-DbuXG1-l.js";import{a as D,D as I}from"./DataViewFilterDropdownButtons-j8BN_zxt.js";import{B as f}from"./sizes-DkIXWPpc.js";import{u as V,V as A,F as x}from"./index-C9jB5BV3.js";import{s as b}from"./styled-components.browser.esm-8X0uN6v9.js";import{t}from"./testIds-DLbO0bd9.js";import{B as d}from"./Badge-nT9K5bgY.js";const L=b.div`
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	width: ${f.sm};
`,g=[{fields:[[["min"],["max"]]],gridMinWidth:f.sm}];function w({args:s,data:{min:l,max:E}={},onChange:r,onClose:m}){const i=V({data:{min:l,max:E}}),{state:{data:{min:a,max:n},errors:u},methods:{setFormValues:o}}=i,p=c.useCallback(()=>{o({values:{min:void 0,max:void 0}})},[o]),_=c.useCallback(()=>{r(!a&&!n?void 0:{min:a,max:n}),m()},[n,a,r,m]),T=c.useMemo(()=>[{name:"min",type:"number",label:"Minimum",size:"full",inputSettings:s,validators:[{fn:A,options:{maxName:"max"}}],validates:["max"]},{name:"max",type:"number",label:"Maximum",size:"full",inputSettings:s,validators:[{fn:A,options:{minName:"min"}}],validates:["min"]}],[s]),F=Object.values(u).filter(Boolean).length>0;return e.createElement(L,{"data-testid":t.DATA_VIEW_FILTER_NUMBER_CONTENT},e.createElement(x,{...i,fields:T,sections:g,fullHeight:!1,spacing:"compact",autoFocus:!0}),e.createElement(D,{onApply:_,onClear:p,disableApply:F}))}function M({args:s,data:l,label:E,onChange:r}){const[m,i]=c.useState(null),{min:a,max:n}=l??{},u=function(p){i(p.currentTarget)},o=function(){i(null)};return e.createElement(e.Fragment,null,e.createElement(R,{label:E,value:a!==void 0&&n!==void 0?e.createElement(e.Fragment,null,e.createElement("span",{"data-testid":t.DATA_VIEW_FILTER_OPERATOR},"between"),e.createElement(d,{attrs:{"data-testid":t.DATA_VIEW_FILTER_VALUE}},a),e.createElement("span",{"data-testid":t.DATA_VIEW_FILTER_OPERATOR},"and"),e.createElement(d,{attrs:{"data-testid":t.DATA_VIEW_FILTER_VALUE}},n)):a!==void 0?e.createElement(e.Fragment,null,e.createElement(d,{attrs:{"data-testid":t.DATA_VIEW_FILTER_VALUE}},a),e.createElement("span",{"data-testid":t.DATA_VIEW_FILTER_OPERATOR},"or greater")):n!==void 0&&e.createElement(e.Fragment,null,e.createElement(d,{attrs:{"data-testid":t.DATA_VIEW_FILTER_VALUE}},n),e.createElement("span",{"data-testid":t.DATA_VIEW_FILTER_OPERATOR},"or less")),onClick:u}),e.createElement(I,{anchorEl:m,onClose:o},e.createElement(w,{args:s,data:l,onChange:r,onClose:o})))}export{M as D};
