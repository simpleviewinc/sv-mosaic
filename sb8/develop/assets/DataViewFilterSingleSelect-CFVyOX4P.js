import{r as a}from"./index-D0AnReJb.js";import{s as m}from"./styled-components.browser.esm-C5LJ_neh.js";import{D as g}from"./DataViewPrimaryFilter-BT-dYY0O.js";import{M as h}from"./Button-BOlAo_yO.js";import{B as E}from"./Badge-D2_qX7Jf.js";const v=m.span``;function y(e){var o,l;const[n,r]=a.useState({anchorEl:null,selected:void 0,options:[]});if(e.args.required&&!e.data.value)throw new Error("Invalid use-case, a value is required but none was provided");const i=(o=e.data)===null||o===void 0?void 0:o.value;a.useEffect(()=>{async function t(){const u=await e.args.getSelected(i),f=await e.args.getOptions();r({...n,options:f.docs,selected:u})}t()},[e.data]);const s=function(t){r({...n,anchorEl:t.currentTarget})},c=function(){r({...n,anchorEl:null})},d=function(t){t===""||t===void 0?e.onChange(void 0):e.onChange({value:t}),c()};return a.createElement(v,null,a.createElement(g,{label:e.label,value:n.selected&&a.createElement(E,null,n.selected.label),onClick:s}),a.createElement(h,{onClose:c,anchorEl:n.anchorEl,open:!!n.anchorEl,items:n.options,onChange:d,value:i,placeholder:!((l=e.args)===null||l===void 0)&&l.required?void 0:"Any..."}))}export{y as D};
