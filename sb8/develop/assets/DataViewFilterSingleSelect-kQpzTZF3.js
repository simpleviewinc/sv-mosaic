import{j as o}from"./jsx-runtime-DiwAibxM.js";import{r as d}from"./index-Btj5Fd67.js";import{s as g}from"./theme-D38K4W-Z.js";import{D as E}from"./DataViewPrimaryFilter-CnRU7S1t.js";import{M as v}from"./Button-D32bI-Hq.js";const w=g.span``;function b(e){var l,c;const[n,a]=d.useState({anchorEl:null,selected:void 0,options:[]});if(e.args.required&&!e.data.value)throw new Error("Invalid use-case, a value is required but none was provided");const i=(l=e.data)==null?void 0:l.value;d.useEffect(()=>{async function t(){const h=await e.args.getSelected(i),m=await e.args.getOptions();a({...n,options:m.docs,selected:h})}t()},[e.data]);const u=function(t){a({...n,anchorEl:t.currentTarget})},r=function(){a({...n,anchorEl:null})};let s;n.selected!==void 0&&(s=n.selected.label);const f=function(t){t===""||t===void 0?e.onChange(void 0):e.onChange({value:t}),r()};return o.jsxs(w,{children:[o.jsx(E,{label:e.label,value:s,onClick:u}),o.jsx(v,{onClose:r,anchorEl:n.anchorEl,open:!!n.anchorEl,items:n.options,onChange:f,value:i,placeholder:(c=e.args)!=null&&c.required?void 0:"Any..."})]})}export{b as D};
