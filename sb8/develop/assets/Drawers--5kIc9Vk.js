import{j as u}from"./jsx-runtime-EKYJJIwR.js";import{r as o}from"./index-D0AnReJb.js";import{P as h,A as p}from"./Drawers.styled-BezXquF1.js";import{t as f}from"./testIds-Dso8kRSM.js";import{D as x}from"./ChevronRight-DusQwXTC.js";import{B as D}from"./Popper-xe3MJQij.js";function w(e,t){if(e.length===0)return[];const a=e[e.length-1];return e.map((s,n)=>{const l=n===e.length-1,c=n===e.length-2;return l&&s===!1&&t?"closing":l&&s===!0&&t?"opening":l&&s===!0?"open":c&&a===!0&&t?"stacking":c&&a===!1&&t?"unstacking":"stacked"})}const A={backdrop:{"data-testid":f.DRAWER_BACKDROP}};function j(e){const[t,a]=o.useState([]),[s,n]=o.useState(!1);o.useEffect(()=>{e.drawers.length===0&&t.length===0||(e.drawers.length>t.length?(a(r=>[...r,!0]),n(!0)):e.drawers.length<t.length&&t[t.length-1]===!0&&(a(r=>[...r.slice(0,-1),!1]),n(!0)))},[e.drawers,t]);const l=o.useCallback(()=>{n(!1)},[]),c=o.useCallback(()=>{a(r=>[...r.slice(0,-1)]),n(!1)},[]),d=o.useMemo(()=>w(t,s),[t,s]);return u.jsxs(u.Fragment,{children:[t.map((r,i)=>{const m=d[i],g=e.drawers[i]&&!["closing","opening"].includes(m);return u.jsx(x,{open:r,anchor:"right",SlideProps:{appear:!0,onEntered:l,onExited:c},transitionDuration:p,PaperProps:{className:m,component:h},slotProps:A,"data-testid":f.DRAWER,children:g?e.children(e.drawers[i]):null},i)}),u.jsx(D,{invisible:!0,open:s,sx:{zIndex:1300}})]})}export{j as D};
