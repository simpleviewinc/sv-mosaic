var BM=Object.defineProperty;var jM=(t,e,n)=>e in t?BM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var al=(t,e,n)=>jM(t,typeof e!="symbol"?e+"":e,n);import{j as v,r as St}from"./jsx-runtime-nGUw9YhZ.js";import{g as Pa,a as O,r as h,c as ll}from"./index-BP8_t0zE.js";import{s as Q,C as gx,t as _,n as ko,B as zM}from"./theme-DRtZtbPc.js";import{S as HM}from"./SideNav-D66jd1x5.js";import{c as Wt}from"./containerQuery-C0QVV4Kt.js";import{C as VM,F as WM,l as Ra,k as vx,A as UM,r as yx,B as bx,D as GM,o as KM,E as xx,G as qM,H as YM,I as JM,J as ZM,K as cu,L as wx,b as Cx,M as XM,N as QM,O as eE,g as ar,P as tE,Q as nE,R as rE,d as oE,z as iE,p as sE,S as Sx,m as aE,a as lE,T as cE,w as kx,U as uE,V as dE,W as pE,j as fE,v as hE,X as mE}from"./CheckboxList-DIJA1CoI.js";import{S as uu,F as Mx,i as Ju,b as Po,o as Eg,f as bi,A as gE,T as Pf,I as Ex,c as vE}from"./FormFieldText.styled-BceLEoIp.js";import{I as ha,a as yE,D as bE,d as xE}from"./index-OJVcpMHx.js";import{S as Xe,a as Xl,B as Da}from"./ButtonRow-CuiV6DQ9.js";import{_ as tt,d as J,T as wE,L as CE,H as SE,I as fp,i as kt,g as En,a as At,s as Ee,b as Ia,u as ii,e as Hn,f as Tn,j as Zu,M as kE,E as ME,z as du,y as Rf,N as EE}from"./generateUtilityClasses-DAcHHM0W.js";import{r as Mt}from"./createSvgIcon-CcHL1II5.js";import{C as hp,a as TE,d as Tx}from"./Chip-B85GZ6Ow.js";import{S as ft}from"./sizes-C6oSOElx.js";import{c as qr}from"./createSvgIcon-CPgMIgId.js";import{I as Mo,d as Is,G as OE,u as Df,T as If,P as LE,B as un,e as AE}from"./Button-Do5OxnZO.js";import{f as PE,T as Ox,R as RE,a as si,P as $a,u as ms,g as Tg,h as DE,m as IE,j as $E,k as NE,F as Lx}from"./Popper-CPbWUqAP.js";import{u as $f}from"./useId-DLncWxdO.js";import{u as es}from"./useControlled-im5M3O13.js";import{_ as _E,a as $s,s as FE,u as Ur,c as Re,d as BE,b as Nf}from"./useIsFocusVisible-De2ftVE9.js";import{d as _f}from"./DataViewPrimaryFilter.styled-CylNlUs-.js";import{a as jE,R as zE}from"./RadioButton-CO2cFro8.js";import{T as HE}from"./Toggle-BRgaiAVD.js";import{b as Ff,d as ai,i as pu,_ as Na,c as VE,a as WE}from"./isSymbol-CEVJpixJ.js";import{r as _e,t as De,b as UE,c as Ax,_ as GE,C as KE,P as qE,d as Lt,e as Bf,g as mp,h as fu,i as YE,s as gp,j as Px,k as JE,l as ZE,n as Og,o as XE,p as Lg,q as QE,u as eT,v as Rx,w as to,x as Dx,f as qi,y as tT,z as nT,A as Rl,D as jf,B as rT,a as oT,E as iT,F as Ql}from"./ColorSelected-BvcxNARU.js";import{D as Yi,b as sT,T as aT,c as lT}from"./formats-sBod7wm8.js";import{u as cT,T as xo}from"./FormControlLabel-n1qioM9o.js";import{b as uT,c as Ag,e as dT,f as st,g as rt,h as Le,i as ot,_ as pT}from"./useMosaicTranslation-CZCb37QS.js";import{a as fT,b as hT,d as Pg,c as mT,D as zf}from"./Dialog-DXK7hw4q.js";import{o as Xu}from"./ownerWindow-DvT1GKkC.js";import{B as Ix,T as $x}from"./ButtonBase-BZmvw3BH.js";import{u as gT}from"./useTheme-5hcycNQy.js";import{u as vT}from"./useMediaQuery-CguehUMS.js";import{D as Nx,a as yT,b as bT}from"./TitleWrapper-D2l-_w9e.js";import{T as xT}from"./Typography-Br_RMLnS.js";import{T as wT}from"./TitleText-C9TlfF_O.js";import{t as CT,d as ST}from"./debounce-DO3dP4oK.js";import{S as Hf}from"./Snackbar-J6gNQC5v.js";import{r as Eo,R as kT}from"./index-BxmsGmlx.js";import{t as Ar}from"./testIds-wFnuQL-c.js";import{T as MT,F as Vf,B as vp}from"./TooltipIcon-CO3K7ssQ.js";import{g as Dl}from"./useToggle-lipGlewK.js";import{C as ET}from"./ClickAwayListener-DnjBLK-5.js";import{d as TT}from"./MoreVert-BbmWEP2K.js";import{P as OT}from"./PageHeader-DvPTRq5b.js";import{S as Wf}from"./Spinner-DgupAfKo.js";var _x={exports:{}},LT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AT=LT,PT=AT;function Fx(){}function Bx(){}Bx.resetWarningCache=Fx;var RT=function(){function t(r,o,i,s,a,l){if(l!==PT){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Bx,resetWarningCache:Fx};return n.PropTypes=n,n};_x.exports=RT();var jx=_x.exports;const Se=Pa(jx);function DT(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function IT(t,e){t.classList?t.classList.add(e):DT(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Rg(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function $T(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Rg(t.className,e):t.setAttribute("class",Rg(t.className&&t.className.baseVal||"",e))}var NT=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return IT(e,r)})},Qu=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return $T(e,r)})},Uf=function(t){_E(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],p=d?"appear":"enter";r.addClass(u,p,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],p=d?"appear":"enter";r.removeClasses(u,p),r.addClass(u,p,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],p=c?d+"-active":l[a+"Active"],f=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:p,doneClassName:f}},r}var n=e.prototype;return n.addClass=function(o,i,s){var a=this.getClassNames(i)[s+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;i==="appear"&&s==="done"&&c&&(a+=" "+c),s==="active"&&o&&PE(o),a&&(this.appliedClasses[i][s]=a,NT(o,a))},n.removeClasses=function(o,i){var s=this.appliedClasses[i],a=s.base,l=s.active,c=s.done;this.appliedClasses[i]={},a&&Qu(o,a),l&&Qu(o,l),c&&Qu(o,c)},n.render=function(){var o=this.props;o.classNames;var i=tt(o,["classNames"]);return O.createElement(Ox,J({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(O.Component);Uf.defaultProps={classNames:""};Uf.propTypes={};const _T=t=>{const e=h.useRef({});return h.useEffect(()=>{e.current=t}),e.current},zx=h.createContext(null);function Hx(){return h.useContext(zx)}const FT=typeof Symbol=="function"&&Symbol.for,BT=FT?Symbol.for("mui.nested"):"__THEME_NESTED__";function jT(t,e){return typeof e=="function"?e(t):J({},t,e)}function zT(t){const{children:e,theme:n}=t,r=Hx(),o=h.useMemo(()=>{const i=r===null?n:jT(r,n);return i!=null&&(i[BT]=r!==null),i},[n,r]);return v.jsx(zx.Provider,{value:o,children:e})}const Dg={};function Ig(t,e,n,r=!1){return h.useMemo(()=>{const o=t&&e[t]||e;if(typeof n=="function"){const i=n(o),s=t?J({},e,{[t]:i}):i;return r?()=>s:s}return t?J({},e,{[t]:n}):J({},e,n)},[t,e,n,r])}function HT(t){const{children:e,theme:n,themeId:r}=t,o=gT(Dg),i=Hx()||Dg,s=Ig(r,o,n),a=Ig(r,i,n,!0),l=s.direction==="rtl";return v.jsx(zT,{theme:a,children:v.jsx(wE.Provider,{value:s,children:v.jsx(RE,{value:l,children:v.jsx(CE,{value:s==null?void 0:s.components,children:e})})})})}function Yr({props:t,name:e}){return cT({props:t,name:e,defaultTheme:SE,themeId:fp})}const VT=["theme"];function WT(t){let{theme:e}=t,n=tt(t,VT);const r=e[fp];return v.jsx(HT,J({},n,{themeId:r?fp:void 0,theme:r||e}))}function is(t){_e(1,arguments);var e=De(t);return e.setHours(0,0,0,0),e}function UT(t,e){_e(2,arguments);var n=is(t),r=is(e);return n.getTime()===r.getTime()}const GT=Q.div`
	position: relative;
	display: flex;
	flex-direction: column;

	container-type: inline-size;
	container-name: ${gx.FORM};

	${({$fullHeight:t=!0})=>t&&`
		height: 100%;
	`}
`,KT=Q.form`
	display: flex;
	flex-direction: column;
	flex: 1 1 0%;
	min-height: 0;
`,qT=Q.div`
	overflow-y: auto;
	flex-grow: 1;
	min-width: 0;
	padding: ${({$spacing:t})=>t==="compact"?"16px":"24px"};
	position: relative;
`,YT=Q.div`
	flex-grow: 1;
	min-height: 0;
	display: flex;
	flex-direction: column;

	${Wt("xl","FORM")} {
		flex-direction: row;
	}
`,JT=Q(HM)`
	display: none;
	margin-top: 10px;

	${Wt("sm","FORM")} {
		display: block;
	}

	${Wt("xl","FORM")} {
		margin-top: 0;
	}
`,ZT=Q.div`
	border-top: 2px solid ${_.newColors.grey2[100]};
	padding: ${({$spacing:t})=>t==="compact"?"16px":"24px"};
	display: flex;
`,XT=Q.div`
	${({$columns:t,$gridMinWidth:e,$spacing:n})=>t&&`
		display: grid;
		grid-template-columns: repeat(1,minmax(0,1fr));
		gap: ${n==="compact"?"16px":"24px"};

		${e?`
			@container form (min-width: ${e}) {
				grid-template-columns: repeat(${t},minmax(0,1fr));
			}
		`:`
			${Wt("md","FORM")} {
				grid-template-columns: repeat(${t>1?2:1},minmax(0,1fr));
			}
			${Wt("lg","FORM")} {
				grid-template-columns: repeat(${t},minmax(0,1fr));
			}
		`}
	`}
`,QT=Q.div`
	display: flex;
	flex-direction: column;
	position: relative;
	gap: 24px;

	container-type: inline-size;
	container-name: ${gx.FORM_COL};
`;function yp(t){return"isPending"in t&&t.isPending}function bp(t){return Object.prototype.toString.call(t)==="[object Object]"}const Vx=t=>{if(!(t===""||Array.isArray(t)&&t.length===0)&&!(bp(t)&&!Object.values(t).filter(e=>e!==void 0).length))return t};function Xt(t){return{internalValue:t,value:Vx(t)}}const e2=t=>{var m,g,y,b,x,C,E,k;const{fieldDef:e,error:n,onChange:r,onBlur:o,value:i,disabled:s,inputRef:a,id:l,skeleton:c}=t,u=(m=e==null?void 0:e.inputSettings)!=null&&m.prefixElement?{startAdornment:v.jsx(ha,{position:"start",children:(g=e==null?void 0:e.inputSettings)==null?void 0:g.prefixElement})}:null,d=w=>{const{value:M}=w.target;r&&r(M)},p=w=>{const{value:M}=w.target;o&&o(M===""?void 0:M),e!=null&&e.onBlurCb&&(e==null||e.onBlurCb(M))},f=typeof n=="string"?(n==null?void 0:n.trim().length)>0:!1;return c?v.jsx(Xe,{variant:"rectangular",width:"100%",height:43}):v.jsx(uu,{id:l,"data-testid":"form-field-text-test-id",value:i??"",onChange:d,onBlur:p,variant:"outlined",error:f||f&&(e==null?void 0:e.required),className:e==null?void 0:e.className,placeholder:(y=e==null?void 0:e.inputSettings)==null?void 0:y.placeholder,multiline:(b=e==null?void 0:e.inputSettings)==null?void 0:b.multiline,fieldSize:e==null?void 0:e.size,InputProps:{...u||{},inputRef:a},required:e==null?void 0:e.required,type:((x=e==null?void 0:e.inputSettings)==null?void 0:x.type)==="number"?"text":(C=e==null?void 0:e.inputSettings)==null?void 0:C.type,minRows:(E=e==null?void 0:e.inputSettings)==null?void 0:E.minRows,maxRows:(k=e==null?void 0:e.inputSettings)==null?void 0:k.maxRows,disabled:s})},t2=h.memo(e2);var Gf={},n2=kt;Object.defineProperty(Gf,"__esModule",{value:!0});var Kf=Gf.default=void 0,r2=n2(Mt()),o2=St();Kf=Gf.default=(0,r2.default)((0,o2.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");Q.div`
  display: flex;
`;const i2=Q(VM)`
  &.MuiFormGroup-root {
    margin-left: -12px;
		height: fit-content !important;
  }
`;Q(Mx)`
  &.MuiFormHelperText-root {
    color: ${_.newColors.grey3[100]};
    font-size: ${t=>t.error?"12px":"14px"};
    margin-top: ${t=>t.error?null:"8px"};
    margin-bottom: ${t=>t.error?null:"8px"};
  }

  &.MuiFormHelperText-root.Mui-error {
    color: ${_.newColors.darkRed[100]};
  }
`;Q.div`
  align-items: center;
  color: ${_.newColors.darkRed[100]};
  display: flex;
  flex-direction: row;
  margin-top: 8px;
`;Q(Kf)`
	&.MuiSvgIcon-root {
		font-size: 16px;
		margin-right: 8px;
	}
`;const s2=Q.div`
	display: flex;
	flex-flow: column;
`,a2=Q.div`
	display: flex;
	align-items: center;
`,l2=Q.div`
	display: flex;
	align-items: center;
	justify-content: center;
	width: 18px;
	height: 40px;
	margin-right: 14px;
`;function ed(){return v.jsxs(a2,{children:[v.jsx(l2,{children:v.jsx(Xe,{variant:"rectangular",width:18,height:18})}),v.jsx(Xe,{width:52,height:28})]})}function c2(){return v.jsxs(s2,{children:[v.jsx(ed,{}),v.jsx(ed,{}),v.jsx(ed,{})]})}const u2=t=>{var g,y;const{fieldDef:e,onChange:n,onBlur:r,value:o,disabled:i,skeleton:s,id:a}=t,[l,c]=h.useState([]),[u,d]=h.useState([]),[p,f]=h.useState(void 0);h.useEffect(()=>{(async()=>{var x,C;if((x=e==null?void 0:e.inputSettings)!=null&&x.options)c(e.inputSettings.options),f(!0);else if((C=e==null?void 0:e.inputSettings)!=null&&C.getOptions){const E=await e.inputSettings.getOptions();c(E),f(!1)}})()},[(g=e==null?void 0:e.inputSettings)==null?void 0:g.options,(y=e==null?void 0:e.inputSettings)==null?void 0:y.getOptions]),h.useEffect(()=>{o&&p===!1&&o.forEach(b=>{l.find(x=>(x==null?void 0:x.value)===(b==null?void 0:b.value))||c([...l,b])}),d(o)},[l,o,p]);const m=(b,x)=>{const C=b==null?void 0:b.map(E=>l.find(k=>(k==null?void 0:k.value)===E.value));x&&x(C)};return s?v.jsx(c2,{}):v.jsx(i2,{disabled:i,checked:u,options:l,onChange:b=>m(b,n),onChangeCb:b=>m(b,e.onChangeCb),onBlur:r,style:e.style,className:e.className,id:a})},d2=h.memo(u2),p2=Q.div`
	display: flex;
	flex-wrap: wrap;
	row-gap: 12px;

	& .MuiChip-root {
		border: 1px solid ${({$error:t})=>t?_.newColors.darkRed[100]:"transparent"};
		margin-right: 12px;
	}

	& .MuiChip-root:last-child {
		margin-right: 0px;
	}
`,f2=Q.div`
	display: flex;
	gap: 12px;

	& .MuiSkeleton-root {
		border-radius: 99999em;
	}
`;function h2(){return v.jsxs(f2,{children:[v.jsx(Xe,{variant:"rounded",width:85,height:32}),v.jsx(Xe,{variant:"rounded",width:78,height:32}),v.jsx(Xe,{variant:"rounded",width:186,height:32})]})}const m2=t=>{var x,C;const{fieldDef:e,error:n,onChange:r,onBlur:o,value:i,disabled:s,skeleton:a}=t,{required:l}=e||null,[c,u]=h.useState([]),[d,p]=h.useState(!1),[f,m]=h.useState(void 0);h.useEffect(()=>{(async()=>{var k,w;if((k=e==null?void 0:e.inputSettings)!=null&&k.options)u(e.inputSettings.options),m(!0);else if((w=e==null?void 0:e.inputSettings)!=null&&w.getOptions){const M=await e.inputSettings.getOptions();u(M),m(!1)}p(!1)})()},[(x=e==null?void 0:e.inputSettings)==null?void 0:x.options,(C=e==null?void 0:e.inputSettings)==null?void 0:C.getOptions]),h.useEffect(()=>{i&&!d&&(f===!0&&g(i),f===!1&&(c.find(E=>E.value===i.value)?g(i):u([...c,{...i,selected:!0}])),p(!0))},[i,d,c,f]);const g=E=>{let k=[...c];k=k.map(M=>(M==null?void 0:M.value)===(E==null?void 0:E.value)?{...M,selected:l&&M.selected?M.selected:!M.selected}:{...M,selected:!1});const w=k.find(M=>M.selected===!0);return u(k),w},y=E=>{const k=g(E);p(!0),r(k?{label:k.label,value:k.value}:void 0)},b=typeof n=="string"?(n==null?void 0:n.trim().length)>0:!1;return a?v.jsx(h2,{}):v.jsx(p2,{$error:b||b&&l,onBlur:o,role:"listbox",children:c.map(E=>v.jsx(hp,{label:E.label,disabled:s,selected:E.selected,onClick:()=>y(E),role:"option"},E.value))})},g2=h.memo(m2);function $g(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function v2(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:i,trim:s=!1}=t;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),e&&(u=$g(u));const d=u?a.filter(p=>{let f=(i||c)(p);return n&&(f=f.toLowerCase()),e&&(f=$g(f)),o==="start"?f.indexOf(u)===0:f.indexOf(u)>-1}):a;return typeof r=="number"?d.slice(0,r):d}}function cl(t,e){for(let n=0;n<t.length;n+=1)if(e(t[n]))return n;return-1}const y2=v2(),Ng=5,b2=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))};function x2(t){const{unstable_isActiveElementInListbox:e=b2,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:i=!1,blurOnSelect:s=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=t.multiple?[]:null,disableClearable:d=!1,disableCloseOnSelect:p=!1,disabled:f,disabledItemsFocusable:m=!1,disableListWrap:g=!1,filterOptions:y=y2,filterSelectedOptions:b=!1,freeSolo:x=!1,getOptionDisabled:C,getOptionKey:E,getOptionLabel:k=re=>{var ee;return(ee=re.label)!=null?ee:re},groupBy:w,handleHomeEndKeys:M=!t.freeSolo,id:T,includeInputInList:D=!1,inputValue:P,isOptionEqualToValue:U=(re,ee)=>re===ee,multiple:N=!1,onChange:q,onClose:R,onHighlightChange:B,onInputChange:z,onOpen:I,open:oe,openOnFocus:me=!1,options:te,readOnly:G=!1,selectOnFocus:X=!t.freeSolo,value:ie}=t,Y=$f(T);let S=k;S=re=>{const ee=k(re);return typeof ee!="string"?String(ee):ee};const A=h.useRef(!1),j=h.useRef(!0),H=h.useRef(null),V=h.useRef(null),[fe,pe]=h.useState(null),[he,ke]=h.useState(-1),Te=o?0:-1,$=h.useRef(Te),[F,de]=es({controlled:ie,default:u,name:c}),[Z,ae]=es({controlled:P,default:"",name:c,state:"inputValue"}),[ue,ye]=h.useState(!1),be=h.useCallback((re,ee)=>{if(!(N?F.length<ee.length:ee!==null)&&!a)return;let xe;if(N)xe="";else if(ee==null)xe="";else{const ze=S(ee);xe=typeof ze=="string"?ze:""}Z!==xe&&(ae(xe),z&&z(re,xe,"reset"))},[S,Z,N,z,ae,a,F]),[ge,ce]=es({controlled:oe,default:!1,name:c,state:"open"}),[je,Oe]=h.useState(!0),Ae=!N&&F!=null&&Z===S(F),He=ge&&!G,Pe=He?y(te.filter(re=>!(b&&(N?F:[F]).some(ee=>ee!==null&&U(re,ee)))),{inputValue:Ae&&je?"":Z,getOptionLabel:S}):[],it=_T({filteredOptions:Pe,value:F,inputValue:Z});h.useEffect(()=>{const re=F!==it.value;ue&&!re||x&&!re||be(null,F)},[F,be,ue,it.value,x]);const jt=ge&&Pe.length>0&&!G,Pt=$s(re=>{re===-1?H.current.focus():fe.querySelector(`[data-tag-index="${re}"]`).focus()});h.useEffect(()=>{N&&he>F.length-1&&(ke(-1),Pt(-1))},[F,N,he,Pt]);function Gt(re,ee){if(!V.current||re<0||re>=Pe.length)return-1;let Me=re;for(;;){const xe=V.current.querySelector(`[data-option-index="${Me}"]`),ze=m?!1:!xe||xe.disabled||xe.getAttribute("aria-disabled")==="true";if(xe&&xe.hasAttribute("tabindex")&&!ze)return Me;if(ee==="next"?Me=(Me+1)%Pe.length:Me=(Me-1+Pe.length)%Pe.length,Me===re)return-1}}const zt=$s(({event:re,index:ee,reason:Me="auto"})=>{if($.current=ee,ee===-1?H.current.removeAttribute("aria-activedescendant"):H.current.setAttribute("aria-activedescendant",`${Y}-option-${ee}`),B&&B(re,ee===-1?null:Pe[ee],Me),!V.current)return;const xe=V.current.querySelector(`[role="option"].${n}-focused`);xe&&(xe.classList.remove(`${n}-focused`),xe.classList.remove(`${n}-focusVisible`));let ze=V.current;if(V.current.getAttribute("role")!=="listbox"&&(ze=V.current.parentElement.querySelector('[role="listbox"]')),!ze)return;if(ee===-1){ze.scrollTop=0;return}const et=V.current.querySelector(`[data-option-index="${ee}"]`);if(et&&(et.classList.add(`${n}-focused`),Me==="keyboard"&&et.classList.add(`${n}-focusVisible`),ze.scrollHeight>ze.clientHeight&&Me!=="mouse"&&Me!=="touch")){const L=et,K=ze.clientHeight+ze.scrollTop,le=L.offsetTop+L.offsetHeight;le>K?ze.scrollTop=le-ze.clientHeight:L.offsetTop-L.offsetHeight*(w?1.3:0)<ze.scrollTop&&(ze.scrollTop=L.offsetTop-L.offsetHeight*(w?1.3:0))}}),Kt=$s(({event:re,diff:ee,direction:Me="next",reason:xe="auto"})=>{if(!He)return;const et=Gt((()=>{const L=Pe.length-1;if(ee==="reset")return Te;if(ee==="start")return 0;if(ee==="end")return L;const K=$.current+ee;return K<0?K===-1&&D?-1:g&&$.current!==-1||Math.abs(ee)>1?0:L:K>L?K===L+1&&D?-1:g||Math.abs(ee)>1?L:0:K})(),Me);if(zt({index:et,reason:xe,event:re}),r&&ee!=="reset")if(et===-1)H.current.value=Z;else{const L=S(Pe[et]);H.current.value=L,L.toLowerCase().indexOf(Z.toLowerCase())===0&&Z.length>0&&H.current.setSelectionRange(Z.length,L.length)}}),lt=()=>{const re=(ee,Me)=>{const xe=ee?S(ee):"",ze=Me?S(Me):"";return xe===ze};if($.current!==-1&&it.filteredOptions&&it.filteredOptions.length!==Pe.length&&it.inputValue===Z&&(N?F.length===it.value.length&&it.value.every((ee,Me)=>S(F[Me])===S(ee)):re(it.value,F))){const ee=it.filteredOptions[$.current];if(ee)return cl(Pe,Me=>S(Me)===S(ee))}return-1},xn=h.useCallback(()=>{if(!He)return;const re=lt();if(re!==-1){$.current=re;return}const ee=N?F[0]:F;if(Pe.length===0||ee==null){Kt({diff:"reset"});return}if(V.current){if(ee!=null){const Me=Pe[$.current];if(N&&Me&&cl(F,ze=>U(Me,ze))!==-1)return;const xe=cl(Pe,ze=>U(ze,ee));xe===-1?Kt({diff:"reset"}):zt({index:xe});return}if($.current>=Pe.length-1){zt({index:Pe.length-1});return}zt({index:$.current})}},[Pe.length,N?!1:F,b,Kt,zt,He,Z,N]),In=$s(re=>{FE(V,re),re&&xn()});h.useEffect(()=>{xn()},[xn]);const $t=re=>{ge||(ce(!0),Oe(!0),I&&I(re))},dn=(re,ee)=>{ge&&(ce(!1),R&&R(re,ee))},qt=(re,ee,Me,xe)=>{if(N){if(F.length===ee.length&&F.every((ze,et)=>ze===ee[et]))return}else if(F===ee)return;q&&q(re,ee,Me,xe),de(ee)},On=h.useRef(!1),$n=(re,ee,Me="selectOption",xe="options")=>{let ze=Me,et=ee;if(N){et=Array.isArray(F)?F.slice():[];const L=cl(et,K=>U(ee,K));L===-1?et.push(ee):xe!=="freeSolo"&&(et.splice(L,1),ze="removeOption")}be(re,et),qt(re,et,ze,{option:ee}),!p&&(!re||!re.ctrlKey&&!re.metaKey)&&dn(re,ze),(s===!0||s==="touch"&&On.current||s==="mouse"&&!On.current)&&H.current.blur()};function qn(re,ee){if(re===-1)return-1;let Me=re;for(;;){if(ee==="next"&&Me===F.length||ee==="previous"&&Me===-1)return-1;const xe=fe.querySelector(`[data-tag-index="${Me}"]`);if(!xe||!xe.hasAttribute("tabindex")||xe.disabled||xe.getAttribute("aria-disabled")==="true")Me+=ee==="next"?1:-1;else return Me}}const pn=(re,ee)=>{if(!N)return;Z===""&&dn(re,"toggleInput");let Me=he;he===-1?Z===""&&ee==="previous"&&(Me=F.length-1):(Me+=ee==="next"?1:-1,Me<0&&(Me=0),Me===F.length&&(Me=-1)),Me=qn(Me,ee),ke(Me),Pt(Me)},fn=re=>{A.current=!0,ae(""),z&&z(re,"","clear"),qt(re,N?[]:null,"clear")},Ir=re=>ee=>{if(re.onKeyDown&&re.onKeyDown(ee),!ee.defaultMuiPrevented&&(he!==-1&&["ArrowLeft","ArrowRight"].indexOf(ee.key)===-1&&(ke(-1),Pt(-1)),ee.which!==229))switch(ee.key){case"Home":He&&M&&(ee.preventDefault(),Kt({diff:"start",direction:"next",reason:"keyboard",event:ee}));break;case"End":He&&M&&(ee.preventDefault(),Kt({diff:"end",direction:"previous",reason:"keyboard",event:ee}));break;case"PageUp":ee.preventDefault(),Kt({diff:-Ng,direction:"previous",reason:"keyboard",event:ee}),$t(ee);break;case"PageDown":ee.preventDefault(),Kt({diff:Ng,direction:"next",reason:"keyboard",event:ee}),$t(ee);break;case"ArrowDown":ee.preventDefault(),Kt({diff:1,direction:"next",reason:"keyboard",event:ee}),$t(ee);break;case"ArrowUp":ee.preventDefault(),Kt({diff:-1,direction:"previous",reason:"keyboard",event:ee}),$t(ee);break;case"ArrowLeft":pn(ee,"previous");break;case"ArrowRight":pn(ee,"next");break;case"Enter":if($.current!==-1&&He){const Me=Pe[$.current],xe=C?C(Me):!1;if(ee.preventDefault(),xe)return;$n(ee,Me,"selectOption"),r&&H.current.setSelectionRange(H.current.value.length,H.current.value.length)}else x&&Z!==""&&Ae===!1&&(N&&ee.preventDefault(),$n(ee,Z,"createOption","freeSolo"));break;case"Escape":He?(ee.preventDefault(),ee.stopPropagation(),dn(ee,"escape")):l&&(Z!==""||N&&F.length>0)&&(ee.preventDefault(),ee.stopPropagation(),fn(ee));break;case"Backspace":if(N&&!G&&Z===""&&F.length>0){const Me=he===-1?F.length-1:he,xe=F.slice();xe.splice(Me,1),qt(ee,xe,"removeOption",{option:F[Me]})}break;case"Delete":if(N&&!G&&Z===""&&F.length>0&&he!==-1){const Me=he,xe=F.slice();xe.splice(Me,1),qt(ee,xe,"removeOption",{option:F[Me]})}break}},Yn=re=>{ye(!0),me&&!A.current&&$t(re)},Jn=re=>{if(e(V)){H.current.focus();return}ye(!1),j.current=!0,A.current=!1,i&&$.current!==-1&&He?$n(re,Pe[$.current],"blur"):i&&x&&Z!==""?$n(re,Z,"blur","freeSolo"):a&&be(re,F),dn(re,"blur")},Rt=re=>{const ee=re.target.value;Z!==ee&&(ae(ee),Oe(!1),z&&z(re,ee,"input")),ee===""?!d&&!N&&qt(re,null,"clear"):$t(re)},bt=re=>{const ee=Number(re.currentTarget.getAttribute("data-option-index"));$.current!==ee&&zt({event:re,index:ee,reason:"mouse"})},Yt=re=>{zt({event:re,index:Number(re.currentTarget.getAttribute("data-option-index")),reason:"touch"}),On.current=!0},Nn=re=>{const ee=Number(re.currentTarget.getAttribute("data-option-index"));$n(re,Pe[ee],"selectOption"),On.current=!1},Zn=re=>ee=>{const Me=F.slice();Me.splice(re,1),qt(ee,Me,"removeOption",{option:F[re]})},$r=re=>{ge?dn(re,"toggleInput"):$t(re)},Nr=re=>{re.currentTarget.contains(re.target)&&re.target.getAttribute("id")!==Y&&re.preventDefault()},Qt=re=>{re.currentTarget.contains(re.target)&&(H.current.focus(),X&&j.current&&H.current.selectionEnd-H.current.selectionStart===0&&H.current.select(),j.current=!1)},Xn=re=>{!f&&(Z===""||!ge)&&$r(re)};let _n=x&&Z.length>0;_n=_n||(N?F.length>0:F!==null);let Fn=Pe;return w&&(Fn=Pe.reduce((re,ee,Me)=>{const xe=w(ee);return re.length>0&&re[re.length-1].group===xe?re[re.length-1].options.push(ee):re.push({key:Me,index:Me,group:xe,options:[ee]}),re},[])),f&&ue&&Jn(),{getRootProps:(re={})=>J({"aria-owns":jt?`${Y}-listbox`:null},re,{onKeyDown:Ir(re),onMouseDown:Nr,onClick:Qt}),getInputLabelProps:()=>({id:`${Y}-label`,htmlFor:Y}),getInputProps:()=>({id:Y,value:Z,onBlur:Jn,onFocus:Yn,onChange:Rt,onMouseDown:Xn,"aria-activedescendant":He?"":null,"aria-autocomplete":r?"both":"list","aria-controls":jt?`${Y}-listbox`:void 0,"aria-expanded":jt,autoComplete:"off",ref:H,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:f}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:fn}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:$r}),getTagProps:({index:re})=>J({key:re,"data-tag-index":re,tabIndex:-1},!G&&{onDelete:Zn(re)}),getListboxProps:()=>({role:"listbox",id:`${Y}-listbox`,"aria-labelledby":`${Y}-label`,ref:In,onMouseDown:re=>{re.preventDefault()}}),getOptionProps:({index:re,option:ee})=>{var Me;const xe=(N?F:[F]).some(et=>et!=null&&U(ee,et)),ze=C?C(ee):!1;return{key:(Me=E==null?void 0:E(ee))!=null?Me:S(ee),tabIndex:-1,role:"option",id:`${Y}-option-${re}`,onMouseMove:bt,onClick:Nn,onTouchStart:Yt,"data-option-index":re,"aria-disabled":ze,"aria-selected":xe}},id:Y,inputValue:Z,value:F,dirty:_n,expanded:He&&fe,popupOpen:He,focused:ue||he!==-1,anchorEl:fe,setAnchorEl:pe,focusedTag:he,groupedOptions:Fn}}function w2(t){return En("MuiListSubheader",t)}At("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const C2=["className","color","component","disableGutters","disableSticky","inset"],S2=t=>{const{classes:e,color:n,disableGutters:r,inset:o,disableSticky:i}=t,s={root:["root",n!=="default"&&`color${Ia(n)}`,!r&&"gutters",o&&"inset",!i&&"sticky"]};return Tn(s,w2,e)},k2=Ee("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ia(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>J({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:(t.vars||t).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})),Wx=h.forwardRef(function(e,n){const r=ii({props:e,name:"MuiListSubheader"}),{className:o,color:i="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1}=r,u=tt(r,C2),d=J({},r,{color:i,component:s,disableGutters:a,disableSticky:l,inset:c}),p=S2(d);return v.jsx(k2,J({as:s,className:Hn(p.root,o),ref:n,ownerState:d},u))});Wx.muiSkipListHighlight=!0;const M2=qr(v.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function E2(t){return En("MuiAutocomplete",t)}const Ke=At("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var _g,Fg;const T2=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],O2=["ref"],L2=["key"],A2=["key"],P2=t=>{const{classes:e,disablePortal:n,expanded:r,focused:o,fullWidth:i,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=t,d={root:["root",r&&"expanded",o&&"focused",i&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${Ia(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Tn(d,E2,e)},R2=Ee("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:o,hasPopupIcon:i,inputFocused:s,size:a}=n;return[{[`& .${Ke.tag}`]:e.tag},{[`& .${Ke.tag}`]:e[`tagSize${Ia(a)}`]},{[`& .${Ke.inputRoot}`]:e.inputRoot},{[`& .${Ke.input}`]:e.input},{[`& .${Ke.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,i&&e.hasPopupIcon,o&&e.hasClearIcon]}})({[`&.${Ke.focused} .${Ke.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Ke.clearIndicator}`]:{visibility:"visible"}},[`& .${Ke.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Ke.inputRoot}`]:{[`.${Ke.hasPopupIcon}&, .${Ke.hasClearIcon}&`]:{paddingRight:30},[`.${Ke.hasPopupIcon}.${Ke.hasClearIcon}&`]:{paddingRight:56},[`& .${Ke.input}`]:{width:0,minWidth:30}},[`& .${Ju.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ju.root}.${Po.sizeSmall}`]:{[`& .${Ju.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Eg.root}`]:{padding:9,[`.${Ke.hasPopupIcon}&, .${Ke.hasClearIcon}&`]:{paddingRight:39},[`.${Ke.hasPopupIcon}.${Ke.hasClearIcon}&`]:{paddingRight:65},[`& .${Ke.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Ke.endAdornment}`]:{right:9}},[`& .${Eg.root}.${Po.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Ke.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${bi.root}`]:{paddingTop:19,paddingLeft:8,[`.${Ke.hasPopupIcon}&, .${Ke.hasClearIcon}&`]:{paddingRight:39},[`.${Ke.hasPopupIcon}.${Ke.hasClearIcon}&`]:{paddingRight:65},[`& .${bi.input}`]:{padding:"7px 4px"},[`& .${Ke.endAdornment}`]:{right:9}},[`& .${bi.root}.${Po.sizeSmall}`]:{paddingBottom:1,[`& .${bi.input}`]:{padding:"2.5px 4px"}},[`& .${Po.hiddenLabel}`]:{paddingTop:8},[`& .${bi.root}.${Po.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Ke.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${bi.root}.${Po.hiddenLabel}.${Po.sizeSmall}`]:{[`& .${Ke.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Ke.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Ke.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Ke.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Ke.inputRoot}`]:{flexWrap:"wrap"}}}]}),D2=Ee("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),I2=Ee(Mo,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),$2=Ee(Mo,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:t},e)=>J({},e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),N2=Ee(si,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ke.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),_2=Ee($a,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({theme:t})=>J({},t.typography.body1,{overflow:"auto"})),F2=Ee("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),B2=Ee("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),j2=Ee("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Ke.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Ke.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Ke.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zu(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ke.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Zu(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${Ke.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Zu(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}})),z2=Ee(Wx,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8})),H2=Ee("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${Ke.option}`]:{paddingLeft:24}}),V2=h.forwardRef(function(e,n){var r,o,i,s;const a=ii({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:c=!1,autoSelect:u=!1,blurOnSelect:d=!1,ChipProps:p,className:f,clearIcon:m=_g||(_g=v.jsx(M2,{fontSize:"small"})),clearOnBlur:g=!a.freeSolo,clearOnEscape:y=!1,clearText:b="Clear",closeText:x="Close",componentsProps:C={},defaultValue:E=a.multiple?[]:null,disableClearable:k=!1,disableCloseOnSelect:w=!1,disabled:M=!1,disabledItemsFocusable:T=!1,disableListWrap:D=!1,disablePortal:P=!1,filterSelectedOptions:U=!1,forcePopupIcon:N="auto",freeSolo:q=!1,fullWidth:R=!1,getLimitTagsText:B=xe=>`+${xe}`,getOptionLabel:z,groupBy:I,handleHomeEndKeys:oe=!a.freeSolo,includeInputInList:me=!1,limitTags:te=-1,ListboxComponent:G="ul",ListboxProps:X,loading:ie=!1,loadingText:Y="Loading…",multiple:S=!1,noOptionsText:A="No options",openOnFocus:j=!1,openText:H="Open",PaperComponent:V=$a,PopperComponent:fe=si,popupIcon:pe=Fg||(Fg=v.jsx(gE,{})),readOnly:he=!1,renderGroup:ke,renderInput:Te,renderOption:$,renderTags:F,selectOnFocus:de=!a.freeSolo,size:Z="medium",slotProps:ae={}}=a,ue=tt(a,T2),{getRootProps:ye,getInputProps:be,getInputLabelProps:ge,getPopupIndicatorProps:ce,getClearProps:je,getTagProps:Oe,getListboxProps:Ae,getOptionProps:He,value:Pe,dirty:it,expanded:jt,id:Pt,popupOpen:Gt,focused:zt,focusedTag:Kt,anchorEl:lt,setAnchorEl:xn,inputValue:In,groupedOptions:$t}=x2(J({},a,{componentName:"Autocomplete"})),dn=!k&&!M&&it&&!he,qt=(!q||N===!0)&&N!==!1,{onMouseDown:On}=be(),{ref:$n}=X??{},qn=Ae(),{ref:pn}=qn,fn=tt(qn,O2),Ir=Ur(pn,$n),Jn=z||(xe=>{var ze;return(ze=xe.label)!=null?ze:xe}),Rt=J({},a,{disablePortal:P,expanded:jt,focused:zt,fullWidth:R,getOptionLabel:Jn,hasClearIcon:dn,hasPopupIcon:qt,inputFocused:Kt===-1,popupOpen:Gt,size:Z}),bt=P2(Rt);let Yt;if(S&&Pe.length>0){const xe=ze=>J({className:bt.tag,disabled:M},Oe(ze));F?Yt=F(Pe,xe,Rt):Yt=Pe.map((ze,et)=>{const L=xe({index:et}),{key:K}=L,le=tt(L,L2);return v.jsx(TE,J({label:Jn(ze),size:Z},le,p),K)})}if(te>-1&&Array.isArray(Yt)){const xe=Yt.length-te;!zt&&xe>0&&(Yt=Yt.splice(0,te),Yt.push(v.jsx("span",{className:bt.tag,children:B(xe)},Yt.length)))}const Zn=ke||(xe=>v.jsxs("li",{children:[v.jsx(z2,{className:bt.groupLabel,ownerState:Rt,component:"div",children:xe.group}),v.jsx(H2,{className:bt.groupUl,ownerState:Rt,children:xe.children})]},xe.key)),Nr=$||((xe,ze)=>{const{key:et}=xe,L=tt(xe,A2);return v.jsx("li",J({},L,{children:Jn(ze)}),et)}),Qt=(xe,ze)=>{const et=He({option:xe,index:ze});return Nr(J({},et,{className:bt.option}),xe,{selected:et["aria-selected"],index:ze,inputValue:In},Rt)},Xn=(r=ae.clearIndicator)!=null?r:C.clearIndicator,_n=(o=ae.paper)!=null?o:C.paper,Fn=(i=ae.popper)!=null?i:C.popper,re=(s=ae.popupIndicator)!=null?s:C.popupIndicator,ee=xe=>v.jsx(N2,J({as:fe,disablePortal:P,style:{width:lt?lt.clientWidth:null},ownerState:Rt,role:"presentation",anchorEl:lt,open:Gt},Fn,{className:Hn(bt.popper,Fn==null?void 0:Fn.className),children:v.jsx(_2,J({ownerState:Rt,as:V},_n,{className:Hn(bt.paper,_n==null?void 0:_n.className),children:xe}))}));let Me=null;return $t.length>0?Me=ee(v.jsx(j2,J({as:G,className:bt.listbox,ownerState:Rt},fn,X,{ref:Ir,children:$t.map((xe,ze)=>I?Zn({key:xe.key,group:xe.group,children:xe.options.map((et,L)=>Qt(et,xe.index+L))}):Qt(xe,ze))}))):ie&&$t.length===0?Me=ee(v.jsx(F2,{className:bt.loading,ownerState:Rt,children:Y})):$t.length===0&&!q&&!ie&&(Me=ee(v.jsx(B2,{className:bt.noOptions,ownerState:Rt,role:"presentation",onMouseDown:xe=>{xe.preventDefault()},children:A}))),v.jsxs(h.Fragment,{children:[v.jsx(R2,J({ref:n,className:Hn(bt.root,f),ownerState:Rt},ye(ue),{children:Te({id:Pt,disabled:M,fullWidth:!0,size:Z==="small"?"small":void 0,InputLabelProps:ge(),InputProps:J({ref:xn,className:bt.inputRoot,startAdornment:Yt,onClick:xe=>{xe.target===xe.currentTarget&&On(xe)}},(dn||qt)&&{endAdornment:v.jsxs(D2,{className:bt.endAdornment,ownerState:Rt,children:[dn?v.jsx(I2,J({},je(),{"aria-label":b,title:b,ownerState:Rt},Xn,{className:Hn(bt.clearIndicator,Xn==null?void 0:Xn.className),children:m})):null,qt?v.jsx($2,J({},ce(),{disabled:M,"aria-label":Gt?x:H,title:Gt?x:H,ownerState:Rt},re,{className:Hn(bt.popupIndicator,re==null?void 0:re.className),children:pe})):null]})}),inputProps:J({className:bt.input,disabled:M,readOnly:he},be())})})),lt?Me:null]})}),W2=Q(V2)`
  & .MuiFormControl-root .MuiInputBase-root {
    font-family: ${_.fontFamily};
    color: ${_.newColors.almostBlack[100]};

    ${({disabled:t})=>t?`
      background-color: ${_.colors.disableBackground};
		`:`
      background-color: ${_.newColors.grey1[100]};
			&:hover {
				& fieldset {
					border-color: ${_.colors.disabledBorderFocus};
				}
			}
		`}
  }

  & .MuiFormControl-root .MuiInputBase-root .MuiOutlinedInput-notchedOutline {
    ${({disabled:t,$error:e})=>t?`
      border-color: ${_.colors.disableBorder};
    `:e?`
      ${_.borders.error};
    `:`
      ${_.borders.fieldGray};
    `}

    border-radius: 0px;
  }

  &
    .MuiFormControl-root
    .MuiInputBase-root.Mui-focused
    .MuiOutlinedInput-notchedOutline {
    border: solid 1px ${_.colors.gray800};
  }

  .MuiAutocomplete-clearIndicator {
    margin-right: 20px;
  }

  .MuiInputBase-input {
    padding: ${_.fieldSpecs.inputText.padding} !important;
  }

  & .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root'] {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    padding-left: 0 !important;
  }

  &.MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon .MuiAutocomplete-inputRoot[class*="MuiOutlinedInput-root"] {
    padding-right: 88px;
  }

  .MuiAutocomplete-popupIndicator, .MuiAutocomplete-popupIndicatorOpen {
    color: ${({$error:t})=>t?_.newColors.darkRed[100]:_.newColors.almostBlack[100]};

    &:before {
      background: none;
      content: "";
      display: block;
      position: absolute;
      top: 4px;
      left: -12px;
      right: -12px;
      bottom: 4px;
      border-right: ${t=>t.open?_.borders.fieldGray:""};
      border-left: ${t=>t.open?"":_.borders.fieldGray};
    }
  }
`,U2=Q.div`
  margin: 0;
  padding: 0;

  .MuiFormControl-fullWidth {
    height: ${_.fieldSpecs.inputText.totalHeight};
    width: ${({$innerWidth:t})=>t||ft.sm};
  }

  .MuiAutocomplete-paper {
    width: ${({$innerWidth:t})=>t===ft.xs?ft.sm:t}
  }
`,G2=Q(si)`
  z-index: 999999999 !important;
  .MuiAutocomplete-listbox .MuiAutocomplete-option {
    font-family: ${_.fontFamily};
    font-size: 14px;
    min-height: 40px;
    color: ${_.newColors.grey4[100]};
		background-color: white;

    &[aria-selected='true'] {
			color: ${({$value:t})=>t?_.newColors.grey4[100]:_.colors.black};
			font-weight: ${({$value:t})=>t?null:_.fontWeight.semiBold};
			background-color: white;
    }

		&[aria-selected="true"].Mui-focused {
			background-color: ${_.newColors.grey2[100]};
		}
  }
`,K2=Q.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;

  & .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root'] {
    padding: ${_.fieldSpecs.inputText.padding};
  }

  &
    .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root']
    .MuiAutocomplete-input:first-child,
  & .MuiAutocomplete-input,
  & .MuiOutlinedInput-inputAdornedEnd,
  & .MuiOutlinedInput-input,
  & .MuiInputBase-input {
    padding: 0px;
  }

  & .MuiOutlinedInput-input {
    height: ${_.fieldSpecs.inputText.height};
  }
`,q2=({children:t})=>v.jsx(K2,{children:t}),Y2=t=>{var k,w;const{fieldDef:e,error:n,onChange:r,onBlur:o,value:i,disabled:s,inputRef:a,id:l,skeleton:c}=t,[u,d]=h.useState(!1),[p,f]=h.useState([]),[m,g]=h.useState(void 0);h.useEffect(()=>{(async()=>{var T,D;if((T=e==null?void 0:e.inputSettings)!=null&&T.options)f(e.inputSettings.options),g(!0);else if((D=e==null?void 0:e.inputSettings)!=null&&D.getOptions){const P=await e.inputSettings.getOptions();f(P),g(!1)}})()},[(k=e==null?void 0:e.inputSettings)==null?void 0:k.options,(w=e==null?void 0:e.inputSettings)==null?void 0:w.getOptions]),h.useEffect(()=>{i&&m===!1&&(p.find(M=>(M==null?void 0:M.value)===(i==null?void 0:i.value))||f([...p,i]))},[p,i,m]);const y=M=>{var T;return v.jsx(q2,{children:v.jsx(Pf,{...M,"data-testid":"textfield-test-id",variant:"outlined",placeholder:(T=e==null?void 0:e.inputSettings)==null?void 0:T.placeholder,required:e==null?void 0:e.required,inputProps:{...M.inputProps,ref:D=>{a&&(a.current=D),M.inputProps.ref.current=D},id:l}})})},b=()=>{d(!u)},x=async M=>{r&&await r(M||void 0)},C=(M,T)=>(T==null?void 0:T.value)===""?!0:M.value===(T==null?void 0:T.value),E=M=>v.jsx(G2,{$value:(i==null?void 0:i.value)==="",...M});return c?v.jsx(Xe,{variant:"rectangular",width:"100%",height:43}):v.jsx(U2,{"data-testid":"dropdown-single-selection-test-id",$innerWidth:e==null?void 0:e.size,children:v.jsx(W2,{value:i||null,onOpen:b,onClose:b,"data-testid":"autocomplete-test-id",options:p,getOptionLabel:M=>M.label,getOptionKey:M=>M.value,isOptionEqualToValue:C,onChange:(M,T)=>x(T),$error:e!=null&&e.required&&n?!!n:void 0,renderInput:y,PopperComponent:E,popupIcon:v.jsx(_f,{}),onBlur:M=>o&&o(M.target.value),open:u,disabled:s})})},Ux=h.memo(Y2);var J2=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(r,o,i){n.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:i})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,o){if(1&o&&(r=n(r)),8&o||4&o&&typeof r=="object"&&r&&r.__esModule)return r;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:r}),2&o&&typeof r!="string")for(var s in r)n.d(i,s,(function(a){return r[a]}).bind(null,s));return i},n.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(o,"a",o),o},n.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},n.p="",n(n.s=9)}([function(t,e){t.exports=h},function(t,e,n){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){var o={}.hasOwnProperty;function i(){for(var s=[],a=0;a<arguments.length;a++){var l=arguments[a];if(l){var c=typeof l;if(c==="string"||c==="number")s.push(l);else if(Array.isArray(l)){if(l.length){var u=i.apply(null,l);u&&s.push(u)}}else if(c==="object"){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){s.push(l.toString());continue}for(var d in l)o.call(l,d)&&l[d]&&s.push(d)}}}return s.join(" ")}t.exports?(i.default=i,t.exports=i):(r=(function(){return i}).apply(e,[]))===void 0||(t.exports=r)})()},function(t,e,n){(function(r){var o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=typeof r=="object"&&r&&r.Object===Object&&r,u=typeof self=="object"&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),p=Object.prototype.toString,f=d.Symbol,m=f?f.prototype:void 0,g=m?m.toString:void 0;function y(E){if(typeof E=="string")return E;if(x(E))return g?g.call(E):"";var k=E+"";return k=="0"&&1/E==-1/0?"-0":k}function b(E){var k=typeof E;return!!E&&(k=="object"||k=="function")}function x(E){return typeof E=="symbol"||function(k){return!!k&&typeof k=="object"}(E)&&p.call(E)=="[object Symbol]"}function C(E){return E?(E=function(k){if(typeof k=="number")return k;if(x(k))return NaN;if(b(k)){var w=typeof k.valueOf=="function"?k.valueOf():k;k=b(w)?w+"":w}if(typeof k!="string")return k===0?k:+k;k=k.replace(o,"");var M=s.test(k);return M||a.test(k)?l(k.slice(2),M?2:8):i.test(k)?NaN:+k}(E))===1/0||E===-1/0?17976931348623157e292*(E<0?-1:1):E==E?E:0:E===0?E:0}t.exports=function(E,k,w){var M,T,D,P;return E=(M=E)==null?"":y(M),T=function(U){var N=C(U),q=N%1;return N==N?q?N-q:N:0}(w),D=0,P=E.length,T==T&&(P!==void 0&&(T=T<=P?T:P),D!==void 0&&(T=T>=D?T:D)),w=T,k=y(k),E.slice(w,w+k.length)==k}}).call(this,n(3))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}t.exports=n},function(t,e,n){(function(r){var o=/^\[object .+?Constructor\]$/,i=typeof r=="object"&&r&&r.Object===Object&&r,s=typeof self=="object"&&self&&self.Object===Object&&self,a=i||s||Function("return this")(),l,c=Array.prototype,u=Function.prototype,d=Object.prototype,p=a["__core-js_shared__"],f=(l=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",m=u.toString,g=d.hasOwnProperty,y=d.toString,b=RegExp("^"+m.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=c.splice,C=U(a,"Map"),E=U(Object,"create");function k(R){var B=-1,z=R?R.length:0;for(this.clear();++B<z;){var I=R[B];this.set(I[0],I[1])}}function w(R){var B=-1,z=R?R.length:0;for(this.clear();++B<z;){var I=R[B];this.set(I[0],I[1])}}function M(R){var B=-1,z=R?R.length:0;for(this.clear();++B<z;){var I=R[B];this.set(I[0],I[1])}}function T(R,B){for(var z,I,oe=R.length;oe--;)if((z=R[oe][0])===(I=B)||z!=z&&I!=I)return oe;return-1}function D(R){return!(!q(R)||(B=R,f&&f in B))&&(function(z){var I=q(z)?y.call(z):"";return I=="[object Function]"||I=="[object GeneratorFunction]"}(R)||function(z){var I=!1;if(z!=null&&typeof z.toString!="function")try{I=!!(z+"")}catch{}return I}(R)?b:o).test(function(z){if(z!=null){try{return m.call(z)}catch{}try{return z+""}catch{}}return""}(R));var B}function P(R,B){var z,I,oe=R.__data__;return((I=typeof(z=B))=="string"||I=="number"||I=="symbol"||I=="boolean"?z!=="__proto__":z===null)?oe[typeof B=="string"?"string":"hash"]:oe.map}function U(R,B){var z=function(I,oe){return I==null?void 0:I[oe]}(R,B);return D(z)?z:void 0}function N(R,B){if(typeof R!="function"||B&&typeof B!="function")throw new TypeError("Expected a function");var z=function(){var I=arguments,oe=B?B.apply(this,I):I[0],me=z.cache;if(me.has(oe))return me.get(oe);var te=R.apply(this,I);return z.cache=me.set(oe,te),te};return z.cache=new(N.Cache||M),z}function q(R){var B=typeof R;return!!R&&(B=="object"||B=="function")}k.prototype.clear=function(){this.__data__=E?E(null):{}},k.prototype.delete=function(R){return this.has(R)&&delete this.__data__[R]},k.prototype.get=function(R){var B=this.__data__;if(E){var z=B[R];return z==="__lodash_hash_undefined__"?void 0:z}return g.call(B,R)?B[R]:void 0},k.prototype.has=function(R){var B=this.__data__;return E?B[R]!==void 0:g.call(B,R)},k.prototype.set=function(R,B){return this.__data__[R]=E&&B===void 0?"__lodash_hash_undefined__":B,this},w.prototype.clear=function(){this.__data__=[]},w.prototype.delete=function(R){var B=this.__data__,z=T(B,R);return!(z<0)&&(z==B.length-1?B.pop():x.call(B,z,1),!0)},w.prototype.get=function(R){var B=this.__data__,z=T(B,R);return z<0?void 0:B[z][1]},w.prototype.has=function(R){return T(this.__data__,R)>-1},w.prototype.set=function(R,B){var z=this.__data__,I=T(z,R);return I<0?z.push([R,B]):z[I][1]=B,this},M.prototype.clear=function(){this.__data__={hash:new k,map:new(C||w),string:new k}},M.prototype.delete=function(R){return P(this,R).delete(R)},M.prototype.get=function(R){return P(this,R).get(R)},M.prototype.has=function(R){return P(this,R).has(R)},M.prototype.set=function(R,B){return P(this,R).set(R,B),this},N.Cache=M,t.exports=N}).call(this,n(3))},function(t,e,n){(function(r){var o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=typeof r=="object"&&r&&r.Object===Object&&r,u=typeof self=="object"&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),p=Object.prototype.toString,f=Math.max,m=Math.min,g=function(){return d.Date.now()};function y(x){var C=typeof x;return!!x&&(C=="object"||C=="function")}function b(x){if(typeof x=="number")return x;if(function(k){return typeof k=="symbol"||function(w){return!!w&&typeof w=="object"}(k)&&p.call(k)=="[object Symbol]"}(x))return NaN;if(y(x)){var C=typeof x.valueOf=="function"?x.valueOf():x;x=y(C)?C+"":C}if(typeof x!="string")return x===0?x:+x;x=x.replace(o,"");var E=s.test(x);return E||a.test(x)?l(x.slice(2),E?2:8):i.test(x)?NaN:+x}t.exports=function(x,C,E){var k,w,M,T,D,P,U=0,N=!1,q=!1,R=!0;if(typeof x!="function")throw new TypeError("Expected a function");function B(G){var X=k,ie=w;return k=w=void 0,U=G,T=x.apply(ie,X)}function z(G){return U=G,D=setTimeout(oe,C),N?B(G):T}function I(G){var X=G-P;return P===void 0||X>=C||X<0||q&&G-U>=M}function oe(){var G=g();if(I(G))return me(G);D=setTimeout(oe,function(X){var ie=C-(X-P);return q?m(ie,M-(X-U)):ie}(G))}function me(G){return D=void 0,R&&k?B(G):(k=w=void 0,T)}function te(){var G=g(),X=I(G);if(k=arguments,w=this,P=G,X){if(D===void 0)return z(P);if(q)return D=setTimeout(oe,C),B(P)}return D===void 0&&(D=setTimeout(oe,C)),T}return C=b(C)||0,y(E)&&(N=!!E.leading,M=(q="maxWait"in E)?f(b(E.maxWait)||0,C):M,R="trailing"in E?!!E.trailing:R),te.cancel=function(){D!==void 0&&clearTimeout(D),U=0,k=P=w=D=void 0},te.flush=function(){return D===void 0?T:me(g())},te}}).call(this,n(3))},function(t,e,n){(function(r,o){var i="[object Arguments]",s="[object Map]",a="[object Object]",l="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,d=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,m=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[i]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[s]=y["[object Number]"]=y[a]=y["[object RegExp]"]=y[l]=y["[object String]"]=y["[object WeakMap]"]=!1;var b=typeof r=="object"&&r&&r.Object===Object&&r,x=typeof self=="object"&&self&&self.Object===Object&&self,C=b||x||Function("return this")(),E=e&&!e.nodeType&&e,k=E&&typeof o=="object"&&o&&!o.nodeType&&o,w=k&&k.exports===E&&b.process,M=function(){try{return w&&w.binding("util")}catch{}}(),T=M&&M.isTypedArray;function D(L,K,le,ve){var Fe=-1,$e=L?L.length:0;for(ve&&$e&&(le=L[++Fe]);++Fe<$e;)le=K(le,L[Fe],Fe,L);return le}function P(L,K){for(var le=-1,ve=L?L.length:0;++le<ve;)if(K(L[le],le,L))return!0;return!1}function U(L,K,le,ve,Fe){return Fe(L,function($e,we,xt){le=ve?(ve=!1,$e):K(le,$e,we,xt)}),le}function N(L){var K=!1;if(L!=null&&typeof L.toString!="function")try{K=!!(L+"")}catch{}return K}function q(L){var K=-1,le=Array(L.size);return L.forEach(function(ve,Fe){le[++K]=[Fe,ve]}),le}function R(L){var K=-1,le=Array(L.size);return L.forEach(function(ve){le[++K]=ve}),le}var B,z,I,oe=Array.prototype,me=Function.prototype,te=Object.prototype,G=C["__core-js_shared__"],X=(B=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",ie=me.toString,Y=te.hasOwnProperty,S=te.toString,A=RegExp("^"+ie.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=C.Symbol,H=C.Uint8Array,V=te.propertyIsEnumerable,fe=oe.splice,pe=(z=Object.keys,I=Object,function(L){return z(I(L))}),he=pn(C,"DataView"),ke=pn(C,"Map"),Te=pn(C,"Promise"),$=pn(C,"Set"),F=pn(C,"WeakMap"),de=pn(Object,"create"),Z=Nn(he),ae=Nn(ke),ue=Nn(Te),ye=Nn($),be=Nn(F),ge=j?j.prototype:void 0,ce=ge?ge.valueOf:void 0,je=ge?ge.toString:void 0;function Oe(L){var K=-1,le=L?L.length:0;for(this.clear();++K<le;){var ve=L[K];this.set(ve[0],ve[1])}}function Ae(L){var K=-1,le=L?L.length:0;for(this.clear();++K<le;){var ve=L[K];this.set(ve[0],ve[1])}}function He(L){var K=-1,le=L?L.length:0;for(this.clear();++K<le;){var ve=L[K];this.set(ve[0],ve[1])}}function Pe(L){var K=-1,le=L?L.length:0;for(this.__data__=new He;++K<le;)this.add(L[K])}function it(L){this.__data__=new Ae(L)}function jt(L,K){var le=Qt(L)||Nr(L)?function(we,xt){for(var wt=-1,ht=Array(we);++wt<we;)ht[wt]=xt(wt);return ht}(L.length,String):[],ve=le.length,Fe=!!ve;for(var $e in L)!Y.call(L,$e)||Fe&&($e=="length"||Ir($e,ve))||le.push($e);return le}function Pt(L,K){for(var le=L.length;le--;)if($r(L[le][0],K))return le;return-1}Oe.prototype.clear=function(){this.__data__=de?de(null):{}},Oe.prototype.delete=function(L){return this.has(L)&&delete this.__data__[L]},Oe.prototype.get=function(L){var K=this.__data__;if(de){var le=K[L];return le==="__lodash_hash_undefined__"?void 0:le}return Y.call(K,L)?K[L]:void 0},Oe.prototype.has=function(L){var K=this.__data__;return de?K[L]!==void 0:Y.call(K,L)},Oe.prototype.set=function(L,K){return this.__data__[L]=de&&K===void 0?"__lodash_hash_undefined__":K,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(L){var K=this.__data__,le=Pt(K,L);return!(le<0)&&(le==K.length-1?K.pop():fe.call(K,le,1),!0)},Ae.prototype.get=function(L){var K=this.__data__,le=Pt(K,L);return le<0?void 0:K[le][1]},Ae.prototype.has=function(L){return Pt(this.__data__,L)>-1},Ae.prototype.set=function(L,K){var le=this.__data__,ve=Pt(le,L);return ve<0?le.push([L,K]):le[ve][1]=K,this},He.prototype.clear=function(){this.__data__={hash:new Oe,map:new(ke||Ae),string:new Oe}},He.prototype.delete=function(L){return qn(this,L).delete(L)},He.prototype.get=function(L){return qn(this,L).get(L)},He.prototype.has=function(L){return qn(this,L).has(L)},He.prototype.set=function(L,K){return qn(this,L).set(L,K),this},Pe.prototype.add=Pe.prototype.push=function(L){return this.__data__.set(L,"__lodash_hash_undefined__"),this},Pe.prototype.has=function(L){return this.__data__.has(L)},it.prototype.clear=function(){this.__data__=new Ae},it.prototype.delete=function(L){return this.__data__.delete(L)},it.prototype.get=function(L){return this.__data__.get(L)},it.prototype.has=function(L){return this.__data__.has(L)},it.prototype.set=function(L,K){var le=this.__data__;if(le instanceof Ae){var ve=le.__data__;if(!ke||ve.length<199)return ve.push([L,K]),this;le=this.__data__=new He(ve)}return le.set(L,K),this};var Gt,zt=(Gt=function(L,K){return L&&Kt(L,K,ze)},function(L,K){if(L==null)return L;if(!Xn(L))return Gt(L,K);for(var le=L.length,ve=-1,Fe=Object(L);++ve<le&&K(Fe[ve],ve,Fe)!==!1;);return L}),Kt=function(L){return function(K,le,ve){for(var Fe=-1,$e=Object(K),we=ve(K),xt=we.length;xt--;){var wt=we[++Fe];if(le($e[wt],wt,$e)===!1)break}return K}}();function lt(L,K){for(var le=0,ve=(K=Yn(K,L)?[K]:On(K)).length;L!=null&&le<ve;)L=L[Yt(K[le++])];return le&&le==ve?L:void 0}function xn(L,K){return L!=null&&K in Object(L)}function In(L,K,le,ve,Fe){return L===K||(L==null||K==null||!re(L)&&!ee(K)?L!=L&&K!=K:function($e,we,xt,wt,ht,ct){var Qn=Qt($e),sn=Qt(we),Jt="[object Array]",en="[object Array]";Qn||(Jt=(Jt=fn($e))==i?a:Jt),sn||(en=(en=fn(we))==i?a:en);var ur=Jt==a&&!N($e),vi=en==a&&!N(we),Xr=Jt==en;if(Xr&&!ur)return ct||(ct=new it),Qn||xe($e)?$n($e,we,xt,wt,ht,ct):function(gt,pt,qu,Ao,el,Bn,_r){switch(qu){case"[object DataView]":if(gt.byteLength!=pt.byteLength||gt.byteOffset!=pt.byteOffset)return!1;gt=gt.buffer,pt=pt.buffer;case"[object ArrayBuffer]":return!(gt.byteLength!=pt.byteLength||!Ao(new H(gt),new H(pt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $r(+gt,+pt);case"[object Error]":return gt.name==pt.name&&gt.message==pt.message;case"[object RegExp]":case"[object String]":return gt==pt+"";case s:var Qr=q;case l:var Cs=2&Bn;if(Qr||(Qr=R),gt.size!=pt.size&&!Cs)return!1;var tl=_r.get(gt);if(tl)return tl==pt;Bn|=1,_r.set(gt,pt);var yi=$n(Qr(gt),Qr(pt),Ao,el,Bn,_r);return _r.delete(gt),yi;case"[object Symbol]":if(ce)return ce.call(gt)==ce.call(pt)}return!1}($e,we,Jt,xt,wt,ht,ct);if(!(2&ht)){var Cg=ur&&Y.call($e,"__wrapped__"),Sg=vi&&Y.call(we,"__wrapped__");if(Cg||Sg){var _M=Cg?$e.value():$e,FM=Sg?we.value():we;return ct||(ct=new it),xt(_M,FM,wt,ht,ct)}}return Xr?(ct||(ct=new it),function(gt,pt,qu,Ao,el,Bn){var _r=2&el,Qr=ze(gt),Cs=Qr.length,tl=ze(pt).length;if(Cs!=tl&&!_r)return!1;for(var yi=Cs;yi--;){var eo=Qr[yi];if(!(_r?eo in pt:Y.call(pt,eo)))return!1}var kg=Bn.get(gt);if(kg&&Bn.get(pt))return kg==pt;var nl=!0;Bn.set(gt,pt),Bn.set(pt,gt);for(var Yu=_r;++yi<Cs;){eo=Qr[yi];var rl=gt[eo],ol=pt[eo];if(Ao)var Mg=_r?Ao(ol,rl,eo,pt,gt,Bn):Ao(rl,ol,eo,gt,pt,Bn);if(!(Mg===void 0?rl===ol||qu(rl,ol,Ao,el,Bn):Mg)){nl=!1;break}Yu||(Yu=eo=="constructor")}if(nl&&!Yu){var il=gt.constructor,sl=pt.constructor;il==sl||!("constructor"in gt)||!("constructor"in pt)||typeof il=="function"&&il instanceof il&&typeof sl=="function"&&sl instanceof sl||(nl=!1)}return Bn.delete(gt),Bn.delete(pt),nl}($e,we,xt,wt,ht,ct)):!1}(L,K,In,le,ve,Fe))}function $t(L){return!(!re(L)||function(K){return!!X&&X in K}(L))&&(_n(L)||N(L)?A:m).test(Nn(L))}function dn(L){return typeof L=="function"?L:L==null?et:typeof L=="object"?Qt(L)?function(ve,Fe){return Yn(ve)&&Jn(Fe)?Rt(Yt(ve),Fe):function($e){var we=function(xt,wt,ht){var ct=xt==null?void 0:lt(xt,wt);return ct===void 0?ht:ct}($e,ve);return we===void 0&&we===Fe?function(xt,wt){return xt!=null&&function(ht,ct,Qn){ct=Yn(ct,ht)?[ct]:On(ct);for(var sn,Jt=-1,en=ct.length;++Jt<en;){var ur=Yt(ct[Jt]);if(!(sn=ht!=null&&Qn(ht,ur)))break;ht=ht[ur]}return sn||!!(en=ht?ht.length:0)&&Fn(en)&&Ir(ur,en)&&(Qt(ht)||Nr(ht))}(xt,wt,xn)}($e,ve):In(Fe,we,void 0,3)}}(L[0],L[1]):function(ve){var Fe=function($e){for(var we=ze($e),xt=we.length;xt--;){var wt=we[xt],ht=$e[wt];we[xt]=[wt,ht,Jn(ht)]}return we}(ve);return Fe.length==1&&Fe[0][2]?Rt(Fe[0][0],Fe[0][1]):function($e){return $e===ve||function(we,xt,wt,ht){var ct=wt.length,Qn=ct;if(we==null)return!Qn;for(we=Object(we);ct--;){var sn=wt[ct];if(sn[2]?sn[1]!==we[sn[0]]:!(sn[0]in we))return!1}for(;++ct<Qn;){var Jt=(sn=wt[ct])[0],en=we[Jt],ur=sn[1];if(sn[2]){if(en===void 0&&!(Jt in we))return!1}else{var vi=new it,Xr;if(!(Xr===void 0?In(ur,en,ht,3,vi):Xr))return!1}}return!0}($e,ve,Fe)}}(L):Yn(K=L)?(le=Yt(K),function(ve){return ve==null?void 0:ve[le]}):function(ve){return function(Fe){return lt(Fe,ve)}}(K);var K,le}function qt(L){if(le=(K=L)&&K.constructor,ve=typeof le=="function"&&le.prototype||te,K!==ve)return pe(L);var K,le,ve,Fe=[];for(var $e in Object(L))Y.call(L,$e)&&$e!="constructor"&&Fe.push($e);return Fe}function On(L){return Qt(L)?L:bt(L)}function $n(L,K,le,ve,Fe,$e){var we=2&Fe,xt=L.length,wt=K.length;if(xt!=wt&&!(we&&wt>xt))return!1;var ht=$e.get(L);if(ht&&$e.get(K))return ht==K;var ct=-1,Qn=!0,sn=1&Fe?new Pe:void 0;for($e.set(L,K),$e.set(K,L);++ct<xt;){var Jt=L[ct],en=K[ct];if(ve)var ur=we?ve(en,Jt,ct,K,L,$e):ve(Jt,en,ct,L,K,$e);if(ur!==void 0){if(ur)continue;Qn=!1;break}if(sn){if(!P(K,function(vi,Xr){if(!sn.has(Xr)&&(Jt===vi||le(Jt,vi,ve,Fe,$e)))return sn.add(Xr)})){Qn=!1;break}}else if(Jt!==en&&!le(Jt,en,ve,Fe,$e)){Qn=!1;break}}return $e.delete(L),$e.delete(K),Qn}function qn(L,K){var le,ve,Fe=L.__data__;return((ve=typeof(le=K))=="string"||ve=="number"||ve=="symbol"||ve=="boolean"?le!=="__proto__":le===null)?Fe[typeof K=="string"?"string":"hash"]:Fe.map}function pn(L,K){var le=function(ve,Fe){return ve==null?void 0:ve[Fe]}(L,K);return $t(le)?le:void 0}var fn=function(L){return S.call(L)};function Ir(L,K){return!!(K=K??9007199254740991)&&(typeof L=="number"||g.test(L))&&L>-1&&L%1==0&&L<K}function Yn(L,K){if(Qt(L))return!1;var le=typeof L;return!(le!="number"&&le!="symbol"&&le!="boolean"&&L!=null&&!Me(L))||u.test(L)||!c.test(L)||K!=null&&L in Object(K)}function Jn(L){return L==L&&!re(L)}function Rt(L,K){return function(le){return le!=null&&le[L]===K&&(K!==void 0||L in Object(le))}}(he&&fn(new he(new ArrayBuffer(1)))!="[object DataView]"||ke&&fn(new ke)!=s||Te&&fn(Te.resolve())!="[object Promise]"||$&&fn(new $)!=l||F&&fn(new F)!="[object WeakMap]")&&(fn=function(L){var K=S.call(L),le=K==a?L.constructor:void 0,ve=le?Nn(le):void 0;if(ve)switch(ve){case Z:return"[object DataView]";case ae:return s;case ue:return"[object Promise]";case ye:return l;case be:return"[object WeakMap]"}return K});var bt=Zn(function(L){var K;L=(K=L)==null?"":function(ve){if(typeof ve=="string")return ve;if(Me(ve))return je?je.call(ve):"";var Fe=ve+"";return Fe=="0"&&1/ve==-1/0?"-0":Fe}(K);var le=[];return d.test(L)&&le.push(""),L.replace(p,function(ve,Fe,$e,we){le.push($e?we.replace(f,"$1"):Fe||ve)}),le});function Yt(L){if(typeof L=="string"||Me(L))return L;var K=L+"";return K=="0"&&1/L==-1/0?"-0":K}function Nn(L){if(L!=null){try{return ie.call(L)}catch{}try{return L+""}catch{}}return""}function Zn(L,K){if(typeof L!="function"||K&&typeof K!="function")throw new TypeError("Expected a function");var le=function(){var ve=arguments,Fe=K?K.apply(this,ve):ve[0],$e=le.cache;if($e.has(Fe))return $e.get(Fe);var we=L.apply(this,ve);return le.cache=$e.set(Fe,we),we};return le.cache=new(Zn.Cache||He),le}function $r(L,K){return L===K||L!=L&&K!=K}function Nr(L){return function(K){return ee(K)&&Xn(K)}(L)&&Y.call(L,"callee")&&(!V.call(L,"callee")||S.call(L)==i)}Zn.Cache=He;var Qt=Array.isArray;function Xn(L){return L!=null&&Fn(L.length)&&!_n(L)}function _n(L){var K=re(L)?S.call(L):"";return K=="[object Function]"||K=="[object GeneratorFunction]"}function Fn(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=9007199254740991}function re(L){var K=typeof L;return!!L&&(K=="object"||K=="function")}function ee(L){return!!L&&typeof L=="object"}function Me(L){return typeof L=="symbol"||ee(L)&&S.call(L)=="[object Symbol]"}var xe=T?function(L){return function(K){return L(K)}}(T):function(L){return ee(L)&&Fn(L.length)&&!!y[S.call(L)]};function ze(L){return Xn(L)?jt(L):qt(L)}function et(L){return L}o.exports=function(L,K,le){var ve=Qt(L)?D:U,Fe=arguments.length<3;return ve(L,dn(K),le,Fe,zt)}}).call(this,n(3),n(7)(t))},function(t,e){t.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(t,e){String.prototype.padEnd||(String.prototype.padEnd=function(n,r){return n>>=0,r=String(r!==void 0?r:" "),this.length>n?String(this):((n-=this.length)>r.length&&(r+=r.repeat(n/r.length)),String(this)+r.slice(0,n))})},function(t,e,n){function r(te,G,X){return G in te?Object.defineProperty(te,G,{value:X,enumerable:!0,configurable:!0,writable:!0}):te[G]=X,te}function o(te){if(Symbol.iterator in Object(te)||Object.prototype.toString.call(te)==="[object Arguments]")return Array.from(te)}function i(te){return function(G){if(Array.isArray(G)){for(var X=0,ie=new Array(G.length);X<G.length;X++)ie[X]=G[X];return ie}}(te)||o(te)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(te){if(Array.isArray(te))return te}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(te,G){if(!(te instanceof G))throw new TypeError("Cannot call a class as a function")}function c(te,G){for(var X=0;X<G.length;X++){var ie=G[X];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(te,ie.key,ie)}}function u(te){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(te)}function d(te){return(d=typeof Symbol=="function"&&u(Symbol.iterator)==="symbol"?function(G){return u(G)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":u(G)})(te)}function p(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function f(te){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(te)}function m(te,G){return(m=Object.setPrototypeOf||function(X,ie){return X.__proto__=ie,X})(te,G)}n.r(e);var g=n(0),y=n.n(g),b=n(5),x=n.n(b),C=n(4),E=n.n(C),k=n(6),w=n.n(k),M=n(2),T=n.n(M),D=n(1),P=n.n(D);n(8);function U(te,G){return s(te)||function(X,ie){var Y=[],S=!0,A=!1,j=void 0;try{for(var H,V=X[Symbol.iterator]();!(S=(H=V.next()).done)&&(Y.push(H.value),!ie||Y.length!==ie);S=!0);}catch(fe){A=!0,j=fe}finally{try{S||V.return==null||V.return()}finally{if(A)throw j}}return Y}(te,G)||a()}var N=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Côte d’Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],q=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthélemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function R(te,G,X,ie,Y){return!X||Y?te+"".padEnd(G.length,".")+" "+ie:te+"".padEnd(G.length,".")+" "+X}function B(te,G,X,ie,Y){var S,A,j=[];return A=G===!0,[(S=[]).concat.apply(S,i(te.map(function(H){var V={name:H[0],regions:H[1],iso2:H[2],countryCode:H[3],dialCode:H[3],format:R(X,H[3],H[4],ie,Y),priority:H[5]||0},fe=[];return H[6]&&H[6].map(function(pe){var he=function(ke){for(var Te=1;Te<arguments.length;Te++){var $=arguments[Te]!=null?arguments[Te]:{},F=Object.keys($);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols($).filter(function(de){return Object.getOwnPropertyDescriptor($,de).enumerable}))),F.forEach(function(de){r(ke,de,$[de])})}return ke}({},V);he.dialCode=H[3]+pe,he.isAreaCode=!0,he.areaCodeLength=pe.length,fe.push(he)}),fe.length>0?(V.mainCode=!0,A||G.constructor.name==="Array"&&G.includes(H[2])?(V.hasAreaCodes=!0,[V].concat(fe)):(j=j.concat(fe),[V])):[V]}))),j]}function z(te,G,X,ie){if(X!==null){var Y=Object.keys(X),S=Object.values(X);Y.forEach(function(A,j){if(ie)return te.push([A,S[j]]);var H=te.findIndex(function(fe){return fe[0]===A});if(H===-1){var V=[A];V[G]=S[j],te.push(V)}else te[H][G]=S[j]})}}function I(te,G){return G.length===0?te:te.map(function(X){var ie=G.findIndex(function(S){return S[0]===X[2]});if(ie===-1)return X;var Y=G[ie];return Y[1]&&(X[4]=Y[1]),Y[3]&&(X[5]=Y[3]),Y[2]&&(X[6]=Y[2]),X})}var oe=function te(G,X,ie,Y,S,A,j,H,V,fe,pe,he,ke,Te){l(this,te),this.filterRegions=function(ge,ce){if(typeof ge=="string"){var je=ge;return ce.filter(function(Oe){return Oe.regions.some(function(Ae){return Ae===je})})}return ce.filter(function(Oe){return ge.map(function(Ae){return Oe.regions.some(function(He){return He===Ae})}).some(function(Ae){return Ae})})},this.sortTerritories=function(ge,ce){var je=[].concat(i(ge),i(ce));return je.sort(function(Oe,Ae){return Oe.name<Ae.name?-1:Oe.name>Ae.name?1:0}),je},this.getFilteredCountryList=function(ge,ce,je){return ge.length===0?ce:je?ge.map(function(Oe){var Ae=ce.find(function(He){return He.iso2===Oe});if(Ae)return Ae}).filter(function(Oe){return Oe}):ce.filter(function(Oe){return ge.some(function(Ae){return Ae===Oe.iso2})})},this.localizeCountries=function(ge,ce,je){for(var Oe=0;Oe<ge.length;Oe++)ce[ge[Oe].iso2]!==void 0?ge[Oe].localName=ce[ge[Oe].iso2]:ce[ge[Oe].name]!==void 0&&(ge[Oe].localName=ce[ge[Oe].name]);return je||ge.sort(function(Ae,He){return Ae.localName<He.localName?-1:Ae.localName>He.localName?1:0}),ge},this.getCustomAreas=function(ge,ce){for(var je=[],Oe=0;Oe<ce.length;Oe++){var Ae=JSON.parse(JSON.stringify(ge));Ae.dialCode+=ce[Oe],je.push(Ae)}return je},this.excludeCountries=function(ge,ce){return ce.length===0?ge:ge.filter(function(je){return!ce.includes(je.iso2)})};var $=function(ge,ce,je){var Oe=[];return z(Oe,1,ge,!0),z(Oe,3,ce),z(Oe,2,je),Oe}(H,V,fe),F=I(JSON.parse(JSON.stringify(N)),$),de=I(JSON.parse(JSON.stringify(q)),$),Z=U(B(F,G,he,ke,Te),2),ae=Z[0],ue=Z[1];if(X){var ye=U(B(de,G,he,ke,Te),2),be=ye[0];ye[1],ae=this.sortTerritories(be,ae)}ie&&(ae=this.filterRegions(ie,ae)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(Y,ae,j.includes("onlyCountries")),A),pe,j.includes("onlyCountries")),this.preferredCountries=S.length===0?[]:this.localizeCountries(this.getFilteredCountryList(S,ae,j.includes("preferredCountries")),pe,j.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(Y,ue),A)},me=function(te){function G(Y){var S;l(this,G),(S=function($,F){return!F||d(F)!=="object"&&typeof F!="function"?p($):F}(this,f(G).call(this,Y))).getProbableCandidate=E()(function($){return $&&$.length!==0?S.state.onlyCountries.filter(function(F){return T()(F.name.toLowerCase(),$.toLowerCase())},p(p(S)))[0]:null}),S.guessSelectedCountry=E()(function($,F,de,Z){var ae;if(S.props.enableAreaCodes===!1&&(Z.some(function(be){if(T()($,be.dialCode))return de.some(function(ge){if(be.iso2===ge.iso2&&ge.mainCode)return ae=ge,!0}),!0}),ae))return ae;var ue=de.find(function(be){return be.iso2==F});if($.trim()==="")return ue;var ye=de.reduce(function(be,ge){return T()($,ge.dialCode)&&(ge.dialCode.length>be.dialCode.length||ge.dialCode.length===be.dialCode.length&&ge.priority<be.priority)?ge:be},{dialCode:"",priority:10001},p(p(S)));return ye.name?ye:ue}),S.updateCountry=function($){var F,de=S.state.onlyCountries;(F=$.indexOf(0)>="0"&&$.indexOf(0)<="9"?de.find(function(Z){return Z.dialCode==+$}):de.find(function(Z){return Z.iso2==$}))&&F.dialCode&&S.setState({selectedCountry:F,formattedNumber:S.props.disableCountryCode?"":S.formatNumber(F.dialCode,F)})},S.scrollTo=function($,F){if($){var de=S.dropdownRef;if(de&&document.body){var Z=de.offsetHeight,ae=de.getBoundingClientRect().top+document.body.scrollTop,ue=ae+Z,ye=$,be=ye.getBoundingClientRect(),ge=ye.offsetHeight,ce=be.top+document.body.scrollTop,je=ce+ge,Oe=ce-ae+de.scrollTop,Ae=Z/2-ge/2;if(S.props.enableSearch?ce<ae+32:ce<ae)F&&(Oe-=Ae),de.scrollTop=Oe;else if(je>ue){F&&(Oe+=Ae);var He=Z-ge;de.scrollTop=Oe-He}}}},S.scrollToTop=function(){var $=S.dropdownRef;$&&document.body&&($.scrollTop=0)},S.formatNumber=function($,F){if(!F)return $;var de,Z=F.format,ae=S.props,ue=ae.disableCountryCode,ye=ae.enableAreaCodeStretch,be=ae.enableLongNumbers,ge=ae.autoFormat;if(ue?((de=Z.split(" ")).shift(),de=de.join(" ")):ye&&F.isAreaCode?((de=Z.split(" "))[1]=de[1].replace(/\.+/,"".padEnd(F.areaCodeLength,".")),de=de.join(" ")):de=Z,!$||$.length===0)return ue?"":S.props.prefix;if($&&$.length<2||!de||!ge)return ue?$:S.props.prefix+$;var ce,je=w()(de,function(Oe,Ae){if(Oe.remainingText.length===0)return Oe;if(Ae!==".")return{formattedText:Oe.formattedText+Ae,remainingText:Oe.remainingText};var He,Pe=s(He=Oe.remainingText)||o(He)||a(),it=Pe[0],jt=Pe.slice(1);return{formattedText:Oe.formattedText+it,remainingText:jt}},{formattedText:"",remainingText:$.split("")});return(ce=be?je.formattedText+je.remainingText.join(""):je.formattedText).includes("(")&&!ce.includes(")")&&(ce+=")"),ce},S.cursorToEnd=function(){var $=S.numberInputRef;if(document.activeElement===$){$.focus();var F=$.value.length;$.value.charAt(F-1)===")"&&(F-=1),$.setSelectionRange(F,F)}},S.getElement=function($){return S["flag_no_".concat($)]},S.getCountryData=function(){return S.state.selectedCountry?{name:S.state.selectedCountry.name||"",dialCode:S.state.selectedCountry.dialCode||"",countryCode:S.state.selectedCountry.iso2||"",format:S.state.selectedCountry.format||""}:{}},S.handleFlagDropdownClick=function($){if($.preventDefault(),S.state.showDropdown||!S.props.disabled){var F=S.state,de=F.preferredCountries,Z=F.onlyCountries,ae=F.selectedCountry,ue=S.concatPreferredCountries(de,Z).findIndex(function(ye){return ye.dialCode===ae.dialCode&&ye.iso2===ae.iso2});S.setState({showDropdown:!S.state.showDropdown,highlightCountryIndex:ue},function(){S.state.showDropdown&&S.scrollTo(S.getElement(S.state.highlightCountryIndex))})}},S.handleInput=function($){var F=$.target.value,de=S.props,Z=de.prefix,ae=de.onChange,ue=S.props.disableCountryCode?"":Z,ye=S.state.selectedCountry,be=S.state.freezeSelection;if(!S.props.countryCodeEditable){var ge=Z+(ye.hasAreaCodes?S.state.onlyCountries.find(function(zt){return zt.iso2===ye.iso2&&zt.mainCode}).dialCode:ye.dialCode);if(F.slice(0,ge.length)!==ge)return}if(F===Z)return ae&&ae("",S.getCountryData(),$,""),S.setState({formattedNumber:""});if(!(F.replace(/\D/g,"").length>15&&(S.props.enableLongNumbers===!1||typeof S.props.enableLongNumbers=="number"&&F.replace(/\D/g,"").length>S.props.enableLongNumbers))&&F!==S.state.formattedNumber){$.preventDefault?$.preventDefault():$.returnValue=!1;var ce=S.props.country,je=S.state,Oe=je.onlyCountries,Ae=je.selectedCountry,He=je.hiddenAreaCodes;if(ae&&$.persist(),F.length>0){var Pe=F.replace(/\D/g,"");(!S.state.freezeSelection||Ae&&Ae.dialCode.length>Pe.length)&&(ye=S.props.disableCountryGuess?Ae:S.guessSelectedCountry(Pe.substring(0,6),ce,Oe,He)||Ae,be=!1),ue=S.formatNumber(Pe,ye),ye=ye.dialCode?ye:Ae}var it=$.target.selectionStart,jt=$.target.selectionStart,Pt=S.state.formattedNumber,Gt=ue.length-Pt.length;S.setState({formattedNumber:ue,freezeSelection:be,selectedCountry:ye},function(){Gt>0&&(jt-=Gt),ue.charAt(ue.length-1)==")"?S.numberInputRef.setSelectionRange(ue.length-1,ue.length-1):jt>0&&Pt.length>=ue.length?S.numberInputRef.setSelectionRange(jt,jt):it<Pt.length&&S.numberInputRef.setSelectionRange(it,it),ae&&ae(ue.replace(/[^0-9]+/g,""),S.getCountryData(),$,ue)})}},S.handleInputClick=function($){S.setState({showDropdown:!1}),S.props.onClick&&S.props.onClick($,S.getCountryData())},S.handleDoubleClick=function($){var F=$.target.value.length;$.target.setSelectionRange(0,F)},S.handleFlagItemClick=function($,F){var de=S.state.selectedCountry,Z=S.state.onlyCountries.find(function(be){return be==$});if(Z){var ae=S.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),ue=ae.length>1?ae.replace(de.dialCode,Z.dialCode):Z.dialCode,ye=S.formatNumber(ue.replace(/\D/g,""),Z);S.setState({showDropdown:!1,selectedCountry:Z,freezeSelection:!0,formattedNumber:ye,searchValue:""},function(){S.cursorToEnd(),S.props.onChange&&S.props.onChange(ye.replace(/[^0-9]+/g,""),S.getCountryData(),F,ye)})}},S.handleInputFocus=function($){S.numberInputRef&&S.numberInputRef.value===S.props.prefix&&S.state.selectedCountry&&!S.props.disableCountryCode&&S.setState({formattedNumber:S.props.prefix+S.state.selectedCountry.dialCode},function(){S.props.jumpCursorToEnd&&setTimeout(S.cursorToEnd,0)}),S.setState({placeholder:""}),S.props.onFocus&&S.props.onFocus($,S.getCountryData()),S.props.jumpCursorToEnd&&setTimeout(S.cursorToEnd,0)},S.handleInputBlur=function($){$.target.value||S.setState({placeholder:S.props.placeholder}),S.props.onBlur&&S.props.onBlur($,S.getCountryData())},S.handleInputCopy=function($){if(S.props.copyNumbersOnly){var F=window.getSelection().toString().replace(/[^0-9]+/g,"");$.clipboardData.setData("text/plain",F),$.preventDefault()}},S.getHighlightCountryIndex=function($){var F=S.state.highlightCountryIndex+$;return F<0||F>=S.state.onlyCountries.length+S.state.preferredCountries.length?F-$:S.props.enableSearch&&F>S.getSearchFilteredCountries().length?0:F},S.searchCountry=function(){var $=S.getProbableCandidate(S.state.queryString)||S.state.onlyCountries[0],F=S.state.onlyCountries.findIndex(function(de){return de==$})+S.state.preferredCountries.length;S.scrollTo(S.getElement(F),!0),S.setState({queryString:"",highlightCountryIndex:F})},S.handleKeydown=function($){var F=S.props.keys,de=$.target.className;if(de.includes("selected-flag")&&$.which===F.ENTER&&!S.state.showDropdown)return S.handleFlagDropdownClick($);if(de.includes("form-control")&&($.which===F.ENTER||$.which===F.ESC))return $.target.blur();if(S.state.showDropdown&&!S.props.disabled&&(!de.includes("search-box")||$.which===F.UP||$.which===F.DOWN||$.which===F.ENTER||$.which===F.ESC&&$.target.value==="")){$.preventDefault?$.preventDefault():$.returnValue=!1;var Z=function(ae){S.setState({highlightCountryIndex:S.getHighlightCountryIndex(ae)},function(){S.scrollTo(S.getElement(S.state.highlightCountryIndex),!0)})};switch($.which){case F.DOWN:Z(1);break;case F.UP:Z(-1);break;case F.ENTER:S.props.enableSearch?S.handleFlagItemClick(S.getSearchFilteredCountries()[S.state.highlightCountryIndex]||S.getSearchFilteredCountries()[0],$):S.handleFlagItemClick([].concat(i(S.state.preferredCountries),i(S.state.onlyCountries))[S.state.highlightCountryIndex],$);break;case F.ESC:case F.TAB:S.setState({showDropdown:!1},S.cursorToEnd);break;default:($.which>=F.A&&$.which<=F.Z||$.which===F.SPACE)&&S.setState({queryString:S.state.queryString+String.fromCharCode($.which)},S.state.debouncedQueryStingSearcher)}}},S.handleInputKeyDown=function($){var F=S.props,de=F.keys,Z=F.onEnterKeyPress,ae=F.onKeyDown;$.which===de.ENTER&&Z&&Z($),ae&&ae($)},S.handleClickOutside=function($){S.dropdownRef&&S.dropdownRef!==$.target&&!S.dropdownRef.contains($.target)&&S.state.showDropdown&&S.setState({showDropdown:!1})},S.handleSearchChange=function($){var F=$.currentTarget.value,de=S.state,Z=de.preferredCountries,ae=de.selectedCountry,ue=0;if(F===""&&ae){var ye=S.state.onlyCountries;ue=S.concatPreferredCountries(Z,ye).findIndex(function(be){return be==ae}),setTimeout(function(){return S.scrollTo(S.getElement(ue))},100)}S.setState({searchValue:F,highlightCountryIndex:ue})},S.concatPreferredCountries=function($,F){return $.length>0?i(new Set($.concat(F))):F},S.getDropdownCountryName=function($){return $.localName||$.name},S.getSearchFilteredCountries=function(){var $=S.state,F=$.preferredCountries,de=$.onlyCountries,Z=$.searchValue,ae=S.props.enableSearch,ue=S.concatPreferredCountries(F,de),ye=Z.trim().toLowerCase().replace("+","");if(ae&&ye){if(/^\d+$/.test(ye))return ue.filter(function(ce){var je=ce.dialCode;return["".concat(je)].some(function(Oe){return Oe.toLowerCase().includes(ye)})});var be=ue.filter(function(ce){var je=ce.iso2;return["".concat(je)].some(function(Oe){return Oe.toLowerCase().includes(ye)})}),ge=ue.filter(function(ce){var je=ce.name,Oe=ce.localName;return ce.iso2,["".concat(je),"".concat(Oe||"")].some(function(Ae){return Ae.toLowerCase().includes(ye)})});return S.scrollToTop(),i(new Set([].concat(be,ge)))}return ue},S.getCountryDropdownList=function(){var $=S.state,F=$.preferredCountries,de=$.highlightCountryIndex,Z=$.showDropdown,ae=$.searchValue,ue=S.props,ye=ue.disableDropdown,be=ue.prefix,ge=S.props,ce=ge.enableSearch,je=ge.searchNotFound,Oe=ge.disableSearchIcon,Ae=ge.searchClass,He=ge.searchStyle,Pe=ge.searchPlaceholder,it=ge.autocompleteSearch,jt=ge.DropdownList,Pt=S.getSearchFilteredCountries().map(function(lt,xn){var In=de===xn,$t=P()({country:!0,preferred:lt.iso2==="us"||lt.iso2==="gb",active:lt.iso2==="us",highlight:In}),dn="flag ".concat(lt.iso2);return y.a.createElement("li",Object.assign({ref:function(qt){return S["flag_no_".concat(xn)]=qt},key:"flag_no_".concat(xn),"data-flag-key":"flag_no_".concat(xn),className:$t,"data-dial-code":"1",tabIndex:ye?"-1":"0","data-country-code":lt.iso2,onClick:function(qt){return S.handleFlagItemClick(lt,qt)},role:"option"},In?{"aria-selected":!0}:{}),y.a.createElement("div",{className:dn}),y.a.createElement("span",{className:"country-name"},S.getDropdownCountryName(lt)),y.a.createElement("span",{className:"dial-code"},lt.format?S.formatNumber(lt.dialCode,lt):be+lt.dialCode))}),Gt=y.a.createElement("li",{key:"dashes",className:"divider"});F.length>0&&(!ce||ce&&!ae.trim())&&Pt.splice(F.length,0,Gt);var zt=P()(r({"country-list":!0,hide:!Z},S.props.dropdownClass,!0)),Kt=y.a.createElement(y.a.Fragment,null,ce&&y.a.createElement("li",{className:P()(r({search:!0},Ae,Ae))},!Oe&&y.a.createElement("span",{className:P()(r({"search-emoji":!0},"".concat(Ae,"-emoji"),Ae)),role:"img","aria-label":"Magnifying glass"},"🔎"),y.a.createElement("input",{className:P()(r({"search-box":!0},"".concat(Ae,"-box"),Ae)),style:He,type:"search",placeholder:Pe,autoFocus:!0,autoComplete:it?"on":"off",value:ae,onChange:S.handleSearchChange})),Pt.length>0?Pt:y.a.createElement("li",{className:"no-entries-message"},y.a.createElement("span",null,je)));return jt?y.a.createElement(jt,{ref:function(lt){return!ce&&lt&&lt.focus(),S.dropdownRef=lt},anchorEl:S.numberInputRef},Kt):y.a.createElement("ul",{ref:function(lt){return!ce&&lt&&lt.focus(),S.dropdownRef=lt},className:zt,style:S.props.dropdownStyle,role:"listbox",tabIndex:"0"},Kt)};var A,j=new oe(Y.enableAreaCodes,Y.enableTerritories,Y.regions,Y.onlyCountries,Y.preferredCountries,Y.excludeCountries,Y.preserveOrder,Y.masks,Y.priority,Y.areaCodes,Y.localization,Y.prefix,Y.defaultMask,Y.alwaysDefaultMask),H=j.onlyCountries,V=j.preferredCountries,fe=j.hiddenAreaCodes,pe=Y.value?Y.value.replace(/\D/g,""):"";A=Y.disableInitialCountryGuess?0:pe.length>1?S.guessSelectedCountry(pe.substring(0,6),Y.country,H,fe)||0:Y.country&&H.find(function($){return $.iso2==Y.country})||0;var he,ke=pe.length<2&&A&&!T()(pe,A.dialCode)?A.dialCode:"";he=pe===""&&A===0?"":S.formatNumber((Y.disableCountryCode?"":ke)+pe,A.name?A:void 0);var Te=H.findIndex(function($){return $==A});return S.state={showDropdown:Y.showDropdown,formattedNumber:he,onlyCountries:H,preferredCountries:V,hiddenAreaCodes:fe,selectedCountry:A,highlightCountryIndex:Te,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:x()(S.searchCountry,250),searchValue:""},S}var X,ie;return function(Y,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(S&&S.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),S&&m(Y,S)}(G,te),X=G,(ie=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(Y,S,A){Y.country!==this.props.country?this.updateCountry(this.props.country):Y.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(Y){if(Y===null)return this.setState({selectedCountry:0,formattedNumber:""});var S=this.state,A=S.onlyCountries,j=S.selectedCountry,H=S.hiddenAreaCodes,V=this.props,fe=V.country,pe=V.prefix;if(Y==="")return this.setState({selectedCountry:j,formattedNumber:""});var he,ke,Te=Y.replace(/\D/g,"");if(j&&T()(Y,pe+j.dialCode))ke=this.formatNumber(Te,j),this.setState({formattedNumber:ke});else{var $=(he=this.props.disableCountryGuess?j:this.guessSelectedCountry(Te.substring(0,6),fe,A,H)||j)&&T()(Te,pe+he.dialCode)?he.dialCode:"";ke=this.formatNumber((this.props.disableCountryCode?"":$)+Te,he||void 0),this.setState({selectedCountry:he,formattedNumber:ke})}}},{key:"render",value:function(){var Y,S,A,j=this,H=this.state,V=H.onlyCountries,fe=H.selectedCountry,pe=H.showDropdown,he=H.formattedNumber,ke=H.hiddenAreaCodes,Te=this.props,$=Te.disableDropdown,F=Te.tabbableDropdown,de=Te.renderStringAsFlag,Z=Te.isValid,ae=Te.defaultErrorMessage,ue=Te.specialLabel;if(typeof Z=="boolean")S=Z;else{var ye=Z(he.replace(/\D/g,""),fe,V,ke);typeof ye=="boolean"?(S=ye)===!1&&(A=ae):(S=!1,A=ye)}var be=P()((r(Y={},this.props.containerClass,!0),r(Y,"react-tel-input",!0),Y)),ge=P()({arrow:!0,up:pe}),ce=P()(r({"form-control":!0,"invalid-number":!S,open:pe},this.props.inputClass,!0)),je=P()({"selected-flag":!0,open:pe}),Oe=P()(r({"flag-dropdown":!0,"invalid-number":!S,open:pe},this.props.buttonClass,!0)),Ae="flag ".concat(fe&&fe.iso2);return y.a.createElement("div",{className:"".concat(be," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},ue&&y.a.createElement("div",{className:"special-label"},ue),A&&y.a.createElement("div",{className:"invalid-number-message"},A),y.a.createElement("input",Object.assign({className:ce,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:he,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(He){j.numberInputRef=He,typeof j.props.inputProps.ref=="function"?j.props.inputProps.ref(He):typeof j.props.inputProps.ref=="object"&&(j.props.inputProps.ref.current=He)}})),y.a.createElement("div",{className:Oe,style:this.props.buttonStyle,ref:function(He){return j.dropdownContainerRef=He}},de?y.a.createElement("div",{className:je},de):y.a.createElement("div",{onClick:$?void 0:this.handleFlagDropdownClick,className:je,title:fe?"".concat(fe.localName||fe.name,": + ").concat(fe.dialCode):"",tabIndex:$||F===!1?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!pe||void 0},y.a.createElement("div",{className:Ae},!$&&y.a.createElement("div",{className:ge}))),pe&&this.getCountryDropdownList()))}}])&&c(X.prototype,ie),G}(y.a.Component);me.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},e.default=me}]);const Z2=Pa(J2),X2=Q.div`
  .react-tel-input {
    .form-control {
      border-radius: 0px;
      border-color: ${_.newColors.simplyGrey[100]};
      font-family: ${_.fontFamily};
      height: ${_.fieldSpecs.inputText.totalHeight};
      padding: 12px 16px 12px 70px;
      outline: 0;
      width: 100%;
      box-shadow: none;
      transition: none;

      border-width: 1px;
      border-style: solid;

      ${({$error:t})=>t?`
        border-color: ${_.newColors.darkRed[100]};
      `:`
        border-color: ${_.newColors.simplyGrey[100]};
      `}

      ${({$disabled:t})=>t?`
        background-color: ${_.colors.disableBackground};
        border-color: ${_.colors.disableBorder};
        color: ${_.colors.disabledTextColor};
      `:`
			  background-color: ${_.newColors.grey1[100]};
        color: ${_.newColors.almostBlack[100]};
        &:hover {
          border-color: ${_.colors.disabledBorderFocus};
        }
      `}

      &:focus {
        color: ${_.newColors.almostBlack[100]};
        border-color: ${_.newColors.almostBlack[100]};
        box-shadow: ${_.fieldSpecs.inputText.shadow};
      }
    }

    .flag-dropdown {
      border: 1px solid transparent;
    }

    .selected-flag {
      &::after{
        background: none;
        content: "";
        display: block;
        position: absolute;
        top: 10px;
        right: -15px;
        bottom: 10px;
        border-right: 1px solid #CCCCCC;
      }

      border-radius: 0;
      width: 100%;
      padding: 15px 30px 15px 15px;

      &:focus:before {
        border-color: transparent;
        box-shadow: none;
      }

      .flag{
        border-radius: 2px;
      }

      ${({$disabled:t})=>t&&`
        .flag{
          opacity: 0.25;
        }
      `}
    }
    .selected-flag.open {
      &:before {
        border-color: transparent;
        box-shadow: none;
      }
    }

    .country {
      font-size: 14px;
    }

    .country-list {
      border-radius: 0px;
      margin: 1px 0px 10px -1px;
      width: 280px;
      .country.highlight,
      .country.highlight .dial-code {
        color: ${_.colors.black};
        font-family: ${_.fontFamily};
        font-weight: 600;
      }
    }
  }
`,Q2=Q(si)`
    z-index: 1500;
`,eO=Q.ul`
    list-style: none;
    margin: 0;
    padding: 8px 0;
    max-height: 40vh;
    overflow: auto;

    li {
        font-family: ${_.fontFamily};
        color: ${_.newColors.almostBlack[100]};
        font-size: 14px;
        min-height: 40px;
        display: flex;
        gap: 8px;
        overflow: hidden;
        justify-content: flex-start;
        align-items: center;
        cursor: pointer;
        box-sizing: border-box;
        outline: 0;
        -webkit-tap-highlight-color: transparent;
        padding: 6px 16px;

        &:highlight,
        &:hover {
            background-color: rgba(0, 0, 0, 0.04);
        }

        & .flag {
            width: 25px;
            height: 20px;
            background-repeat: no-repeat;
        }
    }

    li.highlight,
    li:hover {
        background-color: rgba(0, 0, 0, 0.04);
    }
`,tO=O.forwardRef(function({children:e,anchorEl:n},r){return v.jsx(Q2,{open:!0,anchorEl:n,style:{width:n.clientWidth},children:v.jsx($a,{children:v.jsx(eO,{ref:r,children:e})})})}),nO=t=>{var u,d;const{fieldDef:e,error:n,onChange:r,onBlur:o,value:i,disabled:s,inputRef:a,id:l,skeleton:c}=t;return c?v.jsx(Xe,{variant:"rectangular",width:"100%",height:43}):v.jsx(X2,{$error:!!(e!=null&&e.required&&n),onBlur:p=>o&&o(p.target.value),$disabled:s,children:v.jsx(Z2,{autoFormat:!!((u=e==null?void 0:e.inputSettings)!=null&&u.autoFormat),country:(d=e==null?void 0:e.inputSettings)!=null&&d.country?e==null?void 0:e.inputSettings.country:"us",disabled:s,onChange:r,value:i,inputProps:{required:e==null?void 0:e.required,ref:a,id:l},tabbableDropdown:!1,DropdownList:tO})})},rO=h.memo(nO);function oO(t){return En("MuiRadioGroup",t)}At("MuiRadioGroup",["root","row","error"]);const iO=["actions","children","className","defaultValue","name","onChange","value"],sO=t=>{const{classes:e,row:n,error:r}=t;return Tn({root:["root",n&&"row",r&&"error"]},oO,e)},aO=h.forwardRef(function(e,n){const{actions:r,children:o,className:i,defaultValue:s,name:a,onChange:l,value:c}=e,u=tt(e,iO),d=h.useRef(null),p=sO(e),[f,m]=es({controlled:c,default:s,name:"RadioGroup"});h.useImperativeHandle(r,()=>({focus:()=>{let x=d.current.querySelector("input:not(:disabled):checked");x||(x=d.current.querySelector("input:not(:disabled)")),x&&x.focus()}}),[]);const g=Ur(n,d),y=$f(a),b=h.useMemo(()=>({name:y,onChange(x){m(x.target.value),l&&l(x,x.target.value)},value:f}),[y,l,m,f]);return v.jsx(jE.Provider,{value:b,children:v.jsx(WM,J({role:"radiogroup",ref:g,className:Hn(p.root,i)},u,{children:o}))})}),lO=Q(aO)`
  margin-left: -12px;
`,cO=Q.div`
	display: flex;
	flex-flow: column;
`,uO=Q.div`
	display: flex;
	align-items: center;
`,dO=Q.div`
	display: flex;
	align-items: center;
	justify-content: center;
	width: 18px;
	height: 40px;
	margin-right: 14px;
`;function td(){return v.jsxs(uO,{children:[v.jsx(dO,{children:v.jsx(Xe,{variant:"circular",width:18,height:18})}),v.jsx(Xe,{width:52,height:28})]})}function pO(){return v.jsxs(cO,{children:[v.jsx(td,{}),v.jsx(td,{}),v.jsx(td,{})]})}const fO=t=>{var f,m;const{fieldDef:e,onChange:n,value:r,onBlur:o,disabled:i,skeleton:s}=t,[a,l]=h.useState([]),[c,u]=h.useState(void 0);h.useEffect(()=>{(async()=>{var y,b;if((y=e==null?void 0:e.inputSettings)!=null&&y.options)l(e.inputSettings.options),u(!0);else if((b=e==null?void 0:e.inputSettings)!=null&&b.getOptions){const x=await e.inputSettings.getOptions();l(x),u(!1)}})()},[(f=e==null?void 0:e.inputSettings)==null?void 0:f.options,(m=e==null?void 0:e.inputSettings)==null?void 0:m.getOptions]),h.useEffect(()=>{r&&c===!1&&(a.find(g=>(g==null?void 0:g.value)===(r==null?void 0:r.value))||l([...a,r]))},[a,r,c]);const d=v.jsx(v.Fragment,{children:a.map(g=>v.jsx(zE,{disabled:i,label:g.label,value:g.value},g.label))}),p=g=>{const y=a.find(b=>b.value===g);n(y)};return s?v.jsx(pO,{}):v.jsx(lO,{onChange:g=>n&&p(g.target.value),value:r?r.value:"",onBlur:g=>o&&o(g.target.value),children:d})},hO=h.memo(fO),mO=t=>{const{value:e}=t;return v.jsx(v.Fragment,{children:e})},gO=h.memo(mO),vO=Q.div`
	display: flex;
	flex-flow: column;
`,yO=Q.div`
	display: flex;
	align-items: center;
`,bO=Q.div`
	display: flex;
	align-items: center;
	justify-content: center;
    padding-left: 10px;
	height: 40px;
	margin-right: 14px;

    & .MuiSkeleton-root {
        border-radius: 99999em;
    }
`;function xO(){return v.jsxs(yO,{children:[v.jsx(bO,{children:v.jsx(Xe,{variant:"rounded",width:36,height:22})}),v.jsx(Xe,{width:78,height:28})]})}function wO(){return v.jsx(vO,{children:v.jsx(xO,{})})}const CO=t=>{var a;const{fieldDef:e,onBlur:n,onChange:r,value:o,disabled:i,skeleton:s}=t;return s?v.jsx(wO,{}):v.jsx(HE,{disabled:i,checked:o,label:(a=e==null?void 0:e.inputSettings)==null?void 0:a.toggleLabel,onChange:r,onBlur:n})},SO=h.memo(CO);var ir={},_a={},kO=Ff,MO=Ra,EO=ai,TO="[object String]";function OO(t){return typeof t=="string"||!MO(t)&&EO(t)&&kO(t)==TO}var LO=OO,AO=vx;function PO(t){return typeof t=="function"?t:AO}var RO=PO,DO=yE,IO=RO;function $O(t,e){return t&&DO(t,IO(e))}var qf=$O,NO=UM,_O=NO(Object.getPrototypeOf,Object),Yf=_O,FO=Ff,BO=Yf,jO=ai,zO="[object Object]",HO=Function.prototype,VO=Object.prototype,Gx=HO.toString,WO=VO.hasOwnProperty,UO=Gx.call(Object);function GO(t){if(!jO(t)||FO(t)!=zO)return!1;var e=BO(t);if(e===null)return!0;var n=WO.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Gx.call(n)==UO}var Kx=GO;Object.defineProperty(_a,"__esModule",{value:!0});_a.flattenNames=void 0;var KO=LO,qO=hu(KO),YO=qf,JO=hu(YO),ZO=Kx,XO=hu(ZO),QO=UE,eL=hu(QO);function hu(t){return t&&t.__esModule?t:{default:t}}var tL=_a.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,eL.default)(e,function(r){Array.isArray(r)?t(r).map(function(o){return n.push(o)}):(0,XO.default)(r)?(0,JO.default)(r,function(o,i){o===!0&&n.push(i),n.push(i+"-"+o)}):(0,qO.default)(r)&&n.push(r)}),n};_a.default=tL;var Fa={};function nL(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Jf=nL,rL=Ax(),oL=GE;function iL(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),o?oL(n,a,l):rL(n,a,l)}return n}var mu=iL,sL=mu,aL=yx;function lL(t,e){return t&&sL(e,aL(e),t)}var qx=lL;function cL(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var uL=cL,dL=pu,pL=bx,fL=uL,hL=Object.prototype,mL=hL.hasOwnProperty;function gL(t){if(!dL(t))return fL(t);var e=pL(t),n=[];for(var r in t)r=="constructor"&&(e||!mL.call(t,r))||n.push(r);return n}var vL=gL,yL=GM,bL=vL,xL=KM;function wL(t){return xL(t)?yL(t,!0):bL(t)}var Zf=wL,CL=mu,SL=Zf;function kL(t,e){return t&&CL(e,SL(e),t)}var ML=kL,ec={exports:{}};ec.exports;(function(t,e){var n=Na,r=e&&!e.nodeType&&e,o=r&&!0&&t&&!t.nodeType&&t,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,p=a?a(d):new c.constructor(d);return c.copy(p),p}t.exports=l})(ec,ec.exports);var EL=ec.exports;function TL(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var gu=TL,OL=mu,LL=xx;function AL(t,e){return OL(t,LL(t),e)}var PL=AL,RL=qM,DL=Yf,IL=xx,$L=YM,NL=Object.getOwnPropertySymbols,_L=NL?function(t){for(var e=[];t;)RL(e,IL(t)),t=DL(t);return e}:$L,Yx=_L,FL=mu,BL=Yx;function jL(t,e){return FL(t,BL(t),e)}var zL=jL,HL=JM,VL=Yx,WL=Zf;function UL(t){return HL(t,WL,VL)}var GL=UL,KL=Object.prototype,qL=KL.hasOwnProperty;function YL(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&qL.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var JL=YL,Bg=ZM;function ZL(t){var e=new t.constructor(t.byteLength);return new Bg(e).set(new Bg(t)),e}var Xf=ZL,XL=Xf;function QL(t,e){var n=e?XL(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var eA=QL,tA=/\w*$/;function nA(t){var e=new t.constructor(t.source,tA.exec(t));return e.lastIndex=t.lastIndex,e}var rA=nA,jg=VE,zg=jg?jg.prototype:void 0,Hg=zg?zg.valueOf:void 0;function oA(t){return Hg?Object(Hg.call(t)):{}}var iA=oA,sA=Xf;function aA(t,e){var n=e?sA(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var lA=aA,cA=Xf,uA=eA,dA=rA,pA=iA,fA=lA,hA="[object Boolean]",mA="[object Date]",gA="[object Map]",vA="[object Number]",yA="[object RegExp]",bA="[object Set]",xA="[object String]",wA="[object Symbol]",CA="[object ArrayBuffer]",SA="[object DataView]",kA="[object Float32Array]",MA="[object Float64Array]",EA="[object Int8Array]",TA="[object Int16Array]",OA="[object Int32Array]",LA="[object Uint8Array]",AA="[object Uint8ClampedArray]",PA="[object Uint16Array]",RA="[object Uint32Array]";function DA(t,e,n){var r=t.constructor;switch(e){case CA:return cA(t);case hA:case mA:return new r(+t);case SA:return uA(t,n);case kA:case MA:case EA:case TA:case OA:case LA:case AA:case PA:case RA:return fA(t,n);case gA:return new r;case vA:case xA:return new r(t);case yA:return dA(t);case bA:return new r;case wA:return pA(t)}}var IA=DA,$A=pu,Vg=Object.create,NA=function(){function t(){}return function(e){if(!$A(e))return{};if(Vg)return Vg(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),vu=NA,_A=vu,FA=Yf,BA=bx;function jA(t){return typeof t.constructor=="function"&&!BA(t)?_A(FA(t)):{}}var zA=jA,HA=cu,VA=ai,WA="[object Map]";function UA(t){return VA(t)&&HA(t)==WA}var GA=UA,KA=GA,qA=Cx,Wg=wx,Ug=Wg&&Wg.isMap,YA=Ug?qA(Ug):KA,JA=YA,ZA=cu,XA=ai,QA="[object Set]";function eP(t){return XA(t)&&ZA(t)==QA}var tP=eP,nP=tP,rP=Cx,Gg=wx,Kg=Gg&&Gg.isSet,oP=Kg?rP(Kg):nP,iP=oP,sP=XM,aP=Jf,lP=Ax(),cP=qx,uP=ML,dP=EL,pP=gu,fP=PL,hP=zL,mP=eE,gP=GL,vP=cu,yP=JL,bP=IA,xP=zA,wP=Ra,CP=QM,SP=JA,kP=pu,MP=iP,EP=yx,TP=Zf,OP=1,LP=2,AP=4,Jx="[object Arguments]",PP="[object Array]",RP="[object Boolean]",DP="[object Date]",IP="[object Error]",Zx="[object Function]",$P="[object GeneratorFunction]",NP="[object Map]",_P="[object Number]",Xx="[object Object]",FP="[object RegExp]",BP="[object Set]",jP="[object String]",zP="[object Symbol]",HP="[object WeakMap]",VP="[object ArrayBuffer]",WP="[object DataView]",UP="[object Float32Array]",GP="[object Float64Array]",KP="[object Int8Array]",qP="[object Int16Array]",YP="[object Int32Array]",JP="[object Uint8Array]",ZP="[object Uint8ClampedArray]",XP="[object Uint16Array]",QP="[object Uint32Array]",yt={};yt[Jx]=yt[PP]=yt[VP]=yt[WP]=yt[RP]=yt[DP]=yt[UP]=yt[GP]=yt[KP]=yt[qP]=yt[YP]=yt[NP]=yt[_P]=yt[Xx]=yt[FP]=yt[BP]=yt[jP]=yt[zP]=yt[JP]=yt[ZP]=yt[XP]=yt[QP]=!0;yt[IP]=yt[Zx]=yt[HP]=!1;function Il(t,e,n,r,o,i){var s,a=e&OP,l=e&LP,c=e&AP;if(n&&(s=o?n(t,r,o,i):n(t)),s!==void 0)return s;if(!kP(t))return t;var u=wP(t);if(u){if(s=yP(t),!a)return pP(t,s)}else{var d=vP(t),p=d==Zx||d==$P;if(CP(t))return dP(t,a);if(d==Xx||d==Jx||p&&!o){if(s=l||p?{}:xP(t),!a)return l?hP(t,uP(s,t)):fP(t,cP(s,t))}else{if(!yt[d])return o?t:{};s=bP(t,d,a)}}i||(i=new sP);var f=i.get(t);if(f)return f;i.set(t,s),MP(t)?t.forEach(function(y){s.add(Il(y,e,n,y,t,i))}):SP(t)&&t.forEach(function(y,b){s.set(b,Il(y,e,n,b,t,i))});var m=c?l?gP:mP:l?TP:EP,g=u?void 0:m(t);return aP(g||t,function(y,b){g&&(b=y,y=t[b]),lP(s,b,Il(y,e,n,b,t,i))}),s}var Qf=Il,eR=Qf,tR=1,nR=4;function rR(t){return eR(t,tR|nR)}var oR=rR;Object.defineProperty(Fa,"__esModule",{value:!0});Fa.mergeClasses=void 0;var iR=qf,sR=Qx(iR),aR=oR,lR=Qx(aR),cR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Qx(t){return t&&t.__esModule?t:{default:t}}var uR=Fa.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,lR.default)(e.default)||{};return n.map(function(o){var i=e[o];return i&&(0,sR.default)(i,function(s,a){r[a]||(r[a]={}),r[a]=cR({},r[a],i[a])}),o}),r};Fa.default=uR;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.autoprefix=void 0;var dR=qf,qg=fR(dR),pR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function fR(t){return t&&t.__esModule?t:{default:t}}var hR={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},mR=Ba.autoprefix=function(e){var n={};return(0,qg.default)(e,function(r,o){var i={};(0,qg.default)(r,function(s,a){var l=hR[a];l?i=pR({},i,l(s)):i[a]=s}),n[o]=i}),n};Ba.default=mR;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.hover=void 0;var gR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vR=h,nd=yR(vR);function yR(t){return t&&t.__esModule?t:{default:t}}function bR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yg(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wR=ja.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){xR(o,r);function o(){var i,s,a,l;bR(this,o);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return l=(s=(a=Yg(this,(i=o.__proto__||Object.getPrototypeOf(o)).call.apply(i,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return nd.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},nd.default.createElement(e,gR({},a.props,a.state)))},s),Yg(a,l)}return o}(nd.default.Component)};ja.default=wR;var za={};Object.defineProperty(za,"__esModule",{value:!0});za.active=void 0;var CR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SR=h,rd=kR(SR);function kR(t){return t&&t.__esModule?t:{default:t}}function MR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jg(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ER(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var TR=za.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){ER(o,r);function o(){var i,s,a,l;MR(this,o);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return l=(s=(a=Jg(this,(i=o.__proto__||Object.getPrototypeOf(o)).call.apply(i,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return rd.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},rd.default.createElement(e,CR({},a.props,a.state)))},s),Jg(a,l)}return o}(rd.default.Component)};za.default=TR;var eh={};Object.defineProperty(eh,"__esModule",{value:!0});var OR=function(e,n){var r={},o=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&o("first-child"),e===n-1&&o("last-child"),(e===0||e%2===0)&&o("even"),Math.abs(e%2)===1&&o("odd"),o("nth-child",e),r};eh.default=OR;Object.defineProperty(ir,"__esModule",{value:!0});ir.ReactCSS=ir.loop=ir.handleActive=th=ir.handleHover=ir.hover=void 0;var LR=_a,AR=gs(LR),PR=Fa,RR=gs(PR),DR=Ba,IR=gs(DR),$R=ja,e1=gs($R),NR=za,_R=gs(NR),FR=eh,BR=gs(FR);function gs(t){return t&&t.__esModule?t:{default:t}}ir.hover=e1.default;var th=ir.handleHover=e1.default;ir.handleActive=_R.default;ir.loop=BR.default;var jR=ir.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=(0,AR.default)(r),s=(0,RR.default)(e,i);return(0,IR.default)(s)},We=ir.default=jR,zR=function(e,n,r,o,i){var s=i.clientWidth,a=i.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(i.getBoundingClientRect().left+window.pageXOffset),d=c-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(d<0?p=0:d>a?p=1:p=Math.round(d*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var f=void 0;if(u<0?f=0:u>s?f=1:f=Math.round(u*100/s)/100,o!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}return null},od={},HR=function(e,n,r,o){if(typeof document>"u"&&!o)return null;var i=o?new o:document.createElement("canvas");i.width=r*2,i.height=r*2;var s=i.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,i.width,i.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),i.toDataURL()):null},VR=function(e,n,r,o){var i=e+"-"+n+"-"+r+(o?"-server":"");if(od[i])return od[i];var s=HR(e,n,r,o);return od[i]=s,s},Zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs=function(e){var n=e.white,r=e.grey,o=e.size,i=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,c=We({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+VR(n,r,o,i.canvas)+") center left"}}});return h.isValidElement(l)?O.cloneElement(l,Zg({},l.props,{style:Zg({},l.props.style,c.grid)})):O.createElement("div",{style:c.grid})};vs.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var WR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UR=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function GR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xg(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function KR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nh=function(t){KR(e,t);function e(){var n,r,o,i;GR(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=(r=(o=Xg(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),o),o.handleChange=function(c){var u=zR(c,o.props.hsl,o.props.direction,o.props.a,o.container);u&&typeof o.props.onChange=="function"&&o.props.onChange(u,c)},o.handleMouseDown=function(c){o.handleChange(c),window.addEventListener("mousemove",o.handleChange),window.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},o.unbindEventListeners=function(){window.removeEventListener("mousemove",o.handleChange),window.removeEventListener("mouseup",o.handleMouseUp)},r),Xg(o,i)}return UR(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,o=this.props.rgb,i=We({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+o.r+","+o.g+","+o.b+`, 0) 0%,
           rgba(`+o.r+","+o.g+","+o.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:o.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+o.r+","+o.g+","+o.b+`, 0) 0%,
           rgba(`+o.r+","+o.g+","+o.b+", 1) 100%)"},pointer:{left:0,top:o.a*100+"%"}},overwrite:WR({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return O.createElement("div",{style:i.alpha},O.createElement("div",{style:i.checkboard},O.createElement(vs,{renderers:this.props.renderers})),O.createElement("div",{style:i.gradient}),O.createElement("div",{style:i.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.createElement("div",{style:i.pointer},this.props.pointer?O.createElement(this.props.pointer,this.props):O.createElement("div",{style:i.slider}))))}}]),e}(h.PureComponent||h.Component),qR=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function YR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function XR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var QR=1,t1=38,eD=40,tD=[t1,eD],nD=function(e){return tD.indexOf(e)>-1},rD=function(e){return Number(String(e).replace(/%/g,""))},oD=1,nt=function(t){XR(e,t);function e(n){JR(this,e);var r=ZR(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(o){r.setUpdatedValue(o.target.value,o)},r.handleKeyDown=function(o){var i=rD(o.target.value);if(!isNaN(i)&&nD(o.keyCode)){var s=r.getArrowOffset(),a=o.keyCode===t1?i+s:i-s;r.setUpdatedValue(a,o)}},r.handleDrag=function(o){if(r.props.dragLabel){var i=Math.round(r.props.value+o.movementX);i>=0&&i<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(i),o)}},r.handleMouseDown=function(o){r.props.dragLabel&&(o.preventDefault(),r.handleDrag(o),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+oD++,r}return qR(e,[{key:"componentDidUpdate",value:function(r,o){this.props.value!==this.state.value&&(r.value!==this.props.value||o.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return YR({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||QR}},{key:"setUpdatedValue",value:function(r,o){var i=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(i,o),this.setState({value:r})}},{key:"render",value:function(){var r=this,o=We({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return O.createElement("div",{style:o.wrap},O.createElement("input",{id:this.inputId,style:o.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?O.createElement("label",{htmlFor:this.inputId,style:o.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(h.PureComponent||h.Component),iD=function(e,n,r,o){var i=o.clientWidth,s=o.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(o.getBoundingClientRect().left+window.pageXOffset),u=l-(o.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(u<0)d=359;else if(u>s)d=0;else{var p=-(u*100/s)+100;d=360*p/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var f=void 0;if(c<0)f=0;else if(c>i)f=359;else{var m=c*100/i;f=360*m/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},sD=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function aD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qg(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ys=function(t){lD(e,t);function e(){var n,r,o,i;aD(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=(r=(o=Qg(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),o),o.handleChange=function(c){var u=iD(c,o.props.direction,o.props.hsl,o.container);u&&typeof o.props.onChange=="function"&&o.props.onChange(u,c)},o.handleMouseDown=function(c){o.handleChange(c),window.addEventListener("mousemove",o.handleChange),window.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},r),Qg(o,i)}return sD(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,o=this.props.direction,i=o===void 0?"horizontal":o,s=We({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:i==="vertical"});return O.createElement("div",{style:s.hue},O.createElement("div",{className:"hue-"+i,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),O.createElement("div",{style:s.pointer},this.props.pointer?O.createElement(this.props.pointer,this.props):O.createElement("div",{style:s.slider}))))}}]),e}(h.PureComponent||h.Component);function cD(){this.__data__=[],this.size=0}function Ha(t,e){return t===e||t!==t&&e!==e}function yu(t,e){for(var n=t.length;n--;)if(Ha(t[n][0],e))return n;return-1}var uD=Array.prototype,dD=uD.splice;function pD(t){var e=this.__data__,n=yu(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():dD.call(e,n,1),--this.size,!0}function fD(t){var e=this.__data__,n=yu(e,t);return n<0?void 0:e[n][1]}function hD(t){return yu(this.__data__,t)>-1}function mD(t,e){var n=this.__data__,r=yu(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Jr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jr.prototype.clear=cD;Jr.prototype.delete=pD;Jr.prototype.get=fD;Jr.prototype.has=hD;Jr.prototype.set=mD;function gD(){this.__data__=new Jr,this.size=0}function vD(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function yD(t){return this.__data__.get(t)}function bD(t){return this.__data__.has(t)}var n1=typeof global=="object"&&global&&global.Object===Object&&global,xD=typeof self=="object"&&self&&self.Object===Object&&self,xr=n1||xD||Function("return this")(),wo=xr.Symbol,r1=Object.prototype,wD=r1.hasOwnProperty,CD=r1.toString,Ss=wo?wo.toStringTag:void 0;function SD(t){var e=wD.call(t,Ss),n=t[Ss];try{t[Ss]=void 0;var r=!0}catch{}var o=CD.call(t);return r&&(e?t[Ss]=n:delete t[Ss]),o}var kD=Object.prototype,MD=kD.toString;function ED(t){return MD.call(t)}var TD="[object Null]",OD="[object Undefined]",ev=wo?wo.toStringTag:void 0;function li(t){return t==null?t===void 0?OD:TD:ev&&ev in Object(t)?SD(t):ED(t)}function cr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var LD="[object AsyncFunction]",AD="[object Function]",PD="[object GeneratorFunction]",RD="[object Proxy]";function rh(t){if(!cr(t))return!1;var e=li(t);return e==AD||e==PD||e==LD||e==RD}var id=xr["__core-js_shared__"],tv=function(){var t=/[^.]+$/.exec(id&&id.keys&&id.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function DD(t){return!!tv&&tv in t}var ID=Function.prototype,$D=ID.toString;function ci(t){if(t!=null){try{return $D.call(t)}catch{}try{return t+""}catch{}}return""}var ND=/[\\^$.*+?()[\]{}|]/g,_D=/^\[object .+?Constructor\]$/,FD=Function.prototype,BD=Object.prototype,jD=FD.toString,zD=BD.hasOwnProperty,HD=RegExp("^"+jD.call(zD).replace(ND,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VD(t){if(!cr(t)||DD(t))return!1;var e=rh(t)?HD:_D;return e.test(ci(t))}function WD(t,e){return t==null?void 0:t[e]}function ui(t,e){var n=WD(t,e);return VD(n)?n:void 0}var ma=ui(xr,"Map"),ga=ui(Object,"create");function UD(){this.__data__=ga?ga(null):{},this.size=0}function GD(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var KD="__lodash_hash_undefined__",qD=Object.prototype,YD=qD.hasOwnProperty;function JD(t){var e=this.__data__;if(ga){var n=e[t];return n===KD?void 0:n}return YD.call(e,t)?e[t]:void 0}var ZD=Object.prototype,XD=ZD.hasOwnProperty;function QD(t){var e=this.__data__;return ga?e[t]!==void 0:XD.call(e,t)}var eI="__lodash_hash_undefined__";function tI(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ga&&e===void 0?eI:e,this}function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=UD;Xo.prototype.delete=GD;Xo.prototype.get=JD;Xo.prototype.has=QD;Xo.prototype.set=tI;function nI(){this.size=0,this.__data__={hash:new Xo,map:new(ma||Jr),string:new Xo}}function rI(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function bu(t,e){var n=t.__data__;return rI(e)?n[typeof e=="string"?"string":"hash"]:n.map}function oI(t){var e=bu(this,t).delete(t);return this.size-=e?1:0,e}function iI(t){return bu(this,t).get(t)}function sI(t){return bu(this,t).has(t)}function aI(t,e){var n=bu(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Zr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zr.prototype.clear=nI;Zr.prototype.delete=oI;Zr.prototype.get=iI;Zr.prototype.has=sI;Zr.prototype.set=aI;var lI=200;function cI(t,e){var n=this.__data__;if(n instanceof Jr){var r=n.__data__;if(!ma||r.length<lI-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Zr(r)}return n.set(t,e),this.size=n.size,this}function Pr(t){var e=this.__data__=new Jr(t);this.size=e.size}Pr.prototype.clear=gD;Pr.prototype.delete=vD;Pr.prototype.get=yD;Pr.prototype.has=bD;Pr.prototype.set=cI;var tc=function(){try{var t=ui(Object,"defineProperty");return t({},"",{}),t}catch{}}();function oh(t,e,n){e=="__proto__"&&tc?tc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function xp(t,e,n){(n!==void 0&&!Ha(t[e],n)||n===void 0&&!(e in t))&&oh(t,e,n)}function uI(t){return function(e,n,r){for(var o=-1,i=Object(e),s=r(e),a=s.length;a--;){var l=s[++o];if(n(i[l],l,i)===!1)break}return e}}var o1=uI(),i1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nv=i1&&typeof module=="object"&&module&&!module.nodeType&&module,dI=nv&&nv.exports===i1,rv=dI?xr.Buffer:void 0;rv&&rv.allocUnsafe;function pI(t,e){return t.slice()}var nc=xr.Uint8Array;function fI(t){var e=new t.constructor(t.byteLength);return new nc(e).set(new nc(t)),e}function hI(t,e){var n=fI(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function mI(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var ov=Object.create,gI=function(){function t(){}return function(e){if(!cr(e))return{};if(ov)return ov(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function s1(t,e){return function(n){return t(e(n))}}var a1=s1(Object.getPrototypeOf,Object),vI=Object.prototype;function ih(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vI;return t===n}function yI(t){return typeof t.constructor=="function"&&!ih(t)?gI(a1(t)):{}}function Co(t){return t!=null&&typeof t=="object"}var bI="[object Arguments]";function iv(t){return Co(t)&&li(t)==bI}var l1=Object.prototype,xI=l1.hasOwnProperty,wI=l1.propertyIsEnumerable,rc=iv(function(){return arguments}())?iv:function(t){return Co(t)&&xI.call(t,"callee")&&!wI.call(t,"callee")},Wn=Array.isArray,CI=9007199254740991;function sh(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=CI}function bs(t){return t!=null&&sh(t.length)&&!rh(t)}function SI(t){return Co(t)&&bs(t)}function kI(){return!1}var c1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sv=c1&&typeof module=="object"&&module&&!module.nodeType&&module,MI=sv&&sv.exports===c1,av=MI?xr.Buffer:void 0,EI=av?av.isBuffer:void 0,oc=EI||kI,TI="[object Object]",OI=Function.prototype,LI=Object.prototype,u1=OI.toString,AI=LI.hasOwnProperty,PI=u1.call(Object);function RI(t){if(!Co(t)||li(t)!=TI)return!1;var e=a1(t);if(e===null)return!0;var n=AI.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&u1.call(n)==PI}var DI="[object Arguments]",II="[object Array]",$I="[object Boolean]",NI="[object Date]",_I="[object Error]",FI="[object Function]",BI="[object Map]",jI="[object Number]",zI="[object Object]",HI="[object RegExp]",VI="[object Set]",WI="[object String]",UI="[object WeakMap]",GI="[object ArrayBuffer]",KI="[object DataView]",qI="[object Float32Array]",YI="[object Float64Array]",JI="[object Int8Array]",ZI="[object Int16Array]",XI="[object Int32Array]",QI="[object Uint8Array]",e$="[object Uint8ClampedArray]",t$="[object Uint16Array]",n$="[object Uint32Array]",Ct={};Ct[qI]=Ct[YI]=Ct[JI]=Ct[ZI]=Ct[XI]=Ct[QI]=Ct[e$]=Ct[t$]=Ct[n$]=!0;Ct[DI]=Ct[II]=Ct[GI]=Ct[$I]=Ct[KI]=Ct[NI]=Ct[_I]=Ct[FI]=Ct[BI]=Ct[jI]=Ct[zI]=Ct[HI]=Ct[VI]=Ct[WI]=Ct[UI]=!1;function r$(t){return Co(t)&&sh(t.length)&&!!Ct[li(t)]}function o$(t){return function(e){return t(e)}}var d1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ta=d1&&typeof module=="object"&&module&&!module.nodeType&&module,i$=ta&&ta.exports===d1,sd=i$&&n1.process,lv=function(){try{var t=ta&&ta.require&&ta.require("util").types;return t||sd&&sd.binding&&sd.binding("util")}catch{}}(),cv=lv&&lv.isTypedArray,ah=cv?o$(cv):r$;function wp(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var s$=Object.prototype,a$=s$.hasOwnProperty;function l$(t,e,n){var r=t[e];(!(a$.call(t,e)&&Ha(r,n))||n===void 0&&!(e in t))&&oh(t,e,n)}function c$(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],l=void 0;l===void 0&&(l=t[a]),o?oh(n,a,l):l$(n,a,l)}return n}function u$(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var d$=9007199254740991,p$=/^(?:0|[1-9]\d*)$/;function lh(t,e){var n=typeof t;return e=e??d$,!!e&&(n=="number"||n!="symbol"&&p$.test(t))&&t>-1&&t%1==0&&t<e}var f$=Object.prototype,h$=f$.hasOwnProperty;function p1(t,e){var n=Wn(t),r=!n&&rc(t),o=!n&&!r&&oc(t),i=!n&&!r&&!o&&ah(t),s=n||r||o||i,a=s?u$(t.length,String):[],l=a.length;for(var c in t)(e||h$.call(t,c))&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||lh(c,l)))&&a.push(c);return a}function m$(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var g$=Object.prototype,v$=g$.hasOwnProperty;function y$(t){if(!cr(t))return m$(t);var e=ih(t),n=[];for(var r in t)r=="constructor"&&(e||!v$.call(t,r))||n.push(r);return n}function f1(t){return bs(t)?p1(t,!0):y$(t)}function b$(t){return c$(t,f1(t))}function x$(t,e,n,r,o,i,s){var a=wp(t,n),l=wp(e,n),c=s.get(l);if(c){xp(t,n,c);return}var u=i?i(a,l,n+"",t,e,s):void 0,d=u===void 0;if(d){var p=Wn(l),f=!p&&oc(l),m=!p&&!f&&ah(l);u=l,p||f||m?Wn(a)?u=a:SI(a)?u=mI(a):f?(d=!1,u=pI(l)):m?(d=!1,u=hI(l)):u=[]:RI(l)||rc(l)?(u=a,rc(a)?u=b$(a):(!cr(a)||rh(a))&&(u=yI(l))):d=!1}d&&(s.set(l,u),o(u,l,r,i,s),s.delete(l)),xp(t,n,u)}function h1(t,e,n,r,o){t!==e&&o1(e,function(i,s){if(o||(o=new Pr),cr(i))x$(t,e,s,n,h1,r,o);else{var a=r?r(wp(t,s),i,s+"",t,e,o):void 0;a===void 0&&(a=i),xp(t,s,a)}},f1)}function xu(t){return t}function w$(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var uv=Math.max;function C$(t,e,n){return e=uv(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=uv(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(s),w$(t,this,a)}}function S$(t){return function(){return t}}var k$=tc?function(t,e){return tc(t,"toString",{configurable:!0,enumerable:!1,value:S$(e),writable:!0})}:xu,M$=800,E$=16,T$=Date.now;function O$(t){var e=0,n=0;return function(){var r=T$(),o=E$-(r-n);if(n=r,o>0){if(++e>=M$)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var L$=O$(k$);function A$(t,e){return L$(C$(t,e,xu),t+"")}function P$(t,e,n){if(!cr(n))return!1;var r=typeof e;return(r=="number"?bs(n)&&lh(e,n.length):r=="string"&&e in n)?Ha(n[e],t):!1}function R$(t){return A$(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(o--,i):void 0,s&&P$(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e})}var Rn=R$(function(t,e,n){h1(t,e,n)}),Va=function(e){var n=e.zDepth,r=e.radius,o=e.background,i=e.children,s=e.styles,a=s===void 0?{}:s,l=We(Rn({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return O.createElement("div",{style:l.wrap},O.createElement("div",{style:l.bg}),O.createElement("div",{style:l.content},i))};Va.propTypes={background:Se.string,zDepth:Se.oneOf([0,1,2,3,4,5]),radius:Se.number,styles:Se.object};Va.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var ad=function(){return xr.Date.now()},D$=/\s/;function I$(t){for(var e=t.length;e--&&D$.test(t.charAt(e)););return e}var $$=/^\s+/;function N$(t){return t&&t.slice(0,I$(t)+1).replace($$,"")}var _$="[object Symbol]";function wu(t){return typeof t=="symbol"||Co(t)&&li(t)==_$}var dv=NaN,F$=/^[-+]0x[0-9a-f]+$/i,B$=/^0b[01]+$/i,j$=/^0o[0-7]+$/i,z$=parseInt;function pv(t){if(typeof t=="number")return t;if(wu(t))return dv;if(cr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=N$(t);var n=B$.test(t);return n||j$.test(t)?z$(t.slice(2),n?2:8):F$.test(t)?dv:+t}var H$="Expected a function",V$=Math.max,W$=Math.min;function m1(t,e,n){var r,o,i,s,a,l,c=0,u=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(H$);e=pv(e)||0,cr(n)&&(u=!!n.leading,d="maxWait"in n,i=d?V$(pv(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p);function f(w){var M=r,T=o;return r=o=void 0,c=w,s=t.apply(T,M),s}function m(w){return c=w,a=setTimeout(b,e),u?f(w):s}function g(w){var M=w-l,T=w-c,D=e-M;return d?W$(D,i-T):D}function y(w){var M=w-l,T=w-c;return l===void 0||M>=e||M<0||d&&T>=i}function b(){var w=ad();if(y(w))return x(w);a=setTimeout(b,g(w))}function x(w){return a=void 0,p&&r?f(w):(r=o=void 0,s)}function C(){a!==void 0&&clearTimeout(a),c=0,r=l=o=a=void 0}function E(){return a===void 0?s:x(ad())}function k(){var w=ad(),M=y(w);if(r=arguments,o=this,l=w,M){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(b,e),f(l)}return a===void 0&&(a=setTimeout(b,e)),s}return k.cancel=C,k.flush=E,k}var U$="Expected a function";function G$(t,e,n){var r=!0,o=!0;if(typeof t!="function")throw new TypeError(U$);return cr(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),m1(t,e,{leading:r,maxWait:e,trailing:o})}var K$=function(e,n,r){var o=r.getBoundingClientRect(),i=o.width,s=o.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>i&&(c=i),u<0?u=0:u>s&&(u=s);var d=c/i,p=1-u/s;return{h:n.h,s:d,v:p,a:n.a,source:"hsv"}},q$=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Y$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Z$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Cu=function(t){Z$(e,t);function e(n){Y$(this,e);var r=J$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(o){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,K$(o,r.props.hsl,r.container),o)},r.handleMouseDown=function(o){r.handleChange(o);var i=r.getContainerRenderWindow();i.addEventListener("mousemove",r.handleChange),i.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=G$(function(o,i,s){o(i,s)},50),r}return q$(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,o=window;!o.document.contains(r)&&o.parent!==o;)o=o.parent;return o}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,o=this.props.style||{},i=o.color,s=o.white,a=o.black,l=o.pointer,c=o.circle,u=We({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:i,white:s,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return O.createElement("div",{style:u.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),O.createElement("div",{style:u.white,className:"saturation-white"},O.createElement("div",{style:u.black,className:"saturation-black"}),O.createElement("div",{style:u.pointer},this.props.pointer?O.createElement(this.props.pointer,this.props):O.createElement("div",{style:u.circle}))))}}]),e}(h.PureComponent||h.Component);function X$(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Q$=s1(Object.keys,Object),eN=Object.prototype,tN=eN.hasOwnProperty;function nN(t){if(!ih(t))return Q$(t);var e=[];for(var n in Object(t))tN.call(t,n)&&n!="constructor"&&e.push(n);return e}function ch(t){return bs(t)?p1(t):nN(t)}function rN(t,e){return t&&o1(t,e,ch)}function oN(t,e){return function(n,r){if(n==null)return n;if(!bs(n))return t(n,r);for(var o=n.length,i=-1,s=Object(n);++i<o&&r(s[i],i,s)!==!1;);return n}}var g1=oN(rN);function iN(t){return typeof t=="function"?t:xu}function sN(t,e){var n=Wn(t)?X$:g1;return n(t,iN(e))}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}var aN=/^\s+/,lN=/\s+$/;function Ne(t,e){if(t=t||"",e=e||{},t instanceof Ne)return t;if(!(this instanceof Ne))return new Ne(t,e);var n=cN(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ne.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,o,i,s,a;return n=e.r/255,r=e.g/255,o=e.b/255,n<=.03928?i=n/12.92:i=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),o<=.03928?a=o/12.92:a=Math.pow((o+.055)/1.055,2.4),.2126*i+.7152*s+.0722*a},setAlpha:function(e){return this._a=v1(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=hv(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=hv(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+o+"%)":"hsva("+n+", "+r+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=fv(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=fv(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+o+"%)":"hsla("+n+", "+r+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return mv(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return fN(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Et(this._r,255)*100)+"%",g:Math.round(Et(this._g,255)*100)+"%",b:Math.round(Et(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Et(this._r,255)*100)+"%, "+Math.round(Et(this._g,255)*100)+"%, "+Math.round(Et(this._b,255)*100)+"%)":"rgba("+Math.round(Et(this._r,255)*100)+"%, "+Math.round(Et(this._g,255)*100)+"%, "+Math.round(Et(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:MN[mv(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+gv(this._r,this._g,this._b,this._a),r=n,o=this._gradientType?"GradientType = 1, ":"";if(e){var i=Ne(e);r="#"+gv(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,o=this._a<1&&this._a>=0,i=!n&&o&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return i?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ne(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(vN,arguments)},brighten:function(){return this._applyModification(yN,arguments)},darken:function(){return this._applyModification(bN,arguments)},desaturate:function(){return this._applyModification(hN,arguments)},saturate:function(){return this._applyModification(mN,arguments)},greyscale:function(){return this._applyModification(gN,arguments)},spin:function(){return this._applyModification(xN,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(SN,arguments)},complement:function(){return this._applyCombination(wN,arguments)},monochromatic:function(){return this._applyCombination(kN,arguments)},splitcomplement:function(){return this._applyCombination(CN,arguments)},triad:function(){return this._applyCombination(vv,[3])},tetrad:function(){return this._applyCombination(vv,[4])}};Ne.fromRatio=function(t,e){if(ic(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Ns(t[r]));t=n}return Ne(t,e)};function cN(t){var e={r:0,g:0,b:0},n=1,r=null,o=null,i=null,s=!1,a=!1;return typeof t=="string"&&(t=LN(t)),ic(t)=="object"&&(Fr(t.r)&&Fr(t.g)&&Fr(t.b)?(e=uN(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Fr(t.h)&&Fr(t.s)&&Fr(t.v)?(r=Ns(t.s),o=Ns(t.v),e=pN(t.h,r,o),s=!0,a="hsv"):Fr(t.h)&&Fr(t.s)&&Fr(t.l)&&(r=Ns(t.s),i=Ns(t.l),e=dN(t.h,r,i),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=v1(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function uN(t,e,n){return{r:Et(t,255)*255,g:Et(e,255)*255,b:Et(n,255)*255}}function fv(t,e,n){t=Et(t,255),e=Et(e,255),n=Et(n,255);var r=Math.max(t,e,n),o=Math.min(t,e,n),i,s,a=(r+o)/2;if(r==o)i=s=0;else{var l=r-o;switch(s=a>.5?l/(2-r-o):l/(r+o),r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4;break}i/=6}return{h:i,s,l:a}}function dN(t,e,n){var r,o,i;t=Et(t,360),e=Et(e,100),n=Et(n,100);function s(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(e===0)r=o=i=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),o=s(l,a,t),i=s(l,a,t-1/3)}return{r:r*255,g:o*255,b:i*255}}function hv(t,e,n){t=Et(t,255),e=Et(e,255),n=Et(n,255);var r=Math.max(t,e,n),o=Math.min(t,e,n),i,s,a=r,l=r-o;if(s=r===0?0:l/r,r==o)i=0;else{switch(r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4;break}i/=6}return{h:i,s,v:a}}function pN(t,e,n){t=Et(t,360)*6,e=Et(e,100),n=Et(n,100);var r=Math.floor(t),o=t-r,i=n*(1-e),s=n*(1-o*e),a=n*(1-(1-o)*e),l=r%6,c=[n,s,i,i,a,n][l],u=[a,n,n,s,i,i][l],d=[i,i,a,n,n,s][l];return{r:c*255,g:u*255,b:d*255}}function mv(t,e,n,r){var o=[gr(Math.round(t).toString(16)),gr(Math.round(e).toString(16)),gr(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function fN(t,e,n,r,o){var i=[gr(Math.round(t).toString(16)),gr(Math.round(e).toString(16)),gr(Math.round(n).toString(16)),gr(y1(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function gv(t,e,n,r){var o=[gr(y1(r)),gr(Math.round(t).toString(16)),gr(Math.round(e).toString(16)),gr(Math.round(n).toString(16))];return o.join("")}Ne.equals=function(t,e){return!t||!e?!1:Ne(t).toRgbString()==Ne(e).toRgbString()};Ne.random=function(){return Ne.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function hN(t,e){e=e===0?0:e||10;var n=Ne(t).toHsl();return n.s-=e/100,n.s=Su(n.s),Ne(n)}function mN(t,e){e=e===0?0:e||10;var n=Ne(t).toHsl();return n.s+=e/100,n.s=Su(n.s),Ne(n)}function gN(t){return Ne(t).desaturate(100)}function vN(t,e){e=e===0?0:e||10;var n=Ne(t).toHsl();return n.l+=e/100,n.l=Su(n.l),Ne(n)}function yN(t,e){e=e===0?0:e||10;var n=Ne(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ne(n)}function bN(t,e){e=e===0?0:e||10;var n=Ne(t).toHsl();return n.l-=e/100,n.l=Su(n.l),Ne(n)}function xN(t,e){var n=Ne(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ne(n)}function wN(t){var e=Ne(t).toHsl();return e.h=(e.h+180)%360,Ne(e)}function vv(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ne(t).toHsl(),r=[Ne(t)],o=360/e,i=1;i<e;i++)r.push(Ne({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function CN(t){var e=Ne(t).toHsl(),n=e.h;return[Ne(t),Ne({h:(n+72)%360,s:e.s,l:e.l}),Ne({h:(n+216)%360,s:e.s,l:e.l})]}function SN(t,e,n){e=e||6,n=n||30;var r=Ne(t).toHsl(),o=360/n,i=[Ne(t)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,i.push(Ne(r));return i}function kN(t,e){e=e||6;for(var n=Ne(t).toHsv(),r=n.h,o=n.s,i=n.v,s=[],a=1/e;e--;)s.push(Ne({h:r,s:o,v:i})),i=(i+a)%1;return s}Ne.mix=function(t,e,n){n=n===0?0:n||50;var r=Ne(t).toRgb(),o=Ne(e).toRgb(),i=n/100,s={r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a};return Ne(s)};Ne.readability=function(t,e){var n=Ne(t),r=Ne(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ne.isReadable=function(t,e,n){var r=Ne.readability(t,e),o,i;switch(i=!1,o=AN(n),o.level+o.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7;break}return i};Ne.mostReadable=function(t,e,n){var r=null,o=0,i,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)i=Ne.readability(t,e[c]),i>o&&(o=i,r=Ne(e[c]));return Ne.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,Ne.mostReadable(t,["#fff","#000"],n))};var Cp=Ne.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},MN=Ne.hexNames=EN(Cp);function EN(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function v1(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Et(t,e){TN(t)&&(t="100%");var n=ON(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Su(t){return Math.min(1,Math.max(0,t))}function jn(t){return parseInt(t,16)}function TN(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function ON(t){return typeof t=="string"&&t.indexOf("%")!=-1}function gr(t){return t.length==1?"0"+t:""+t}function Ns(t){return t<=1&&(t=t*100+"%"),t}function y1(t){return Math.round(parseFloat(t)*255).toString(16)}function yv(t){return jn(t)/255}var pr=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Fr(t){return!!pr.CSS_UNIT.exec(t)}function LN(t){t=t.replace(aN,"").replace(lN,"").toLowerCase();var e=!1;if(Cp[t])t=Cp[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=pr.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=pr.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=pr.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=pr.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=pr.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=pr.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=pr.hex8.exec(t))?{r:jn(n[1]),g:jn(n[2]),b:jn(n[3]),a:yv(n[4]),format:e?"name":"hex8"}:(n=pr.hex6.exec(t))?{r:jn(n[1]),g:jn(n[2]),b:jn(n[3]),format:e?"name":"hex"}:(n=pr.hex4.exec(t))?{r:jn(n[1]+""+n[1]),g:jn(n[2]+""+n[2]),b:jn(n[3]+""+n[3]),a:yv(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=pr.hex3.exec(t))?{r:jn(n[1]+""+n[1]),g:jn(n[2]+""+n[2]),b:jn(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function AN(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var bv=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,o=0;return sN(n,function(i){if(e[i]&&(r+=1,isNaN(e[i])||(o+=1),i==="s"||i==="l")){var s=/^\d+%$/;s.test(e[i])&&(o+=1)}}),r===o?e:!1},_s=function(e,n){var r=e.hex?Ne(e.hex):Ne(e),o=r.toHsl(),i=r.toHsv(),s=r.toRgb(),a=r.toHex();o.s===0&&(o.h=n||0,i.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:o,hex:l?"transparent":"#"+a,rgb:s,hsv:i,oldHue:e.h||n||o.h,source:e.source}},To=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Ne(e).isValid()},uh=function(e){if(!e)return"#fff";var n=_s(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},ld=function(e,n){var r=e.replace("°","");return Ne(n+" ("+r+")")._ok},ks=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PN=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function RN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function IN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dn=function(e){var n=function(r){IN(o,r);function o(i){RN(this,o);var s=DN(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return s.handleChange=function(a,l){var c=bv(a);if(c){var u=_s(a,a.h||s.state.oldHue);s.setState(u),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,u,l),s.props.onChange&&s.props.onChange(u,l)}},s.handleSwatchHover=function(a,l){var c=bv(a);if(c){var u=_s(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(u,l)}},s.state=ks({},_s(i.color,0)),s.debounce=m1(function(a,l,c){a(l,c)},100),s}return PN(o,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),O.createElement(e,ks({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return ks({},_s(s.color,a.oldHue))}}]),o}(h.PureComponent||h.Component);return n.propTypes=ks({},e.propTypes),n.defaultProps=ks({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},$N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NN=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function _N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xv(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function FN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var BN=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){FN(o,r);function o(){var i,s,a,l;_N(this,o);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return l=(s=(a=xv(this,(i=o.__proto__||Object.getPrototypeOf(o)).call.apply(i,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),xv(a,l)}return NN(o,[{key:"render",value:function(){return O.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},O.createElement(e,$N({},this.props,this.state)))}}]),o}(O.Component)},wv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jN=13,zN=function(e){var n=e.color,r=e.style,o=e.onClick,i=o===void 0?function(){}:o,s=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,u=e.focus,d=e.focusStyle,p=d===void 0?{}:d,f=n==="transparent",m=We({default:{swatch:wv({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?p:{})}}),g=function(E){return i(n,E)},y=function(E){return E.keyCode===jN&&i(n,E)},b=function(E){return s(n,E)},x={};return s&&(x.onMouseOver=b),O.createElement("div",wv({style:m.swatch,onClick:g,title:l,tabIndex:0,onKeyDown:y},x),c,f&&O.createElement(vs,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const di=BN(zN);var HN=function(e){var n=e.direction,r=We({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return O.createElement("div",{style:r.picker})},VN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b1=function(e){var n=e.rgb,r=e.hsl,o=e.width,i=e.height,s=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,d=e.className,p=d===void 0?"":d,f=We({default:{picker:{position:"relative",width:o,height:i},alpha:{radius:"2px",style:l}}});return O.createElement("div",{style:f.picker,className:"alpha-picker "+p},O.createElement(nh,VN({},f.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:s,direction:a})))};b1.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:HN};Dn(b1);function x1(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var WN="__lodash_hash_undefined__";function UN(t){return this.__data__.set(t,WN),this}function GN(t){return this.__data__.has(t)}function sc(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Zr;++e<n;)this.add(t[e])}sc.prototype.add=sc.prototype.push=UN;sc.prototype.has=GN;function KN(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function qN(t,e){return t.has(e)}var YN=1,JN=2;function w1(t,e,n,r,o,i){var s=n&YN,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var d=-1,p=!0,f=n&JN?new sc:void 0;for(i.set(t,e),i.set(e,t);++d<a;){var m=t[d],g=e[d];if(r)var y=s?r(g,m,d,e,t,i):r(m,g,d,t,e,i);if(y!==void 0){if(y)continue;p=!1;break}if(f){if(!KN(e,function(b,x){if(!qN(f,x)&&(m===b||o(m,b,n,r,i)))return f.push(x)})){p=!1;break}}else if(!(m===g||o(m,g,n,r,i))){p=!1;break}}return i.delete(t),i.delete(e),p}function ZN(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}function XN(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var QN=1,e_=2,t_="[object Boolean]",n_="[object Date]",r_="[object Error]",o_="[object Map]",i_="[object Number]",s_="[object RegExp]",a_="[object Set]",l_="[object String]",c_="[object Symbol]",u_="[object ArrayBuffer]",d_="[object DataView]",Cv=wo?wo.prototype:void 0,cd=Cv?Cv.valueOf:void 0;function p_(t,e,n,r,o,i,s){switch(n){case d_:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case u_:return!(t.byteLength!=e.byteLength||!i(new nc(t),new nc(e)));case t_:case n_:case i_:return Ha(+t,+e);case r_:return t.name==e.name&&t.message==e.message;case s_:case l_:return t==e+"";case o_:var a=ZN;case a_:var l=r&QN;if(a||(a=XN),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=e_,s.set(t,e);var u=w1(a(t),a(e),r,o,i,s);return s.delete(t),u;case c_:if(cd)return cd.call(t)==cd.call(e)}return!1}function f_(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function h_(t,e,n){var r=e(t);return Wn(t)?r:f_(r,n(t))}function m_(t,e){for(var n=-1,r=t==null?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function g_(){return[]}var v_=Object.prototype,y_=v_.propertyIsEnumerable,Sv=Object.getOwnPropertySymbols,b_=Sv?function(t){return t==null?[]:(t=Object(t),m_(Sv(t),function(e){return y_.call(t,e)}))}:g_;function kv(t){return h_(t,ch,b_)}var x_=1,w_=Object.prototype,C_=w_.hasOwnProperty;function S_(t,e,n,r,o,i){var s=n&x_,a=kv(t),l=a.length,c=kv(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var p=a[d];if(!(s?p in e:C_.call(e,p)))return!1}var f=i.get(t),m=i.get(e);if(f&&m)return f==e&&m==t;var g=!0;i.set(t,e),i.set(e,t);for(var y=s;++d<l;){p=a[d];var b=t[p],x=e[p];if(r)var C=s?r(x,b,p,e,t,i):r(b,x,p,t,e,i);if(!(C===void 0?b===x||o(b,x,n,r,i):C)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var E=t.constructor,k=e.constructor;E!=k&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof k=="function"&&k instanceof k)&&(g=!1)}return i.delete(t),i.delete(e),g}var Sp=ui(xr,"DataView"),kp=ui(xr,"Promise"),Mp=ui(xr,"Set"),Ep=ui(xr,"WeakMap"),Mv="[object Map]",k_="[object Object]",Ev="[object Promise]",Tv="[object Set]",Ov="[object WeakMap]",Lv="[object DataView]",M_=ci(Sp),E_=ci(ma),T_=ci(kp),O_=ci(Mp),L_=ci(Ep),io=li;(Sp&&io(new Sp(new ArrayBuffer(1)))!=Lv||ma&&io(new ma)!=Mv||kp&&io(kp.resolve())!=Ev||Mp&&io(new Mp)!=Tv||Ep&&io(new Ep)!=Ov)&&(io=function(t){var e=li(t),n=e==k_?t.constructor:void 0,r=n?ci(n):"";if(r)switch(r){case M_:return Lv;case E_:return Mv;case T_:return Ev;case O_:return Tv;case L_:return Ov}return e});var A_=1,Av="[object Arguments]",Pv="[object Array]",ul="[object Object]",P_=Object.prototype,Rv=P_.hasOwnProperty;function R_(t,e,n,r,o,i){var s=Wn(t),a=Wn(e),l=s?Pv:io(t),c=a?Pv:io(e);l=l==Av?ul:l,c=c==Av?ul:c;var u=l==ul,d=c==ul,p=l==c;if(p&&oc(t)){if(!oc(e))return!1;s=!0,u=!1}if(p&&!u)return i||(i=new Pr),s||ah(t)?w1(t,e,n,r,o,i):p_(t,e,l,n,r,o,i);if(!(n&A_)){var f=u&&Rv.call(t,"__wrapped__"),m=d&&Rv.call(e,"__wrapped__");if(f||m){var g=f?t.value():t,y=m?e.value():e;return i||(i=new Pr),o(g,y,n,r,i)}}return p?(i||(i=new Pr),S_(t,e,n,r,o,i)):!1}function dh(t,e,n,r,o){return t===e?!0:t==null||e==null||!Co(t)&&!Co(e)?t!==t&&e!==e:R_(t,e,n,r,dh,o)}var D_=1,I_=2;function $_(t,e,n,r){var o=n.length,i=o;if(t==null)return!i;for(t=Object(t);o--;){var s=n[o];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){s=n[o];var a=s[0],l=t[a],c=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var u=new Pr,d;if(!(d===void 0?dh(c,l,D_|I_,r,u):d))return!1}}return!0}function C1(t){return t===t&&!cr(t)}function N_(t){for(var e=ch(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,C1(o)]}return e}function S1(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function __(t){var e=N_(t);return e.length==1&&e[0][2]?S1(e[0][0],e[0][1]):function(n){return n===t||$_(n,t,e)}}var F_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B_=/^\w*$/;function ph(t,e){if(Wn(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||wu(t)?!0:B_.test(t)||!F_.test(t)||e!=null&&t in Object(e)}var j_="Expected a function";function fh(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(j_);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(fh.Cache||Zr),n}fh.Cache=Zr;var z_=500;function H_(t){var e=fh(t,function(r){return n.size===z_&&n.clear(),r}),n=e.cache;return e}var V_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W_=/\\(\\)?/g,U_=H_(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(V_,function(n,r,o,i){e.push(o?i.replace(W_,"$1"):r||n)}),e}),G_=1/0,Dv=wo?wo.prototype:void 0,Iv=Dv?Dv.toString:void 0;function k1(t){if(typeof t=="string")return t;if(Wn(t))return x1(t,k1)+"";if(wu(t))return Iv?Iv.call(t):"";var e=t+"";return e=="0"&&1/t==-G_?"-0":e}function K_(t){return t==null?"":k1(t)}function M1(t,e){return Wn(t)?t:ph(t,e)?[t]:U_(K_(t))}var q_=1/0;function ku(t){if(typeof t=="string"||wu(t))return t;var e=t+"";return e=="0"&&1/t==-q_?"-0":e}function E1(t,e){e=M1(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ku(e[n++])];return n&&n==r?t:void 0}function Y_(t,e,n){var r=t==null?void 0:E1(t,e);return r===void 0?n:r}function J_(t,e){return t!=null&&e in Object(t)}function Z_(t,e,n){e=M1(e,t);for(var r=-1,o=e.length,i=!1;++r<o;){var s=ku(e[r]);if(!(i=t!=null&&n(t,s)))break;t=t[s]}return i||++r!=o?i:(o=t==null?0:t.length,!!o&&sh(o)&&lh(s,o)&&(Wn(t)||rc(t)))}function X_(t,e){return t!=null&&Z_(t,e,J_)}var Q_=1,e3=2;function t3(t,e){return ph(t)&&C1(e)?S1(ku(t),e):function(n){var r=Y_(n,t);return r===void 0&&r===e?X_(n,t):dh(e,r,Q_|e3)}}function n3(t){return function(e){return e==null?void 0:e[t]}}function r3(t){return function(e){return E1(e,t)}}function o3(t){return ph(t)?n3(ku(t)):r3(t)}function i3(t){return typeof t=="function"?t:t==null?xu:typeof t=="object"?Wn(t)?t3(t[0],t[1]):__(t):o3(t)}function s3(t,e){var n=-1,r=bs(t)?Array(t.length):[];return g1(t,function(o,i,s){r[++n]=e(o,i,s)}),r}function pi(t,e){var n=Wn(t)?x1:s3;return n(t,i3(e))}var a3=function(e){var n=e.colors,r=e.onClick,o=e.onSwatchHover,i=We({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return O.createElement("div",{style:i.swatches},pi(n,function(s){return O.createElement(di,{key:s,color:s,style:i.swatch,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+s}})}),O.createElement("div",{style:i.clear}))},hh=function(e){var n=e.onChange,r=e.onSwatchHover,o=e.hex,i=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,d=u===void 0?"":u,p=o==="transparent",f=function(y,b){To(y)&&n({hex:y,source:"hex"},b)},m=We(Rn({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:o,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:uh(o),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+o+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return O.createElement("div",{style:m.card,className:"block-picker "+d},O.createElement("div",{style:m.triangle}),O.createElement("div",{style:m.head},p&&O.createElement(vs,{borderRadius:"6px 6px 0 0"}),O.createElement("div",{style:m.label},o)),O.createElement("div",{style:m.body},O.createElement(a3,{colors:i,onClick:f,onSwatchHover:r}),O.createElement(nt,{style:{input:m.input},value:o,onChange:f})))};hh.propTypes={width:Se.oneOfType([Se.string,Se.number]),colors:Se.arrayOf(Se.string),triangle:Se.oneOf(["top","hide"]),styles:Se.object};hh.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Dn(hh);var Ei={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Ti={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Oi={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Li={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Ai={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Pi={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Ri={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Di={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Ii={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Fs={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},$i={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Ni={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},_i={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Fi={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Bi={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ji={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},zi={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Hi={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},T1=function(e){var n=e.color,r=e.onClick,o=e.onSwatchHover,i=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,c=We({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:i,active:s});return O.createElement("div",{style:c.swatch},O.createElement(di,{style:c.Swatch,color:n,onClick:r,onHover:o,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};T1.defaultProps={circleSize:28,circleSpacing:14};const l3=th(T1);var mh=function(e){var n=e.width,r=e.onChange,o=e.onSwatchHover,i=e.colors,s=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,d=e.className,p=d===void 0?"":d,f=We(Rn({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),m=function(y,b){return r({hex:y,source:"hex"},b)};return O.createElement("div",{style:f.card,className:"circle-picker "+p},pi(i,function(g){return O.createElement(l3,{key:g,color:g,onClick:m,onSwatchHover:o,active:s===g.toLowerCase(),circleSize:a,circleSpacing:u})}))};mh.propTypes={width:Se.oneOfType([Se.string,Se.number]),circleSize:Se.number,circleSpacing:Se.number,styles:Se.object};mh.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ei[500],Ti[500],Oi[500],Li[500],Ai[500],Pi[500],Ri[500],Di[500],Ii[500],Fs[500],$i[500],Ni[500],_i[500],Fi[500],Bi[500],ji[500],zi[500],Hi[500]],styles:{}};Dn(mh);function $v(t){return t===void 0}var O1={};Object.defineProperty(O1,"__esModule",{value:!0});var Nv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c3=h,_v=u3(c3);function u3(t){return t&&t.__esModule?t:{default:t}}function d3(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var dl=24,p3=O1.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,o=r===void 0?dl:r,i=t.height,s=i===void 0?dl:i,a=t.style,l=a===void 0?{}:a,c=d3(t,["fill","width","height","style"]);return _v.default.createElement("svg",Nv({viewBox:"0 0 "+dl+" "+dl,style:Nv({fill:n,width:o,height:s},l)},c),_v.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},f3=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function h3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function g3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var L1=function(t){g3(e,t);function e(n){h3(this,e);var r=m3(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(o,i){o.hex?To(o.hex)&&r.props.onChange({hex:o.hex,source:"hex"},i):o.r||o.g||o.b?r.props.onChange({r:o.r||r.props.rgb.r,g:o.g||r.props.rgb.g,b:o.b||r.props.rgb.b,source:"rgb"},i):o.a?(o.a<0?o.a=0:o.a>1&&(o.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(o.a*100)/100,source:"rgb"},i)):(o.h||o.s||o.l)&&(typeof o.s=="string"&&o.s.includes("%")&&(o.s=o.s.replace("%","")),typeof o.l=="string"&&o.l.includes("%")&&(o.l=o.l.replace("%","")),o.s==1?o.s=.01:o.l==1&&(o.l=.01),r.props.onChange({h:o.h||r.props.hsl.h,s:Number($v(o.s)?r.props.hsl.s:o.s),l:Number($v(o.l)?r.props.hsl.l:o.l),source:"hsl"},i))},r.showHighlight=function(o){o.currentTarget.style.background="#eee"},r.hideHighlight=function(o){o.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return f3(e,[{key:"render",value:function(){var r=this,o=We({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),i=void 0;return this.state.view==="hex"?i=O.createElement("div",{style:o.fields,className:"flexbox-fix"},O.createElement("div",{style:o.field},O.createElement(nt,{style:{input:o.input,label:o.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?i=O.createElement("div",{style:o.fields,className:"flexbox-fix"},O.createElement("div",{style:o.field},O.createElement(nt,{style:{input:o.input,label:o.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),O.createElement("div",{style:o.field},O.createElement(nt,{style:{input:o.input,label:o.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),O.createElement("div",{style:o.field},O.createElement(nt,{style:{input:o.input,label:o.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),O.createElement("div",{style:o.alpha},O.createElement(nt,{style:{input:o.input,label:o.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(i=O.createElement("div",{style:o.fields,className:"flexbox-fix"},O.createElement("div",{style:o.field},O.createElement(nt,{style:{input:o.input,label:o.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),O.createElement("div",{style:o.field},O.createElement(nt,{style:{input:o.input,label:o.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),O.createElement("div",{style:o.field},O.createElement(nt,{style:{input:o.input,label:o.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),O.createElement("div",{style:o.alpha},O.createElement(nt,{style:{input:o.input,label:o.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),O.createElement("div",{style:o.wrap,className:"flexbox-fix"},i,O.createElement("div",{style:o.toggle},O.createElement("div",{style:o.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},O.createElement(p3,{style:o.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.hsl.a!==1&&o.view==="hex"?{view:"rgb"}:null}}]),e}(O.Component);L1.defaultProps={view:"hex"};var Fv=function(){var e=We({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return O.createElement("div",{style:e.picker})},v3=function(){var e=We({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return O.createElement("div",{style:e.picker})},gh=function(e){var n=e.width,r=e.onChange,o=e.disableAlpha,i=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,d=u===void 0?{}:u,p=e.className,f=p===void 0?"":p,m=e.defaultView,g=We(Rn({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:o});return O.createElement("div",{style:g.picker,className:"chrome-picker "+f},O.createElement("div",{style:g.saturation},O.createElement(Cu,{style:g.Saturation,hsl:s,hsv:a,pointer:v3,onChange:r})),O.createElement("div",{style:g.body},O.createElement("div",{style:g.controls,className:"flexbox-fix"},O.createElement("div",{style:g.color},O.createElement("div",{style:g.swatch},O.createElement("div",{style:g.active}),O.createElement(vs,{renderers:c}))),O.createElement("div",{style:g.toggles},O.createElement("div",{style:g.hue},O.createElement(ys,{style:g.Hue,hsl:s,pointer:Fv,onChange:r})),O.createElement("div",{style:g.alpha},O.createElement(nh,{style:g.Alpha,rgb:i,hsl:s,pointer:Fv,renderers:c,onChange:r})))),O.createElement(L1,{rgb:i,hsl:s,hex:l,view:m,onChange:r,disableAlpha:o})))};gh.propTypes={width:Se.oneOfType([Se.string,Se.number]),disableAlpha:Se.bool,styles:Se.object,defaultView:Se.oneOf(["hex","rgb","hsl"])};gh.defaultProps={width:225,disableAlpha:!1,styles:{}};Dn(gh);var y3=function(e){var n=e.color,r=e.onClick,o=r===void 0?function(){}:r,i=e.onSwatchHover,s=e.active,a=We({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:uh(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return O.createElement(di,{style:a.color,color:n,onClick:o,onHover:i,focusStyle:{boxShadow:"0 0 4px "+n}},O.createElement("div",{style:a.dot}))},b3=function(e){var n=e.hex,r=e.rgb,o=e.onChange,i=We({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,c){l.r||l.g||l.b?o({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):o({hex:l.hex,source:"hex"},c)};return O.createElement("div",{style:i.fields,className:"flexbox-fix"},O.createElement("div",{style:i.active}),O.createElement(nt,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:n,onChange:s}),O.createElement(nt,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:s}),O.createElement(nt,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:s}),O.createElement(nt,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:s}))},vh=function(e){var n=e.onChange,r=e.onSwatchHover,o=e.colors,i=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,d=We(Rn({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(m,g){m.hex?To(m.hex)&&n({hex:m.hex,source:"hex"},g):n(m,g)};return O.createElement(Va,{style:d.Compact,styles:l},O.createElement("div",{style:d.compact,className:"compact-picker "+u},O.createElement("div",null,pi(o,function(f){return O.createElement(y3,{key:f,color:f,active:f.toLowerCase()===i,onClick:p,onSwatchHover:r})}),O.createElement("div",{style:d.clear})),O.createElement(b3,{hex:i,rgb:s,onChange:p})))};vh.propTypes={colors:Se.arrayOf(Se.string),styles:Se.object};vh.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Dn(vh);var x3=function(e){var n=e.hover,r=e.color,o=e.onClick,i=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=We({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return O.createElement("div",{style:a.swatch},O.createElement(di,{color:r,onClick:o,onHover:i,focusStyle:s}))};const w3=th(x3);var yh=function(e){var n=e.width,r=e.colors,o=e.onChange,i=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,d=We(Rn({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),p=function(m,g){return o({hex:m,source:"hex"},g)};return O.createElement("div",{style:d.card,className:"github-picker "+u},O.createElement("div",{style:d.triangleShadow}),O.createElement("div",{style:d.triangle}),pi(r,function(f){return O.createElement(w3,{color:f,key:f,onClick:p,onSwatchHover:i})}))};yh.propTypes={width:Se.oneOfType([Se.string,Se.number]),colors:Se.arrayOf(Se.string),triangle:Se.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Se.object};yh.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Dn(yh);var C3=function(e){var n=e.direction,r=We({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return O.createElement("div",{style:r.picker})},S3=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bh=function(e){var n=e.width,r=e.height,o=e.onChange,i=e.hsl,s=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,d=u===void 0?"":u,p=We(Rn({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),f=function(g){return o({a:1,h:g.h,l:.5,s:1})};return O.createElement("div",{style:p.picker,className:"hue-picker "+d},O.createElement(ys,S3({},p.hue,{hsl:i,pointer:a,onChange:f,direction:s})))};bh.propTypes={styles:Se.object};bh.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:C3,styles:{}};Dn(bh);var k3=function(e){var n=e.onChange,r=e.hex,o=e.rgb,i=e.styles,s=i===void 0?{}:i,a=e.className,l=a===void 0?"":a,c=We(Rn({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),u=function(p,f){p.hex?To(p.hex)&&n({hex:p.hex,source:"hex"},f):(p.r||p.g||p.b)&&n({r:p.r||o.r,g:p.g||o.g,b:p.b||o.b,source:"rgb"},f)};return O.createElement(Va,{styles:s},O.createElement("div",{style:c.material,className:"material-picker "+l},O.createElement(nt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),O.createElement("div",{style:c.split,className:"flexbox-fix"},O.createElement("div",{style:c.third},O.createElement(nt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:o.r,onChange:u})),O.createElement("div",{style:c.third},O.createElement(nt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:o.g,onChange:u})),O.createElement("div",{style:c.third},O.createElement(nt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:o.b,onChange:u})))))};Dn(k3);var M3=function(e){var n=e.onChange,r=e.rgb,o=e.hsv,i=e.hex,s=We({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?To(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||o.h,s:c.s||o.s,v:c.v||o.v,source:"hsv"},u)};return O.createElement("div",{style:s.fields},O.createElement(nt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(o.h),onChange:a}),O.createElement(nt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(o.s*100),onChange:a}),O.createElement(nt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(o.v*100),onChange:a}),O.createElement("div",{style:s.divider}),O.createElement(nt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),O.createElement(nt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),O.createElement(nt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),O.createElement("div",{style:s.divider}),O.createElement(nt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:i.replace("#",""),onChange:a}),O.createElement("div",{style:s.fieldSymbols},O.createElement("div",{style:s.symbol},"°"),O.createElement("div",{style:s.symbol},"%"),O.createElement("div",{style:s.symbol},"%")))},E3=function(e){var n=e.hsl,r=We({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return O.createElement("div",{style:r.picker})},T3=function(){var e=We({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return O.createElement("div",{style:e.pointer},O.createElement("div",{style:e.left},O.createElement("div",{style:e.leftInside})),O.createElement("div",{style:e.right},O.createElement("div",{style:e.rightInside})))},Bv=function(e){var n=e.onClick,r=e.label,o=e.children,i=e.active,s=We({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return O.createElement("div",{style:s.button,onClick:n},r||o)},O3=function(e){var n=e.rgb,r=e.currentColor,o=We({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return O.createElement("div",null,O.createElement("div",{style:o.label},"new"),O.createElement("div",{style:o.swatches},O.createElement("div",{style:o.new}),O.createElement("div",{style:o.current})),O.createElement("div",{style:o.label},"current"))},L3=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function A3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function R3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xh=function(t){R3(e,t);function e(n){A3(this,e);var r=P3(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return L3(e,[{key:"render",value:function(){var r=this.props,o=r.styles,i=o===void 0?{}:o,s=r.className,a=s===void 0?"":s,l=We(Rn({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},i));return O.createElement("div",{style:l.picker,className:"photoshop-picker "+a},O.createElement("div",{style:l.head},this.props.header),O.createElement("div",{style:l.body,className:"flexbox-fix"},O.createElement("div",{style:l.saturation},O.createElement(Cu,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:E3,onChange:this.props.onChange})),O.createElement("div",{style:l.hue},O.createElement(ys,{direction:"vertical",hsl:this.props.hsl,pointer:T3,onChange:this.props.onChange})),O.createElement("div",{style:l.controls},O.createElement("div",{style:l.top,className:"flexbox-fix"},O.createElement("div",{style:l.previews},O.createElement(O3,{rgb:this.props.rgb,currentColor:this.state.currentColor})),O.createElement("div",{style:l.actions},O.createElement(Bv,{label:"OK",onClick:this.props.onAccept,active:!0}),O.createElement(Bv,{label:"Cancel",onClick:this.props.onCancel}),O.createElement(M3,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(O.Component);xh.propTypes={header:Se.string,styles:Se.object};xh.defaultProps={header:"Color Picker",styles:{}};Dn(xh);var D3=function(e){var n=e.onChange,r=e.rgb,o=e.hsl,i=e.hex,s=e.disableAlpha,a=We({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(u,d){u.hex?To(u.hex)&&n({hex:u.hex,source:"hex"},d):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},d):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:o.h,s:o.s,l:o.l,a:u.a,source:"rgb"},d))};return O.createElement("div",{style:a.fields,className:"flexbox-fix"},O.createElement("div",{style:a.double},O.createElement(nt,{style:{input:a.input,label:a.label},label:"hex",value:i.replace("#",""),onChange:l})),O.createElement("div",{style:a.single},O.createElement(nt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),O.createElement("div",{style:a.single},O.createElement(nt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),O.createElement("div",{style:a.single},O.createElement(nt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),O.createElement("div",{style:a.alpha},O.createElement(nt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},I3=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A1=function(e){var n=e.colors,r=e.onClick,o=r===void 0?function(){}:r,i=e.onSwatchHover,s=We({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,u){o({hex:c,source:"hex"},u)};return O.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return O.createElement("div",{key:u,style:s.swatchWrap},O.createElement(di,I3({},c,{style:s.swatch,onClick:a,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};A1.propTypes={colors:Se.arrayOf(Se.oneOfType([Se.string,Se.shape({color:Se.string,title:Se.string})])).isRequired};var $3=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wh=function(e){var n=e.width,r=e.rgb,o=e.hex,i=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,d=e.renderers,p=e.styles,f=p===void 0?{}:p,m=e.className,g=m===void 0?"":m,y=We(Rn({default:$3({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:c});return O.createElement("div",{style:y.picker,className:"sketch-picker "+g},O.createElement("div",{style:y.saturation},O.createElement(Cu,{style:y.Saturation,hsl:s,hsv:i,onChange:a})),O.createElement("div",{style:y.controls,className:"flexbox-fix"},O.createElement("div",{style:y.sliders},O.createElement("div",{style:y.hue},O.createElement(ys,{style:y.Hue,hsl:s,onChange:a})),O.createElement("div",{style:y.alpha},O.createElement(nh,{style:y.Alpha,rgb:r,hsl:s,renderers:d,onChange:a}))),O.createElement("div",{style:y.color},O.createElement(vs,null),O.createElement("div",{style:y.activeColor}))),O.createElement(D3,{rgb:r,hsl:s,hex:o,onChange:a,disableAlpha:c}),O.createElement(A1,{colors:u,onClick:a,onSwatchHover:l}))};wh.propTypes={disableAlpha:Se.bool,width:Se.oneOfType([Se.string,Se.number]),styles:Se.object};wh.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const N3=Dn(wh);var Ms=function(e){var n=e.hsl,r=e.offset,o=e.onClick,i=o===void 0?function(){}:o,s=e.active,a=e.first,l=e.last,c=We({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),u=function(p){return i({h:n.h,s:.5,l:r,source:"hsl"},p)};return O.createElement("div",{style:c.swatch,onClick:u})},_3=function(e){var n=e.onClick,r=e.hsl,o=We({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return O.createElement("div",{style:o.swatches},O.createElement("div",{style:o.swatch},O.createElement(Ms,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<i&&Math.abs(r.s-.5)<i,onClick:n,first:!0})),O.createElement("div",{style:o.swatch},O.createElement(Ms,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<i&&Math.abs(r.s-.5)<i,onClick:n})),O.createElement("div",{style:o.swatch},O.createElement(Ms,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<i&&Math.abs(r.s-.5)<i,onClick:n})),O.createElement("div",{style:o.swatch},O.createElement(Ms,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<i&&Math.abs(r.s-.5)<i,onClick:n})),O.createElement("div",{style:o.swatch},O.createElement(Ms,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<i&&Math.abs(r.s-.5)<i,onClick:n,last:!0})),O.createElement("div",{style:o.clear}))},F3=function(){var e=We({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return O.createElement("div",{style:e.picker})},Ch=function(e){var n=e.hsl,r=e.onChange,o=e.pointer,i=e.styles,s=i===void 0?{}:i,a=e.className,l=a===void 0?"":a,c=We(Rn({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return O.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},O.createElement("div",{style:c.hue},O.createElement(ys,{style:c.Hue,hsl:n,pointer:o,onChange:r})),O.createElement("div",{style:c.swatches},O.createElement(_3,{hsl:n,onClick:r})))};Ch.propTypes={styles:Se.object};Ch.defaultProps={pointer:F3,styles:{}};Dn(Ch);var P1={};Object.defineProperty(P1,"__esModule",{value:!0});var jv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B3=h,zv=j3(B3);function j3(t){return t&&t.__esModule?t:{default:t}}function z3(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var pl=24,H3=P1.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,o=r===void 0?pl:r,i=t.height,s=i===void 0?pl:i,a=t.style,l=a===void 0?{}:a,c=z3(t,["fill","width","height","style"]);return zv.default.createElement("svg",jv({viewBox:"0 0 "+pl+" "+pl,style:jv({fill:n,width:o,height:s},l)},c),zv.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},V3=function(e){var n=e.color,r=e.onClick,o=r===void 0?function(){}:r,i=e.onSwatchHover,s=e.first,a=e.last,l=e.active,c=We({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:uh(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return O.createElement(di,{color:n,style:c.color,onClick:o,onHover:i,focusStyle:{boxShadow:"0 0 4px "+n}},O.createElement("div",{style:c.check},O.createElement(H3,null)))},W3=function(e){var n=e.onClick,r=e.onSwatchHover,o=e.group,i=e.active,s=We({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return O.createElement("div",{style:s.group},pi(o,function(a,l){return O.createElement(V3,{key:a,color:a,active:a.toLowerCase()===i,first:l===0,last:l===o.length-1,onClick:n,onSwatchHover:r})}))},Sh=function(e){var n=e.width,r=e.height,o=e.onChange,i=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,d=u===void 0?"":u,p=We(Rn({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),f=function(g,y){return o({hex:g,source:"hex"},y)};return O.createElement("div",{style:p.picker,className:"swatches-picker "+d},O.createElement(Va,null,O.createElement("div",{style:p.overflow},O.createElement("div",{style:p.body},pi(s,function(m){return O.createElement(W3,{key:m.toString(),group:m,active:a,onClick:f,onSwatchHover:i})}),O.createElement("div",{style:p.clear})))))};Sh.propTypes={width:Se.oneOfType([Se.string,Se.number]),height:Se.oneOfType([Se.string,Se.number]),colors:Se.arrayOf(Se.arrayOf(Se.string)),styles:Se.object};Sh.defaultProps={width:320,height:240,colors:[[Ei[900],Ei[700],Ei[500],Ei[300],Ei[100]],[Ti[900],Ti[700],Ti[500],Ti[300],Ti[100]],[Oi[900],Oi[700],Oi[500],Oi[300],Oi[100]],[Li[900],Li[700],Li[500],Li[300],Li[100]],[Ai[900],Ai[700],Ai[500],Ai[300],Ai[100]],[Pi[900],Pi[700],Pi[500],Pi[300],Pi[100]],[Ri[900],Ri[700],Ri[500],Ri[300],Ri[100]],[Di[900],Di[700],Di[500],Di[300],Di[100]],[Ii[900],Ii[700],Ii[500],Ii[300],Ii[100]],["#194D33",Fs[700],Fs[500],Fs[300],Fs[100]],[$i[900],$i[700],$i[500],$i[300],$i[100]],[Ni[900],Ni[700],Ni[500],Ni[300],Ni[100]],[_i[900],_i[700],_i[500],_i[300],_i[100]],[Fi[900],Fi[700],Fi[500],Fi[300],Fi[100]],[Bi[900],Bi[700],Bi[500],Bi[300],Bi[100]],[ji[900],ji[700],ji[500],ji[300],ji[100]],[zi[900],zi[700],zi[500],zi[300],zi[100]],[Hi[900],Hi[700],Hi[500],Hi[300],Hi[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Dn(Sh);var kh=function(e){var n=e.onChange,r=e.onSwatchHover,o=e.hex,i=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,d=u===void 0?"":u,p=We(Rn({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),f=function(g,y){To(g)&&n({hex:g,source:"hex"},y)};return O.createElement("div",{style:p.card,className:"twitter-picker "+d},O.createElement("div",{style:p.triangleShadow}),O.createElement("div",{style:p.triangle}),O.createElement("div",{style:p.body},pi(i,function(m,g){return O.createElement(di,{key:g,color:m,hex:m,style:p.swatch,onClick:f,onHover:r,focusStyle:{boxShadow:"0 0 4px "+m}})}),O.createElement("div",{style:p.hash},"#"),O.createElement(nt,{label:null,style:{input:p.input},value:o.replace("#",""),onChange:f}),O.createElement("div",{style:p.clear})))};kh.propTypes={width:Se.oneOfType([Se.string,Se.number]),triangle:Se.oneOf(["hide","top-left","top-right"]),colors:Se.arrayOf(Se.string),styles:Se.object};kh.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Dn(kh);var Mh=function(e){var n=We({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return O.createElement("div",{style:n.picker})};Mh.propTypes={hsl:Se.shape({h:Se.number,s:Se.number,l:Se.number,a:Se.number})};Mh.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Eh=function(e){var n=We({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return O.createElement("div",{style:n.picker})};Eh.propTypes={hsl:Se.shape({h:Se.number,s:Se.number,l:Se.number,a:Se.number})};Eh.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var U3=function(e){var n=e.onChange,r=e.rgb,o=e.hsl,i=e.hex,s=e.hsv,a=function(f,m){if(f.hex)To(f.hex)&&n({hex:f.hex,source:"hex"},m);else if(f.rgb){var g=f.rgb.split(",");ld(f.rgb,"rgb")&&n({r:g[0],g:g[1],b:g[2],a:1,source:"rgb"},m)}else if(f.hsv){var y=f.hsv.split(",");ld(f.hsv,"hsv")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("°",""),y[1]==1?y[1]=.01:y[2]==1&&(y[2]=.01),n({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsv"},m))}else if(f.hsl){var b=f.hsl.split(",");ld(f.hsl,"hsl")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsl"},m))}},l=We({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.l*100)+"%",d=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return O.createElement("div",{style:l.wrap,className:"flexbox-fix"},O.createElement("div",{style:l.fields},O.createElement("div",{style:l.double},O.createElement(nt,{style:{input:l.input,label:l.label},label:"hex",value:i,onChange:a})),O.createElement("div",{style:l.column},O.createElement("div",{style:l.single},O.createElement(nt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),O.createElement("div",{style:l.single},O.createElement(nt,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),O.createElement("div",{style:l.single},O.createElement(nt,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},Th=function(e){var n=e.width,r=e.onChange,o=e.rgb,i=e.hsl,s=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,d=e.className,p=d===void 0?"":d,f=We(Rn({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+o.r+", "+o.g+", "+o.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return O.createElement("div",{style:f.picker,className:"google-picker "+p},O.createElement("div",{style:f.head},l),O.createElement("div",{style:f.swatch}),O.createElement("div",{style:f.saturation},O.createElement(Cu,{hsl:i,hsv:s,pointer:Mh,onChange:r})),O.createElement("div",{style:f.body},O.createElement("div",{style:f.controls,className:"flexbox-fix"},O.createElement("div",{style:f.hue},O.createElement(ys,{style:f.Hue,hsl:i,radius:"4px",pointer:Eh,onChange:r}))),O.createElement(U3,{rgb:o,hsl:i,hex:a,hsv:s,onChange:r})))};Th.propTypes={width:Se.oneOfType([Se.string,Se.number]),styles:Se.object,header:Se.string};Th.defaultProps={width:652,styles:{},header:"Color picker"};Dn(Th);const G3=t=>{let e=t.r.toString(16),n=t.g.toString(16),r=t.b.toString(16),o=Math.round(t.a*255).toString(16);return e.length===1&&(e="0"+e),n.length===1&&(n="0"+n),r.length===1&&(r="0"+r),o.length===1&&(o="0"+o),"#"+e+n+r+o},K3=t=>{const[e,n]=h.useState(null),{fieldDef:r,value:o,onChange:i,onBlur:s,disabled:a,skeleton:l,id:c}=t,[u,d]=h.useState(!1),[p,f]=h.useState(null),m=x=>{d(!u),n(x.currentTarget)},g=()=>{d(!1),n(null),s()},y=x=>{f(x),i(G3(x.rgb))},b=open?`${r.name}-popover`:void 0;return l?v.jsx(Xe,{variant:"rectangular",width:102,height:52}):v.jsxs(v.Fragment,{children:[v.jsx(KE,{disabled:a,color:(p==null?void 0:p.rgb)||o||{r:0,g:141,b:168,a:1},onClick:m,id:c}),!a&&v.jsx(qE,{id:b,open:u,anchorEl:e,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:v.jsx(N3,{color:o||_.newColors.realTeal[100],onChange:y})})]})},q3=h.memo(K3);function Tp(t,e){_e(2,arguments);var n=De(t),r=Lt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Y3(t,e){_e(2,arguments);var n=Lt(e);return Bf(t,n*1e3)}var J3=6e4;function Z3(t,e){_e(2,arguments);var n=Lt(e);return Bf(t,n*J3)}var X3=36e5;function Q3(t,e){_e(2,arguments);var n=Lt(e);return Bf(t,n*X3)}function eF(t,e){_e(2,arguments);var n=Lt(e),r=n*7;return Tp(t,r)}function $l(t,e){_e(2,arguments);var n=De(t),r=Lt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Hv(t,e){_e(2,arguments);var n=Lt(e);return $l(t,n*12)}function tF(t,e){_e(2,arguments);var n=De(t),r=De(e);return n.getFullYear()-r.getFullYear()}function na(t,e){_e(2,arguments);var n=De(t),r=De(e),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function nF(t,e){_e(2,arguments);var n=De(t),r=De(e),o=na(n,r),i=Math.abs(tF(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=na(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function rF(t,e){_e(2,arguments);var n=De(t),r=De(e),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function Op(t){_e(1,arguments);var e=De(t);return e.setHours(23,59,59,999),e}function Lp(t){_e(1,arguments);var e=De(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function oF(t){_e(1,arguments);var e=De(t);return Op(e).getTime()===Lp(e).getTime()}function R1(t,e){_e(2,arguments);var n=De(t),r=De(e),o=na(n,r),i=Math.abs(rF(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=na(n,r)===-o;oF(De(t))&&i===1&&na(t,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}var Vv={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},iF="trunc";function Wa(t){return t?Vv[t]:Vv[iF]}function sF(t,e,n){_e(2,arguments);var r=R1(t,e)/3;return Wa(void 0)(r)}var aF=864e5;function lF(t,e){_e(2,arguments);var n=is(t),r=is(e),o=n.getTime()-mp(n),i=r.getTime()-mp(r);return Math.round((o-i)/aF)}function Wv(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function D1(t,e){_e(2,arguments);var n=De(t),r=De(e),o=Wv(n,r),i=Math.abs(lF(n,r));n.setDate(n.getDate()-o*i);var s=+(Wv(n,r)===-o),a=o*(i-s);return a===0?0:a}function cF(t,e,n){_e(2,arguments);var r=D1(t,e)/7;return Wa(void 0)(r)}var Mu=6e4,Eu=36e5,uF=1e3;function Tu(t,e){return _e(2,arguments),De(t).getTime()-De(e).getTime()}function dF(t,e,n){_e(2,arguments);var r=Tu(t,e)/Eu;return Wa(void 0)(r)}function pF(t,e,n){_e(2,arguments);var r=Tu(t,e)/Mu;return Wa(void 0)(r)}function fF(t,e,n){_e(2,arguments);var r=Tu(t,e)/1e3;return Wa(void 0)(r)}function hF(t,e){var n;_e(1,arguments);var r=t||{},o=De(r.start),i=De(r.end),s=i.getTime();if(!(o.getTime()<=s))throw new RangeError("Invalid interval");var a=[],l=o;l.setHours(0,0,0,0);var c=Number((n=void 0)!==null&&n!==void 0?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)a.push(De(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return a}function ud(t,e){var n,r,o,i,s,a,l,c;_e(1,arguments);var u=fu(),d=Lt((n=(r=(o=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=De(t),f=p.getDay(),m=(f<d?-7:0)+6-(f-d);return p.setDate(p.getDate()+m),p.setHours(23,59,59,999),p}function dd(t){_e(1,arguments);var e=De(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function mF(t){_e(1,arguments);var e=De(t),n=e.getDate();return n}function gF(t){_e(1,arguments);var e=De(t),n=e.getDay();return n}function I1(t){_e(1,arguments);var e=De(t),n=e.getFullYear(),r=e.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function vF(t){_e(1,arguments);var e=De(t),n=e.getHours();return n}function yF(t){_e(1,arguments);var e=De(t),n=e.getMinutes();return n}function bF(t){_e(1,arguments);var e=De(t),n=e.getMonth();return n}function xF(t){_e(1,arguments);var e=De(t),n=e.getSeconds();return n}function wF(t){return _e(1,arguments),De(t).getFullYear()}function fl(t,e){_e(2,arguments);var n=De(t),r=De(e);return n.getTime()>r.getTime()}function xi(t,e){_e(2,arguments);var n=De(t),r=De(e);return n.getTime()<r.getTime()}function CF(t,e){_e(2,arguments);var n=De(t),r=De(e);return n.getTime()===r.getTime()}function SF(t,e){_e(2,arguments);var n=De(t),r=De(e);return n.getFullYear()===r.getFullYear()}function kF(t,e){_e(2,arguments);var n=De(t),r=De(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Uv(t){_e(1,arguments);var e=De(t);return e.setMinutes(0,0,0),e}function MF(t,e){_e(2,arguments);var n=Uv(t),r=Uv(e);return n.getTime()===r.getTime()}function Gv(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=uT(t))||e){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,i=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw i}}}}function EF(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function $1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($1=function(){return!!t})()}function at(t){var e=$1();return function(){var n,r=Ag(t);if(e){var o=Ag(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dT(this,n)}}var TF=10,N1=function(){function t(){rt(this,t),Le(this,"priority",void 0),Le(this,"subPriority",0)}return ot(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),OF=function(t){st(n,t);var e=at(n);function n(r,o,i,s,a){var l;return rt(this,n),l=e.call(this),l.value=r,l.validateValue=o,l.setValue=i,l.priority=s,a&&(l.subPriority=a),l}return ot(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(N1),LF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",TF),Le(Re(r),"subPriority",-1),r}return ot(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(N1),dt=function(){function t(){rt(this,t),Le(this,"incompatibleTokens",void 0),Le(this,"priority",void 0),Le(this,"subPriority",void 0)}return ot(t,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new OF(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),t}(),AF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",140),Le(Re(r),"incompatibleTokens",["R","u","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(dt),Nt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Or={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function _t(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ot(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Lr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*Eu+i*Mu+s*uF),rest:e.slice(n[0].length)}}function _1(t){return Ot(Nt.anyDigitsSigned,t)}function Dt(t,e){switch(t){case 1:return Ot(Nt.singleDigit,e);case 2:return Ot(Nt.twoDigits,e);case 3:return Ot(Nt.threeDigits,e);case 4:return Ot(Nt.fourDigits,e);default:return Ot(new RegExp("^\\d{1,"+t+"}"),e)}}function ac(t,e){switch(t){case 1:return Ot(Nt.singleDigitSigned,e);case 2:return Ot(Nt.twoDigitsSigned,e);case 3:return Ot(Nt.threeDigitsSigned,e);case 4:return Ot(Nt.fourDigitsSigned,e);default:return Ot(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Oh(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function F1(t,e){var n=e>0,r=n?e:1-e,o;if(r<=50)o=t||100;else{var i=r+50,s=Math.floor(i/100)*100,a=t>=i%100;o=t+s-(a?100:0)}return n?o:1-o}function B1(t){return t%400===0||t%4===0&&t%100!==0}var PF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",130),Le(Re(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){var a=function(c){return{year:c,isTwoDigitYear:i==="yy"}};switch(i){case"y":return _t(Dt(4,o),a);case"yo":return _t(s.ordinalNumber(o,{unit:"year"}),a);default:return _t(Dt(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var l=F1(s.year,a);return o.setUTCFullYear(l,0,1),o.setUTCHours(0,0,0,0),o}var c=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(dt),RF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",130),Le(Re(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){var a=function(c){return{year:c,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return _t(Dt(4,o),a);case"Yo":return _t(s.ordinalNumber(o,{unit:"year"}),a);default:return _t(Dt(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var l=YE(o,a);if(s.isTwoDigitYear){var c=F1(s.year,l);return o.setUTCFullYear(c,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),gp(o,a)}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),gp(o,a)}}]),n}(dt),DF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",130),Le(Re(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i){return ac(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Px(a)}}]),n}(dt),IF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",130),Le(Re(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i){return ac(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(dt),$F=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",120),Le(Re(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Dt(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(dt),NF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",120),Le(Re(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Dt(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(dt),_F=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Le(Re(r),"priority",110),r}return ot(n,[{key:"parse",value:function(o,i,s){var a=function(c){return c-1};switch(i){case"M":return _t(Ot(Nt.month,o),a);case"MM":return _t(Dt(2,o),a);case"Mo":return _t(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(dt),FF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",110),Le(Re(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){var a=function(c){return c-1};switch(i){case"L":return _t(Ot(Nt.month,o),a);case"LL":return _t(Dt(2,o),a);case"Lo":return _t(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(dt);function BF(t,e,n){_e(2,arguments);var r=De(t),o=Lt(e),i=JE(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var jF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",100),Le(Re(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Ot(Nt.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Dt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return gp(BF(o,s,a),a)}}]),n}(dt);function zF(t,e){_e(2,arguments);var n=De(t),r=Lt(e),o=ZE(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var HF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",100),Le(Re(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Ot(Nt.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Dt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return Px(zF(o,s))}}]),n}(dt),VF=[31,28,31,30,31,30,31,31,30,31,30,31],WF=[31,29,31,30,31,30,31,31,30,31,30,31],UF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",90),Le(Re(r),"subPriority",1),Le(Re(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Ot(Nt.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Dt(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=B1(s),l=o.getUTCMonth();return a?i>=1&&i<=WF[l]:i>=1&&i<=VF[l]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(dt),GF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",90),Le(Re(r),"subpriority",1),Le(Re(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Ot(Nt.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Dt(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=B1(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(dt);function Lh(t,e,n){var r,o,i,s,a,l,c,u;_e(2,arguments);var d=fu(),p=Lt((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&o!==void 0?o:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=De(t),m=Lt(e),g=f.getUTCDay(),y=m%7,b=(y+7)%7,x=(b<p?7:0)+m-g;return f.setUTCDate(f.getUTCDate()+x),f}var KF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",90),Le(Re(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=Lh(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(dt),qF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",90),Le(Re(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s,a){var l=function(u){var d=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+d};switch(i){case"e":case"ee":return _t(Dt(i.length,o),l);case"eo":return _t(s.ordinalNumber(o,{unit:"day"}),l);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=Lh(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(dt),YF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",90),Le(Re(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s,a){var l=function(u){var d=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+d};switch(i){case"c":case"cc":return _t(Dt(i.length,o),l);case"co":return _t(s.ordinalNumber(o,{unit:"day"}),l);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=Lh(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(dt);function JF(t,e){_e(2,arguments);var n=Lt(e);n%7===0&&(n=n-7);var r=1,o=De(t),i=o.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+l),o}var ZF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",90),Le(Re(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){var a=function(c){return c===0?7:c};switch(i){case"i":case"ii":return Dt(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return _t(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return _t(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return _t(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return _t(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=JF(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(dt),XF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",80),Le(Re(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(Oh(s),0,0,0),o}}]),n}(dt),QF=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",80),Le(Re(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(Oh(s),0,0,0),o}}]),n}(dt),eB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",80),Le(Re(r),"incompatibleTokens",["a","b","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(Oh(s),0,0,0),o}}]),n}(dt),tB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",70),Le(Re(r),"incompatibleTokens",["H","K","k","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Ot(Nt.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Dt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(dt),nB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",70),Le(Re(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Ot(Nt.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Dt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(dt),rB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",70),Le(Re(r),"incompatibleTokens",["h","H","k","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Ot(Nt.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Dt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(dt),oB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",70),Le(Re(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Ot(Nt.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Dt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(dt),iB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",60),Le(Re(r),"incompatibleTokens",["t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Ot(Nt.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Dt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(dt),sB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",50),Le(Re(r),"incompatibleTokens",["t","T"]),r}return ot(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Ot(Nt.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Dt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(dt),aB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",30),Le(Re(r),"incompatibleTokens",["t","T"]),r}return ot(n,[{key:"parse",value:function(o,i){var s=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return _t(Dt(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(dt),lB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",10),Le(Re(r),"incompatibleTokens",["t","T","x"]),r}return ot(n,[{key:"parse",value:function(o,i){switch(i){case"X":return Lr(Or.basicOptionalMinutes,o);case"XX":return Lr(Or.basic,o);case"XXXX":return Lr(Or.basicOptionalSeconds,o);case"XXXXX":return Lr(Or.extendedOptionalSeconds,o);case"XXX":default:return Lr(Or.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(dt),cB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",10),Le(Re(r),"incompatibleTokens",["t","T","X"]),r}return ot(n,[{key:"parse",value:function(o,i){switch(i){case"x":return Lr(Or.basicOptionalMinutes,o);case"xx":return Lr(Or.basic,o);case"xxxx":return Lr(Or.basicOptionalSeconds,o);case"xxxxx":return Lr(Or.extendedOptionalSeconds,o);case"xxx":default:return Lr(Or.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(dt),uB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",40),Le(Re(r),"incompatibleTokens","*"),r}return ot(n,[{key:"parse",value:function(o){return _1(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(dt),dB=function(t){st(n,t);var e=at(n);function n(){var r;rt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Le(Re(r),"priority",20),Le(Re(r),"incompatibleTokens","*"),r}return ot(n,[{key:"parse",value:function(o){return _1(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(dt),pB={G:new AF,y:new PF,Y:new RF,R:new DF,u:new IF,Q:new $F,q:new NF,M:new _F,L:new FF,w:new jF,I:new HF,d:new UF,D:new GF,E:new KF,e:new qF,c:new YF,i:new ZF,a:new XF,b:new QF,B:new eB,h:new tB,H:new nB,K:new rB,k:new oB,m:new iB,s:new sB,S:new aB,X:new lB,x:new cB,t:new uB,T:new dB},fB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mB=/^'([^]*?)'?$/,gB=/''/g,vB=/\S/,yB=/[a-zA-Z]/;function j1(t,e,n,r){var o,i,s,a,l,c,u,d,p,f,m,g,y,b,x,C,E,k;_e(3,arguments);var w=String(t),M=String(e),T=fu(),D=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:T.locale)!==null&&o!==void 0?o:Rx;if(!D.match)throw new RangeError("locale must contain match property");var P=Lt((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&a!==void 0?a:(p=T.locale)===null||p===void 0||(f=p.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=Lt((m=(g=(y=(b=r==null?void 0:r.weekStartsOn)!==null&&b!==void 0?b:r==null||(x=r.locale)===null||x===void 0||(C=x.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&y!==void 0?y:T.weekStartsOn)!==null&&g!==void 0?g:(E=T.locale)===null||E===void 0||(k=E.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&m!==void 0?m:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(M==="")return w===""?De(n):new Date(NaN);var N={firstWeekContainsDate:P,weekStartsOn:U,locale:D},q=[new LF],R=M.match(hB).map(function(H){var V=H[0];if(V in Og){var fe=Og[V];return fe(H,D.formatLong)}return H}).join("").match(fB),B=[],z=Gv(R),I;try{var oe=function(){var V=I.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&XE(V)&&Lg(V,M,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&QE(V)&&Lg(V,M,t);var fe=V[0],pe=pB[fe];if(pe){var he=pe.incompatibleTokens;if(Array.isArray(he)){var ke=B.find(function($){return he.includes($.token)||$.token===fe});if(ke)throw new RangeError("The format string mustn't contain `".concat(ke.fullToken,"` and `").concat(V,"` at the same time"))}else if(pe.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(V,"` and any other token at the same time"));B.push({token:fe,fullToken:V});var Te=pe.run(w,V,D.match,N);if(!Te)return{v:new Date(NaN)};q.push(Te.setter),w=Te.rest}else{if(fe.match(yB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+fe+"`");if(V==="''"?V="'":fe==="'"&&(V=bB(V)),w.indexOf(V)===0)w=w.slice(V.length);else return{v:new Date(NaN)}}};for(z.s();!(I=z.n()).done;){var me=oe();if(pT(me)==="object")return me.v}}catch(H){z.e(H)}finally{z.f()}if(w.length>0&&vB.test(w))return new Date(NaN);var te=q.map(function(H){return H.priority}).sort(function(H,V){return V-H}).filter(function(H,V,fe){return fe.indexOf(H)===V}).map(function(H){return q.filter(function(V){return V.priority===H}).sort(function(V,fe){return fe.subPriority-V.subPriority})}).map(function(H){return H[0]}),G=De(n);if(isNaN(G.getTime()))return new Date(NaN);var X=eT(G,mp(G)),ie={},Y=Gv(te),S;try{for(Y.s();!(S=Y.n()).done;){var A=S.value;if(!A.validate(X,N))return new Date(NaN);var j=A.set(X,ie,N);Array.isArray(j)?(X=j[0],EF(ie,j[1])):X=j}}catch(H){Y.e(H)}finally{Y.f()}return X}function bB(t){return t.match(mB)[1].replace(gB,"'")}function xB(t,e){_e(2,arguments);var n=De(t),r=Lt(e);return n.setDate(r),n}function wB(t,e){_e(2,arguments);var n=De(t),r=Lt(e);return n.setHours(r),n}function CB(t,e){_e(2,arguments);var n=De(t),r=Lt(e);return n.setMinutes(r),n}function SB(t,e){_e(2,arguments);var n=De(t),r=Lt(e),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=I1(s);return n.setMonth(r,Math.min(i,a)),n}function kB(t,e){_e(2,arguments);var n=De(t),r=Lt(e);return n.setSeconds(r),n}function MB(t,e){_e(2,arguments);var n=De(t),r=Lt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function hl(t){_e(1,arguments);var e=De(t);return e.setDate(1),e.setHours(0,0,0,0),e}function pd(t,e){var n,r,o,i,s,a,l,c;_e(1,arguments);var u=fu(),d=Lt((n=(r=(o=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=De(t),f=p.getDay(),m=(f<d?7:0)+f-d;return p.setDate(p.getDate()-m),p.setHours(0,0,0,0),p}function ml(t){_e(1,arguments);var e=De(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function EB(t,e){var n;_e(1,arguments);var r=Lt((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var o=AB(t),i;if(o.date){var s=PB(o.date,r);i=RB(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),l=0,c;if(o.time&&(l=DB(o.time),isNaN(l)))return new Date(NaN);if(o.timezone){if(c=IB(o.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+l+c)}var gl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},TB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,OB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,LB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function AB(t){var e={},n=t.split(gl.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],gl.timeZoneDelimiter.test(e.date)&&(e.date=t.split(gl.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var o=gl.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function PB(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function RB(t,e){if(e===null)return new Date(NaN);var n=t.match(TB);if(!n)return new Date(NaN);var r=!!n[4],o=Es(n[1]),i=Es(n[2])-1,s=Es(n[3]),a=Es(n[4]),l=Es(n[5])-1;if(r)return BB(e,a,l)?$B(e,a,l):new Date(NaN);var c=new Date(0);return!_B(e,i,s)||!FB(e,o)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(o,s)),c)}function Es(t){return t?parseInt(t):1}function DB(t){var e=t.match(OB);if(!e)return NaN;var n=fd(e[1]),r=fd(e[2]),o=fd(e[3]);return jB(n,r,o)?n*Eu+r*Mu+o*1e3:NaN}function fd(t){return t&&parseFloat(t.replace(",","."))||0}function IB(t){if(t==="Z")return 0;var e=t.match(LB);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return zB(r,o)?n*(r*Eu+o*Mu):NaN}function $B(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var o=r.getUTCDay()||7,i=(e-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var NB=[31,null,31,30,31,30,31,31,30,31,30,31];function z1(t){return t%400===0||t%4===0&&t%100!==0}function _B(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(NB[e]||(z1(t)?29:28))}function FB(t,e){return e>=1&&e<=(z1(t)?366:365)}function BB(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function jB(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function zB(t,e){return e>=0&&e<=59}function HB(t,e){var n,r;_e(1,arguments);var o=De(t);if(isNaN(o.getTime()))throw new RangeError("Invalid time value");var i=String((n=e==null?void 0:e.format)!==null&&n!==void 0?n:"extended"),s=String((r=e==null?void 0:e.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(s!=="date"&&s!=="time"&&s!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",c=i==="extended"?"-":"",u=i==="extended"?":":"";if(s!=="time"){var d=to(o.getDate(),2),p=to(o.getMonth()+1,2),f=to(o.getFullYear(),4);a="".concat(f).concat(c).concat(p).concat(c).concat(d)}if(s!=="date"){var m=o.getTimezoneOffset();if(m!==0){var g=Math.abs(m),y=to(Math.floor(g/60),2),b=to(g%60,2),x=m<0?"+":"-";l="".concat(x).concat(y,":").concat(b)}else l="Z";var C=to(o.getHours(),2),E=to(o.getMinutes(),2),k=to(o.getSeconds(),2),w=a===""?"":"T",M=[C,E,k].join(u);a="".concat(a).concat(w).concat(M).concat(l)}return a}function VB(t,e){_e(2,arguments);var n=De(t).getTime(),r=De(e.start).getTime(),o=De(e.end).getTime();if(!(r<=o))throw new RangeError("Invalid interval");return n>=r&&n<=o}var Ap={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(l,c){switch(l){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},r=function(l,c){switch(l){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},o=function(l,c){var u=l.match(/(P+)(p+)?/)||[],d=u[1],p=u[2];if(!p)return n(l,c);var f;switch(d){case"P":f=c.dateTime({width:"short"});break;case"PP":f=c.dateTime({width:"medium"});break;case"PPP":f=c.dateTime({width:"long"});break;case"PPPP":default:f=c.dateTime({width:"full"});break}return f.replace("{{date}}",n(d,c)).replace("{{time}}",r(p,c))},i={p:r,P:o},s=i;e.default=s,t.exports=e.default})(Ap,Ap.exports);var WB=Ap.exports;const UB=Pa(WB),GB={dayOfMonth:"d",fullDate:"PP",fullDateWithWeekday:"PPPP",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aaa",fullDateTime24h:"PP HH:mm",fullTime:"p",fullTime12h:"hh:mm aaa",fullTime24h:"HH:mm",hours12h:"hh",hours24h:"HH",keyboardDate:"P",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aaa",keyboardDateTime24h:"P HH:mm",minutes:"mm",month:"LLLL",monthAndDate:"MMMM d",monthAndYear:"LLLL yyyy",monthShort:"MMM",weekday:"EEEE",weekdayShort:"EEE",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",seconds:"ss",shortDate:"MMM d",year:"yyyy"};class H1{constructor({locale:e,formats:n}={}){this.lib="date-fns",this.is12HourCycleInCurrentLocale=()=>{var r;return this.locale?/a/.test((r=this.locale.formatLong)===null||r===void 0?void 0:r.time()):!0},this.getFormatHelperText=r=>{var o,i;const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a=this.locale||Rx;return(i=(o=r.match(s))===null||o===void 0?void 0:o.map(l=>{const c=l[0];if(c==="p"||c==="P"){const u=UB[c];return u(l,a.formatLong,{})}return l}).join("").replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase())!==null&&i!==void 0?i:r},this.parseISO=r=>EB(r),this.toISO=r=>HB(r,{format:"extended"}),this.getCurrentLocaleCode=()=>{var r;return((r=this.locale)===null||r===void 0?void 0:r.code)||"en-US"},this.addSeconds=(r,o)=>Y3(r,o),this.addMinutes=(r,o)=>Z3(r,o),this.addHours=(r,o)=>Q3(r,o),this.addDays=(r,o)=>Tp(r,o),this.addWeeks=(r,o)=>eF(r,o),this.addMonths=(r,o)=>$l(r,o),this.addYears=(r,o)=>Hv(r,o),this.isValid=r=>Dx(this.date(r)),this.getDiff=(r,o,i)=>{var s;const a=(s=this.date(o))!==null&&s!==void 0?s:r;if(!this.isValid(a))return 0;switch(i){case"years":return nF(r,a);case"quarters":return sF(r,a);case"months":return R1(r,a);case"weeks":return cF(r,a);case"days":return D1(r,a);case"hours":return dF(r,a);case"minutes":return pF(r,a);case"seconds":return fF(r,a);default:return Tu(r,a)}},this.isAfter=(r,o)=>fl(r,o),this.isBefore=(r,o)=>xi(r,o),this.startOfDay=r=>is(r),this.endOfDay=r=>Op(r),this.getHours=r=>vF(r),this.setHours=(r,o)=>wB(r,o),this.setMinutes=(r,o)=>CB(r,o),this.getSeconds=r=>xF(r),this.setSeconds=(r,o)=>kB(r,o),this.isSameDay=(r,o)=>UT(r,o),this.isSameMonth=(r,o)=>kF(r,o),this.isSameYear=(r,o)=>SF(r,o),this.isSameHour=(r,o)=>MF(r,o),this.startOfYear=r=>ml(r),this.endOfYear=r=>dd(r),this.startOfMonth=r=>hl(r),this.endOfMonth=r=>Lp(r),this.startOfWeek=r=>pd(r,{locale:this.locale}),this.endOfWeek=r=>ud(r,{locale:this.locale}),this.getYear=r=>wF(r),this.setYear=(r,o)=>MB(r,o),this.date=r=>typeof r>"u"?new Date:r===null?null:new Date(r),this.toJsDate=r=>r,this.parse=(r,o)=>r===""?null:j1(r,o,new Date,{locale:this.locale}),this.format=(r,o)=>this.formatByString(r,this.formats[o]),this.formatByString=(r,o)=>qi(r,o,{locale:this.locale}),this.isEqual=(r,o)=>r===null&&o===null?!0:CF(r,o),this.isNull=r=>r===null,this.isAfterDay=(r,o)=>fl(r,Op(o)),this.isBeforeDay=(r,o)=>xi(r,is(o)),this.isBeforeYear=(r,o)=>xi(r,ml(o)),this.isAfterYear=(r,o)=>fl(r,dd(o)),this.isWithinRange=(r,[o,i])=>VB(r,{start:o,end:i}),this.formatNumber=r=>r,this.getMinutes=r=>yF(r),this.getDate=r=>mF(r),this.setDate=(r,o)=>xB(r,o),this.getMonth=r=>bF(r),this.getDaysInMonth=r=>I1(r),this.setMonth=(r,o)=>SB(r,o),this.getMeridiemText=r=>r==="am"?"AM":"PM",this.getNextMonth=r=>$l(r,1),this.getPreviousMonth=r=>$l(r,-1),this.getMonthArray=r=>{const i=[ml(r)];for(;i.length<12;){const s=i[i.length-1];i.push(this.getNextMonth(s))}return i},this.mergeDateAndTime=(r,o)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(o)),this.getMinutes(o)),this.getSeconds(o)),this.getWeekdays=()=>{const r=new Date;return hF({start:pd(r,{locale:this.locale}),end:ud(r,{locale:this.locale})}).map(o=>this.formatByString(o,"EEEEEE"))},this.getWeekArray=r=>{const o=pd(hl(r),{locale:this.locale}),i=ud(Lp(r),{locale:this.locale});let s=0,a=o;const l=[];let c=null;for(;xi(a,i);){const u=Math.floor(s/7);l[u]=l[u]||[];const d=gF(a);c!==d&&(c=d,l[u].push(a),s+=1),a=Tp(a,1)}return l},this.getYearRange=(r,o)=>{const i=ml(r),s=dd(o),a=[];let l=i;for(;xi(l,s);)a.push(l),l=Hv(l,1);return a},this.locale=e,this.formats=Object.assign({},GB,n)}isBeforeMonth(e,n){return xi(e,hl(n))}isAfterMonth(e,n){return fl(e,hl(n))}}const KB=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:J({},t)}}}}),V1={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",clockLabelText:(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,openDatePickerDialogue:(t,e)=>t&&e.isValid(e.date(t))?`Choose date, selected date is ${e.format(e.date(t),"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t&&e.isValid(e.date(t))?`Choose time, selected time is ${e.format(e.date(t),"fullTime")}`:"Choose time",timeTableLabel:"pick time",dateTableLabel:"pick date"},qB=V1;KB(V1);const W1=h.createContext(null);function U1(t){const e=Yr({props:t,name:"MuiLocalizationProvider"}),{children:n,dateAdapter:r,dateFormats:o,dateLibInstance:i,locale:s,adapterLocale:a,localeText:l}=e,c=h.useMemo(()=>new r({locale:a??s,formats:o,instance:i}),[r,s,a,o,i]),u=h.useMemo(()=>({minDate:c.date("1900-01-01T00:00:00.000"),maxDate:c.date("2099-12-31T00:00:00.000")}),[c]),d=h.useMemo(()=>({utils:c,defaultDates:u,localeText:J({},qB,l??{})}),[u,c,l]);return v.jsx(W1.Provider,{value:d,children:n})}const Ua=()=>{const t=h.useContext(W1);if(t===null)throw new Error("MUI: Can not find utils in context. It looks like you forgot to wrap your component in LocalizationProvider, or pass dateAdapter prop directly.");return t},Bt=()=>Ua().utils,Ou=()=>Ua().defaultDates,xs=()=>Ua().localeText,Ga=()=>{const t=Bt();return h.useRef(t.date()).current},hd=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:o,isDateDisabled:i,utils:s})=>{const a=s.startOfDay(s.date());n&&s.isBefore(o,a)&&(o=a),e&&s.isAfter(r,a)&&(r=a);let l=t,c=t;for(s.isBefore(t,o)&&(l=s.date(o),c=null),s.isAfter(t,r)&&(c&&(c=s.date(r)),l=null);l||c;){if(l&&s.isAfter(l,r)&&(l=null),c&&s.isBefore(c,o)&&(c=null),l){if(!i(l))return l;l=s.addDays(l,1)}if(c){if(!i(c))return c;c=s.addDays(c,-1)}}return null},G1=(t,e)=>{const n=t.date(e);return t.isValid(n)?n:null},K1=t=>t.length===1&&t[0]==="year",q1=t=>t.length===2&&t.indexOf("month")!==-1&&t.indexOf("year")!==-1,YB=(t,e)=>K1(t)?{inputFormat:e.formats.year}:q1(t)?{disableMaskedInput:!0,inputFormat:e.formats.monthAndYear}:{inputFormat:e.formats.keyboardDate};function JB(t,e){var n;const r=Bt(),o=Ou(),i=Yr({props:t,name:e}),s=(n=i.views)!=null?n:["year","day"];return J({openTo:"day",minDate:o.minDate,maxDate:o.maxDate},YB(s,r),i,{views:s})}const ZB={emptyValue:null,getTodayValue:t=>t.date(),parseInput:G1,areValuesEqual:(t,e,n)=>t.isEqual(e,n)};function XB(t){return En("MuiCollapse",t)}At("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const QB=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],ej=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Tn(r,XB,n)},tj=Ee("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>J({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&J({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),nj=Ee("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>J({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),rj=Ee("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>J({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),Y1=h.forwardRef(function(e,n){const r=ii({props:e,name:"MuiCollapse"}),{addEndListener:o,children:i,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:y,orientation:b="vertical",style:x,timeout:C=kE.standard,TransitionComponent:E=Ox}=r,k=tt(r,QB),w=J({},r,{orientation:b,collapsedSize:a}),M=ej(w),T=ms(),D=BE(),P=h.useRef(null),U=h.useRef(),N=typeof a=="number"?`${a}px`:a,q=b==="horizontal",R=q?"width":"height",B=h.useRef(null),z=Ur(n,B),I=A=>j=>{if(A){const H=B.current;j===void 0?A(H):A(H,j)}},oe=()=>P.current?P.current[q?"clientWidth":"clientHeight"]:0,me=I((A,j)=>{P.current&&q&&(P.current.style.position="absolute"),A.style[R]=N,d&&d(A,j)}),te=I((A,j)=>{const H=oe();P.current&&q&&(P.current.style.position="");const{duration:V,easing:fe}=Tg({style:x,timeout:C,easing:c},{mode:"enter"});if(C==="auto"){const pe=T.transitions.getAutoHeightDuration(H);A.style.transitionDuration=`${pe}ms`,U.current=pe}else A.style.transitionDuration=typeof V=="string"?V:`${V}ms`;A.style[R]=`${H}px`,A.style.transitionTimingFunction=fe,f&&f(A,j)}),G=I((A,j)=>{A.style[R]="auto",p&&p(A,j)}),X=I(A=>{A.style[R]=`${oe()}px`,m&&m(A)}),ie=I(g),Y=I(A=>{const j=oe(),{duration:H,easing:V}=Tg({style:x,timeout:C,easing:c},{mode:"exit"});if(C==="auto"){const fe=T.transitions.getAutoHeightDuration(j);A.style.transitionDuration=`${fe}ms`,U.current=fe}else A.style.transitionDuration=typeof H=="string"?H:`${H}ms`;A.style[R]=N,A.style.transitionTimingFunction=V,y&&y(A)}),S=A=>{C==="auto"&&D.start(U.current||0,A),o&&o(B.current,A)};return v.jsx(E,J({in:u,onEnter:me,onEntered:G,onEntering:te,onExit:X,onExited:ie,onExiting:Y,addEndListener:S,nodeRef:B,timeout:C==="auto"?null:C},k,{children:(A,j)=>v.jsx(tj,J({as:l,className:Hn(M.root,s,{entered:M.entered,exited:!u&&N==="0px"&&M.hidden}[A]),style:J({[q?"minWidth":"minHeight"]:N},x),ref:z},j,{ownerState:J({},w,{state:A}),children:v.jsx(nj,{ownerState:J({},w,{state:A}),className:M.wrapper,ref:P,children:v.jsx(rj,{ownerState:J({},w,{state:A}),className:M.wrapperInner,children:i})})}))}))});Y1.muiSupportAuto=!0;const J1=h.createContext({}),oj=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],ij=["component","slots","slotProps"],sj=["component"];function aj(t,e){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:s,internalForwardedProps:a}=e,l=tt(e,oj),{component:c,slots:u={[t]:void 0},slotProps:d={[t]:void 0}}=i;tt(i,ij);const p=u[t]||r,f=DE(d[t],o),m=IE(J({className:n},l,{externalForwardedProps:void 0,externalSlotProps:f})),{props:{component:g},internalRef:y}=m,b=tt(m.props,sj),x=Ur(y,f==null?void 0:f.ref,e.ref),C=s?s(b):{},E=J({},o,C),k=g,w=$E(p,J({},t==="root",!u[t]&&a,b,k&&{as:k},{ref:x}),E);return Object.keys(C).forEach(M=>{delete w[M]}),[p,w]}function lj(t){return En("MuiAccordion",t)}const vl=At("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),cj=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],uj=t=>{const{classes:e,square:n,expanded:r,disabled:o,disableGutters:i}=t;return Tn({root:["root",!n&&"rounded",r&&"expanded",o&&"disabled",!i&&"gutters"],region:["region"]},lj,e)},dj=Ee($a,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${vl.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${vl.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${vl.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${vl.expanded}`]:{margin:"16px 0"}}}]})),pj=h.forwardRef(function(e,n){const r=ii({props:e,name:"MuiAccordion"}),{children:o,className:i,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:p={},slotProps:f={},TransitionComponent:m,TransitionProps:g}=r,y=tt(r,cj),[b,x]=es({controlled:c,default:s,name:"Accordion",state:"expanded"}),C=h.useCallback(q=>{x(!b),u&&u(q,!b)},[b,u,x]),[E,...k]=h.Children.toArray(o),w=h.useMemo(()=>({expanded:b,disabled:a,disableGutters:l,toggle:C}),[b,a,l,C]),M=J({},r,{square:d,disabled:a,disableGutters:l,expanded:b}),T=uj(M),D=J({transition:m},p),P=J({transition:g},f),[U,N]=aj("transition",{elementType:Y1,externalForwardedProps:{slots:D,slotProps:P},ownerState:M});return v.jsxs(dj,J({className:Hn(T.root,i),ref:n,ownerState:M,square:d},y,{children:[v.jsx(J1.Provider,{value:w,children:E}),v.jsx(U,J({in:b,timeout:"auto"},N,{children:v.jsx("div",{"aria-labelledby":E.props.id,id:E.props["aria-controls"],role:"region",className:T.region,children:k})}))]}))});function fj(t){return En("MuiAccordionDetails",t)}At("MuiAccordionDetails",["root"]);const hj=["className"],mj=t=>{const{classes:e}=t;return Tn({root:["root"]},fj,e)},gj=Ee("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),vj=h.forwardRef(function(e,n){const r=ii({props:e,name:"MuiAccordionDetails"}),{className:o}=r,i=tt(r,hj),s=r,a=mj(s);return v.jsx(gj,J({className:Hn(a.root,o),ref:n,ownerState:s},i))});function yj(t){return En("MuiAccordionSummary",t)}const Ji=At("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),bj=["children","className","expandIcon","focusVisibleClassName","onClick"],xj=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:o}=t;return Tn({root:["root",n&&"expanded",r&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},yj,e)},wj=Ee(Ix,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${Ji.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ji.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Ji.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${Ji.expanded}`]:{minHeight:64}}}]}}),Cj=Ee("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Ji.expanded}`]:{margin:"20px 0"}}}]})),Sj=Ee("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Ji.expanded}`]:{transform:"rotate(180deg)"}})),kj=h.forwardRef(function(e,n){const r=ii({props:e,name:"MuiAccordionSummary"}),{children:o,className:i,expandIcon:s,focusVisibleClassName:a,onClick:l}=r,c=tt(r,bj),{disabled:u=!1,disableGutters:d,expanded:p,toggle:f}=h.useContext(J1),m=b=>{f&&f(b),l&&l(b)},g=J({},r,{expanded:p,disabled:u,disableGutters:d}),y=xj(g);return v.jsxs(wj,J({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":p,className:Hn(y.root,i),focusVisibleClassName:Hn(y.focusVisible,a),onClick:m,ref:n,ownerState:g},c,{children:[v.jsx(Cj,{className:y.content,ownerState:g,children:o}),s&&v.jsx(Sj,{className:y.expandIconWrapper,ownerState:g,children:s})]}))}),Kv=h.createContext();function Mj(t){return En("MuiGrid",t)}const Ej=[0,1,2,3,4,5,6,7,8,9,10],Tj=["column-reverse","column","row-reverse","row"],Oj=["nowrap","wrap-reverse","wrap"],Ts=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],va=At("MuiGrid",["root","container","item","zeroMinWidth",...Ej.map(t=>`spacing-xs-${t}`),...Tj.map(t=>`direction-xs-${t}`),...Oj.map(t=>`wrap-xs-${t}`),...Ts.map(t=>`grid-xs-${t}`),...Ts.map(t=>`grid-sm-${t}`),...Ts.map(t=>`grid-md-${t}`),...Ts.map(t=>`grid-lg-${t}`),...Ts.map(t=>`grid-xl-${t}`)]),Lj=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ts(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function Aj({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,o)=>{let i={};if(e[o]&&(n=e[o]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=du({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof s=="object"?s[o]:s;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${ts(u)})`;c={flexBasis:d,maxWidth:d}}}i=J({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[o]===0?Object.assign(r,i):r[t.breakpoints.up(o)]=i,r},{})}function Pj({theme:t,ownerState:e}){const n=du({values:e.direction,breakpoints:t.breakpoints.values});return Rf({theme:t},n,r=>{const o={flexDirection:r};return r.indexOf("column")===0&&(o[`& > .${va.item}`]={maxWidth:"none"}),o})}function Z1({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(o=>{n===""&&e[o]!==0&&(n=o)});const r=Object.keys(t).sort((o,i)=>t[o]-t[i]);return r.slice(0,r.indexOf(n))}function Rj({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let o={};if(n&&r!==0){const i=du({values:r,breakpoints:t.breakpoints.values});let s;typeof i=="object"&&(s=Z1({breakpoints:t.breakpoints.values,values:i})),o=Rf({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${ts(u)}`,[`& > .${va.item}`]:{paddingTop:ts(u)}}:(c=s)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${va.item}`]:{paddingTop:0}}})}return o}function Dj({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let o={};if(n&&r!==0){const i=du({values:r,breakpoints:t.breakpoints.values});let s;typeof i=="object"&&(s=Z1({breakpoints:t.breakpoints.values,values:i})),o=Rf({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${ts(u)})`,marginLeft:`-${ts(u)}`,[`& > .${va.item}`]:{paddingLeft:ts(u)}}:(c=s)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${va.item}`]:{paddingLeft:0}}})}return o}function Ij(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(o=>{const i=t[o];Number(i)>0&&r.push(n[`spacing-${o}-${String(i)}`])}),r}const $j=Ee("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:o,item:i,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=Ij(s,c,e));const d=[];return c.forEach(p=>{const f=n[p];f&&d.push(e[`grid-${p}-${String(f)}`])}),[e.root,r&&e.container,i&&e.item,l&&e.zeroMinWidth,...u,o!=="row"&&e[`direction-xs-${String(o)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>J({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),Pj,Rj,Dj,Aj);function Nj(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const o=t[r];if(Number(o)>0){const i=`spacing-${r}-${String(o)}`;n.push(i)}}),n}const _j=t=>{const{classes:e,container:n,direction:r,item:o,spacing:i,wrap:s,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=Nj(i,l));const u=[];l.forEach(p=>{const f=t[p];f&&u.push(`grid-${p}-${String(f)}`)});const d={root:["root",n&&"container",o&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...u]};return Tn(d,Mj,e)},Fj=h.forwardRef(function(e,n){const r=ii({props:e,name:"MuiGrid"}),{breakpoints:o}=ms(),i=ME(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:p=!1,rowSpacing:f,spacing:m=0,wrap:g="wrap",zeroMinWidth:y=!1}=i,b=tt(i,Lj),x=f||m,C=l||m,E=h.useContext(Kv),k=u?a||12:E,w={},M=J({},b);o.keys.forEach(P=>{b[P]!=null&&(w[P]=b[P],delete M[P])});const T=J({},i,{columns:k,container:u,direction:d,item:p,rowSpacing:x,columnSpacing:C,wrap:g,zeroMinWidth:y,spacing:m},w,{breakpoints:o.keys}),D=_j(T);return v.jsx(Kv.Provider,{value:k,children:v.jsx($j,J({ownerState:T,className:Hn(D.root,s),as:c,ref:n},M))})});function X1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=X1(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function nn(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=X1(t))&&(r&&(r+=" "),r+=e);return r}const Bj=qr(v.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),jj=qr(v.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),zj=qr(v.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Q1=qr(v.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),ew=qr(v.jsxs(h.Fragment,{children:[v.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),v.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");qr(v.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");const Hj=qr(v.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Pen");qr(v.jsxs(h.Fragment,{children:[v.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),v.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Zi=At("MuiPickersToolbar",["root","content","penIconButton","penIconButtonLandscape"]),Vj=Ee("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>J({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},e.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),Wj=Ee(Fj,{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:1}),Uj=Ee(Mo,{name:"MuiPickersToolbar",slot:"PenIconButton",overridesResolver:(t,e)=>e.penIconButton})({}),Gj=t=>t==="clock"?v.jsx(ew,{color:"inherit"}):v.jsx(Q1,{color:"inherit"});function Kj(t,e){return t?`text input view is open, go to ${e} view`:`${e} view is open, go to text input view`}const tw=h.forwardRef(function(e,n){const{children:r,className:o,getMobileKeyboardInputViewButtonText:i=Kj,isLandscape:s,isMobileKeyboardViewOpen:a,landscapeDirection:l="column",toggleMobileKeyboardView:c,toolbarTitle:u,viewType:d="calendar"}=e,p=e;return v.jsxs(Vj,{ref:n,className:nn(Zi.root,o),ownerState:p,children:[v.jsx(xo,{color:"text.secondary",variant:"overline",children:u}),v.jsxs(Wj,{container:!0,justifyContent:"space-between",className:Zi.content,ownerState:p,direction:s?l:"row",alignItems:s?"flex-start":"flex-end",children:[r,v.jsx(Uj,{onClick:c,className:nn(Zi.penIconButton,s&&Zi.penIconButtonLandscape),ownerState:p,color:"inherit","aria-label":i(a,d),children:a?Gj(d):v.jsx(Hj,{color:"inherit"})})]})]})}),qj=["parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],qv=At("MuiDatePickerToolbar",["root","title"]),Yj=Ee(tw,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({[`& .${Zi.penIconButton}`]:{position:"relative",top:4}}),Jj=Ee(xo,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})(({ownerState:t})=>J({},t.isLandscape&&{margin:"auto 16px auto auto"})),Zj=h.forwardRef(function(e,n){const{parsedValue:r,isLandscape:o,isMobileKeyboardViewOpen:i,toggleMobileKeyboardView:s,toolbarFormat:a,toolbarPlaceholder:l="––",toolbarTitle:c="Select date",views:u}=e,d=tt(e,qj),p=Bt(),f=h.useMemo(()=>r?a?p.formatByString(r,a):K1(u)?p.format(r,"year"):q1(u)?p.format(r,"month"):/en/.test(p.getCurrentLocaleCode())?p.format(r,"normalDateWithWeekday"):p.format(r,"normalDate"):l,[r,a,l,p,u]),m=e;return v.jsx(Yj,J({ref:n,toolbarTitle:c,isMobileKeyboardViewOpen:i,toggleMobileKeyboardView:s,isLandscape:o,ownerState:m,className:qv.root},d,{children:v.jsx(Jj,{variant:"h4",align:o?"left":"center",ownerState:m,className:qv.title,children:f})}))}),fi=h.createContext(null),nw=t=>{const{onAccept:e,onClear:n,onCancel:r,onSetToday:o,actions:i}=t,s=h.useContext(fi),a=xs(),l=typeof i=="function"?i(s):i;if(l==null||l.length===0)return null;const c=l==null?void 0:l.map(u=>{switch(u){case"clear":return v.jsx(Is,{onClick:n,children:a.clearButtonLabel},u);case"cancel":return v.jsx(Is,{onClick:r,children:a.cancelButtonLabel},u);case"accept":return v.jsx(Is,{onClick:e,children:a.okButtonLabel},u);case"today":return v.jsx(Is,{onClick:o,children:a.todayButtonLabel},u);default:return null}});return v.jsx(fT,{children:c})},Xj=["onClick","onTouchStart"],Qj=Ee(si)(({theme:t})=>({zIndex:t.zIndex.modal})),e5=Ee($a)(({ownerState:t})=>J({transformOrigin:"top center",outline:0},t.placement==="top"&&{transformOrigin:"bottom center"}));function t5(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function n5(t,e){const n=h.useRef(!1),r=h.useRef(!1),o=h.useRef(null),i=h.useRef(!1);h.useEffect(()=>{if(!t)return;function l(){i.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),i.current=!1}},[t]);const s=$s(l=>{if(!i.current)return;const c=r.current;r.current=!1;const u=Xu(o.current);if(!o.current||"clientX"in l&&t5(l,u))return;if(n.current){n.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(o.current)>-1:d=!u.documentElement.contains(l.target)||o.current.contains(l.target),!d&&!c&&e(l)}),a=()=>{r.current=!0};return h.useEffect(()=>{if(t){const l=Xu(o.current),c=()=>{n.current=!0};return l.addEventListener("touchstart",s),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",c)}}},[t,s]),h.useEffect(()=>{if(t){const l=Xu(o.current);return l.addEventListener("click",s),()=>{l.removeEventListener("click",s),r.current=!1}}},[t,s]),[o,a,a]}const r5=t=>{var e;const{anchorEl:n,children:r,containerRef:o=null,onBlur:i,onClose:s,onClear:a,onAccept:l,onCancel:c,onSetToday:u,open:d,PopperProps:p,role:f,TransitionComponent:m=OE,TrapFocusProps:g,PaperProps:y={},components:b,componentsProps:x}=t;h.useEffect(()=>{function z(I){d&&(I.key==="Escape"||I.key==="Esc")&&s()}return document.addEventListener("keydown",z),()=>{document.removeEventListener("keydown",z)}},[s,d]);const C=h.useRef(null);h.useEffect(()=>{f!=="tooltip"&&(d?C.current=document.activeElement:C.current&&C.current instanceof HTMLElement&&C.current.focus())},[d,f]);const[E,k,w]=n5(d,i??s),M=h.useRef(null),T=Ur(M,o),D=Ur(T,E),P=t,{onClick:U,onTouchStart:N}=y,q=tt(y,Xj),R=z=>{z.key==="Escape"&&(z.stopPropagation(),s())},B=(e=b==null?void 0:b.ActionBar)!=null?e:nw;return v.jsx(Qj,J({transition:!0,role:f,open:d,anchorEl:n,ownerState:P,onKeyDown:R},p,{children:({TransitionProps:z,placement:I})=>v.jsx(NE,J({open:d,disableAutoFocus:!0,disableEnforceFocus:f==="tooltip",isEnabled:()=>!0},g,{children:v.jsx(m,J({},z,{children:v.jsxs(e5,J({tabIndex:-1,elevation:8,ref:D,onClick:oe=>{k(oe),U&&U(oe)},onTouchStart:oe=>{w(oe),N&&N(oe)},ownerState:J({},P,{placement:I})},q,{children:[r,v.jsx(B,J({onAccept:l,onClear:a,onCancel:c,onSetToday:u,actions:[]},x==null?void 0:x.actionBar))]}))}))}))}))};function rw(t){const{children:e,DateInputProps:n,KeyboardDateInputComponent:r,onClear:o,onDismiss:i,onCancel:s,onAccept:a,onSetToday:l,open:c,PopperProps:u,PaperProps:d,TransitionComponent:p,components:f,componentsProps:m}=t,g=h.useRef(null),y=Ur(n.inputRef,g);return v.jsxs(fi.Provider,{value:"desktop",children:[v.jsx(r,J({},n,{inputRef:y})),v.jsx(r5,{role:"dialog",open:c,anchorEl:g.current,TransitionComponent:p,PopperProps:u,PaperProps:d,onClose:i,onCancel:s,onClear:o,onAccept:a,onSetToday:l,components:f,componentsProps:m,children:e})]})}function No(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const ow=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(),n.preventDefault(),n.stopPropagation())};function Ah({onChange:t,onViewChange:e,openTo:n,view:r,views:o}){var i,s;const[a,l]=es({name:"Picker",state:"view",controlled:r,default:n&&No(o,n)?n:o[0]}),c=(i=o[o.indexOf(a)-1])!=null?i:null,u=(s=o[o.indexOf(a)+1])!=null?s:null,d=h.useCallback(m=>{l(m),e&&e(m)},[l,e]),p=h.useCallback(()=>{u&&d(u)},[u,d]);return{handleChangeAndOpenNext:h.useCallback((m,g)=>{const y=g==="finish";t(m,y&&u?"partial":g),y&&p()},[u,t,p]),nextView:u,previousView:c,openNext:p,openView:a,setOpenView:d}}const ss=220,ho=36,ya={x:ss/2,y:ss/2},iw={x:ya.x,y:0},o5=iw.x-ya.x,i5=iw.y-ya.y,s5=t=>t*(180/Math.PI),sw=(t,e,n)=>{const r=e-ya.x,o=n-ya.y,i=Math.atan2(o5,i5)-Math.atan2(r,o);let s=s5(i);s=Math.round(s/t)*t,s%=360;const a=Math.floor(s/t)||0,l=r**2+o**2,c=Math.sqrt(l);return{value:a,distance:c}},a5=(t,e,n=1)=>{const r=n*6;let{value:o}=sw(r,t,e);return o=o*n%60,o},l5=(t,e,n)=>{const{value:r,distance:o}=sw(30,t,e);let i=r||12;return n?i%=12:o<ss/2-ho&&(i+=12,i%=24),i},c5=["className","hasSelected","isInner","type","value"],u5=Ee("div")(({theme:t,ownerState:e})=>J({width:2,backgroundColor:t.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},e.toAnimateTransform&&{transition:t.transitions.create(["transform","height"])})),d5=Ee("div")(({theme:t,ownerState:e})=>J({width:4,height:4,backgroundColor:t.palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${ho/2}px)`,border:`${(ho-4)/2}px solid ${t.palette.primary.main}`,boxSizing:"content-box"},e.hasSelected&&{backgroundColor:t.palette.primary.main}));class aw extends h.Component{constructor(...e){super(...e),this.state={toAnimateTransform:!1,previousType:void 0}}render(){const e=this.props,{className:n,isInner:r,type:o,value:i}=e,s=tt(e,c5),a=J({},this.props,this.state),l=()=>{let u=360/(o==="hours"?12:60)*i;return o==="hours"&&i>12&&(u-=360),{height:Math.round((r?.26:.4)*ss),transform:`rotateZ(${u}deg)`}};return v.jsx(u5,J({style:l(),className:n,ownerState:a},s,{children:v.jsx(d5,{ownerState:a})}))}}aw.getDerivedStateFromProps=(t,e)=>t.type!==e.previousType?{toAnimateTransform:!0,previousType:t.type}:{toAnimateTransform:!1,previousType:t.type};const p5=Ee("div")(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),f5=Ee("div")({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),h5=Ee("div")(({ownerState:t})=>J({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none"},t.disabled?{}:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}})),m5=Ee("div")(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:t.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),g5=Ee(Mo)(({theme:t,ownerState:e})=>J({zIndex:1,position:"absolute",bottom:e.ampmInClock?64:8,left:8},e.meridiemMode==="am"&&{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,"&:hover":{backgroundColor:t.palette.primary.light}})),v5=Ee(Mo)(({theme:t,ownerState:e})=>J({zIndex:1,position:"absolute",bottom:e.ampmInClock?64:8,right:8},e.meridiemMode==="pm"&&{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,"&:hover":{backgroundColor:t.palette.primary.light}}));function y5(t){const{ampm:e,ampmInClock:n,autoFocus:r,children:o,date:i,getClockLabelText:s,handleMeridiemChange:a,isTimeDisabled:l,meridiemMode:c,minutesStep:u=1,onChange:d,selectedId:p,type:f,value:m,disabled:g,readOnly:y}=t,b=t,x=Bt(),C=h.useContext(fi),E=h.useRef(!1),k=l(m,f),w=!e&&f==="hours"&&(m<1||m>12),M=(I,oe)=>{g||y||l(I,f)||d(I,oe)},T=(I,oe)=>{let{offsetX:me,offsetY:te}=I;if(me===void 0){const X=I.target.getBoundingClientRect();me=I.changedTouches[0].clientX-X.left,te=I.changedTouches[0].clientY-X.top}const G=f==="seconds"||f==="minutes"?a5(me,te,u):l5(me,te,!!e);M(G,oe)},D=I=>{E.current=!0,T(I,"shallow")},P=I=>{E.current&&(T(I,"finish"),E.current=!1)},U=I=>{I.buttons>0&&T(I.nativeEvent,"shallow")},N=I=>{E.current&&(E.current=!1),T(I.nativeEvent,"finish")},q=h.useMemo(()=>f==="hours"?!0:m%5===0,[f,m]),R=f==="minutes"?u:1,B=h.useRef(null);Nf(()=>{r&&B.current.focus()},[r]);const z=I=>{if(!E.current)switch(I.key){case"Home":M(0,"partial"),I.preventDefault();break;case"End":M(f==="minutes"?59:23,"partial"),I.preventDefault();break;case"ArrowUp":M(m+R,"partial"),I.preventDefault();break;case"ArrowDown":M(m-R,"partial"),I.preventDefault();break}};return v.jsxs(p5,{children:[v.jsxs(f5,{children:[v.jsx(h5,{onTouchMove:D,onTouchEnd:P,onMouseUp:N,onMouseMove:U,ownerState:{disabled:g}}),!k&&v.jsxs(h.Fragment,{children:[v.jsx(m5,{}),i&&v.jsx(aw,{type:f,value:m,isInner:w,hasSelected:q})]}),v.jsx("div",{"aria-activedescendant":p,"aria-label":s(f,i,x),ref:B,role:"listbox",onKeyDown:z,tabIndex:0,children:o})]}),e&&(C==="desktop"||n)&&v.jsxs(h.Fragment,{children:[v.jsx(g5,{onClick:y?void 0:()=>a("am"),disabled:g||c===null,ownerState:b,children:v.jsx(xo,{variant:"caption",children:"AM"})}),v.jsx(v5,{disabled:g||c===null,onClick:y?void 0:()=>a("pm"),ownerState:b,children:v.jsx(xo,{variant:"caption",children:"PM"})})]})]})}const lw=t=>()=>{},b5=["className","disabled","index","inner","label","selected"],lc=At("PrivateClockNumber",["selected","disabled"]),x5=Ee("span")(({theme:t,ownerState:e})=>J({height:ho,width:ho,position:"absolute",left:`calc((100% - ${ho}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:t.palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:t.palette.background.paper},[`&.${lc.selected}`]:{color:t.palette.primary.contrastText},[`&.${lc.disabled}`]:{pointerEvents:"none",color:t.palette.text.disabled}},e.inner&&J({},t.typography.body2,{color:t.palette.text.secondary})));function cw(t){const{className:e,disabled:n,index:r,inner:o,label:i,selected:s}=t,a=tt(t,b5),l=t,c=r%12/12*Math.PI*2-Math.PI/2,u=(ss-ho-2)/2*(o?.65:1),d=Math.round(Math.cos(c)*u),p=Math.round(Math.sin(c)*u);return v.jsx(x5,J({className:nn(e,s&&lc.selected,n&&lc.disabled),"aria-disabled":n?!0:void 0,"aria-selected":s?!0:void 0,role:"option",style:{transform:`translate(${d}px, ${p+(ss-ho)/2}px`},ownerState:l},a,{children:i}))}const w5=({ampm:t,date:e,getClockNumberText:n,isDisabled:r,selectedId:o,utils:i})=>{const s=e?i.getHours(e):null,a=[],l=t?1:0,c=t?12:23,u=d=>s===null?!1:t?d===12?s===12||s===0:s===d||s-12===d:s===d;for(let d=l;d<=c;d+=1){let p=d.toString();d===0&&(p="00");const f=!t&&(d===0||d>12);p=i.formatNumber(p);const m=u(d);a.push(v.jsx(cw,{id:m?o:void 0,index:d,inner:f,selected:m,disabled:r(d),label:p,"aria-label":n(p)},d))}return a},Yv=({utils:t,value:e,isDisabled:n,getClockNumberText:r,selectedId:o})=>{const i=t.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([s,a],l)=>{const c=s===e;return v.jsx(cw,{label:a,id:c?o:void 0,index:l+1,inner:!1,disabled:n(s),selected:c,"aria-label":r(a)},s)})},C5=["children","className","components","componentsProps","isLeftDisabled","isLeftHidden","isRightDisabled","isRightHidden","leftArrowButtonText","onLeftClick","onRightClick","rightArrowButtonText"],yl=At("MuiPickersArrowSwitcher",["root","spacer","button"]),S5=Ee("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),k5=Ee("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),Jv=Ee(Mo,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})(({ownerState:t})=>J({},t.hidden&&{visibility:"hidden"})),uw=h.forwardRef(function(e,n){const{children:r,className:o,components:i,componentsProps:s,isLeftDisabled:a,isLeftHidden:l,isRightDisabled:c,isRightHidden:u,leftArrowButtonText:d,onLeftClick:p,onRightClick:f,rightArrowButtonText:m}=e,g=tt(e,C5),b=ms().direction==="rtl",x=(s==null?void 0:s.leftArrowButton)||{},C=(i==null?void 0:i.LeftArrowIcon)||jj,E=(s==null?void 0:s.rightArrowButton)||{},k=(i==null?void 0:i.RightArrowIcon)||zj,w=e;return v.jsxs(S5,J({ref:n,className:nn(yl.root,o),ownerState:w},g,{children:[v.jsx(Jv,J({as:i==null?void 0:i.LeftArrowButton,size:"small","aria-label":d,title:d,disabled:a,edge:"end",onClick:p},x,{className:nn(yl.button,x.className),ownerState:J({},w,x,{hidden:l}),children:b?v.jsx(k,{}):v.jsx(C,{})})),r?v.jsx(xo,{variant:"subtitle1",component:"span",children:r}):v.jsx(k5,{className:yl.spacer,ownerState:w}),v.jsx(Jv,J({as:i==null?void 0:i.RightArrowButton,size:"small","aria-label":m,title:m,edge:"start",disabled:c,onClick:f},E,{className:nn(yl.button,E.className),ownerState:J({},w,E,{hidden:u}),children:b?v.jsx(C,{}):v.jsx(k,{})}))]}))}),M5=(t,e)=>t?e.getHours(t)>=12?"pm":"am":null,Pp=(t,e,n)=>n&&(t>=12?"pm":"am")!==e?e==="am"?t-12:t+12:t,E5=(t,e,n,r)=>{const o=Pp(r.getHours(t),e,n);return r.setHours(t,o)},Zv=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),dw=(t=!1,e)=>(n,r)=>t?e.isAfter(n,r):Zv(n,e)>Zv(r,e);function T5(t,{disableFuture:e,maxDate:n}){const r=Bt();return h.useMemo(()=>{const o=r.date(),i=r.startOfMonth(e&&r.isBefore(o,n)?o:n);return!r.isAfter(i,t)},[e,n,t,r])}function O5(t,{disablePast:e,minDate:n}){const r=Bt();return h.useMemo(()=>{const o=r.date(),i=r.startOfMonth(e&&r.isAfter(o,n)?o:n);return!r.isBefore(i,t)},[e,n,t,r])}function pw(t,e,n){const r=Bt(),o=M5(t,r),i=h.useCallback(s=>{const a=t==null?null:E5(t,s,!!e,r);n(a,"partial")},[e,t,n,r]);return{meridiemMode:o,handleMeridiemChange:i}}function L5(t){return En("MuiClockPicker",t)}At("MuiClockPicker",["root","arrowSwitcher"]);const Rp=36,Ph=2,fw=320,A5=358,Rh=Ee("div")({overflowX:"hidden",width:fw,maxHeight:A5,display:"flex",flexDirection:"column",margin:"0 auto"}),P5=t=>{const{classes:e}=t;return Tn({root:["root"],arrowSwitcher:["arrowSwitcher"]},L5,e)},R5=Ee(Rh,{name:"MuiClockPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column"}),D5=Ee(uw,{name:"MuiClockPicker",slot:"ArrowSwitcher",overridesResolver:(t,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),I5=lw(),$5=h.forwardRef(function(e,n){const r=Yr({props:e,name:"MuiClockPicker"}),{ampm:o=!1,ampmInClock:i=!1,autoFocus:s,components:a,componentsProps:l,date:c,disableIgnoringDatePartForTimeValidation:u,getClockLabelText:d,getHoursClockNumberText:p,getMinutesClockNumberText:f,getSecondsClockNumberText:m,leftArrowButtonText:g,maxTime:y,minTime:b,minutesStep:x=1,rightArrowButtonText:C,shouldDisableTime:E,showViewSwitcher:k,onChange:w,view:M,views:T=["hours","minutes"],openTo:D,onViewChange:P,className:U,disabled:N,readOnly:q}=r;I5({leftArrowButtonText:g,rightArrowButtonText:C,getClockLabelText:d,getHoursClockNumberText:p,getMinutesClockNumberText:f,getSecondsClockNumberText:m});const R=xs(),B=g??R.openPreviousView,z=C??R.openNextView,I=d??R.clockLabelText,oe=p??R.hoursClockNumberText,me=f??R.minutesClockNumberText,te=m??R.secondsClockNumberText,{openView:G,setOpenView:X,nextView:ie,previousView:Y,handleChangeAndOpenNext:S}=Ah({view:M,views:T,openTo:D,onViewChange:P,onChange:w}),A=Ga(),j=Bt(),H=h.useMemo(()=>c||j.setSeconds(j.setMinutes(j.setHours(A,0),0),0),[c,A,j]),{meridiemMode:V,handleMeridiemChange:fe}=pw(H,o,S),pe=h.useCallback((F,de)=>{const Z=dw(u,j),ae=({start:ye,end:be})=>!(b&&Z(b,be)||y&&Z(ye,y)),ue=(ye,be=1)=>ye%be!==0?!1:E?!E(ye,de):!0;switch(de){case"hours":{const ye=Pp(F,V,o),be=j.setHours(H,ye),ge=j.setSeconds(j.setMinutes(be,0),0),ce=j.setSeconds(j.setMinutes(be,59),59);return!ae({start:ge,end:ce})||!ue(ye)}case"minutes":{const ye=j.setMinutes(H,F),be=j.setSeconds(ye,0),ge=j.setSeconds(ye,59);return!ae({start:be,end:ge})||!ue(F,x)}case"seconds":{const ye=j.setSeconds(H,F);return!ae({start:ye,end:ye})||!ue(F)}default:throw new Error("not supported")}},[o,H,u,y,V,b,x,E,j]),he=$f(),ke=h.useMemo(()=>{switch(G){case"hours":{const F=(de,Z)=>{const ae=Pp(de,V,o);S(j.setHours(H,ae),Z)};return{onChange:F,value:j.getHours(H),children:w5({date:c,utils:j,ampm:o,onChange:F,getClockNumberText:oe,isDisabled:de=>N||pe(de,"hours"),selectedId:he})}}case"minutes":{const F=j.getMinutes(H),de=(Z,ae)=>{S(j.setMinutes(H,Z),ae)};return{value:F,onChange:de,children:Yv({utils:j,value:F,onChange:de,getClockNumberText:me,isDisabled:Z=>N||pe(Z,"minutes"),selectedId:he})}}case"seconds":{const F=j.getSeconds(H),de=(Z,ae)=>{S(j.setSeconds(H,Z),ae)};return{value:F,onChange:de,children:Yv({utils:j,value:F,onChange:de,getClockNumberText:te,isDisabled:Z=>N||pe(Z,"seconds"),selectedId:he})}}default:throw new Error("You must provide the type for ClockView")}},[G,j,c,o,oe,me,te,V,S,H,pe,he,N]),Te=r,$=P5(Te);return v.jsxs(R5,{ref:n,className:nn($.root,U),ownerState:Te,children:[k&&v.jsx(D5,{className:$.arrowSwitcher,leftArrowButtonText:B,rightArrowButtonText:z,components:a,componentsProps:l,onLeftClick:()=>X(Y),onRightClick:()=>X(ie),isLeftDisabled:!Y,isRightDisabled:!ie,ownerState:Te}),v.jsx(y5,J({autoFocus:s,date:c,ampmInClock:i,type:G,ampm:o,getClockLabelText:I,minutesStep:x,isTimeDisabled:pe,meridiemMode:V,handleMeridiemChange:fe,selectedId:he,disabled:N,readOnly:q},ke))]})}),N5=["disabled","onSelect","selected","value"],Dp=At("PrivatePickersMonth",["root","selected"]),_5=Ee(xo)(({theme:t})=>J({flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:Xl(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{pointerEvents:"none",color:t.palette.text.secondary},[`&.${Dp.selected}`]:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:focus, &:hover":{backgroundColor:t.palette.primary.dark}}})),F5=t=>{const{disabled:e,onSelect:n,selected:r,value:o}=t,i=tt(t,N5),s=()=>{n(o)};return v.jsx(_5,J({component:"button",type:"button",className:nn(Dp.root,r&&Dp.selected),tabIndex:e?-1:0,onClick:s,onKeyDown:ow(s),color:r?"primary":void 0,variant:r?"h5":"subtitle1",disabled:e},i))};function B5(t){return En("MuiMonthPicker",t)}At("MuiMonthPicker",["root"]);const j5=["className","date","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly"],z5=t=>{const{classes:e}=t;return Tn({root:["root"]},B5,e)},H5=Ee("div",{name:"MuiMonthPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch",margin:"0 4px"}),V5=h.forwardRef(function(e,n){const r=Bt(),o=Ga(),i=Ou(),s=Yr({props:e,name:"MuiMonthPicker"}),{className:a,date:l,disabled:c,disableFuture:u,disablePast:d,maxDate:p=i.maxDate,minDate:f=i.minDate,onChange:m,shouldDisableMonth:g,readOnly:y}=s,b=tt(s,j5),x=s,C=z5(x),E=l??o,k=r.getMonth(E),w=T=>{const D=r.startOfMonth(d&&r.isAfter(o,f)?o:f),P=r.startOfMonth(u&&r.isBefore(o,p)?o:p);return r.isBefore(T,D)||r.isAfter(T,P)?!0:g?g(T):!1},M=T=>{if(y)return;const D=r.setMonth(E,T);m(D,"finish")};return v.jsx(H5,J({ref:n,className:nn(C.root,a),ownerState:x},b,{children:r.getMonthArray(E).map(T=>{const D=r.getMonth(T),P=r.format(T,"monthShort");return v.jsx(F5,{value:D,selected:D===k,onSelect:M,disabled:c||w(T),children:P},P)})}))});function hw(t,e,n){const{value:r,onError:o}=t,i=Ua(),s=h.useRef(null),a=e({adapter:i,value:r,props:t});return h.useEffect(()=>{o&&!n(a,s.current)&&o(a,r),s.current=a},[n,o,s,a,r]),a}const mw=({props:t,value:e,adapter:n})=>{const r=n.utils.date(),o=n.utils.date(e),{shouldDisableDate:i,minDate:s=n.defaultDates.minDate,maxDate:a=n.defaultDates.maxDate,disableFuture:l,disablePast:c}=t;if(o===null)return null;switch(!0){case!n.utils.isValid(e):return"invalidDate";case!!(i&&i(o)):return"shouldDisableDate";case!!(l&&n.utils.isAfterDay(o,r)):return"disableFuture";case!!(c&&n.utils.isBeforeDay(o,r)):return"disablePast";case!!(s&&n.utils.isBeforeDay(o,s)):return"minDate";case!!(a&&n.utils.isAfterDay(o,a)):return"maxDate";default:return null}},gw=({shouldDisableDate:t,minDate:e,maxDate:n,disableFuture:r,disablePast:o})=>{const i=Ua();return h.useCallback(s=>mw({adapter:i,value:s,props:{shouldDisableDate:t,minDate:e,maxDate:n,disableFuture:r,disablePast:o}})!==null,[i,t,e,n,r,o])},W5=(t,e)=>t===e,U5=t=>hw(t,mw,W5),G5=(t,e,n)=>(r,o)=>{switch(o.type){case"changeMonth":return J({},r,{slideDirection:o.direction,currentMonth:o.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return J({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&o.focusedDay!=null&&n.isSameDay(o.focusedDay,r.focusedDay))return r;const i=o.focusedDay!=null&&!e&&!n.isSameMonth(r.currentMonth,o.focusedDay);return J({},r,{focusedDay:o.focusedDay,isMonthSwitchingAnimating:i&&!t,currentMonth:i?n.startOfMonth(o.focusedDay):r.currentMonth,slideDirection:o.focusedDay!=null&&n.isAfterDay(o.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},K5=({date:t,defaultCalendarMonth:e,disableFuture:n,disablePast:r,disableSwitchToMonthOnDayFocus:o=!1,maxDate:i,minDate:s,onMonthChange:a,reduceAnimations:l,shouldDisableDate:c})=>{var u;const d=Ga(),p=Bt(),f=h.useRef(G5(!!l,o,p)).current,[m,g]=h.useReducer(f,{isMonthSwitchingAnimating:!1,focusedDay:t||d,currentMonth:p.startOfMonth((u=t??e)!=null?u:d),slideDirection:"left"}),y=h.useCallback(k=>{g(J({type:"changeMonth"},k)),a&&a(k.newMonth)},[a]),b=h.useCallback(k=>{const w=k??d;p.isSameMonth(w,m.currentMonth)||y({newMonth:p.startOfMonth(w),direction:p.isAfterDay(w,m.currentMonth)?"left":"right"})},[m.currentMonth,y,d,p]),x=gw({shouldDisableDate:c,minDate:s,maxDate:i,disableFuture:n,disablePast:r}),C=h.useCallback(()=>{g({type:"finishMonthSwitchingAnimation"})},[]),E=h.useCallback(k=>{x(k)||g({type:"changeFocusedDay",focusedDay:k})},[x]);return{calendarState:m,changeMonth:b,changeFocusedDay:E,isDateDisabled:x,onMonthSwitchingAnimationEnd:C,handleChangeMonth:y}},q5=At("PrivatePickersFadeTransitionGroup",["root"]),Xv=500,Y5=Ee($x)({display:"block",position:"relative"}),vw=({children:t,className:e,reduceAnimations:n,transKey:r})=>n?t:v.jsx(Y5,{className:nn(q5.root,e),children:v.jsx(Lx,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:Xv,enter:Xv/2,exit:0},children:t},r)});function J5(t){return En("MuiPickersDay",t)}const bl=At("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Z5=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDayFocus","onDaySelect","onFocus","onKeyDown","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today"],X5=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:o,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:s,classes:a}=t;return Tn({root:["root",e&&"selected",!n&&"dayWithMargin",!r&&o&&"today",i&&s&&"dayOutsideMonth"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},J5,a)},yw=({theme:t,ownerState:e})=>J({},t.typography.caption,{width:Rp,height:Rp,borderRadius:"50%",padding:0,backgroundColor:t.palette.background.paper,color:t.palette.text.primary,"&:hover":{backgroundColor:Xl(t.palette.action.active,t.palette.action.hoverOpacity)},"&:focus":{backgroundColor:Xl(t.palette.action.active,t.palette.action.hoverOpacity),[`&.${bl.selected}`]:{willChange:"background-color",backgroundColor:t.palette.primary.dark}},[`&.${bl.selected}`]:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium,transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),"&:hover":{willChange:"background-color",backgroundColor:t.palette.primary.dark}},[`&.${bl.disabled}`]:{color:t.palette.text.disabled}},!e.disableMargin&&{margin:`0 ${Ph}px`},e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&{color:t.palette.text.secondary},!e.disableHighlightToday&&e.today&&{[`&:not(.${bl.selected})`]:{border:`1px solid ${t.palette.text.secondary}`}}),bw=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},Q5=Ee(Ix,{name:"MuiPickersDay",slot:"Root",overridesResolver:bw})(yw),e4=Ee("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:bw})(({theme:t,ownerState:e})=>J({},yw({theme:t,ownerState:e}),{visibility:"hidden"})),t4=()=>{},n4=h.forwardRef(function(e,n){const r=Yr({props:e,name:"MuiPickersDay"}),{autoFocus:o=!1,className:i,day:s,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDayFocus:p=t4,onDaySelect:f,onFocus:m,onKeyDown:g,outsideCurrentMonth:y,selected:b=!1,showDaysOutsideCurrentMonth:x=!1,children:C,today:E=!1}=r,k=tt(r,Z5),w=J({},r,{autoFocus:o,disabled:a,disableHighlightToday:l,disableMargin:c,selected:b,showDaysOutsideCurrentMonth:x,today:E}),M=X5(w),T=Bt(),D=h.useRef(null),P=Ur(D,n);Nf(()=>{o&&!a&&!u&&!y&&D.current.focus()},[o,a,u,y]);const U=B=>{p&&p(s),m&&m(B)},N=B=>{a||f(s,"finish"),d&&d(B)},q=ms();function R(B){switch(g!==void 0&&g(B),B.key){case"ArrowUp":p(T.addDays(s,-7)),B.preventDefault();break;case"ArrowDown":p(T.addDays(s,7)),B.preventDefault();break;case"ArrowLeft":p(T.addDays(s,q.direction==="ltr"?-1:1)),B.preventDefault();break;case"ArrowRight":p(T.addDays(s,q.direction==="ltr"?1:-1)),B.preventDefault();break;case"Home":p(T.startOfWeek(s)),B.preventDefault();break;case"End":p(T.endOfWeek(s)),B.preventDefault();break;case"PageUp":p(T.getNextMonth(s)),B.preventDefault();break;case"PageDown":p(T.getPreviousMonth(s)),B.preventDefault();break}}return y&&!x?v.jsx(e4,{className:nn(M.root,M.hiddenDaySpacingFiller,i),ownerState:w}):v.jsx(Q5,J({className:nn(M.root,i),ownerState:w,ref:P,centerRipple:!0,disabled:a,"aria-label":C?void 0:T.format(s,"fullDate"),tabIndex:b?0:-1,onFocus:U,onKeyDown:R,onClick:N},k,{children:C||T.format(s,"dayOfMonth")}))}),r4=(t,e)=>t.autoFocus===e.autoFocus&&t.isAnimating===e.isAnimating&&t.today===e.today&&t.disabled===e.disabled&&t.selected===e.selected&&t.disableMargin===e.disableMargin&&t.showDaysOutsideCurrentMonth===e.showDaysOutsideCurrentMonth&&t.disableHighlightToday===e.disableHighlightToday&&t.className===e.className&&t.outsideCurrentMonth===e.outsideCurrentMonth&&t.onDayFocus===e.onDayFocus&&t.onDaySelect===e.onDaySelect,o4=h.memo(n4,r4),i4=["children","className","reduceAnimations","slideDirection","transKey"],or=At("PrivatePickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),xw=350,s4=Ee($x)(({theme:t})=>{const e=t.transitions.create("transform",{duration:xw,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${or["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${or["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${or.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${or.slideExit}`]:{transform:"translate(0%)"},[`& .${or["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${or["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}}),a4=t=>{let{children:e,className:n,reduceAnimations:r,slideDirection:o,transKey:i}=t,s=tt(t,i4);if(r)return v.jsx("div",{className:nn(or.root,n),children:e});const a={exit:or.slideExit,enterActive:or.slideEnterActive,enter:or[`slideEnter-${o}`],exitActive:or[`slideExitActiveLeft-${o}`]};return v.jsx(s4,{className:nn(or.root,n),childFactory:l=>h.cloneElement(l,{classNames:a}),children:v.jsx(Uf,J({mountOnEnter:!0,unmountOnExit:!0,timeout:xw,classNames:a},s,{children:e}),i)})},ww=(Rp+Ph*2)*6,l4=Ee("div")({display:"flex",justifyContent:"center",alignItems:"center"}),c4=Ee(xo)(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.secondary})),u4=Ee("div")({display:"flex",justifyContent:"center",alignItems:"center",minHeight:ww}),d4=Ee(a4)({minHeight:ww}),p4=Ee("div")({overflow:"hidden"}),f4=Ee("div")({margin:`${Ph}px 0`,display:"flex",justifyContent:"center"});function h4(t){const e=Ga(),n=Bt(),{autoFocus:r,onFocusedDayChange:o,className:i,currentMonth:s,selectedDays:a,disabled:l,disableHighlightToday:c,focusedDay:u,isMonthSwitchingAnimating:d,loading:p,onSelectedDaysChange:f,onMonthSwitchingAnimationEnd:m,readOnly:g,reduceAnimations:y,renderDay:b,renderLoading:x=()=>v.jsx("span",{children:"..."}),showDaysOutsideCurrentMonth:C,slideDirection:E,TransitionProps:k,disablePast:w,disableFuture:M,minDate:T,maxDate:D,shouldDisableDate:P}=t,U=gw({shouldDisableDate:P,minDate:T,maxDate:D,disablePast:w,disableFuture:M}),N=h.useCallback((I,oe="finish")=>{g||f(I,oe)},[f,g]),q=n.getMonth(s),R=a.filter(I=>!!I).map(I=>n.startOfDay(I)),B=q,z=h.useMemo(()=>h.createRef(),[B]);return v.jsxs(h.Fragment,{children:[v.jsx(l4,{children:n.getWeekdays().map((I,oe)=>v.jsx(c4,{"aria-hidden":!0,variant:"caption",children:I.charAt(0).toUpperCase()},I+oe.toString()))}),p?v.jsx(u4,{children:x()}):v.jsx(d4,J({transKey:B,onExited:m,reduceAnimations:y,slideDirection:E,className:i},k,{nodeRef:z,children:v.jsx(p4,{ref:z,role:"grid",children:n.getWeekArray(s).map(I=>v.jsx(f4,{role:"row",children:I.map(oe=>{const me={key:oe==null?void 0:oe.toString(),day:oe,isAnimating:d,disabled:l||U(oe),autoFocus:r&&u!==null&&n.isSameDay(oe,u),today:n.isSameDay(oe,e),outsideCurrentMonth:n.getMonth(oe)!==q,selected:R.some(te=>n.isSameDay(te,oe)),disableHighlightToday:c,showDaysOutsideCurrentMonth:C,onDayFocus:o,onDaySelect:N};return b?b(oe,R,me):v.jsx("div",{role:"cell",children:v.jsx(o4,J({},me))},me.key)})},`week-${I[0]}`))})}))]})}const m4=Ee("div")({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),g4=Ee("div")(({theme:t})=>J({display:"flex",maxHeight:30,overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),v4=Ee("div")({marginRight:6}),y4=Ee(Mo)({marginRight:"auto"}),b4=Ee(Bj)(({theme:t,ownerState:e})=>J({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"},e.openView==="year"&&{transform:"rotate(180deg)"})),x4=lw();function w4(t){const{components:e={},componentsProps:n={},currentMonth:r,disabled:o,disableFuture:i,disablePast:s,getViewSwitchingButtonText:a,leftArrowButtonText:l,maxDate:c,minDate:u,onMonthChange:d,onViewChange:p,openView:f,reduceAnimations:m,rightArrowButtonText:g,views:y}=t;x4({leftArrowButtonText:l,rightArrowButtonText:g,getViewSwitchingButtonText:a});const b=xs(),x=l??b.previousMonth,C=g??b.nextMonth,E=a??b.calendarViewSwitchingButtonAriaLabel,k=Bt(),w=n.switchViewButton||{},M=()=>d(k.getNextMonth(r),"left"),T=()=>d(k.getPreviousMonth(r),"right"),D=T5(r,{disableFuture:i,maxDate:c}),P=O5(r,{disablePast:s,minDate:u}),U=()=>{if(!(y.length===1||!p||o))if(y.length===2)p(y.find(q=>q!==f)||y[0]);else{const q=y.indexOf(f)!==0?0:1;p(y[q])}};if(y.length===1&&y[0]==="year")return null;const N=t;return v.jsxs(m4,{ownerState:N,children:[v.jsxs(g4,{role:"presentation",onClick:U,ownerState:N,children:[v.jsx(vw,{reduceAnimations:m,transKey:k.format(r,"monthAndYear"),children:v.jsx(v4,{"aria-live":"polite",ownerState:N,children:k.format(r,"monthAndYear")})}),y.length>1&&!o&&v.jsx(y4,J({size:"small",as:e.SwitchViewButton,"aria-label":E(f)},w,{children:v.jsx(b4,{as:e.SwitchViewIcon,ownerState:N})}))]}),v.jsx(Lx,{in:f==="day",children:v.jsx(uw,{leftArrowButtonText:x,rightArrowButtonText:C,components:e,componentsProps:n,onLeftClick:T,onRightClick:M,isLeftDisabled:P,isRightDisabled:D})})]})}function C4(t){return En("PrivatePickersYear",t)}const Qv=At("PrivatePickersYear",["root","modeMobile","modeDesktop","yearButton","disabled","selected"]),S4=t=>{const{wrapperVariant:e,disabled:n,selected:r,classes:o}=t,i={root:["root",e&&`mode${Ia(e)}`],yearButton:["yearButton",n&&"disabled",r&&"selected"]};return Tn(i,C4,o)},k4=Ee("div")(({ownerState:t})=>J({flexBasis:"33.3%",display:"flex",alignItems:"center",justifyContent:"center"},(t==null?void 0:t.wrapperVariant)==="desktop"&&{flexBasis:"25%"})),M4=Ee("button")(({theme:t})=>J({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:Xl(t.palette.action.active,t.palette.action.hoverOpacity)},[`&.${Qv.disabled}`]:{color:t.palette.text.secondary},[`&.${Qv.selected}`]:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:focus, &:hover":{backgroundColor:t.palette.primary.dark}}})),E4=h.forwardRef(function(e,n){const{autoFocus:r,className:o,children:i,disabled:s,onClick:a,onKeyDown:l,selected:c,value:u}=e,d=h.useRef(null),p=Ur(d,n),f=h.useContext(fi),m=J({},e,{wrapperVariant:f}),g=S4(m);return h.useEffect(()=>{r&&d.current.focus()},[r]),v.jsx(k4,{className:nn(g.root,o),ownerState:m,children:v.jsx(M4,{ref:p,disabled:s,type:"button",tabIndex:c?0:-1,onClick:y=>a(y,u),onKeyDown:y=>l(y,u),className:g.yearButton,ownerState:m,children:i})})});function T4(t){return En("MuiYearPicker",t)}At("MuiYearPicker",["root"]);const O4=t=>{const{classes:e}=t;return Tn({root:["root"]},T4,e)},L4=Ee("div",{name:"MuiYearPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",margin:"0 4px"}),A4=h.forwardRef(function(e,n){const r=Ga(),o=ms(),i=Bt(),s=Ou(),a=Yr({props:e,name:"MuiYearPicker"}),{autoFocus:l,className:c,date:u,disabled:d,disableFuture:p,disablePast:f,maxDate:m=s.maxDate,minDate:g=s.minDate,onChange:y,readOnly:b,shouldDisableYear:x}=a,C=a,E=O4(C),k=u||r,w=i.getYear(k),M=h.useContext(fi),T=h.useRef(null),[D,P]=h.useState(w),U=h.useCallback(z=>!!(f&&i.isBeforeYear(z,r)||p&&i.isAfterYear(z,r)||g&&i.isBeforeYear(z,g)||m&&i.isAfterYear(z,m)||x&&x(z)),[p,f,m,g,r,x,i]),N=(z,I,oe="finish")=>{if(b)return;const me=i.setYear(k,I);y(me,oe)},q=h.useCallback(z=>{U(i.setYear(k,z))||P(z)},[k,U,i]),R=M==="desktop"?4:3,B=(z,I)=>{switch(z.key){case"ArrowUp":q(I-R),z.preventDefault();break;case"ArrowDown":q(I+R),z.preventDefault();break;case"ArrowLeft":q(I+(o.direction==="ltr"?-1:1)),z.preventDefault();break;case"ArrowRight":q(I+(o.direction==="ltr"?1:-1)),z.preventDefault();break}};return v.jsx(L4,{ref:n,className:nn(E.root,c),ownerState:C,children:i.getYearRange(g,m).map(z=>{const I=i.getYear(z),oe=I===w;return v.jsx(E4,{selected:oe,value:I,onClick:N,onKeyDown:B,autoFocus:l&&I===D,ref:oe?T:void 0,disabled:d||U(z),children:i.format(z,"year")},i.format(z,"year"))})})}),P4=typeof navigator<"u"&&/(android)/i.test(navigator.userAgent),R4=t=>En("MuiCalendarPicker",t);At("MuiCalendarPicker",["root","viewTransitionContainer"]);const D4=["autoFocus","onViewChange","date","disableFuture","disablePast","defaultCalendarMonth","loading","onChange","onYearChange","onMonthChange","reduceAnimations","renderLoading","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate"],I4=t=>{const{classes:e}=t;return Tn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},R4,e)},$4=Ee(Rh,{name:"MuiCalendarPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column"}),N4=Ee(vw,{name:"MuiCalendarPicker",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({overflowY:"auto"}),_4=h.forwardRef(function(e,n){const r=Bt(),o=Ou(),i=Yr({props:e,name:"MuiCalendarPicker"}),{autoFocus:s,onViewChange:a,date:l,disableFuture:c,disablePast:u,defaultCalendarMonth:d,loading:p=!1,onChange:f,onYearChange:m,onMonthChange:g,reduceAnimations:y=P4,renderLoading:b=()=>v.jsx("span",{children:"..."}),shouldDisableDate:x,shouldDisableMonth:C,shouldDisableYear:E,view:k,views:w=["year","day"],openTo:M="day",className:T,disabled:D,readOnly:P,minDate:U=o.minDate,maxDate:N=o.maxDate}=i,q=tt(i,D4),{openView:R,setOpenView:B,openNext:z}=Ah({view:k,views:w,openTo:M,onChange:f,onViewChange:a}),{calendarState:I,changeFocusedDay:oe,changeMonth:me,handleChangeMonth:te,isDateDisabled:G,onMonthSwitchingAnimationEnd:X}=K5({date:l,defaultCalendarMonth:d,reduceAnimations:y,onMonthChange:g,minDate:U,maxDate:N,shouldDisableDate:x,disablePast:u,disableFuture:c}),ie=h.useCallback((pe,he)=>{const ke=r.startOfMonth(pe),Te=r.endOfMonth(pe),$=G(pe)?hd({utils:r,date:pe,minDate:r.isBefore(U,ke)?ke:U,maxDate:r.isAfter(N,Te)?Te:N,disablePast:u,disableFuture:c,isDateDisabled:G}):pe;$?(f($,he),g==null||g(ke)):(z(),me(ke)),oe($)},[oe,c,u,G,N,U,f,g,me,z,r]),Y=h.useCallback((pe,he)=>{const ke=r.startOfYear(pe),Te=r.endOfYear(pe),$=G(pe)?hd({utils:r,date:pe,minDate:r.isBefore(U,ke)?ke:U,maxDate:r.isAfter(N,Te)?Te:N,disablePast:u,disableFuture:c,isDateDisabled:G}):pe;$?(f($,he),m==null||m($)):(z(),me(ke)),oe($)},[oe,c,u,G,N,U,f,m,z,r,me]),S=h.useCallback((pe,he)=>f(l&&pe?r.mergeDateAndTime(pe,l):pe,he),[r,l,f]);h.useEffect(()=>{if(l&&G(l)){const pe=hd({utils:r,date:l,minDate:U,maxDate:N,disablePast:u,disableFuture:c,isDateDisabled:G});f(pe,"partial")}},[]),h.useEffect(()=>{l&&me(l)},[l]);const A=i,j=I4(A),H={disablePast:u,disableFuture:c,maxDate:N,minDate:U},V=D&&l||U,fe=D&&l||N;return v.jsxs($4,{ref:n,className:nn(j.root,T),ownerState:A,children:[v.jsx(w4,J({},q,{views:w,openView:R,currentMonth:I.currentMonth,onViewChange:B,onMonthChange:(pe,he)=>te({newMonth:pe,direction:he}),minDate:V,maxDate:fe,disabled:D,disablePast:u,disableFuture:c,reduceAnimations:y})),v.jsx(N4,{reduceAnimations:y,className:j.viewTransitionContainer,transKey:R,ownerState:A,children:v.jsxs("div",{children:[R==="year"&&v.jsx(A4,J({},q,H,{autoFocus:s,date:l,onChange:Y,shouldDisableYear:E,disabled:D,readOnly:P})),R==="month"&&v.jsx(V5,J({},H,{className:T,date:l,onChange:ie,disabled:D,readOnly:P,shouldDisableMonth:C})),R==="day"&&v.jsx(h4,J({},q,I,H,{autoFocus:s,onMonthSwitchingAnimationEnd:X,onFocusedDayChange:oe,reduceAnimations:y,selectedDays:[l],onSelectedDaysChange:S,loading:p,renderLoading:b,disabled:D,readOnly:P,shouldDisableDate:x}))]})})]})}),F4=t=>{const[,e]=h.useReducer(l=>l+1,0),n=h.useRef(null),{replace:r,append:o}=t,i=r?r(t.format(t.value)):t.format(t.value),s=h.useRef(!1),a=l=>{const c=l.target.value;n.current=[c,l.target,c.length>i.length,s.current,i===t.format(c)],e()};return h.useLayoutEffect(()=>{if(n.current==null)return;let[l,c,u,d,p]=n.current;n.current=null;const f=d&&p,g=l.slice(c.selectionStart).search(t.accept||/\d/g),y=g!==-1?g:0,b=w=>(w.match(t.accept||/\d/g)||[]).join(""),x=b(l.substr(0,c.selectionStart)),C=w=>{let M=0,T=0;for(let D=0;D!==x.length;++D){let P=w.indexOf(x[D],M)+1,U=b(w).indexOf(x[D],T)+1;U-T>1&&(P=M,U=T),T=Math.max(U,T),M=Math.max(M,P)}return M};if(t.mask===!0&&u&&!p){let w=C(l);const M=b(l.substr(w))[0];w=l.indexOf(M,w),l=`${l.substr(0,w)}${l.substr(w+1)}`}let E=t.format(l);o!=null&&c.selectionStart===l.length&&!p&&(u?E=o(E):b(E.slice(-1))===""&&(E=E.slice(0,-1)));const k=r?r(E):E;return i===k?e():t.onChange(k),()=>{let w=C(E);if(t.mask!=null&&(u||d&&!f))for(;E[w]&&b(E[w])==="";)w+=1;c.selectionStart=c.selectionEnd=w+(f?1+y:0)}}),h.useEffect(()=>{const l=u=>{u.code==="Delete"&&(s.current=!0)},c=u=>{u.code==="Delete"&&(s.current=!1)};return document.addEventListener("keydown",l),document.addEventListener("keyup",c),()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",c)}},[]),{value:n.current!=null?n.current[0]:i,onChange:a}},Ip=(t,e,n)=>{const r=t.date(e);return e===null?"":t.isValid(r)?t.formatByString(r,n):""},cc="_",Cw="2019-11-21T22:30:00.000",Sw="2019-01-01T09:00:00.000";function B4(t,e,n,r){if(t)return t;const i=r.formatByString(r.date(Sw),e).replace(n,cc),s=r.formatByString(r.date(Cw),e).replace(n,"_");return i===s?i:""}function j4(t,e,n,r){if(!t)return!1;const i=r.formatByString(r.date(Sw),e).replace(n,cc),s=r.formatByString(r.date(Cw),e).replace(n,"_"),a=s===i&&t===s;return!a&&r.lib,a}const z4=(t,e)=>n=>{let r=0;return n.split("").map((o,i)=>{if(e.lastIndex=0,r>t.length-1)return"";const s=t[r],a=t[r+1],l=e.test(o)?o:"",c=s===cc?l:s+l;return r+=c.length,i===n.length-1&&a&&a!==cc?c?c+a:"":c}).join("")},H4=({acceptRegex:t=/[\d]/gi,disabled:e,disableMaskedInput:n,ignoreInvalidInputs:r,inputFormat:o,inputProps:i,label:s,mask:a,onChange:l,rawValue:c,readOnly:u,rifmFormatter:d,TextFieldProps:p,validationError:f})=>{const m=Bt(),g=m.getFormatHelperText(o),{shouldUseMaskedInput:y,maskToUse:b}=h.useMemo(()=>{if(n)return{shouldUseMaskedInput:!1,maskToUse:""};const N=B4(a,o,t,m);return{shouldUseMaskedInput:j4(N,o,t,m),maskToUse:N}},[t,n,o,a,m]),x=h.useMemo(()=>y&&b?z4(b,t):N=>N,[t,b,y]),C=c===null?null:m.date(c),[E,k]=h.useState(C),[w,M]=h.useState(Ip(m,c,o)),T=h.useRef();h.useEffect(()=>{const N=c!==T.current;if(T.current=c,!N)return;const q=c===null?null:m.date(c);if(!(c===null||m.isValid(q))||m.isEqual(E,q))return;const B=Ip(m,c,o);k(q),M(B)},[m,c,o,E]);const D=N=>{const q=N===""||N===a?"":N;M(q);const R=q===null?null:m.parse(q,o);r&&!m.isValid(R)||(k(R),l(R,q||void 0))},P=F4({value:w,onChange:D,format:d||x});return J({label:s,disabled:e,error:f,inputProps:J({},y?P:{value:w,onChange:N=>{D(N.currentTarget.value)}},{disabled:e,placeholder:g,readOnly:u,type:y?"tel":"text"},i)},p)},V4=["components","disableOpenPicker","getOpenDialogAriaText","InputAdornmentProps","InputProps","inputRef","openPicker","OpenPickerButtonProps","renderInput"],Dh=h.forwardRef(function(e,n){const{components:r={},disableOpenPicker:o,getOpenDialogAriaText:i,InputAdornmentProps:s,InputProps:a,inputRef:l,openPicker:c,OpenPickerButtonProps:u,renderInput:d}=e,p=tt(e,V4),f=xs(),m=i??f.openDatePickerDialogue,g=Bt(),y=H4(p),b=(s==null?void 0:s.position)||"end",x=r.OpenPickerIcon||Q1;return d(J({ref:n,inputRef:l},y,{InputProps:J({},a,{[`${b}Adornment`]:o?void 0:v.jsx(ha,J({position:b},s,{children:v.jsx(Mo,J({edge:b,disabled:p.disabled||p.readOnly,"aria-label":m(p.rawValue,g)},u,{onClick:c,children:v.jsx(x,{})}))}))})}))});function e0(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const W4=(t,e)=>{const[n,r]=h.useState(e0);return Nf(()=>{const i=()=>{r(e0())};return window.addEventListener("orientationchange",i),()=>{window.removeEventListener("orientationchange",i)}},[]),No(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},U4=["autoFocus","className","parsedValue","DateInputProps","isMobileKeyboardViewOpen","onDateChange","onViewChange","openTo","orientation","showToolbar","toggleMobileKeyboardView","ToolbarComponent","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],G4=Ee("div")({padding:"16px 24px"}),K4=Ee("div")(({ownerState:t})=>J({display:"flex",flexDirection:"column"},t.isLandscape&&{flexDirection:"row"})),q4={fullWidth:!0},t0=t=>t==="year"||t==="month"||t==="day",n0=t=>t==="hours"||t==="minutes"||t==="seconds";function Ih(t){const{autoFocus:e,parsedValue:n,DateInputProps:r,isMobileKeyboardViewOpen:o,onDateChange:i,onViewChange:s,openTo:a,orientation:l,showToolbar:c,toggleMobileKeyboardView:u,ToolbarComponent:d=()=>null,toolbarFormat:p,toolbarPlaceholder:f,toolbarTitle:m,views:g}=t,y=tt(t,U4),b=W4(g,l),x=h.useContext(fi),C=c??x!=="desktop",E=h.useCallback((D,P)=>{i(D,x,P)},[i,x]),k=h.useCallback(D=>{o&&u(),s&&s(D)},[o,s,u]),{openView:w,setOpenView:M,handleChangeAndOpenNext:T}=Ah({view:void 0,views:g,openTo:a,onChange:E,onViewChange:k});return v.jsxs(K4,{ownerState:{isLandscape:b},children:[C&&v.jsx(d,J({},y,{views:g,isLandscape:b,parsedValue:n,onChange:E,setOpenView:M,openView:w,toolbarTitle:m,toolbarFormat:p,toolbarPlaceholder:f,isMobileKeyboardViewOpen:o,toggleMobileKeyboardView:u})),v.jsx(Rh,{children:o?v.jsx(G4,{children:v.jsx(Dh,J({},r,{ignoreInvalidInputs:!0,disableOpenPicker:!0,TextFieldProps:q4}))}):v.jsxs(h.Fragment,{children:[t0(w)&&v.jsx(_4,J({autoFocus:e,date:n,onViewChange:M,onChange:T,view:w,views:g.filter(t0)},y)),n0(w)&&v.jsx($5,J({},y,{autoFocus:e,date:n,view:w,views:g.filter(n0),onChange:T,onViewChange:M,showViewSwitcher:x==="desktop"}))]})})]})}const Y4=({open:t,onOpen:e,onClose:n})=>{const r=h.useRef(typeof t=="boolean").current,[o,i]=h.useState(!1);h.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");i(t)}},[r,t]);const s=h.useCallback(a=>{r||i(a),a&&e&&e(),!a&&n&&n()},[r,e,n]);return{isOpen:o,setIsOpen:s}},$h=(t,e)=>{const{onAccept:n,onChange:r,value:o,closeOnSelect:i}=t,s=Bt(),{isOpen:a,setIsOpen:l}=Y4(t),c=h.useMemo(()=>e.parseInput(s,o),[e,s,o]),[u,d]=h.useState(c),[p,f]=h.useState(()=>({committed:c,draft:c,resetFallback:c})),m=h.useCallback(w=>{f(M=>{switch(w.action){case"setAll":case"acceptAndClose":return{draft:w.value,committed:w.value,resetFallback:w.value};case"setCommitted":return J({},M,{draft:w.value,committed:w.value});case"setDraft":return J({},M,{draft:w.value});default:return M}}),!w.skipOnChangeCall&&!e.areValuesEqual(s,p.committed,w.value)&&r(w.value),w.action==="acceptAndClose"&&(l(!1),n&&!e.areValuesEqual(s,p.resetFallback,w.value)&&n(w.value))},[n,r,l,p,s,e]);h.useEffect(()=>{s.isValid(c)&&d(c)},[s,c]),h.useEffect(()=>{a&&m({action:"setAll",value:c,skipOnChangeCall:!0})},[a]),e.areValuesEqual(s,p.committed,c)||m({action:"setCommitted",value:c,skipOnChangeCall:!0});const g=h.useMemo(()=>({open:a,onClear:()=>{m({value:e.emptyValue,action:"acceptAndClose"})},onAccept:()=>{m({value:p.draft,action:"acceptAndClose"})},onDismiss:()=>{m({value:p.committed,action:"acceptAndClose"})},onCancel:()=>{m({value:p.resetFallback,action:"acceptAndClose"})},onSetToday:()=>{m({value:e.getTodayValue(s),action:"acceptAndClose"})}}),[m,a,s,p,e]),[y,b]=h.useState(!1),x=h.useMemo(()=>({parsedValue:p.draft,isMobileKeyboardViewOpen:y,toggleMobileKeyboardView:()=>b(!y),onDateChange:(w,M,T="partial")=>{switch(T){case"shallow":return m({action:"setDraft",value:w,skipOnChangeCall:!0});case"partial":return m({action:"setDraft",value:w});case"finish":return m(i??M==="desktop"?{value:w,action:"acceptAndClose"}:{value:w,action:"setCommitted"});default:throw new Error("MUI: Invalid selectionState passed to `onDateChange`")}}}),[m,y,p.draft,i]),C=h.useCallback((w,M)=>{const T=e.valueReducer?e.valueReducer(s,u,w):w;r(T,M)},[r,e,u,s]),E=h.useMemo(()=>({onChange:C,open:a,rawValue:o,openPicker:()=>l(!0)}),[C,a,o,l]),k={pickerProps:x,inputProps:E,wrapperProps:g};return h.useDebugValue(k,()=>({MuiPickerState:{dateState:p,other:k}})),k},J4=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],Z4=h.forwardRef(function(e,n){const r=JB(e,"MuiDesktopDatePicker"),o=U5(r)!==null,{pickerProps:i,inputProps:s,wrapperProps:a}=$h(r,ZB),{PopperProps:l,PaperProps:c,ToolbarComponent:u=Zj,TransitionComponent:d,components:p,componentsProps:f}=r,m=tt(r,J4),g=J({},s,m,{components:p,componentsProps:f,ref:n,validationError:o});return v.jsx(rw,J({},a,{DateInputProps:g,KeyboardDateInputComponent:Dh,PopperProps:l,PaperProps:c,TransitionComponent:d,components:p,componentsProps:f,children:v.jsx(Ih,J({},i,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:u,DateInputProps:g,components:p,componentsProps:f},m))}))}),X4={"& .MuiPaper-root":{border:`2px solid ${_.newColors.grey2[100]}`,boxShadow:"0px 1px 5px rgba(26, 26, 26, 0.161)"},"& .MuiPickersDay-today":{color:`${_.newColors.realTeal[100]} !important`,border:"none !important",fontFamily:_.fontFamily,fontWeight:_.fontWeight.bold,backgroundColor:"transparent !important","&:hover":{color:_.newColors.realTeal[100],backgroundColor:`${_.colors.tealOpacity} !important`}},"& .MuiPickersDay-dayWithMargin":{color:_.newColors.almostBlack[100],fontFamily:_.fontFamily,"&:hover":{color:_.newColors.realTeal[100],backgroundColor:_.colors.tealOpacity,fontWeight:_.fontWeight.bold}},"& .MuiIconButton-edgeStart, .MuiIconButton-edgeEnd":{color:_.newColors.grey4[100]},"& .MuiPickersDay-root.Mui-selected":{backgroundColor:`${_.newColors.realTeal[100]} !important`,color:"#FFFF !important",fontWeight:_.fontWeight.bold,"&:hover":{color:"#FFFF !important",backgroundColor:`${_.newColors.realTeal[100]} !important`}},"& .MuiCalendarPicker-root > div:first-of-type":{marginBottom:"16px",paddingLeft:"16px",paddingRight:"16px"}},kw=Q.div`
	min-width: 0;

  	.MuiOutlinedInput-root {
		padding-right: 16px;

		& fieldset {
			border-radius: 0;
			border: ${({$isPickerOpen:t})=>t?`1px solid ${_.newColors.almostBlack[100]}`:_.borders.simplyGrey};
		}

		${({$disabled:t})=>t?`
			background-color: ${_.colors.disableBackground};
		`:`
			background-color: ${_.newColors.grey1[100]};
			&:hover {
				& fieldset {
					border-color: ${_.newColors.simplyGrey[100]};
				}
			}
		`}

		&.Mui-disabled fieldset.MuiOutlinedInput-notchedOutline{
			border-color: ${_.colors.disableBorder};
		}

		.MuiOutlinedInput-input {
			height: ${_.fieldSpecs.inputText.height};
			padding: ${_.fieldSpecs.inputText.padding};
		}

		&.Mui-focused fieldset {
			border-color: ${_.newColors.almostBlack[100]};
			border-width: 1px;
		}
  	}

	.MuiIconButton-root {
		color: ${({$isPickerOpen:t})=>t?_.newColors.almostBlack[100]:_.newColors.grey3[100]};
	}
`,Q4=Q(Pf)`
	width: 100%;
`,e6=t=>{var p,f;const{fieldDef:e,onChange:n,value:r=null,onBlur:o,disabled:i,inputRef:s,id:a}=t,[l,c]=h.useState(!1),u=async()=>{c(!l),l&&o&&o()},d=m=>{var g;return v.jsx(Q4,{...m,id:a,onBlur:o,required:e.required,disabled:i,inputProps:{...m.inputProps,ref:s,placeholder:(g=e==null?void 0:e.inputSettings)==null?void 0:g.placeholder}})};return v.jsx(U1,{dateAdapter:H1,children:v.jsx(kw,{"data-testid":"date-picker-test-id",$isPickerOpen:l,$disabled:i,children:v.jsx(Z4,{renderInput:d,inputFormat:Yi,value:r,onChange:n,onOpen:u,onClose:u,PopperProps:{sx:X4},minDate:(p=e==null?void 0:e.inputSettings)==null?void 0:p.minDate,maxDate:(f=e==null?void 0:e.inputSettings)==null?void 0:f.maxDate,disabled:i})})})},t6=Q.div`
	display: flex;
	flex-direction: column;
`;function n6(){return v.jsx(Xe,{variant:"rectangular",width:"100%",height:43})}const r6=t=>{const{fieldDef:e,onChange:n,value:r,onBlur:o,disabled:i,error:s,inputRef:a,skeleton:l,id:c}=t,{inputSettings:{minDate:u,maxDate:d}={}}=e,p=h.useMemo(()=>r||{date:null,keyboardInputValue:void 0},[r]),f=(m,g)=>n({date:m,keyboardInputValue:g});return l?v.jsx(n6,{}):v.jsx(t6,{children:v.jsx(e6,{id:c,error:s,onChange:f,fieldDef:{name:e==null?void 0:e.name,label:"",type:"",inputSettings:{placeholder:sT,minDate:u,maxDate:d},required:e==null?void 0:e.required},value:p==null?void 0:p.date,onBlur:o,disabled:i,inputRef:a})})},o6=h.memo(r6);function Mw(t,e){var n;const r=Yr({props:t,name:e}),o=Bt(),i=(n=r.ampm)!=null?n:o.is12HourCycleInCurrentLocale(),a=xs().openTimePickerDialogue;return J({ampm:i,openTo:"hours",views:["hours","minutes"],acceptRegex:i?/[\dapAP]/gi:/\d/gi,disableMaskedInput:!1,getOpenDialogAriaText:a,inputFormat:i?o.formats.fullTime12h:o.formats.fullTime24h},r,{components:J({OpenPickerIcon:ew},r.components)})}const Ew={emptyValue:null,parseInput:G1,getTodayValue:t=>t.date(),areValuesEqual:(t,e,n)=>t.isEqual(e,n),valueReducer:(t,e,n)=>!e||!t.isValid(n)?n:t.mergeDateAndTime(e,n)},i6=["className","selected","value"],Tw=At("PrivatePickersToolbarText",["selected"]),s6=Ee(xo)(({theme:t})=>({transition:t.transitions.create("color"),color:t.palette.text.secondary,[`&.${Tw.selected}`]:{color:t.palette.text.primary}})),Ow=h.forwardRef(function(e,n){const{className:r,selected:o,value:i}=e,s=tt(e,i6);return v.jsx(s6,J({ref:n,className:nn(r,o&&Tw.selected),component:"span"},s,{children:i}))}),a6=["align","className","selected","typographyClassName","value","variant"],l6=Ee(Is)({padding:0,minWidth:16,textTransform:"none"}),Os=h.forwardRef(function(e,n){const{align:r,className:o,selected:i,typographyClassName:s,value:a,variant:l}=e,c=tt(e,a6);return v.jsx(l6,J({variant:"text",ref:n,className:o},c,{children:v.jsx(Ow,{align:r,className:s,variant:l,value:a,selected:i})}))});function c6(t){return En("MuiTimePickerToolbar",t)}const u6=At("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),d6=["ampm","ampmInClock","parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","openView","setOpenView","toggleMobileKeyboardView","toolbarTitle","views","disabled","readOnly"],p6=t=>{const{theme:e,isLandscape:n,classes:r}=t,o={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",n&&"hourMinuteLabelLandscape",e.direction==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",n&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return Tn(o,c6,r)},f6=Ee(tw,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({[`& .${Zi.penIconButtonLandscape}`]:{marginTop:"auto"}}),h6=Ee(Ow,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(t,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),m6=Ee("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,e)=>e.hourMinuteLabel})(({theme:t,ownerState:e})=>J({display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},e.isLandscape&&{marginTop:"auto"},t.direction==="rtl"&&{flexDirection:"row-reverse"})),g6=Ee("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>e.ampmSelection})(({ownerState:t})=>J({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12},t.isLandscape&&{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},{[`& .${u6.ampmLabel}`]:{fontSize:17}})),Lw=t=>{const{ampm:e,ampmInClock:n,parsedValue:r,isLandscape:o,isMobileKeyboardViewOpen:i,onChange:s,openView:a,setOpenView:l,toggleMobileKeyboardView:c,toolbarTitle:u="Select time",views:d,disabled:p,readOnly:f}=t,m=tt(t,d6),g=Bt(),y=ms(),b=!!(e&&!n),{meridiemMode:x,handleMeridiemChange:C}=pw(r,e,s),E=T=>e?g.format(T,"hours12h"):g.format(T,"hours24h"),k=t,w=p6(J({},k,{theme:y})),M=v.jsx(h6,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:w.separator});return v.jsxs(f6,J({viewType:"clock",landscapeDirection:"row",toolbarTitle:u,isLandscape:o,isMobileKeyboardViewOpen:i,toggleMobileKeyboardView:c,ownerState:k,className:w.root},m,{children:[v.jsxs(m6,{className:w.hourMinuteLabel,ownerState:k,children:[No(d,"hours")&&v.jsx(Os,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:a==="hours",value:r?E(r):"--"}),No(d,["hours","minutes"])&&M,No(d,"minutes")&&v.jsx(Os,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:a==="minutes",value:r?g.format(r,"minutes"):"--"}),No(d,["minutes","seconds"])&&M,No(d,"seconds")&&v.jsx(Os,{variant:"h3",onClick:()=>l("seconds"),selected:a==="seconds",value:r?g.format(r,"seconds"):"--"})]}),b&&v.jsxs(g6,{className:w.ampmSelection,ownerState:k,children:[v.jsx(Os,{disableRipple:!0,variant:"subtitle2",selected:x==="am",typographyClassName:w.ampmLabel,value:g.getMeridiemText("am"),onClick:f?void 0:()=>C("am"),disabled:p}),v.jsx(Os,{disableRipple:!0,variant:"subtitle2",selected:x==="pm",typographyClassName:w.ampmLabel,value:g.getMeridiemText("pm"),onClick:f?void 0:()=>C("pm"),disabled:p})]})]}))},v6=({adapter:t,value:e,props:n})=>{const{minTime:r,maxTime:o,minutesStep:i,shouldDisableTime:s,disableIgnoringDatePartForTimeValidation:a}=n,l=t.utils.date(e),c=dw(a,t.utils);if(e===null)return null;switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(r&&c(r,l)):return"minTime";case!!(o&&c(l,o)):return"maxTime";case!!(s&&s(t.utils.getHours(l),"hours")):return"shouldDisableTime-hours";case!!(s&&s(t.utils.getMinutes(l),"minutes")):return"shouldDisableTime-minutes";case!!(s&&s(t.utils.getSeconds(l),"seconds")):return"shouldDisableTime-seconds";case!!(i&&t.utils.getMinutes(l)%i!==0):return"minutesStep";default:return null}},y6=(t,e)=>t===e,Aw=t=>hw(t,v6,y6),b6=["onChange","PaperProps","PopperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],x6=h.forwardRef(function(e,n){const r=Mw(e,"MuiDesktopTimePicker"),o=Aw(r)!==null,{pickerProps:i,inputProps:s,wrapperProps:a}=$h(r,Ew),{PaperProps:l,PopperProps:c,ToolbarComponent:u=Lw,TransitionComponent:d,components:p,componentsProps:f}=r,m=tt(r,b6),g=J({},s,m,{components:p,componentsProps:f,ref:n,validationError:o});return v.jsx(rw,J({},a,{DateInputProps:g,KeyboardDateInputComponent:Dh,PopperProps:c,PaperProps:l,TransitionComponent:d,components:p,componentsProps:f,children:v.jsx(Ih,J({},i,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:u,DateInputProps:g,components:p,componentsProps:f},m))}))}),w6=Ee(hT)({[`& .${Pg.container}`]:{outline:0},[`& .${Pg.paper}`]:{outline:0,minWidth:fw}}),C6=Ee(mT)({"&:first-of-type":{padding:0}}),S6=t=>{var e;const{children:n,DialogProps:r={},onAccept:o,onClear:i,onDismiss:s,onCancel:a,onSetToday:l,open:c,components:u,componentsProps:d}=t,p=(e=u==null?void 0:u.ActionBar)!=null?e:nw;return v.jsxs(w6,J({open:c,onClose:s},r,{children:[v.jsx(C6,{children:n}),v.jsx(p,J({onAccept:o,onClear:i,onCancel:a,onSetToday:l,actions:["cancel","accept"]},d==null?void 0:d.actionBar))]}))},k6=["children","DateInputProps","DialogProps","onAccept","onClear","onDismiss","onCancel","onSetToday","open","PureDateInputComponent","components","componentsProps"];function M6(t){const{children:e,DateInputProps:n,DialogProps:r,onAccept:o,onClear:i,onDismiss:s,onCancel:a,onSetToday:l,open:c,PureDateInputComponent:u,components:d,componentsProps:p}=t,f=tt(t,k6);return v.jsxs(fi.Provider,{value:"mobile",children:[v.jsx(u,J({components:d},f,n)),v.jsx(S6,{DialogProps:r,onAccept:o,onClear:i,onDismiss:s,onCancel:a,onSetToday:l,open:c,components:d,componentsProps:p,children:e})]})}const E6=h.forwardRef(function(e,n){const{disabled:r,getOpenDialogAriaText:o,inputFormat:i,InputProps:s,inputRef:a,label:l,openPicker:c,rawValue:u,renderInput:d,TextFieldProps:p={},validationError:f}=e,m=xs(),g=o??m.openDatePickerDialogue,y=Bt(),b=h.useMemo(()=>J({},s,{readOnly:!0}),[s]),x=Ip(y,u,i);return d(J({label:l,disabled:r,ref:n,inputRef:a,error:f,InputProps:b,inputProps:J({disabled:r,readOnly:!0,"aria-readonly":!0,"aria-label":g(u,y),value:x},!e.readOnly&&{onClick:c},{onKeyDown:ow(c)})},p))}),T6=["ToolbarComponent","value","onChange","components","componentsProps"],O6=h.forwardRef(function(e,n){const r=Mw(e,"MuiMobileTimePicker"),o=Aw(r)!==null,{pickerProps:i,inputProps:s,wrapperProps:a}=$h(r,Ew),{ToolbarComponent:l=Lw,components:c,componentsProps:u}=r,d=tt(r,T6),p=J({},s,d,{components:c,componentsProps:u,ref:n,validationError:o});return v.jsx(M6,J({},d,a,{DateInputProps:p,PureDateInputComponent:E6,components:c,componentsProps:u,children:v.jsx(Ih,J({},i,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:l,DateInputProps:p,components:c,componentsProps:u},d))}))}),L6=["desktopModeMediaQuery","DialogProps","PopperProps","TransitionComponent"],A6=h.forwardRef(function(e,n){const r=Yr({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:o="@media (pointer: fine)",DialogProps:i,PopperProps:s,TransitionComponent:a}=r,l=tt(r,L6);return vT(o)?v.jsx(x6,J({ref:n,PopperProps:s,TransitionComponent:a},l)):v.jsx(O6,J({ref:n,DialogProps:i},l))}),P6=EE({palette:{primary:{main:_.newColors.realTeal[100]}}}),R6=t=>{const{fieldDef:e,onChange:n,value:r=null,onBlur:o,disabled:i,inputRef:s,id:a}=t,[l,c]=h.useState(!1),u=h.useCallback(async()=>{c(p=>(p&&o&&o(),!p))},[o]),d=p=>{var f;return v.jsx(Pf,{...p,id:a,onBlur:o,required:e.required,disabled:i,inputProps:{...p.inputProps,placeholder:(f=e==null?void 0:e.inputSettings)==null?void 0:f.placeholder,ref:s}})};return v.jsx(U1,{dateAdapter:H1,children:v.jsx(WT,{theme:P6,children:v.jsx(kw,{$isPickerOpen:l,$disabled:i,children:v.jsx(A6,{value:r,onChange:n,renderInput:d,onOpen:u,onClose:u,disabled:i})})})})};function D6(t){if(Array.isArray(t))return t;const[e,n]=t.split(":");if(!e||e.length!==2||!n||n.length!==2)throw new Error(`${t} is not a valid 24hr time. It must contain hour and minute components separated by a colon.`);const r=Number(e),o=Number(n);if(r!==r||r<0||r>23||o!==o||o<0||o>59)throw new Error(`${t} is not a valid 24hr time`);return[r,o,0,0]}function Nh(t,e){const n=new Date(t.getTime()),[r,o,i]=typeof e=="string"?D6(e):Array.isArray(e)?e:[e.getHours(),e.getMinutes(),e.getSeconds()];return n.setHours(r,o,i,0),n}function I6(t){if(!t)return;const e=t.getTime();if(e===e)return t}function Pw(t,e){const n=j1(t,e,new Date);return Dx(n)&&qi(n,e)===t}function ba(){return{internalData:{},data:{},errors:{},disabled:!0,touched:{},submitWarning:{open:!1,lead:"",reasons:[]},waits:[],loadingInitial:!0}}function $6(){return{...ba(),initialData:{},fields:{},mounted:{},hasBlurred:{},hasSubmitted:!1,moveToError:!1,loadingInitial:!0}}function dr(t){return function(){throw new Error(t)}}const hi=h.createContext({state:ba(),methods:{addWait:dr("addWait requires a FormContext provider"),disableForm:dr("disableForm requires a FormContext provider"),init:dr("init requires a FormContext provider"),mountField:dr("mountField requires a FormContext provider"),removeWait:dr("removeWait requires a FormContext provider"),reset:dr("reset requires a FormContext provider"),setFieldBlur:dr("setFieldBlur requires a FormContext provider"),setFieldValue:dr("setFieldValue requires a FormContext provider"),setFormValues:dr("setFormValues requires a FormContext provider"),setSubmitWarning:dr("setSubmitWarning requires a FormContext provider"),submitForm:dr("submitForm requires a FormContext provider")}}),N6=t=>{const{fieldDef:e,onChange:n,value:r,onBlur:o,disabled:i,error:s,inputRef:a,id:l,skeleton:c,path:u}=t,{inputSettings:d={}}=e,{defaultTime:p}=d,f=h.useMemo(()=>r||{time:null,keyboardInputValue:void 0},[r]),{state:m}=h.useContext(hi),g=h.useMemo(()=>ar(m.internalData,[...u||[],"date"]),[m,u]);h.useEffect(()=>{n(b=>{if(!(!b||b.usingDefaultTime)||!p)return b;if(g!=null&&g.date)return{time:Nh(new Date,p),validTime:!0,usingDefaultTime:!0}})},[g,p,n]);const y=(b,x)=>n({time:b,keyboardInputValue:x,usingDefaultTime:!b||!I6(b)});return c?v.jsx(Xe,{variant:"rectangular",width:"100%",height:43}):v.jsx(R6,{id:l,error:s,onChange:y,fieldDef:{name:e==null?void 0:e.name,label:"",type:"timePicker",inputSettings:{placeholder:aT}},value:f==null?void 0:f.time,onBlur:o,disabled:i,inputRef:a})},_6=h.memo(N6);var Rw={};(function(t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(Rw);var md,r0;function _h(){return r0||(r0=1,md={}),md}var Zt=Rw,F6=_h(),o0=Array.prototype.push;function B6(t,e){return e==2?function(n,r){return t.apply(void 0,arguments)}:function(n){return t.apply(void 0,arguments)}}function gd(t,e){return e==2?function(n,r){return t(n,r)}:function(n){return t(n)}}function i0(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function j6(t){return function(e){return t({},e)}}function z6(t,e){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var i=o[e],s=o.slice(0,e);return i&&o0.apply(s,i),e!=r&&o0.apply(s,o.slice(e+1)),t.apply(this,s)}}function vd(t,e){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=e.apply(void 0,r);return t.apply(void 0,r),o}}}function $p(t,e,n,r){var o=typeof e=="function",i=e===Object(e);if(i&&(r=n,n=e,e=void 0),n==null)throw new TypeError;r||(r={});var s={cap:"cap"in r?r.cap:!0,curry:"curry"in r?r.curry:!0,fixed:"fixed"in r?r.fixed:!0,immutable:"immutable"in r?r.immutable:!0,rearg:"rearg"in r?r.rearg:!0},a=o?n:F6,l="curry"in r&&r.curry,c="fixed"in r&&r.fixed,u="rearg"in r&&r.rearg,d=o?n.runInContext():void 0,p=o?n:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},f=p.ary,m=p.assign,g=p.clone,y=p.curry,b=p.forEach,x=p.isArray,C=p.isError,E=p.isFunction,k=p.isWeakMap,w=p.keys,M=p.rearg,T=p.toInteger,D=p.toPath,P=w(Zt.aryMethod),U={castArray:function(S){return function(){var A=arguments[0];return x(A)?S(i0(A)):S.apply(void 0,arguments)}},iteratee:function(S){return function(){var A=arguments[0],j=arguments[1],H=S(A,j),V=H.length;return s.cap&&typeof j=="number"?(j=j>2?j-2:1,V&&V<=j?H:gd(H,j)):H}},mixin:function(S){return function(A){var j=this;if(!E(j))return S(j,Object(A));var H=[];return b(w(A),function(V){E(A[V])&&H.push([V,j.prototype[V]])}),S(j,Object(A)),b(H,function(V){var fe=V[1];E(fe)?j.prototype[V[0]]=fe:delete j.prototype[V[0]]}),j}},nthArg:function(S){return function(A){var j=A<0?1:T(A)+1;return y(S(A),j)}},rearg:function(S){return function(A,j){var H=j?j.length:0;return y(S(A,j),H)}},runInContext:function(S){return function(A){return $p(t,S(A),r)}}};function N(S,A){if(s.cap){var j=Zt.iterateeRearg[S];if(j)return te(A,j);var H=!o&&Zt.iterateeAry[S];if(H)return me(A,H)}return A}function q(S,A,j){return l||s.curry&&j>1?y(A,j):A}function R(S,A,j){if(s.fixed&&(c||!Zt.skipFixed[S])){var H=Zt.methodSpread[S],V=H&&H.start;return V===void 0?f(A,j):z6(A,V)}return A}function B(S,A,j){return s.rearg&&j>1&&(u||!Zt.skipRearg[S])?M(A,Zt.methodRearg[S]||Zt.aryRearg[j]):A}function z(S,A){A=D(A);for(var j=-1,H=A.length,V=H-1,fe=g(Object(S)),pe=fe;pe!=null&&++j<H;){var he=A[j],ke=pe[he];ke!=null&&!(E(ke)||C(ke)||k(ke))&&(pe[he]=g(j==V?ke:Object(ke))),pe=pe[he]}return fe}function I(S){return ie.runInContext.convert(S)(void 0)}function oe(S,A){var j=Zt.aliasToReal[S]||S,H=Zt.remap[j]||j,V=r;return function(fe){var pe=o?d:p,he=o?d[H]:A,ke=m(m({},V),fe);return $p(pe,j,he,ke)}}function me(S,A){return G(S,function(j){return typeof j=="function"?gd(j,A):j})}function te(S,A){return G(S,function(j){var H=A.length;return B6(M(gd(j,H),A),H)})}function G(S,A){return function(){var j=arguments.length;if(!j)return S();for(var H=Array(j);j--;)H[j]=arguments[j];var V=s.rearg?0:j-1;return H[V]=A(H[V]),S.apply(void 0,H)}}function X(S,A,j){var H,V=Zt.aliasToReal[S]||S,fe=A,pe=U[V];return pe?fe=pe(A):s.immutable&&(Zt.mutate.array[V]?fe=vd(A,i0):Zt.mutate.object[V]?fe=vd(A,j6(A)):Zt.mutate.set[V]&&(fe=vd(A,z))),b(P,function(he){return b(Zt.aryMethod[he],function(ke){if(V==ke){var Te=Zt.methodSpread[V],$=Te&&Te.afterRearg;return H=$?R(V,B(V,fe,he),he):B(V,R(V,fe,he),he),H=N(V,H),H=q(V,H,he),!1}}),!H}),H||(H=fe),H==A&&(H=l?y(H,1):function(){return A.apply(this,arguments)}),H.convert=oe(V,A),H.placeholder=A.placeholder=j,H}if(!i)return X(e,n,a);var ie=n,Y=[];return b(P,function(S){b(Zt.aryMethod[S],function(A){var j=ie[Zt.remap[A]||A];j&&Y.push([A,X(A,j,ie)])})}),b(w(ie),function(S){var A=ie[S];if(typeof A=="function"){for(var j=Y.length;j--;)if(Y[j][0]==S)return;A.convert=oe(S,A),Y.push([S,A])}}),b(Y,function(S){ie[S[0]]=S[1]}),ie.convert=I,ie.placeholder=ie,b(w(ie),function(S){b(Zt.realToAlias[S]||[],function(A){ie[A]=ie[S]})}),ie}var H6=$p,s0=tE,V6=s0&&new s0,Dw=V6,W6=vx,a0=Dw,U6=a0?function(t,e){return a0.set(t,e),t}:W6,Iw=U6,G6=vu,K6=pu;function q6(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=G6(t.prototype),r=t.apply(n,e);return K6(r)?r:n}}var Lu=q6,Y6=Lu,J6=Na,Z6=1;function X6(t,e,n){var r=e&Z6,o=Y6(t);function i(){var s=this&&this!==J6&&this instanceof i?o:t;return s.apply(r?n:this,arguments)}return i}var Q6=X6,ez=Math.max;function tz(t,e,n,r){for(var o=-1,i=t.length,s=n.length,a=-1,l=e.length,c=ez(i-s,0),u=Array(l+c),d=!r;++a<l;)u[a]=e[a];for(;++o<s;)(d||o<i)&&(u[n[o]]=t[o]);for(;c--;)u[a++]=t[o++];return u}var $w=tz,nz=Math.max;function rz(t,e,n,r){for(var o=-1,i=t.length,s=-1,a=n.length,l=-1,c=e.length,u=nz(i-a,0),d=Array(u+c),p=!r;++o<u;)d[o]=t[o];for(var f=o;++l<c;)d[f+l]=e[l];for(;++s<a;)(p||o<i)&&(d[f+n[s]]=t[o++]);return d}var Nw=rz;function oz(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var iz=oz;function sz(){}var Fh=sz,az=vu,lz=Fh,cz=4294967295;function uc(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=cz,this.__views__=[]}uc.prototype=az(lz.prototype);uc.prototype.constructor=uc;var Bh=uc,l0=Dw,uz=nE,dz=l0?function(t){return l0.get(t)}:uz,_w=dz,pz={},fz=pz,c0=fz,hz=Object.prototype,mz=hz.hasOwnProperty;function gz(t){for(var e=t.name+"",n=c0[e],r=mz.call(c0,e)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==t)return o.name}return e}var vz=gz,yz=vu,bz=Fh;function dc(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}dc.prototype=yz(bz.prototype);dc.prototype.constructor=dc;var Fw=dc,xz=Bh,wz=Fw,Cz=gu;function Sz(t){if(t instanceof xz)return t.clone();var e=new wz(t.__wrapped__,t.__chain__);return e.__actions__=Cz(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var kz=Sz,Mz=Bh,u0=Fw,Ez=Fh,Tz=Ra,Oz=ai,Lz=kz,Az=Object.prototype,Pz=Az.hasOwnProperty;function pc(t){if(Oz(t)&&!Tz(t)&&!(t instanceof Mz)){if(t instanceof u0)return t;if(Pz.call(t,"__wrapped__"))return Lz(t)}return new u0(t)}pc.prototype=Ez.prototype;pc.prototype.constructor=pc;var Rz=pc,Dz=Bh,Iz=_w,$z=vz,Nz=Rz;function _z(t){var e=$z(t),n=Nz[e];if(typeof n!="function"||!(e in Dz.prototype))return!1;if(t===n)return!0;var r=Iz(n);return!!r&&t===r[0]}var Fz=_z,Bz=Iw,jz=rE,zz=jz(Bz),Bw=zz,Hz=/\{\n\/\* \[wrapped with (.+)\] \*/,Vz=/,? & /;function Wz(t){var e=t.match(Hz);return e?e[1].split(Vz):[]}var Uz=Wz,Gz=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Kz(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Gz,`{
/* [wrapped with `+e+`] */
`)}var qz=Kz,Yz=Jf,Jz=oE,Zz=1,Xz=2,Qz=8,eH=16,tH=32,nH=64,rH=128,oH=256,iH=512,sH=[["ary",rH],["bind",Zz],["bindKey",Xz],["curry",Qz],["curryRight",eH],["flip",iH],["partial",tH],["partialRight",nH],["rearg",oH]];function aH(t,e){return Yz(sH,function(n){var r="_."+n[0];e&n[1]&&!Jz(t,r)&&t.push(r)}),t.sort()}var lH=aH,cH=Uz,uH=qz,dH=iE,pH=lH;function fH(t,e,n){var r=e+"";return dH(t,uH(r,pH(cH(r),n)))}var jw=fH,hH=Fz,mH=Bw,gH=jw,vH=1,yH=2,bH=4,xH=8,d0=32,p0=64;function wH(t,e,n,r,o,i,s,a,l,c){var u=e&xH,d=u?s:void 0,p=u?void 0:s,f=u?i:void 0,m=u?void 0:i;e|=u?d0:p0,e&=~(u?p0:d0),e&bH||(e&=~(vH|yH));var g=[t,e,o,f,d,m,p,a,l,c],y=n.apply(void 0,g);return hH(t)&&mH(y,g),y.placeholder=r,gH(y,t,e)}var zw=wH;function CH(t){var e=t;return e.placeholder}var Hw=CH,SH=gu,kH=sE,MH=Math.min;function EH(t,e){for(var n=t.length,r=MH(e.length,n),o=SH(t);r--;){var i=e[r];t[r]=kH(i,n)?o[i]:void 0}return t}var TH=EH,f0="__lodash_placeholder__";function OH(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var s=t[n];(s===e||s===f0)&&(t[n]=f0,i[o++]=n)}return i}var jh=OH,LH=$w,AH=Nw,PH=iz,h0=Lu,RH=zw,DH=Hw,IH=TH,$H=jh,NH=Na,_H=1,FH=2,BH=8,jH=16,zH=128,HH=512;function Vw(t,e,n,r,o,i,s,a,l,c){var u=e&zH,d=e&_H,p=e&FH,f=e&(BH|jH),m=e&HH,g=p?void 0:h0(t);function y(){for(var b=arguments.length,x=Array(b),C=b;C--;)x[C]=arguments[C];if(f)var E=DH(y),k=PH(x,E);if(r&&(x=LH(x,r,o,f)),i&&(x=AH(x,i,s,f)),b-=k,f&&b<c){var w=$H(x,E);return RH(t,e,Vw,y.placeholder,n,x,w,a,l,c-b)}var M=d?n:this,T=p?M[t]:t;return b=x.length,a?x=IH(x,a):m&&b>1&&x.reverse(),u&&l<b&&(x.length=l),this&&this!==NH&&this instanceof y&&(T=g||h0(T)),T.apply(M,x)}return y}var Ww=Vw,VH=Sx,WH=Lu,UH=Ww,GH=zw,KH=Hw,qH=jh,YH=Na;function JH(t,e,n){var r=WH(t);function o(){for(var i=arguments.length,s=Array(i),a=i,l=KH(o);a--;)s[a]=arguments[a];var c=i<3&&s[0]!==l&&s[i-1]!==l?[]:qH(s,l);if(i-=c.length,i<n)return GH(t,e,UH,o.placeholder,void 0,s,c,void 0,void 0,n-i);var u=this&&this!==YH&&this instanceof o?r:t;return VH(u,this,s)}return o}var ZH=JH,XH=Sx,QH=Lu,e8=Na,t8=1;function n8(t,e,n,r){var o=e&t8,i=QH(t);function s(){for(var a=-1,l=arguments.length,c=-1,u=r.length,d=Array(u+l),p=this&&this!==e8&&this instanceof s?i:t;++c<u;)d[c]=r[c];for(;l--;)d[c++]=arguments[++a];return XH(p,o?n:this,d)}return s}var r8=n8,o8=$w,i8=Nw,m0=jh,g0="__lodash_placeholder__",yd=1,s8=2,a8=4,v0=8,Ls=128,y0=256,l8=Math.min;function c8(t,e){var n=t[1],r=e[1],o=n|r,i=o<(yd|s8|Ls),s=r==Ls&&n==v0||r==Ls&&n==y0&&t[7].length<=e[8]||r==(Ls|y0)&&e[7].length<=e[8]&&n==v0;if(!(i||s))return t;r&yd&&(t[2]=e[2],o|=n&yd?0:a8);var a=e[3];if(a){var l=t[3];t[3]=l?o8(l,a,e[4]):a,t[4]=l?m0(t[3],g0):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?i8(l,a,e[6]):a,t[6]=l?m0(t[5],g0):e[6]),a=e[7],a&&(t[7]=a),r&Ls&&(t[8]=t[8]==null?e[8]:l8(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}var u8=c8,d8=CT,b0=1/0,p8=17976931348623157e292;function f8(t){if(!t)return t===0?t:0;if(t=d8(t),t===b0||t===-b0){var e=t<0?-1:1;return e*p8}return t===t?t:0}var h8=f8,m8=h8;function g8(t){var e=m8(t),n=e%1;return e===e?n?e-n:e:0}var Uw=g8,v8=Iw,y8=Q6,b8=ZH,x8=Ww,w8=r8,C8=_w,S8=u8,k8=Bw,M8=jw,x0=Uw,E8="Expected a function",w0=1,T8=2,bd=8,xd=16,wd=32,C0=64,S0=Math.max;function O8(t,e,n,r,o,i,s,a){var l=e&T8;if(!l&&typeof t!="function")throw new TypeError(E8);var c=r?r.length:0;if(c||(e&=~(wd|C0),r=o=void 0),s=s===void 0?s:S0(x0(s),0),a=a===void 0?a:x0(a),c-=o?o.length:0,e&C0){var u=r,d=o;r=o=void 0}var p=l?void 0:C8(t),f=[t,e,n,r,o,u,d,i,s,a];if(p&&S8(f,p),t=f[0],e=f[1],n=f[2],r=f[3],o=f[4],a=f[9]=f[9]===void 0?l?0:t.length:S0(f[9]-c,0),!a&&e&(bd|xd)&&(e&=~(bd|xd)),!e||e==w0)var m=y8(t,e,n);else e==bd||e==xd?m=b8(t,e,a):(e==wd||e==(w0|wd))&&!o.length?m=w8(t,e,n,r):m=x8.apply(void 0,f);var g=p?v8:k8;return M8(g(m,f),t,e)}var zh=O8,L8=zh,A8=128;function P8(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,L8(t,A8,void 0,void 0,void 0,void 0,e)}var R8=P8,D8=Qf,I8=4;function $8(t){return D8(t,I8)}var N8=$8,_8=zh,F8=8;function Hh(t,e,n){e=n?void 0:e;var r=_8(t,F8,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=Hh.placeholder,r}Hh.placeholder={};var B8=Hh,j8=Ff,z8=ai,H8=Kx,V8="[object DOMException]",W8="[object Error]";function U8(t){if(!z8(t))return!1;var e=j8(t);return e==W8||e==V8||typeof t.message=="string"&&typeof t.name=="string"&&!H8(t)}var G8=U8,K8=cu,q8=ai,Y8="[object WeakMap]";function J8(t){return q8(t)&&K8(t)==Y8}var Z8=J8,X8=Qf,Q8=aE,e9=1;function t9(t){return Q8(typeof t=="function"?t:X8(t,e9))}var n9=t9,r9=zh,o9=tT,i9=256,s9=o9(function(t,e){return r9(t,i9,void 0,void 0,void 0,e)}),a9=s9,l9=lE,c9=gu,u9=Ra,d9=WE,p9=cE,f9=kx,h9=uE;function m9(t){return u9(t)?l9(t,f9):d9(t)?[t]:c9(p9(h9(t)))}var g9=m9,v9={ary:R8,assign:qx,clone:N8,curry:B8,forEach:Jf,isArray:Ra,isError:G8,isFunction:dE,isWeakMap:Z8,iteratee:n9,keys:pE,rearg:a9,toInteger:Uw,toPath:g9},y9=H6,b9=v9;function x9(t,e,n){return y9(b9,t,e,n)}var Gw=x9,Cd,k0;function w9(){if(k0)return Cd;k0=1;var t=nT();function e(n,r,o){return n==null?n:t(n,r,o)}return Cd=e,Cd}var C9=Gw,Kw=C9("set",w9());Kw.placeholder=_h();var S9=Kw;const Cr=Pa(S9);var Sd,M0;function k9(){if(M0)return Sd;M0=1;function t(e,n,r){var o=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(i);++o<i;)s[o]=e[o+n];return s}return Sd=t,Sd}var kd,E0;function M9(){if(E0)return kd;E0=1;var t=fE,e=k9();function n(r,o){return o.length<2?r:t(r,e(o,0,-1))}return kd=n,kd}var Md,T0;function E9(){if(T0)return Md;T0=1;var t=hE,e=mE,n=M9(),r=kx;function o(i,s){return s=t(s,i),i=n(i,s),i==null||delete i[r(e(s))]}return Md=o,Md}var Ed,O0;function T9(){if(O0)return Ed;O0=1;var t=E9();function e(n,r){return n==null?!0:t(n,r)}return Ed=e,Ed}var O9=Gw,qw=O9("unset",T9());qw.placeholder=_h();var L9=qw;const L0=Pa(L9);function A9(t,e){switch(e.type){case"SET_FIELD_ERRORS":return{...t,errors:e.merge?{...t.errors,...e.errors}:e.errors};case"SET_FIELD_VALUES":return{...t,data:e.values,internalData:e.internalValues,touched:e.touched||t.touched,loadingInitial:e.loadingInitial!==void 0?e.loadingInitial:t.loadingInitial,disabled:e.disabled!==void 0?e.disabled:t.disabled};case"SET_FORM_WAITS":return{...t,waits:e.waits};case"RESET":return{...ba(),data:e.data,internalData:e.internalData,disabled:!1,loadingInitial:!1};case"FORM_DISABLE":return{...t,disabled:e.disabled,loadingInitial:e.loadingInitial!==void 0?e.loadingInitial:t.loadingInitial};case"FIELD_TOUCHED":return!!t.touched[e.name]===e.value?t:{...t,touched:{...t.touched,[e.name]:e.value}};case"FIELD_VALIDATE":return{...t,errors:{...t.errors,[e.name]:e.value}};case"FIELD_UNVALIDATE":return{...t,errors:{...t.errors,[e.name]:void 0}};case"FORM_START_DISABLE":return{...t,disabled:e.value};case"FORM_END_DISABLE":return{...t,disabled:e.value};case"FORM_RESET":return{...t,data:{},errors:{},disabled:!1};case"SET_SUBMIT_WARNING":return{...t,submitWarning:{...e}};default:return t}}function ns({stable:t,name:e,path:n}){let r=t;if(n){for(const o of n)if(r=r.fields[o],!r||!r.fields)throw new Error(`Field \`${e}\` is not registered with this form at path ${JSON.stringify(n)}.`)}if(!r.fields[e])throw new Error(`Field \`${e}\` is not registered with this form.`);return r.fields[e]}var W;(function(t){t.UK="UK",t.GB="GB",t.JE="JE",t.GG="GG",t.IM="IM",t.US="US",t.CA="CA",t.IE="IE",t.DE="DE",t.JP="JP",t.FR="FR",t.AU="AU",t.IT="IT",t.CH="CH",t.AT="AT",t.ES="ES",t.NL="NL",t.BE="BE",t.DK="DK",t.SE="SE",t.NO="NO",t.BR="BR",t.PT="PT",t.FI="FI",t.AX="AX",t.KR="KR",t.CN="CN",t.TW="TW",t.SG="SG",t.DZ="DZ",t.AD="AD",t.AR="AR",t.AM="AM",t.AZ="AZ",t.BH="BH",t.BD="BD",t.BB="BB",t.BY="BY",t.BM="BM",t.BA="BA",t.IO="IO",t.BN="BN",t.BG="BG",t.KH="KH",t.CV="CV",t.CL="CL",t.CR="CR",t.HR="HR",t.CY="CY",t.CZ="CZ",t.DO="DO",t.EC="EC",t.EG="EG",t.EE="EE",t.FO="FO",t.GE="GE",t.GR="GR",t.GL="GL",t.GT="GT",t.HT="HT",t.HN="HN",t.HU="HU",t.IS="IS",t.IN="IN",t.ID="ID",t.IL="IL",t.JO="JO",t.KZ="KZ",t.KE="KE",t.KW="KW",t.KY="KY",t.LA="LA",t.LV="LV",t.LB="LB",t.LI="LI",t.LT="LT",t.LU="LU",t.MK="MK",t.MY="MY",t.MV="MV",t.MT="MT",t.MU="MU",t.MX="MX",t.MD="MD",t.MC="MC",t.MA="MA",t.NP="NP",t.NZ="NZ",t.NI="NI",t.NG="NG",t.OM="OM",t.PA="PA",t.PK="PK",t.PY="PY",t.PH="PH",t.PL="PL",t.PR="PR",t.RO="RO",t.RU="RU",t.SM="SM",t.SA="SA",t.SN="SN",t.SK="SK",t.SI="SI",t.ZA="ZA",t.LK="LK",t.TJ="TJ",t.TH="TH",t.TN="TN",t.TR="TR",t.TM="TM",t.UA="UA",t.UY="UY",t.UZ="UZ",t.VA="VA",t.VE="VE",t.ZM="ZM",t.AS="AS",t.CC="CC",t.CK="CK",t.RS="RS",t.ME="ME",t.CS="CS",t.YU="YU",t.CX="CX",t.ET="ET",t.FK="FK",t.NF="NF",t.FM="FM",t.GF="GF",t.GN="GN",t.GP="GP",t.GS="GS",t.GU="GU",t.GW="GW",t.HM="HM",t.IQ="IQ",t.KG="KG",t.LR="LR",t.LS="LS",t.MG="MG",t.MH="MH",t.MN="MN",t.MP="MP",t.MQ="MQ",t.NC="NC",t.NE="NE",t.VI="VI",t.VN="VN",t.PF="PF",t.PG="PG",t.PM="PM",t.PN="PN",t.PW="PW",t.RE="RE",t.SH="SH",t.SJ="SJ",t.SO="SO",t.SZ="SZ",t.TC="TC",t.WF="WF",t.XK="XK",t.YT="YT",t.PE="PE",t.INTL="INTL",t.CO="CO"})(W||(W={}));const Np=new Map([[W.UK,/^([A-Z]){1}([0-9][0-9]|[0-9]|[A-Z][0-9][A-Z]|[A-Z][0-9][0-9]|[A-Z][0-9]|[0-9][A-Z]){1}([ ])?([0-9][A-z][A-z]){1}$/i],[W.GB,/^([A-Z]){1}([0-9][0-9]|[0-9]|[A-Z][0-9][A-Z]|[A-Z][0-9][0-9]|[A-Z][0-9]|[0-9][A-Z]){1}([ ])?([0-9][A-z][A-z]){1}$/i],[W.JE,/^JE\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[W.GG,/^GY\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[W.IM,/^IM\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[W.US,/^([0-9]{5})(?:-([0-9]{4}))?$/],[W.CA,/^([ABCEGHJKLMNPRSTVXY][0-9][ABCEGHJKLMNPRSTVWXYZ])\s*([0-9][ABCEGHJKLMNPRSTVWXYZ][0-9])$/i],[W.IE,/^([AC-FHKNPRTV-Y][0-9]{2}|D6W)[ -]?[0-9AC-FHKNPRTV-Y]{4}$/],[W.DE,/^\d{5}$/],[W.JP,/^\d{3}-\d{4}$/],[W.FR,/^\d{2}[ ]?\d{3}$/],[W.AU,/^\d{4}$/],[W.IT,/^\d{5}$/],[W.CH,/^\d{4}$/],[W.AT,/^(?!0)\d{4}$/],[W.ES,/^(?:0[1-9]|[1-4]\d|5[0-2])\d{3}$/],[W.NL,/^\d{4}[ ]?[A-Z]{2}$/],[W.BE,/^\d{4}$/],[W.DK,/^\d{4}$/],[W.SE,/^(SE-)?\d{3}[ ]?\d{2}$/],[W.NO,/^\d{4}$/],[W.BR,/^\d{5}[\-]?\d{3}$/],[W.PT,/^\d{4}([\-]\d{3})?$/],[W.FI,/^(FI-|AX-)?\d{5}$/],[W.AX,/^22\d{3}$/],[W.KR,/^\d{5}$/],[W.CN,/^\d{6}$/],[W.TW,/^\d{3}(\d{2,3})?$/],[W.SG,/^\d{6}$/],[W.DZ,/^\d{5}$/],[W.AD,/^AD\d{3}$/],[W.AR,/^([A-HJ-NP-Z])?\d{4}([A-Z]{3})?$/],[W.AM,/^(37)?\d{4}$/],[W.AZ,/^\d{4}$/],[W.BH,/^((1[0-2]|[2-9])\d{2})?$/],[W.BD,/^\d{4}$/],[W.BB,/^(BB\d{5})?$/],[W.BY,/^\d{6}$/],[W.BM,/^[A-Z]{2}[ ]?[A-Z0-9]{2}$/],[W.BA,/^\d{5}$/],[W.IO,/^BBND 1ZZ$/],[W.BN,/^[A-Z]{2}[ ]?\d{4}$/],[W.BG,/^\d{4}$/],[W.KH,/^\d{5}$/],[W.CV,/^\d{4}$/],[W.CL,/^\d{7}$/],[W.CR,/^(\d{4,5}|\d{3}-\d{4})$/],[W.HR,/^(HR-)?\d{5}$/],[W.CY,/^\d{4}$/],[W.CZ,/^\d{3}[ ]?\d{2}$/],[W.DO,/^\d{5}$/],[W.EC,/^([A-Z]\d{4}[A-Z]|(?:[A-Z]{2})?\d{6})?$/],[W.EG,/^\d{5}$/],[W.EE,/^\d{5}$/],[W.FO,/^\d{3}$/],[W.GE,/^\d{4}$/],[W.GR,/^\d{3}[ ]?\d{2}$/],[W.GL,/^39\d{2}$/],[W.GT,/^\d{5}$/],[W.HT,/^\d{4}$/],[W.HN,/^(?:\d{5})?$/],[W.HU,/^\d{4}$/],[W.IS,/^\d{3}$/],[W.IN,/^\d{6}$/],[W.ID,/^\d{5}$/],[W.IL,/^\d{5,7}$/],[W.JO,/^\d{5}$/],[W.KZ,/^\d{6}$/],[W.KE,/^\d{5}$/],[W.KW,/^\d{5}$/],[W.KY,/^KY[123]-\d{4}$/],[W.LA,/^\d{5}$/],[W.LV,/^(LV-)?\d{4}$/],[W.LB,/^(\d{4}([ ]?\d{4})?)?$/],[W.LI,/^(948[5-9])|(949[0-7])$/],[W.LT,/^(LT-)?\d{5}$/],[W.LU,/^(L-)?\d{4}$/],[W.MK,/^\d{4}$/],[W.MY,/^\d{5}$/],[W.MV,/^\d{5}$/],[W.MT,/^[A-Z]{3}[ ]?\d{2,4}$/],[W.MU,/^((\d|[A-Z])\d{4})?$/],[W.MX,/^\d{5}$/],[W.MD,/^\d{4}$/],[W.MC,/^980\d{2}$/],[W.MA,/^\d{5}$/],[W.NP,/^\d{5}$/],[W.NZ,/^\d{4}$/],[W.NI,/^((\d{4}-)?\d{3}-\d{3}(-\d{1})?)?$/],[W.NG,/^(\d{6})?$/],[W.OM,/^(PC )?\d{3}$/],[W.PA,/^\d{4}$/],[W.PK,/^\d{5}$/],[W.PY,/^\d{4}$/],[W.PH,/^\d{4}$/],[W.PL,/^\d{2}-\d{3}$/],[W.PR,/^00[679]\d{2}([ \-]\d{4})?$/],[W.RO,/^\d{6}$/],[W.RU,/^\d{6}$/],[W.SM,/^4789\d$/],[W.SA,/^\d{5}$/],[W.SN,/^\d{5}$/],[W.SK,/^\d{3}[ ]?\d{2}$/],[W.SI,/^(SI-)?\d{4}$/],[W.ZA,/^\d{4}$/],[W.LK,/^\d{5}$/],[W.TJ,/^\d{6}$/],[W.TH,/^\d{5}$/],[W.TN,/^\d{4}$/],[W.TR,/^\d{5}$/],[W.TM,/^\d{6}$/],[W.UA,/^\d{5}$/],[W.UY,/^\d{5}$/],[W.UZ,/^\d{6}$/],[W.VA,/^00120$/],[W.VE,/^\d{4}$/],[W.ZM,/^\d{5}$/],[W.AS,/^96799$/],[W.CC,/^6799$/],[W.CK,/^\d{4}$/],[W.RS,/^\d{5,6}$/],[W.ME,/^8\d{4}$/],[W.CS,/^\d{5}$/],[W.YU,/^\d{5}$/],[W.CX,/^6798$/],[W.ET,/^\d{4}$/],[W.FK,/^FIQQ 1ZZ$/],[W.NF,/^2899$/],[W.FM,/^(9694[1-4])([ \-]\d{4})?$/],[W.GF,/^9[78]3\d{2}$/],[W.GN,/^\d{3}$/],[W.GP,/^9[78][01]\d{2}$/],[W.GS,/^SIQQ 1ZZ$/],[W.GU,/^969[123]\d([ \-]\d{4})?$/],[W.GW,/^\d{4}$/],[W.HM,/^\d{4}$/],[W.IQ,/^\d{5}$/],[W.KG,/^\d{6}$/],[W.LR,/^\d{4}$/],[W.LS,/^\d{3}$/],[W.MG,/^\d{3}$/],[W.MH,/^969[67]\d([ \-]\d{4})?$/],[W.MN,/^\d{5}$/],[W.MP,/^9695[012]([ \-]\d{4})?$/],[W.MQ,/^9[78]2\d{2}$/],[W.NC,/^988\d{2}$/],[W.NE,/^\d{4}$/],[W.VI,/^008(([0-4]\d)|(5[01]))([ \-]\d{4})?$/],[W.VN,/^\d{6}$/],[W.PF,/^987\d{2}$/],[W.PG,/^\d{3}$/],[W.PM,/^9[78]5\d{2}$/],[W.PN,/^PCRN 1ZZ$/],[W.PW,/^96940$/],[W.RE,/^9[78]4\d{2}$/],[W.SH,/^(ASCN|STHL) 1ZZ$/],[W.SJ,/^\d{4}$/],[W.SO,/^\d{5}$/],[W.SZ,/^[HLMS]\d{3}$/],[W.TC,/^TKCA 1ZZ$/],[W.WF,/^986\d{2}$/],[W.XK,/^\d{5}$/],[W.YT,/^976\d{2}$/],[W.PE,/^[0-2]\d{4}$/],[W.INTL,/^(?:[A-Z0-9]+([- ]?[A-Z0-9]+)*)?$/i],[W.CO,/^(0[58]|1[135789]|2[0357]|4[147]|5[024]|6[368]|7[036]|8[1568]|9[4579])\d{4}$/]]),P9=(t,e)=>{if(!Np.has(e))throw Error(`Invalid country code: ${e}`);return Np.get(e).test(t)},R9=t=>Np.has(t);function D9(t){return!(t===null||typeof t!="object"||!("value"in t)||!("label"in t))}function Yw(t,e=", ",n=" and "){if(t.length<3)return t.join(n);const r=t.slice(0,t.length-1).join(e),o=t[t.length-1];return`${r}${n}${o}`}const A0="Segmenter"in Intl&&new Intl.Segmenter("en",{granularity:"grapheme"});function Vh(t){return A0?[...A0.segment(t)].length:Array.from(t).length}const Jw=["https","http"];function P0(t,e=Jw){if(!t)return"";const[n=""]=e;for(const r of e)if(t.substring(0,r.length+3)===`${r}://`)return t;return`${n}://${t}`}const I9=["address","article","aside","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","li","main","nav","noscript","ol","p","pre","section","table","tfoot","ul","video"];function fc(t){return I9.includes(t.tagName.toLowerCase())}function Zw(t){return t.nodeType===Node.TEXT_NODE}function hc(t){return t.nodeType===Node.ELEMENT_NODE}function Xw(t,e,n){const r=e&&hc(e)&&fc(e),o=n&&hc(n)&&fc(n),i=r&&o;return t.textContent&&!i}function Wh(t,e){const n=Array.from(t.childNodes);n.forEach((r,o)=>{const i=hc(r)?r:void 0,s=Zw(r)?r:void 0;e({node:r,index:o,parent:t,elem:i,text:s,siblings:n}),i&&Wh(i,e)})}function $9(t,e,n){const o=new DOMParser().parseFromString(t,"text/html");let i=n;return Wh(o.body,s=>{const a=e(i,s);a!==void 0&&(i=a)}),i}function Qw(t){return $9(t,(e,{index:n,parent:r,siblings:o,text:i,elem:s})=>{if(i&&Xw(i,o[n-1],o[n+1])){const a=r.tagName.toLowerCase();if(a!=="script"&&a!=="style"){const l=document.createElement("div");l.appendChild(i.cloneNode());const c=l.innerHTML.replace(/\s+/g," ");return l.innerHTML=c,e+Vh(l.textContent||"")}}if(s){const a=s.tagName.toLowerCase();if(a!=="script"&&a!=="style"&&s!==o[0])return e+(fc(s)?1:0)}},0)}const Qre="validateDateRange",eoe="validateNumberRange";function N9(t){if(!(!t||t.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)))return"The value is not a valid email"}function _9(t){if(t)return new Promise(function(e){setTimeout(function(){return t.includes("test")?e("String cannot include test"):e(void 0)},1e3)})}function Uh(t){if(!(isFinite(t)&&Math.abs(t)<=90))return"Latitude should be between -90 and 90"}function Gh(t){if(!(isFinite(t)&&Math.abs(t)<=180))return"Longitude should be between -180 and 180"}function F9(t,e,n,r,o,i){if(!i.hasValue({value:t,internalValue:r}))return"This field is required, please fill it"}function B9(t){if(t&&!(!isNaN(Number(t))&&!isNaN(parseFloat(t))))return"The value is not a number"}function j9(t){if(!t)return;if(!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t))return"The value is not a valid URL"}async function z9(t,e,n){const r=e[n.startDateName]?e[n.startDateName]:t,o=e[n.endDateName]?e[n.endDateName]:t;if(!r||!o)return;const i=r===t?"Start date should happen before the end date":"End date should happen after the start date",s=new Date(r),a=new Date(o);if(s.getTime()>a.getTime())return i}function H9(t,e,{minName:n,maxName:r}){if(t===void 0)return;const o=n&&e[n],i=r&&e[r],s=Number(t);if(!(Number.isNaN(s)||!Number.isFinite(s))){if(o&&!i&&s<o)return`Number must be greater than or equal to ${o}`;if(!o&&i&&s>i)return`Number must be less than or equal to ${i}`;if(o&&i&&(s<o||s>i))return`Number must be between ${o} and ${i}`}}function V9(t,e,{min:n,max:r}){if(t instanceof Date){if(n&&!r&&t<n)return`Date must come on or after ${qi(n,Yi)}`;if(!n&&r&&t>r)return`Date must come on or before ${qi(r,Yi)}`;if(n&&r&&(t<n||t>r))return`Date must come between ${qi(n,Yi)} and ${qi(r,Yi)}`}}function W9(t,e,n){if(!n.max||typeof t!="string")return;const r="You have exceeded the maximum number of characters";if(n.ignoreHTML&&Qw(t)>n.max||!n.ignoreHTML&&Vh(t)>n.max)return r}function U9(t){if(!(!t||t[0]!=="1"||t.length===11))return"Phone number must be exactly 10 numbers excluding the country code"}async function eC(t,e,{countryField:n}){if(!t)return;const r=e[n];if(!r)return;const o=D9(r)?r.value:r;if(!(!o||!R9(o))&&!P9(t,o))return"This is not a valid postal code in the selected country"}async function G9(t,e,n,r){if(!(r!=null&&r.date))return;const{date:o,keyboardInputValue:i}=r;if(isNaN(o.getTime())||i&&!Pw(i,Yi))return"The date provided is invalid"}async function K9(t,e,n,r){if(!(r!=null&&r.time))return;const{time:o,keyboardInputValue:i}=r;if(isNaN(o.getTime())||i&&!Pw(i,lT))return"The time provided is invalid"}function q9({internalData:t,data:e,errors:n,disabled:r,touched:o,submitWarning:i,waits:s,loadingInitial:a}){return{internalData:t,data:e,errors:n,disabled:r,touched:o,submitWarning:i,waits:s,loadingInitial:a}}async function Y9(t,e,n,r,o,i){for(const s of t){const a=await s.fn(e,n,s.options,r,o,i);if(a)return{errorMessage:a,validator:s}}}function J9(t){const e={required:F9,validateLatitude:Uh,validateLongitude:Gh,validateDateRange:z9,validateMinDate:V9,validateDate:G9,validateTime:K9,validateNumberRange:H9,validateCharacterCount:W9,validateEmail:N9,validateNumber:B9,validateSlow:_9,validateURL:j9,validatePhoneNumber:U9,validatePostcode:eC};return t.map(n=>typeof n=="string"?{fn:e[n],options:{}}:typeof n=="function"?{fn:n,options:{}}:{fn:e[n.fn],options:n.options})}function Bs({name:t,path:e,stable:n}){const{mounted:r}=n;if(!r[t])return!1;const o=ns({name:t,path:e,stable:n}),i=Rl(o.disabled,q9(n),!1);return!Dl(i)}async function Nl({names:t,path:e,deep:n,stable:r}){const o=await Promise.all(t.map(async a=>{const{name:l,include:c}=typeof a=="object"?a:{name:a,include:void 0},u=await tC({name:l,include:c,path:e,deep:n,stable:r});return[l,u]})),i=Object.fromEntries(o),s=Object.values(i).filter(Boolean).length;return{errors:i,count:s}}async function tC({name:t,include:e,path:n=[],deep:r,stable:o}){var p,f,m,g,y;const{data:i,internalData:s}=o,a=ns({name:t,path:n,stable:o});if(r&&"fields"in a&&a.fields){const b=[...n,t],x=Object.keys(a.fields).filter(k=>Bs({name:k,stable:o,path:b})),{errors:C,count:E}=await Nl({names:x,path:b,deep:r,stable:o});return E?C:void 0}const l=a.required,c=a.validators||[];l&&c.unshift({fn:"required",options:{}}),a.type==="phone"&&c.push({fn:"validatePhoneNumber",options:{}}),a.type==="date"&&c.push({fn:"validateDate",options:{}}),a.type==="time"&&c.push({fn:"validateTime",options:{}}),((p=a.inputSettings)==null?void 0:p.maxCharacters)>0&&c.push({fn:"validateCharacterCount",options:{max:a.inputSettings.maxCharacters,ignoreHTML:a.type==="textEditor"}}),((f=a.inputSettings)!=null&&f.minDate||(m=a.inputSettings)!=null&&m.maxDate)&&c.push({fn:"validateMinDate",options:{min:(g=a.inputSettings)==null?void 0:g.minDate,max:(y=a.inputSettings)==null?void 0:y.maxDate}});const u=J9(c).filter(b=>!e||e.includes(b.fn)),d=await Y9(u,ar(i,[...n,t]),n.length?ar(i,n):i,ar(s,[...n,t]),n.length?ar(s,n):s,a);if(d)return d.errorMessage}function _p(t,e){const n=Object.entries(e),r={};for(const[o,i]of n)t&&("fields"in i&&i.fields?r[o]=_p(i.getResolvedValue(t[o]).internalValue,i.fields):r[o]=i.getResolvedValue(t[o]).internalValue);return r}function nC({fields:t,sections:e,stable:n}){const r=e&&e.map(({fields:o})=>o).flat(3);return t.reduce((o,i,s)=>{const a=DM(i.type),l=i.getResolvedValue||a.getResolvedValue,c={...i,validateOn:i.validateOn||a.validate,getResolvedValue:u=>l(u,i),hasValue:i.hasValue||a.hasValue,order:(r?r.indexOf(i.name):s)+1,fields:i.type==="group"?nC({fields:i.inputSettings.fields,stable:n}):void 0};return{...o,[i.name]:c}},{})}function R0({stable:t,path:e=[]}){let n=t.fields;for(const r of e)n=n[r].fields;return n}function rC({target:t,fieldName:e=t[0],path:n=[],value:r,currentValues:o,stable:i,depth:s=0}){const a=ns({name:e,path:n,stable:i});if(a.type==="group"){const c=Object.keys(a.fields).reduce((u,d)=>{var f,m;const p=rC({target:t,fieldName:d,path:[...n,e],value:r,currentValues:{values:((f=o==null?void 0:o.values)==null?void 0:f[e])||{},internalValues:((m=o==null?void 0:o.internalValues)==null?void 0:m[e])||{}},stable:i,depth:s+1});return{internalValue:{...u.internalValue,[d]:p.internalValue},value:{...u.value,[d]:p.value}}},{internalValue:o.internalValues[e],value:o.values[e]});return{internalValue:c.internalValue,value:a.getResolvedValue(c.value).value}}const l=t.join(".")===[...n,e].join(".");return a.getResolvedValue(l?typeof r=="function"?r(ar(i.internalData,[...n,e])):r:o.internalValues[e])}function Kh(t,e,{by:n=(r,o,i)=>i in o}={}){return Object.fromEntries(Object.entries(t).map(([r,o])=>n(t,e,r)?bp(o)&&bp(e[r])?[r,Kh(o,e[r])]:[r,e[r]]:[r,o]))}function Au(){const t=h.useRef($6()),[e,n]=h.useReducer(A9,ba()),r=h.useCallback(async({name:b,validateLinkedFields:x,path:C=[]})=>{const E=ns({name:b,path:C,stable:t.current});if(Bs({name:b,path:C,stable:t.current})){const k=await tC({name:b,path:C,deep:!0,stable:t.current});t.current.errors=Cr([...C,b],k,t.current.errors)}if(x&&E.validates){const k=E.validates.map(T=>typeof T=="object"?T:{name:T,include:void 0}).filter(({name:T})=>Bs({name:T,path:C,stable:t.current})),{errors:w}=await Nl({names:k,path:C,stable:t.current}),M=C.length?Cr(C,w,{}):w;t.current.errors=Kh(t.current.errors,M)}n({type:"SET_FIELD_ERRORS",errors:t.current.errors})},[]),o=h.useCallback(async({values:b={},path:x=[],initial:C,validate:E})=>{const k=_p(b,R0({stable:t.current,path:x}));if(t.current.data=x.length?Cr(x,b,t.current.data):b,t.current.internalData=x.length?Cr(x,k,t.current.internalData):k,C&&(t.current.initialData=x.length?Cr(x,b,t.current.initialData):b,t.current.disabled=!1),E){const w=Object.keys(R0({stable:t.current,path:x})),{errors:M}=await Nl({names:w,path:x,stable:t.current});t.current.errors=x.length?Cr(x,M,t.current.errors):M,n({type:"SET_FIELD_ERRORS",errors:t.current.errors})}return n({type:"SET_FIELD_VALUES",values:t.current.data,internalValues:t.current.internalData,...C?{disabled:!1,loadingInitial:!1}:{}})},[]),i=h.useCallback(({fields:b,sections:x})=>{t.current.fields=nC({fields:b,sections:x,stable:t.current})},[]),s=h.useCallback(()=>{const{initialData:b,fields:x}=t.current,C={...b},E=_p(b,x);t.current={...ba(),...t.current,hasBlurred:{},data:C,internalData:E,disabled:!1,loadingInitial:!1},n({type:"RESET",data:C,internalData:E})},[]),a=h.useCallback(({name:b,value:x,touched:C,validate:E,path:k=[]})=>{const w=[...k,b],M=ns({name:b,path:k,stable:t.current}),{errors:T,hasBlurred:D,hasSubmitted:P}=t.current,{value:U,internalValue:N}=rC({target:w,stable:t.current,value:x,currentValues:{values:t.current.data,internalValues:t.current.internalData}});t.current.data=Cr(w[0],U,t.current.data),t.current.internalData=Cr(w[0],N,t.current.internalData),C&&(t.current.touched=Cr(w,!0,t.current.touched)),n({type:"SET_FIELD_VALUES",values:t.current.data,internalValues:t.current.internalData,touched:t.current.touched}),(E||M.validateOn==="onChange")&&r({name:b,validateLinkedFields:!0,path:k}),M.validateOn==="onBlurChange"&&(P||ar(D,w))&&r({name:b,validateLinkedFields:!0,path:k}),M.validateOn==="onBlurAmend"&&(P||ar(D,w))&&ar(T,w)&&(t.current.hasBlurred=L0(w,t.current.hasBlurred),t.current.errors=L0(w,t.current.errors),n({type:"SET_FIELD_ERRORS",errors:t.current.errors}))},[r]),l=h.useCallback(({name:b,path:x=[]})=>{const C=ns({name:b,path:x,stable:t.current});t.current.hasBlurred=Cr([...x,b],!0,t.current.hasBlurred),(C.validateOn==="onBlur"||C.validateOn==="onBlurAmend"||C.validateOn==="onBlurChange")&&r({name:b,path:x,validateLinkedFields:!0})},[r]),c=h.useCallback(({disabled:b=!1,initial:x})=>{n({type:"FORM_DISABLE",disabled:b,loadingInitial:x})},[]),u=h.useCallback(b=>{n({type:"SET_SUBMIT_WARNING",...b})},[]),d=h.useCallback(async()=>{const{data:b,fields:x,waits:C}=t.current,E=Object.keys(x).filter(T=>Bs({name:T,stable:t.current}));t.current.hasSubmitted=!0;const{count:k,errors:w}=await Nl({names:E,deep:!0,stable:t.current});if(k)return t.current.errors=w,t.current.moveToError=!0,n({type:"SET_FIELD_ERRORS",errors:w}),{valid:!1,data:null};if(C.length>0)return u({open:!0,lead:"The form cannot be submitted at this time:",reasons:C.map(({message:T})=>T)}),{valid:!1,data:null};const M=Object.keys(x).filter(T=>Bs({name:T,stable:t.current}));return{valid:!0,data:b,activeFields:M}},[u]),p=h.useCallback(({names:b})=>{const{waits:x}=t.current,C=x.filter(({name:E})=>!b.includes(E));t.current.waits=C,n({type:"SET_FORM_WAITS",waits:C})},[]),f=h.useCallback(({name:b,message:x,disableForm:C=!1})=>{const{waits:E}=t.current,k=[...E,{name:b,message:x,disableForm:C}];return t.current.waits=k,n({type:"SET_FORM_WAITS",waits:k}),{remove:(w={})=>p({names:[b],...w})}},[p]),m=h.useCallback(({name:b,fieldRef:x,inputRef:C})=>(t.current.mounted[b]={fieldRef:x,inputRef:C},{unmount:()=>{t.current.mounted[b]=!1,n({type:"SET_FIELD_ERRORS",errors:{[b]:void 0},merge:!0})}}),[]),g=h.useMemo(()=>({setFormValues:o,setFieldValue:a,setFieldBlur:l,submitForm:d,disableForm:c,addWait:f,removeWait:p,mountField:m,init:i,reset:s,setSubmitWarning:u}),[l,o,a,d,c,f,p,m,i,s,u]),y=h.useCallback((b,x)=>async()=>{const{data:C,activeFields:E,valid:k}=await d();if(!k){x&&x({data:C});return}b({data:C,activeFields:E})},[d]);return{state:e,stable:t.current,methods:g,handleSubmit:y}}function oC(t,e){const n=new Set(t),r=new Set(e),o=[...t].filter(a=>!r.has(a)),i=[...e].filter(a=>!n.has(a));return[...o,...i]}function Z9(t,e){if(t===e||t===void 0&&Object.values(e).every(r=>r===void 0)||e===void 0&&Object.values(t).every(r=>r===void 0))return!0;if(!t||!e)return!1;const n=t.types===e.types||!oC(t.types||[],e.types||[]).length;return String(t.address1)===String(e.address1)&&String(t.address2)===String(e.address2)&&String(t.address3)===String(e.address3)&&String(t.city)===String(e.city)&&String(t.state)===String(e.state)&&String(t.postalCode)===String(e.postalCode)&&String(t.country)===String(e.country)&&n}const X9=Q.div`
	display: flex;
	flex-direction: row;
	align-items: start;
	gap: 0 20px;
	min-width: 0;

	${Wt("lg","FORM")} {
		gap: 0 40px;
	}
`,Q9=Q.div`
	font-family: ${_.fontFamily};
	position: relative;
	min-width: 0;
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	align-items: start;

	${({$error:t,$spacing:e})=>t&&`
		background-color: ${_.newColors.darkRed[5]};
		margin: ${e==="compact"?"-4px -4px -6px":"-4px -12px -8px"};
		padding: ${e==="compact"?"4px 4px 6px":"4px 12px 8px"};
	`}
`,eV=Q.div`
	max-width: 100%;

	${({$fullWidth:t})=>t&&`
		width: 100%;
	`}
`,tV=Q.div`
	display: flex;
	flex-direction: column;
	align-items: stretch;
	max-width: 100%;

	${({$size:t})=>`
		width: ${t!=="full"?t:"100%"};
	`}
`,nV=Q.div`
	display: flex;
	align-items: end;
	margin-bottom: 8px;
	font-family: ${_.fontFamily};
	gap: 8px;

	.MuiInputLabel-root {
		font-family: inherit;
		font-size: 16px;
		color:  ${_.newColors.almostBlack[100]};
		word-wrap: break-word;
		text-overflow: clip;
		white-space: normal;
	}
`,rV=Q.div`
	font-family: inherit;
	font-size: 16px;
	color:  ${_.newColors.almostBlack[100]};
	word-wrap: break-word;
`,oV=Q.div`
	color: ${({$invalid:t})=>t?_.newColors.darkRed[100]:_.newColors.grey3[100]};
	font-size: 12px;
	margin-left: auto;
`,iV=Q(Ex)`
	font-weight: ${_.fontWeight.semiBold} !important;
  	align-self: center;
	color: ${_.newColors.grey4[100]} !important;
`,sV=Q.span`
	color: ${_.newColors.darkRed[100]};
`,aV=Q.div`
  	${({$colsInRow:t=1})=>t===1&&`
		${Wt("sm","FORM_COL")} {
			display: none;
		}
	`}

	svg {
		vertical-align: middle;
	}
`,lV=t=>{const{children:e,className:n,required:r,name:o,limit:i,instructionText:s,colsInRow:a,as:l="label"}=t,{anchorProps:c,tooltipProps:u}=Df();return v.jsxs(nV,{className:n,children:[v.jsxs(iV,{htmlFor:l==="label"&&o?`${o}-input`:void 0,as:l==="label"?Ex:rV,"data-testid":o&&`${Ar.FORM_FIELD_LABEL}:${o}`,title:typeof e=="string"?e:void 0,children:[e,r&&v.jsx(sV,{children:"*"})]}),s&&v.jsxs(aV,{$colsInRow:a,children:[v.jsx(MT,{...c}),v.jsx(If,{...u,children:s})]}),i&&v.jsxs(oV,{$invalid:i[0]>i[1],children:[i[0],"/",i[1]]})]})},cV=Q.div`
  align-items: center;
  display: flex;
  flex-direction: row;
  margin-top: ${_.fieldSpecs.inputSpacing.helperText.marginTop};
`,uV=Q(Kf)`
  &.MuiSvgIcon-root {
    font-size: 16px;
    color: ${({$error:t})=>t?_.newColors.darkRed[100]:"transparent"};
	margin-right: 8px;
  }
`,D0=Q(Mx)`
  &.MuiFormHelperText-root {
    color: ${_.newColors.grey3[100]};
    font-family: ${_.fontFamily};
    font-size: 12px;
    margin-top: ${_.fieldSpecs.inputSpacing.helperText.marginTop};
  }

  &.MuiFormHelperText-root.Mui-error {
    color: ${_.newColors.darkRed[100]};
    margin: 0;
  }
`,Fp=({children:t,error:e=!1})=>e?v.jsxs(cV,{children:[v.jsx(uV,{$error:!!t,"data-testid":"error-icon-test-id"}),v.jsx(D0,{error:e,children:t})]}):v.jsx(D0,{error:e,children:t}),dV=Q.div`
	padding-left: 20px;
	border-left: 2px solid ${_.newColors.grey2[100]};
	flex: none;
	align-self: stretch;
	margin-left: auto;
	display: none;
	width: 180px;

	${({$colsInRow:t=1})=>t===1&&`
		${Wt("sm","FORM_COL")} {
			display: block;
		}

		${Wt("md","FORM_COL")} {
			width: 420px;
		}
	`}
`,pV=Q.p`
	color: ${_.newColors.grey3[100]};
	font-family: ${_.fontFamily};
	font-size: 14px;
	margin: 0;
`,iC=t=>{const{children:e,colsInRow:n}=t;return v.jsx(dV,{$colsInRow:n,children:v.jsx(pV,{children:e})})};iC.displayName="InstructionText";function sC(t){const{fieldDef:{name:e}={},skeleton:n,methods:{mountField:r}={},inputRef:o,fieldRef:i}=t;h.useEffect(()=>{if(!r||!e||n)return;const{unmount:s}=r({name:e,fieldRef:i==null?void 0:i.current,inputRef:o==null?void 0:o.current});return s},[r,e,o,n,i])}function fV(t){if(!(!t||!t.inputSettings)){if(t.type==="text"||t.type==="textEditor")return t.inputSettings.maxCharacters;if(t.type==="advancedSelection")return t.inputSettings.selectLimit<2?void 0:t.inputSettings.selectLimit}}function hV(t,e){return typeof t=="string"?e.type==="textEditor"?Qw(t):Vh(t):Array.isArray(t)?t.length:0}function mV(t,e){return h.useMemo(()=>{const n=fV(e);return n===void 0?void 0:[hV(t,e),n]},[e,t])}const gV=["color","date","dropdown","number","phone","text","textEditor","time"],vV=t=>{var b;const{children:e,error:n,fieldDef:r,colsInRow:o,value:i,id:s,spacing:a,disabled:l,skeleton:c,useRealLabel:u}=t,d=h.useRef(),p=typeof n=="string"?(n==null?void 0:n.trim().length)>0:!1,f=p||p&&(r==null?void 0:r.required)||typeof n=="boolean"&&n===!0,m=mV(i,r),g=(r==null?void 0:r.label)&&((b=r==null?void 0:r.label)==null?void 0:b.length)>0||m||(r==null?void 0:r.instructionText);sC({...t,fieldRef:d});const y=u||gV.includes(r==null?void 0:r.type);return v.jsxs(X9,{id:s,className:r==null?void 0:r.className,style:r==null?void 0:r.style,"data-testid":"field-test-id",ref:d,"aria-disabled":l,children:[v.jsxs(Q9,{$error:f,$spacing:a,children:[v.jsxs(eV,{$fullWidth:(r==null?void 0:r.size)==="full",children:[g&&(c?v.jsx(Xe,{width:92,height:28,sx:{marginBottom:"8px"}}):v.jsx(lV,{required:r==null?void 0:r.required,limit:m,value:i,instructionText:r==null?void 0:r.instructionText,colsInRow:o,name:r.name,as:y?"label":"div",children:r==null?void 0:r.label})),v.jsx(tV,{$size:r==null?void 0:r.size,children:e})]}),f?v.jsx(Fp,{error:!!n,children:typeof n=="string"?n:void 0}):(r==null?void 0:r.helperText)&&v.jsx(Fp,{children:r==null?void 0:r.helperText})]}),(r==null?void 0:r.instructionText)&&v.jsx(iC,{colsInRow:o,children:r.instructionText})]})},qh=h.memo(vV);function yV({children:t,...e}){return sC(e),v.jsx(v.Fragment,{children:t})}const bV=h.memo(yV);var mo={},Yh={},xV="Expected a function",I0=NaN,wV="[object Symbol]",CV=/^\s+|\s+$/g,SV=/^[-+]0x[0-9a-f]+$/i,kV=/^0b[01]+$/i,MV=/^0o[0-7]+$/i,EV=parseInt,TV=typeof ll=="object"&&ll&&ll.Object===Object&&ll,OV=typeof self=="object"&&self&&self.Object===Object&&self,LV=TV||OV||Function("return this")(),AV=Object.prototype,PV=AV.toString,RV=Math.max,DV=Math.min,Td=function(){return LV.Date.now()};function IV(t,e,n){var r,o,i,s,a,l,c=0,u=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(xV);e=$0(e)||0,Bp(n)&&(u=!!n.leading,d="maxWait"in n,i=d?RV($0(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p);function f(w){var M=r,T=o;return r=o=void 0,c=w,s=t.apply(T,M),s}function m(w){return c=w,a=setTimeout(b,e),u?f(w):s}function g(w){var M=w-l,T=w-c,D=e-M;return d?DV(D,i-T):D}function y(w){var M=w-l,T=w-c;return l===void 0||M>=e||M<0||d&&T>=i}function b(){var w=Td();if(y(w))return x(w);a=setTimeout(b,g(w))}function x(w){return a=void 0,p&&r?f(w):(r=o=void 0,s)}function C(){a!==void 0&&clearTimeout(a),c=0,r=l=o=a=void 0}function E(){return a===void 0?s:x(Td())}function k(){var w=Td(),M=y(w);if(r=arguments,o=this,l=w,M){if(a===void 0)return m(l);if(d)return a=setTimeout(b,e),f(l)}return a===void 0&&(a=setTimeout(b,e)),s}return k.cancel=C,k.flush=E,k}function Bp(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function $V(t){return!!t&&typeof t=="object"}function NV(t){return typeof t=="symbol"||$V(t)&&PV.call(t)==wV}function $0(t){if(typeof t=="number")return t;if(NV(t))return I0;if(Bp(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Bp(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(CV,"");var n=kV.test(t);return n||MV.test(t)?EV(t.slice(2),n?2:8):SV.test(t)?I0:+t}var _V=IV,Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.compose=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(){for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];n.forEach(function(a){return a&&a.apply(void 0,i)})}};Pu.pick=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(function(i,s){return e&&e.hasOwnProperty(s)&&(i[s]=e[s]),i},{})};Object.defineProperty(Yh,"__esModule",{value:!0});var wi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FV=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),BV=h,jV=Jh(BV),zV=jx,Ht=Jh(zV),HV=_V,VV=Jh(HV),Br=Pu;function Jh(t){return t&&t.__esModule?t:{default:t}}function WV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function GV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var KV=function(e){return{mainText:e.main_text,secondaryText:e.secondary_text}},Zh=function(t){GV(e,t);function e(n){WV(this,e);var r=UV(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.init=function(){if(!window.google)throw new Error("[react-places-autocomplete]: Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");if(!window.google.maps.places)throw new Error("[react-places-autocomplete]: Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");r.autocompleteService=new window.google.maps.places.AutocompleteService,r.autocompleteOK=window.google.maps.places.PlacesServiceStatus.OK,r.setState(function(o){return o.ready?null:{ready:!0}})},r.autocompleteCallback=function(o,i){if(r.setState({loading:!1}),i!==r.autocompleteOK){r.props.onError(i,r.clearSuggestions);return}var s=r.props.highlightFirstSuggestion;r.setState({suggestions:o.map(function(a,l){return{id:a.id,description:a.description,placeId:a.place_id,active:!!(s&&l===0),index:l,formattedSuggestion:KV(a.structured_formatting),matchedSubstrings:a.matched_substrings,terms:a.terms,types:a.types}})})},r.fetchPredictions=function(){var o=r.props.value;o.length&&(r.setState({loading:!0}),r.autocompleteService.getPlacePredictions(wi({},r.props.searchOptions,{input:o}),r.autocompleteCallback))},r.clearSuggestions=function(){r.setState({suggestions:[]})},r.clearActive=function(){r.setState({suggestions:r.state.suggestions.map(function(o){return wi({},o,{active:!1})})})},r.handleSelect=function(o,i,s){r.clearSuggestions(),r.props.onSelect?r.props.onSelect(o,i,s):r.props.onChange(o)},r.getActiveSuggestion=function(){return r.state.suggestions.find(function(o){return o.active})},r.selectActiveAtIndex=function(o){var i=r.state.suggestions.find(function(s){return s.index===o}).description;r.setActiveAtIndex(o),r.props.onChange(i)},r.selectUserInputValue=function(){r.clearActive(),r.props.onChange(r.state.userInputValue)},r.handleEnterKey=function(){var o=r.getActiveSuggestion();o===void 0?r.handleSelect(r.props.value,null,null):r.handleSelect(o.description,o.placeId,o)},r.handleDownKey=function(){if(r.state.suggestions.length!==0){var o=r.getActiveSuggestion();o===void 0?r.selectActiveAtIndex(0):o.index===r.state.suggestions.length-1?r.selectUserInputValue():r.selectActiveAtIndex(o.index+1)}},r.handleUpKey=function(){if(r.state.suggestions.length!==0){var o=r.getActiveSuggestion();o===void 0?r.selectActiveAtIndex(r.state.suggestions.length-1):o.index===0?r.selectUserInputValue():r.selectActiveAtIndex(o.index-1)}},r.handleInputKeyDown=function(o){switch(o.key){case"Enter":o.preventDefault(),r.handleEnterKey();break;case"ArrowDown":o.preventDefault(),r.handleDownKey();break;case"ArrowUp":o.preventDefault(),r.handleUpKey();break;case"Escape":r.clearSuggestions();break}},r.setActiveAtIndex=function(o){r.setState({suggestions:r.state.suggestions.map(function(i,s){return s===o?wi({},i,{active:!0}):wi({},i,{active:!1})})})},r.handleInputChange=function(o){var i=o.target.value;if(r.props.onChange(i),r.setState({userInputValue:i}),!i){r.clearSuggestions();return}r.props.shouldFetchSuggestions&&r.debouncedFetchPredictions()},r.handleInputOnBlur=function(){r.mousedownOnSuggestion||r.clearSuggestions()},r.getActiveSuggestionId=function(){var o=r.getActiveSuggestion();return o?"PlacesAutocomplete__suggestion-"+o.placeId:void 0},r.getIsExpanded=function(){return r.state.suggestions.length>0},r.getInputProps=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(o.hasOwnProperty("value"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `value`. Use `value` prop instead");if(o.hasOwnProperty("onChange"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `onChange`. Use `onChange` prop instead");var i={type:"text",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-expanded":r.getIsExpanded(),"aria-activedescendant":r.getActiveSuggestionId(),disabled:!r.state.ready};return wi({},i,o,{onKeyDown:(0,Br.compose)(r.handleInputKeyDown,o.onKeyDown),onBlur:(0,Br.compose)(r.handleInputOnBlur,o.onBlur),value:r.props.value,onChange:function(a){r.handleInputChange(a)}})},r.getSuggestionItemProps=function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.handleSuggestionMouseEnter.bind(r,o.index),a=r.handleSuggestionClick.bind(r,o);return wi({},i,{key:o.id,id:r.getActiveSuggestionId(),role:"option",onMouseEnter:(0,Br.compose)(s,i.onMouseEnter),onMouseLeave:(0,Br.compose)(r.handleSuggestionMouseLeave,i.onMouseLeave),onMouseDown:(0,Br.compose)(r.handleSuggestionMouseDown,i.onMouseDown),onMouseUp:(0,Br.compose)(r.handleSuggestionMouseUp,i.onMouseUp),onTouchStart:(0,Br.compose)(r.handleSuggestionTouchStart,i.onTouchStart),onTouchEnd:(0,Br.compose)(r.handleSuggestionMouseUp,i.onTouchEnd),onClick:(0,Br.compose)(a,i.onClick)})},r.handleSuggestionMouseEnter=function(o){r.setActiveAtIndex(o)},r.handleSuggestionMouseLeave=function(){r.mousedownOnSuggestion=!1,r.clearActive()},r.handleSuggestionMouseDown=function(o){o.preventDefault(),r.mousedownOnSuggestion=!0},r.handleSuggestionTouchStart=function(){r.mousedownOnSuggestion=!0},r.handleSuggestionMouseUp=function(){r.mousedownOnSuggestion=!1},r.handleSuggestionClick=function(o,i){i&&i.preventDefault&&i.preventDefault();var s=o.description,a=o.placeId;r.handleSelect(s,a,o),setTimeout(function(){r.mousedownOnSuggestion=!1})},r.state={loading:!1,suggestions:[],userInputValue:n.value,ready:!n.googleCallbackName},r.debouncedFetchPredictions=(0,VV.default)(r.fetchPredictions,n.debounce),r}return FV(e,[{key:"componentDidMount",value:function(){var r=this.props.googleCallbackName;if(r){var o=window.google&&window.google.maps&&window.google.maps.places;o?this.init():window[r]=this.init}else this.init()}},{key:"componentWillUnmount",value:function(){var r=this.props.googleCallbackName;r&&window[r]&&delete window[r]}},{key:"render",value:function(){return this.props.children({getInputProps:this.getInputProps,getSuggestionItemProps:this.getSuggestionItemProps,loading:this.state.loading,suggestions:this.state.suggestions})}}]),e}(jV.default.Component);Zh.propTypes={onChange:Ht.default.func.isRequired,value:Ht.default.string.isRequired,children:Ht.default.func.isRequired,onError:Ht.default.func,onSelect:Ht.default.func,searchOptions:Ht.default.shape({bounds:Ht.default.object,componentRestrictions:Ht.default.object,location:Ht.default.object,offset:Ht.default.oneOfType([Ht.default.number,Ht.default.string]),radius:Ht.default.oneOfType([Ht.default.number,Ht.default.string]),types:Ht.default.array}),debounce:Ht.default.number,highlightFirstSuggestion:Ht.default.bool,shouldFetchSuggestions:Ht.default.bool,googleCallbackName:Ht.default.string};Zh.defaultProps={onError:function(e,n){return console.error(`[react-places-autocomplete]: error happened when fetching data from Google Maps API.
Please check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)
Status: `,e)},searchOptions:{},debounce:200,highlightFirstSuggestion:!1,shouldFetchSuggestions:!0};Yh.default=Zh;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.geocodeByAddress=function(e){var n=new window.google.maps.Geocoder,r=window.google.maps.GeocoderStatus.OK;return new Promise(function(o,i){n.geocode({address:e},function(s,a){a!==r&&i(a),o(s)})})};Ka.getLatLng=function(e){return new Promise(function(n,r){try{var o={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};n(o)}catch(i){r(i)}})};Ka.geocodeByPlaceId=function(e){var n=new window.google.maps.Geocoder,r=window.google.maps.GeocoderStatus.OK;return new Promise(function(o,i){n.geocode({placeId:e},function(s,a){a!==r&&i(a),o(s)})})};Object.defineProperty(mo,"__esModule",{value:!0});var aC=mo.getLatLng=mo.geocodeByPlaceId=Qh=mo.geocodeByAddress=void 0,qV=Yh,YV=JV(qV),Xh=Ka;function JV(t){return t&&t.__esModule?t:{default:t}}var Qh=mo.geocodeByAddress=Xh.geocodeByAddress;mo.geocodeByPlaceId=Xh.geocodeByPlaceId;aC=mo.getLatLng=Xh.getLatLng;var ZV=mo.default=YV.default;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jp=function(t,e){return jp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},jp(t,e)};function vt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Be=function(){return Be=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Be.apply(this,arguments)};function em(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function XV(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function QV(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function lC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eW=function(t,e,n,r,o,i,s,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,s,a],u=0;l=new Error(e.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},tW=eW,Ft=lC(tW),Ue=h.createContext(null);function cC(){Ft(!!h.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=h.useContext(Ue);return Ft(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function nW(t,e,n){return Object.keys(t).reduce(function(o,i){return e(o,t[i],i)},n)}function rW(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function oW(t,e,n,r){var o={},i=function(s,a){var l=n[a];l!==e[a]&&(o[a]=l,s(r,l))};return rW(t,i),o}function iW(t,e,n){var r=nW(n,function(i,s,a){return typeof t[a]=="function"&&i.push(google.maps.event.addListener(e,s,t[a])),i},[]);return r}function sW(t){google.maps.event.removeListener(t)}function Qe(t){t===void 0&&(t=[]),t.forEach(sW)}function Ye(t){var e=t.updaterMap,n=t.eventMap,r=t.prevProps,o=t.nextProps,i=t.instance,s=iW(o,i,n);return oW(e,r,o,i),s}var N0={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},_0={extraMapTypes:function(t,e){e.forEach(function(r,o){t.mapTypes.set(String(o),r)})},center:function(t,e){t.setCenter(e)},clickableIcons:function(t,e){t.setClickableIcons(e)},heading:function(t,e){t.setHeading(e)},mapTypeId:function(t,e){t.setMapTypeId(e)},options:function(t,e){t.setOptions(e)},streetView:function(t,e){t.setStreetView(e)},tilt:function(t,e){t.setTilt(e)},zoom:function(t,e){t.setZoom(e)}};function aW(t){var e=t.children,n=t.options,r=t.id,o=t.mapContainerStyle,i=t.mapContainerClassName,s=t.center,a=t.onClick,l=t.onDblClick,c=t.onDrag,u=t.onDragEnd,d=t.onDragStart,p=t.onMouseMove,f=t.onMouseOut,m=t.onMouseOver,g=t.onMouseDown,y=t.onMouseUp,b=t.onRightClick,x=t.onCenterChanged,C=t.onLoad,E=t.onUnmount,k=h.useState(null),w=k[0],M=k[1],T=h.useRef(null),D=h.useState(null),P=D[0],U=D[1],N=h.useState(null),q=N[0],R=N[1],B=h.useState(null),z=B[0],I=B[1],oe=h.useState(null),me=oe[0],te=oe[1],G=h.useState(null),X=G[0],ie=G[1],Y=h.useState(null),S=Y[0],A=Y[1],j=h.useState(null),H=j[0],V=j[1],fe=h.useState(null),pe=fe[0],he=fe[1],ke=h.useState(null),Te=ke[0],$=ke[1],F=h.useState(null),de=F[0],Z=F[1],ae=h.useState(null),ue=ae[0],ye=ae[1],be=h.useState(null),ge=be[0],ce=be[1];return h.useEffect(function(){n&&w!==null&&w.setOptions(n)},[w,n]),h.useEffect(function(){w!==null&&typeof s<"u"&&w.setCenter(s)},[w,s]),h.useEffect(function(){w&&l&&(q!==null&&google.maps.event.removeListener(q),R(google.maps.event.addListener(w,"dblclick",l)))},[l]),h.useEffect(function(){w&&u&&(z!==null&&google.maps.event.removeListener(z),I(google.maps.event.addListener(w,"dragend",u)))},[u]),h.useEffect(function(){w&&d&&(me!==null&&google.maps.event.removeListener(me),te(google.maps.event.addListener(w,"dragstart",d)))},[d]),h.useEffect(function(){w&&g&&(X!==null&&google.maps.event.removeListener(X),ie(google.maps.event.addListener(w,"mousedown",g)))},[g]),h.useEffect(function(){w&&p&&(S!==null&&google.maps.event.removeListener(S),A(google.maps.event.addListener(w,"mousemove",p)))},[p]),h.useEffect(function(){w&&f&&(H!==null&&google.maps.event.removeListener(H),V(google.maps.event.addListener(w,"mouseout",f)))},[f]),h.useEffect(function(){w&&m&&(pe!==null&&google.maps.event.removeListener(pe),he(google.maps.event.addListener(w,"mouseover",m)))},[m]),h.useEffect(function(){w&&y&&(Te!==null&&google.maps.event.removeListener(Te),$(google.maps.event.addListener(w,"mouseup",y)))},[y]),h.useEffect(function(){w&&b&&(de!==null&&google.maps.event.removeListener(de),Z(google.maps.event.addListener(w,"rightclick",b)))},[b]),h.useEffect(function(){w&&a&&(ue!==null&&google.maps.event.removeListener(ue),ye(google.maps.event.addListener(w,"click",a)))},[a]),h.useEffect(function(){w&&c&&(ge!==null&&google.maps.event.removeListener(ge),ce(google.maps.event.addListener(w,"drag",c)))},[c]),h.useEffect(function(){w&&x&&(P!==null&&google.maps.event.removeListener(P),U(google.maps.event.addListener(w,"center_changed",x)))},[a]),h.useEffect(function(){var je=T.current===null?null:new google.maps.Map(T.current,n);return M(je),je!==null&&C&&C(je),function(){je!==null&&E&&E(je)}},[]),v.jsx("div",{id:r,ref:T,style:o,className:i,children:v.jsx(Ue.Provider,{value:w,children:w!==null?e:null})})}h.memo(aW);var lW=function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={map:null},n.registeredEvents=[],n.mapRef=null,n.getInstance=function(){return n.mapRef===null?null:new google.maps.Map(n.mapRef,n.props.options)},n.panTo=function(r){var o=n.getInstance();o&&o.panTo(r)},n.setMapCallback=function(){n.state.map!==null&&n.props.onLoad&&n.props.onLoad(n.state.map)},n.getRef=function(r){n.mapRef=r},n}return e.prototype.componentDidMount=function(){var n=this.getInstance();this.registeredEvents=Ye({updaterMap:_0,eventMap:N0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{map:n}},this.setMapCallback)},e.prototype.componentDidUpdate=function(n){this.state.map!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:_0,eventMap:N0,prevProps:n,nextProps:this.props,instance:this.state.map}))},e.prototype.componentWillUnmount=function(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Qe(this.registeredEvents))},e.prototype.render=function(){return v.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:v.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})},e}(h.PureComponent),Bo=typeof document<"u";function uC(t){var e=t.url,n=t.id,r=t.nonce;return Bo?new Promise(function(i,s){var a=document.getElementById(n),l=window;if(a){var c=a.getAttribute("data-state");if(a.src===e&&c!=="error"){if(c==="ready")return i(n);var u=l.initMap,d=a.onerror;l.initMap=function(){u&&u(),i(n)},a.onerror=function(f){d&&d(f),s(f)};return}else a.remove()}var p=document.createElement("script");p.type="text/javascript",p.src=e,p.id=n,p.async=!0,p.nonce=r||"",p.onerror=function(m){p.setAttribute("data-state","error"),s(m)},l.initMap=function(){p.setAttribute("data-state","ready"),i(n)},document.head.appendChild(p)}).catch(function(o){throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function F0(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function dC(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(o,i){return F0(o)||Reflect.apply(e,t,[o,i]),o};var n=t.appendChild.bind(t);t.appendChild=function(o){return F0(o)||Reflect.apply(n,t,[o]),o}}}function pC(t){var e=t.googleMapsApiKey,n=t.googleMapsClientId,r=t.version,o=r===void 0?"weekly":r,i=t.language,s=t.region,a=t.libraries,l=t.channel,c=t.mapIds,u=t.authReferrerPolicy,d=[];return Ft(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?d.push("key=".concat(e)):n&&d.push("client=".concat(n)),o&&d.push("v=".concat(o)),i&&d.push("language=".concat(i)),s&&d.push("region=".concat(s)),a&&a.length&&d.push("libraries=".concat(a.sort().join(","))),l&&d.push("channel=".concat(l)),c&&c.length&&d.push("map_ids=".concat(c.join(","))),u&&d.push("auth_referrer_policy=".concat(u)),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var As=!1;function fC(){return v.jsx("div",{children:"Loading..."})}var zp={id:"script-loader",version:"weekly"};(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.check=h.createRef(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return XV(n,void 0,void 0,function(){function r(o){if(!As)o();else if(Bo)var i=window.setInterval(function(){As||(window.clearInterval(i),o())},1)}return QV(this,function(o){return[2,new Promise(r)]})})},n.cleanup=function(){As=!0;var r=document.getElementById(n.props.id);r&&r.parentNode&&r.parentNode.removeChild(r),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(i){return typeof i.src=="string"&&i.src.includes("maps.googleapis")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(i){return i.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(i){return i.innerText!==void 0&&i.innerText.length>0&&i.innerText.includes(".gm-")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)})},n.injectScript=function(){n.props.preventGoogleFontsLoading&&dC(),Ft(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id);var r={id:n.props.id,nonce:n.props.nonce,url:pC(n.props)};uC(r).then(function(){n.props.onLoad&&n.props.onLoad(),n.setState(function(){return{loaded:!0}})}).catch(function(o){n.props.onError&&n.props.onError(o),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})},n}return e.prototype.componentDidMount=function(){if(Bo){if(window.google&&window.google.maps&&!As){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}},e.prototype.componentDidUpdate=function(n){this.props.libraries!==n.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Bo&&n.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))},e.prototype.componentWillUnmount=function(){var n=this;if(Bo){this.cleanup();var r=function(){n.check.current||(delete window.google,As=!1)};window.setTimeout(r,1),this.props.onUnmount&&this.props.onUnmount()}},e.prototype.render=function(){return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||v.jsx(fC,{})]})},e.defaultProps=zp,e})(h.PureComponent);var B0;function tm(t){var e=t.id,n=e===void 0?zp.id:e,r=t.version,o=r===void 0?zp.version:r,i=t.nonce,s=t.googleMapsApiKey,a=t.googleMapsClientId,l=t.language,c=t.region,u=t.libraries,d=t.preventGoogleFontsLoading,p=t.channel,f=t.mapIds,m=t.authReferrerPolicy,g=h.useRef(!1),y=h.useState(!1),b=y[0],x=y[1],C=h.useState(void 0),E=C[0],k=C[1];h.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]),h.useEffect(function(){Bo&&d&&dC()},[d]),h.useEffect(function(){b&&Ft(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[b]);var w=pC({version:o,googleMapsApiKey:s,googleMapsClientId:a,language:l,region:c,libraries:u,channel:p,mapIds:f,authReferrerPolicy:m});h.useEffect(function(){if(!Bo)return;function D(){g.current&&(x(!0),B0=w)}if(window.google&&window.google.maps&&B0===w){D();return}uC({id:n,url:w,nonce:i}).then(D).catch(function(U){g.current&&k(U),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(U)})},[n,w,i]);var M=h.useRef();return h.useEffect(function(){M.current&&u!==M.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),M.current=u},[u]),{isLoaded:b,loadError:E,url:w}}var cW=v.jsx(fC,{});function uW(t){var e=t.loadingElement,n=t.onLoad,r=t.onError,o=t.onUnmount,i=t.children,s=em(t,["loadingElement","onLoad","onError","onUnmount","children"]),a=tm(s),l=a.isLoaded,c=a.loadError;return h.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),h.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),h.useEffect(function(){return function(){o&&o()}},[o]),l?i:e||cW}h.memo(uW);var j0;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(j0||(j0={}));var z0={},H0={options:function(t,e){t.setOptions(e)}};function dW(t){var e=t.options,n=t.onLoad,r=t.onUnmount,o=h.useContext(Ue),i=h.useState(null),s=i[0],a=i[1];return h.useEffect(function(){s!==null&&s.setMap(o)},[o]),h.useEffect(function(){e&&s!==null&&s.setOptions(e)},[s,e]),h.useEffect(function(){var l=new google.maps.TrafficLayer(Be(Be({},e||{}),{map:o}));return a(l),n&&n(l),function(){s!==null&&(r&&r(s),s.setMap(null))}},[]),null}h.memo(dW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={trafficLayer:null},n.setTrafficLayerCallback=function(){n.state.trafficLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.trafficLayer)},n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=new google.maps.TrafficLayer(Be(Be({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:H0,eventMap:z0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{trafficLayer:n}},this.setTrafficLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.trafficLayer!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:H0,eventMap:z0,prevProps:n,nextProps:this.props,instance:this.state.trafficLayer}))},e.prototype.componentWillUnmount=function(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Qe(this.registeredEvents),this.state.trafficLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);function pW(t){var e=t.onLoad,n=t.onUnmount,r=h.useContext(Ue),o=h.useState(null),i=o[0],s=o[1];return h.useEffect(function(){i!==null&&i.setMap(r)},[r]),h.useEffect(function(){var a=new google.maps.BicyclingLayer;return s(a),a.setMap(r),e&&e(a),function(){a!==null&&(n&&n(a),a.setMap(null))}},[]),null}h.memo(pW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={bicyclingLayer:null},n.setBicyclingLayerCallback=function(){n.state.bicyclingLayer!==null&&(n.state.bicyclingLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.bicyclingLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.BicyclingLayer;this.setState(function(){return{bicyclingLayer:n}},this.setBicyclingLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);function fW(t){var e=t.onLoad,n=t.onUnmount,r=h.useContext(Ue),o=h.useState(null),i=o[0],s=o[1];return h.useEffect(function(){i!==null&&i.setMap(r)},[r]),h.useEffect(function(){var a=new google.maps.TransitLayer;return s(a),a.setMap(r),e&&e(a),function(){i!==null&&(n&&n(i),i.setMap(null))}},[]),null}h.memo(fW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={transitLayer:null},n.setTransitLayerCallback=function(){n.state.transitLayer!==null&&(n.state.transitLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.transitLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:n}},this.setTransitLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);var V0={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},W0={drawingMode:function(t,e){t.setDrawingMode(e)},options:function(t,e){t.setOptions(e)}};function hW(t){var e=t.options,n=t.drawingMode,r=t.onCircleComplete,o=t.onMarkerComplete,i=t.onOverlayComplete,s=t.onPolygonComplete,a=t.onPolylineComplete,l=t.onRectangleComplete,c=t.onLoad,u=t.onUnmount,d=h.useContext(Ue),p=h.useState(null),f=p[0],m=p[1],g=h.useState(null),y=g[0],b=g[1],x=h.useState(null),C=x[0],E=x[1],k=h.useState(null),w=k[0],M=k[1],T=h.useState(null),D=T[0],P=T[1],U=h.useState(null),N=U[0],q=U[1],R=h.useState(null),B=R[0],z=R[1];return h.useEffect(function(){f!==null&&f.setMap(d)},[d]),h.useEffect(function(){e&&f!==null&&f.setOptions(e)},[f,e]),h.useEffect(function(){f!==null&&f.setDrawingMode(n??null)},[f,n]),h.useEffect(function(){f&&r&&(y!==null&&google.maps.event.removeListener(y),b(google.maps.event.addListener(f,"circlecomplete",r)))},[f,r]),h.useEffect(function(){f&&o&&(C!==null&&google.maps.event.removeListener(C),E(google.maps.event.addListener(f,"markercomplete",o)))},[f,o]),h.useEffect(function(){f&&i&&(w!==null&&google.maps.event.removeListener(w),M(google.maps.event.addListener(f,"overlaycomplete",i)))},[f,i]),h.useEffect(function(){f&&s&&(D!==null&&google.maps.event.removeListener(D),P(google.maps.event.addListener(f,"polygoncomplete",s)))},[f,s]),h.useEffect(function(){f&&a&&(N!==null&&google.maps.event.removeListener(N),q(google.maps.event.addListener(f,"polylinecomplete",a)))},[f,a]),h.useEffect(function(){f&&l&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(f,"rectanglecomplete",l)))},[f,l]),h.useEffect(function(){Ft(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var I=new google.maps.drawing.DrawingManager(Be(Be({},e||{}),{map:d}));return n&&I.setDrawingMode(n),r&&b(google.maps.event.addListener(I,"circlecomplete",r)),o&&E(google.maps.event.addListener(I,"markercomplete",o)),i&&M(google.maps.event.addListener(I,"overlaycomplete",i)),s&&P(google.maps.event.addListener(I,"polygoncomplete",s)),a&&q(google.maps.event.addListener(I,"polylinecomplete",a)),l&&z(google.maps.event.addListener(I,"rectanglecomplete",l)),m(I),c&&c(I),function(){f!==null&&(y&&google.maps.event.removeListener(y),C&&google.maps.event.removeListener(C),w&&google.maps.event.removeListener(w),D&&google.maps.event.removeListener(D),N&&google.maps.event.removeListener(N),B&&google.maps.event.removeListener(B),u&&u(f),f.setMap(null))}},[]),null}h.memo(hW);(function(t){vt(e,t);function e(n){var r=t.call(this,n)||this;return r.registeredEvents=[],r.state={drawingManager:null},r.setDrawingManagerCallback=function(){r.state.drawingManager!==null&&r.props.onLoad&&r.props.onLoad(r.state.drawingManager)},Ft(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),r}return e.prototype.componentDidMount=function(){var n=new google.maps.drawing.DrawingManager(Be(Be({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:W0,eventMap:V0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{drawingManager:n}},this.setDrawingManagerCallback)},e.prototype.componentDidUpdate=function(n){this.state.drawingManager!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:W0,eventMap:V0,prevProps:n,nextProps:this.props,instance:this.state.drawingManager}))},e.prototype.componentWillUnmount=function(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Qe(this.registeredEvents),this.state.drawingManager.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);var U0={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},G0={animation:function(t,e){t.setAnimation(e)},clickable:function(t,e){t.setClickable(e)},cursor:function(t,e){t.setCursor(e)},draggable:function(t,e){t.setDraggable(e)},icon:function(t,e){t.setIcon(e)},label:function(t,e){t.setLabel(e)},map:function(t,e){t.setMap(e)},opacity:function(t,e){t.setOpacity(e)},options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},shape:function(t,e){t.setShape(e)},title:function(t,e){t.setTitle(e)},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},mc={};function mW(t){var e=t.position,n=t.options,r=t.clusterer,o=t.noClustererRedraw,i=t.children,s=t.draggable,a=t.visible,l=t.animation,c=t.clickable,u=t.cursor,d=t.icon,p=t.label,f=t.opacity,m=t.shape,g=t.title,y=t.zIndex,b=t.onClick,x=t.onDblClick,C=t.onDrag,E=t.onDragEnd,k=t.onDragStart,w=t.onMouseOut,M=t.onMouseOver,T=t.onMouseUp,D=t.onMouseDown,P=t.onRightClick,U=t.onClickableChanged,N=t.onCursorChanged,q=t.onAnimationChanged,R=t.onDraggableChanged,B=t.onFlatChanged,z=t.onIconChanged,I=t.onPositionChanged,oe=t.onShapeChanged,me=t.onTitleChanged,te=t.onVisibleChanged,G=t.onZindexChanged,X=t.onLoad,ie=t.onUnmount,Y=h.useContext(Ue),S=h.useState(null),A=S[0],j=S[1],H=h.useState(null),V=H[0],fe=H[1],pe=h.useState(null),he=pe[0],ke=pe[1],Te=h.useState(null),$=Te[0],F=Te[1],de=h.useState(null),Z=de[0],ae=de[1],ue=h.useState(null),ye=ue[0],be=ue[1],ge=h.useState(null),ce=ge[0],je=ge[1],Oe=h.useState(null),Ae=Oe[0],He=Oe[1],Pe=h.useState(null),it=Pe[0],jt=Pe[1],Pt=h.useState(null),Gt=Pt[0],zt=Pt[1],Kt=h.useState(null),lt=Kt[0],xn=Kt[1],In=h.useState(null),$t=In[0],dn=In[1],qt=h.useState(null),On=qt[0],$n=qt[1],qn=h.useState(null),pn=qn[0],fn=qn[1],Ir=h.useState(null),Yn=Ir[0],Jn=Ir[1],Rt=h.useState(null),bt=Rt[0],Yt=Rt[1],Nn=h.useState(null),Zn=Nn[0],$r=Nn[1],Nr=h.useState(null),Qt=Nr[0],Xn=Nr[1],_n=h.useState(null),Fn=_n[0],re=_n[1],ee=h.useState(null),Me=ee[0],xe=ee[1],ze=h.useState(null),et=ze[0],L=ze[1],K=h.useState(null),le=K[0],ve=K[1];h.useEffect(function(){A!==null&&A.setMap(Y)},[Y]),h.useEffect(function(){typeof n<"u"&&A!==null&&A.setOptions(n)},[A,n]),h.useEffect(function(){typeof s<"u"&&A!==null&&A.setDraggable(s)},[A,s]),h.useEffect(function(){e&&A!==null&&A.setPosition(e)},[A,e]),h.useEffect(function(){typeof a<"u"&&A!==null&&A.setVisible(a)},[A,a]),h.useEffect(function(){A==null||A.setAnimation(l)},[A,l]),h.useEffect(function(){A&&c!==void 0&&A.setClickable(c)},[A,c]),h.useEffect(function(){A&&u!==void 0&&A.setCursor(u)},[A,u]),h.useEffect(function(){A&&d!==void 0&&A.setIcon(d)},[A,d]),h.useEffect(function(){A&&p!==void 0&&A.setLabel(p)},[A,p]),h.useEffect(function(){A&&f!==void 0&&A.setOpacity(f)},[A,f]),h.useEffect(function(){A&&m!==void 0&&A.setShape(m)},[A,m]),h.useEffect(function(){A&&g!==void 0&&A.setTitle(g)},[A,g]),h.useEffect(function(){A&&y!==void 0&&A.setZIndex(y)},[A,y]),h.useEffect(function(){A&&x&&(V!==null&&google.maps.event.removeListener(V),fe(google.maps.event.addListener(A,"dblclick",x)))},[x]),h.useEffect(function(){A&&E&&(he!==null&&google.maps.event.removeListener(he),ke(google.maps.event.addListener(A,"dragend",E)))},[E]),h.useEffect(function(){A&&k&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(A,"dragstart",k)))},[k]),h.useEffect(function(){A&&D&&(Z!==null&&google.maps.event.removeListener(Z),ae(google.maps.event.addListener(A,"mousedown",D)))},[D]),h.useEffect(function(){A&&w&&(ye!==null&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(A,"mouseout",w)))},[w]),h.useEffect(function(){A&&M&&(ce!==null&&google.maps.event.removeListener(ce),je(google.maps.event.addListener(A,"mouseover",M)))},[M]),h.useEffect(function(){A&&T&&(Ae!==null&&google.maps.event.removeListener(Ae),He(google.maps.event.addListener(A,"mouseup",T)))},[T]),h.useEffect(function(){A&&P&&(it!==null&&google.maps.event.removeListener(it),jt(google.maps.event.addListener(A,"rightclick",P)))},[P]),h.useEffect(function(){A&&b&&(Gt!==null&&google.maps.event.removeListener(Gt),zt(google.maps.event.addListener(A,"click",b)))},[b]),h.useEffect(function(){A&&C&&(lt!==null&&google.maps.event.removeListener(lt),xn(google.maps.event.addListener(A,"drag",C)))},[C]),h.useEffect(function(){A&&U&&($t!==null&&google.maps.event.removeListener($t),dn(google.maps.event.addListener(A,"clickable_changed",U)))},[U]),h.useEffect(function(){A&&N&&(On!==null&&google.maps.event.removeListener(On),$n(google.maps.event.addListener(A,"cursor_changed",N)))},[N]),h.useEffect(function(){A&&q&&(pn!==null&&google.maps.event.removeListener(pn),fn(google.maps.event.addListener(A,"animation_changed",q)))},[q]),h.useEffect(function(){A&&R&&(Yn!==null&&google.maps.event.removeListener(Yn),Jn(google.maps.event.addListener(A,"draggable_changed",R)))},[R]),h.useEffect(function(){A&&B&&(bt!==null&&google.maps.event.removeListener(bt),Yt(google.maps.event.addListener(A,"flat_changed",B)))},[B]),h.useEffect(function(){A&&z&&(Zn!==null&&google.maps.event.removeListener(Zn),$r(google.maps.event.addListener(A,"icon_changed",z)))},[z]),h.useEffect(function(){A&&I&&(Qt!==null&&google.maps.event.removeListener(Qt),Xn(google.maps.event.addListener(A,"position_changed",I)))},[I]),h.useEffect(function(){A&&oe&&(Fn!==null&&google.maps.event.removeListener(Fn),re(google.maps.event.addListener(A,"shape_changed",oe)))},[oe]),h.useEffect(function(){A&&me&&(Me!==null&&google.maps.event.removeListener(Me),xe(google.maps.event.addListener(A,"title_changed",me)))},[me]),h.useEffect(function(){A&&te&&(et!==null&&google.maps.event.removeListener(et),L(google.maps.event.addListener(A,"visible_changed",te)))},[te]),h.useEffect(function(){A&&G&&(le!==null&&google.maps.event.removeListener(le),ve(google.maps.event.addListener(A,"zindex_changed",G)))},[G]),h.useEffect(function(){var $e=Be(Be(Be({},n||mc),r?mc:{map:Y}),{position:e}),we=new google.maps.Marker($e);return r?r.addMarker(we,!!o):we.setMap(Y),e&&we.setPosition(e),typeof a<"u"&&we.setVisible(a),typeof s<"u"&&we.setDraggable(s),typeof c<"u"&&we.setClickable(c),typeof u=="string"&&we.setCursor(u),d&&we.setIcon(d),typeof p<"u"&&we.setLabel(p),typeof f<"u"&&we.setOpacity(f),m&&we.setShape(m),typeof g=="string"&&we.setTitle(g),typeof y=="number"&&we.setZIndex(y),x&&fe(google.maps.event.addListener(we,"dblclick",x)),E&&ke(google.maps.event.addListener(we,"dragend",E)),k&&F(google.maps.event.addListener(we,"dragstart",k)),D&&ae(google.maps.event.addListener(we,"mousedown",D)),w&&be(google.maps.event.addListener(we,"mouseout",w)),M&&je(google.maps.event.addListener(we,"mouseover",M)),T&&He(google.maps.event.addListener(we,"mouseup",T)),P&&jt(google.maps.event.addListener(we,"rightclick",P)),b&&zt(google.maps.event.addListener(we,"click",b)),C&&xn(google.maps.event.addListener(we,"drag",C)),U&&dn(google.maps.event.addListener(we,"clickable_changed",U)),N&&$n(google.maps.event.addListener(we,"cursor_changed",N)),q&&fn(google.maps.event.addListener(we,"animation_changed",q)),R&&Jn(google.maps.event.addListener(we,"draggable_changed",R)),B&&Yt(google.maps.event.addListener(we,"flat_changed",B)),z&&$r(google.maps.event.addListener(we,"icon_changed",z)),I&&Xn(google.maps.event.addListener(we,"position_changed",I)),oe&&re(google.maps.event.addListener(we,"shape_changed",oe)),me&&xe(google.maps.event.addListener(we,"title_changed",me)),te&&L(google.maps.event.addListener(we,"visible_changed",te)),G&&ve(google.maps.event.addListener(we,"zindex_changed",G)),j(we),X&&X(we),function(){V!==null&&google.maps.event.removeListener(V),he!==null&&google.maps.event.removeListener(he),$!==null&&google.maps.event.removeListener($),Z!==null&&google.maps.event.removeListener(Z),ye!==null&&google.maps.event.removeListener(ye),ce!==null&&google.maps.event.removeListener(ce),Ae!==null&&google.maps.event.removeListener(Ae),it!==null&&google.maps.event.removeListener(it),Gt!==null&&google.maps.event.removeListener(Gt),$t!==null&&google.maps.event.removeListener($t),On!==null&&google.maps.event.removeListener(On),pn!==null&&google.maps.event.removeListener(pn),Yn!==null&&google.maps.event.removeListener(Yn),bt!==null&&google.maps.event.removeListener(bt),Zn!==null&&google.maps.event.removeListener(Zn),Qt!==null&&google.maps.event.removeListener(Qt),Me!==null&&google.maps.event.removeListener(Me),et!==null&&google.maps.event.removeListener(et),le!==null&&google.maps.event.removeListener(le),ie&&ie(we),r?r.removeMarker(we,!!o):we&&we.setMap(null)}},[]);var Fe=h.useMemo(function(){return i?h.Children.map(i,function($e){if(!h.isValidElement($e))return $e;var we=$e;return h.cloneElement(we,{anchor:A})}):null},[i,A]);return v.jsx(v.Fragment,{children:Fe})||null}h.memo(mW);var gW=function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=Be(Be(Be({},this.props.options||mc),this.props.clusterer?mc:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(n),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=Ye({updaterMap:G0,eventMap:U0,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},e.prototype.componentDidUpdate=function(n){this.marker&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:G0,eventMap:U0,prevProps:n,nextProps:this.props,instance:this.marker}))},e.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Qe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},e.prototype.render=function(){var n=this,r=null;return this.props.children&&(r=h.Children.map(this.props.children,function(o){if(!h.isValidElement(o))return o;var i=o;return h.cloneElement(i,{anchor:n.marker})})),r||null},e.contextType=Ue,e}(h.PureComponent),vW=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),o=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(o),this.timeOut=window.setTimeout(function(){var s=n.getMap();if(s!==null){"fitBounds"in s&&s.fitBounds(o);var a=s.getZoom()||0;r!==null&&a>r&&s.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,o,i,s;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),c=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),u=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(d!==null?"".concat(d.y,"px"):"0","; left: ").concat(d!==null?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var p=document.createElement("img");p.alt=a,p.src=this.url,p.width=this.width,p.height=this.height,p.setAttribute("style","position: absolute; top: ".concat(u,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(p.style.clip="rect(-".concat(u,"px, -").concat(c+this.width,"px, -").concat(u+this.height,", -").concat(c,")"));var f=document.createElement("div");f.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(f.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(f.innerHTML="".concat((s=this.sums)===null||s===void 0?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(p),this.div.appendChild(f),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),yW=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new vW(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,o=n;r<o.length;r++){var i=o[r],s=i.getPosition();s&&e.extend(s)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+r.lat())/o,(this.center.lng()*(o-1)+r.lng())/o),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,s=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(s!==null&&typeof a<"u"&&a>s)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var l=0,c=this.markers;l<c.length;l++){var u=c[l];u.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof o<"u"&&o>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function bW(t,e){var n=t.length,r=n.toString().length,o=Math.min(r,e);return{text:n.toString(),index:o,title:""}}var xW=2e3,wW=500,CW="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",SW="png",kW=[53,56,66,78,90],MW="cluster",hC=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||CW,this.imageExtension=r.imageExtension||SW,this.imageSizes=r.imageSizes||kW,this.calculator=r.calculator||bW,this.batchSize=r.batchSize||xW,this.batchSizeIE=r.batchSizeIE||wW,this.clusterClass=r.clusterClass||MW,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var o=0,i=this.clusters;o<i.length;o++){var s=i[o];s.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var c=l[a];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,o=e;r<o.length;r++){var i=o[r],s=i.getPosition();s&&n.extend(s)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];o&&this.pushMarkerTo(o)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,o=0,i=e;o<i.length;o++){var s=i[o];r=r||this.removeMarker_(s)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,o=e;r<o.length;r++){var i=o[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(o!==null){var s=n.fromDivPixelToLatLng(o);s!==null&&e.extend(s)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var o=r[n];o.remove()}this.clusters=[];for(var i=0,s=this.markers;i<s.length;i++){var a=s[i];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,o=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,s=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,o=null,i=0,s=this.clusters;i<s.length;i++){var a=s[i];n=a;var l=n.getCenter(),c=e.getPosition();if(l&&c){var u=this.distanceBetweenPoints(l,c);u<r&&(r=u,o=n)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(n=new yW(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),o=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,s=i>3?new google.maps.LatLngBounds(o==null?void 0:o.getSouthWest(),o==null?void 0:o.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(s),l=Math.min(e+this.batchSize,this.markers.length),c=e;c<l;c++){var u=this.markers[c];u&&!u.isAdded&&this.isMarkerInBounds(u,a)&&(!this.ignoreHidden||this.ignoreHidden&&u.getVisible())&&this.addToClosestCluster(u)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var d=0,p=this.clusters;d<p.length;d++){var f=p[d];f.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(o){for(var i in o.prototype){var s=i;this.prototype[s]=o.prototype[s]}return this}).apply(e,[n])},t}(),nr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},ut={averageCenter:function(t,e){t.setAverageCenter(e)},batchSizeIE:function(t,e){t.setBatchSizeIE(e)},calculator:function(t,e){t.setCalculator(e)},clusterClass:function(t,e){t.setClusterClass(e)},enableRetinaIcons:function(t,e){t.setEnableRetinaIcons(e)},gridSize:function(t,e){t.setGridSize(e)},ignoreHidden:function(t,e){t.setIgnoreHidden(e)},imageExtension:function(t,e){t.setImageExtension(e)},imagePath:function(t,e){t.setImagePath(e)},imageSizes:function(t,e){t.setImageSizes(e)},maxZoom:function(t,e){t.setMaxZoom(e)},minimumClusterSize:function(t,e){t.setMinimumClusterSize(e)},styles:function(t,e){t.setStyles(e)},title:function(t,e){t.setTitle(e)},zoomOnClick:function(t,e){t.setZoomOnClick(e)}},EW={};function TW(t){var e=t.children,n=t.options,r=t.averageCenter,o=t.batchSizeIE,i=t.calculator,s=t.clusterClass,a=t.enableRetinaIcons,l=t.gridSize,c=t.ignoreHidden,u=t.imageExtension,d=t.imagePath,p=t.imageSizes,f=t.maxZoom,m=t.minimumClusterSize,g=t.styles,y=t.title,b=t.zoomOnClick,x=t.onClick,C=t.onClusteringBegin,E=t.onClusteringEnd,k=t.onMouseOver,w=t.onMouseOut,M=t.onLoad,T=t.onUnmount,D=h.useState(null),P=D[0],U=D[1],N=h.useContext(Ue),q=h.useState(null),R=q[0],B=q[1],z=h.useState(null),I=z[0],oe=z[1],me=h.useState(null),te=me[0],G=me[1],X=h.useState(null),ie=X[0],Y=X[1],S=h.useState(null),A=S[0],j=S[1];return h.useEffect(function(){P&&w&&(ie!==null&&google.maps.event.removeListener(ie),Y(google.maps.event.addListener(P,nr.onMouseOut,w)))},[w]),h.useEffect(function(){P&&k&&(A!==null&&google.maps.event.removeListener(A),j(google.maps.event.addListener(P,nr.onMouseOver,k)))},[k]),h.useEffect(function(){P&&x&&(R!==null&&google.maps.event.removeListener(R),B(google.maps.event.addListener(P,nr.onClick,x)))},[x]),h.useEffect(function(){P&&C&&(I!==null&&google.maps.event.removeListener(I),oe(google.maps.event.addListener(P,nr.onClusteringBegin,C)))},[C]),h.useEffect(function(){P&&E&&(te!==null&&google.maps.event.removeListener(te),oe(google.maps.event.addListener(P,nr.onClusteringEnd,E)))},[E]),h.useEffect(function(){typeof r<"u"&&P!==null&&ut.averageCenter(P,r)},[P,r]),h.useEffect(function(){typeof o<"u"&&P!==null&&ut.batchSizeIE(P,o)},[P,o]),h.useEffect(function(){typeof i<"u"&&P!==null&&ut.calculator(P,i)},[P,i]),h.useEffect(function(){typeof s<"u"&&P!==null&&ut.clusterClass(P,s)},[P,s]),h.useEffect(function(){typeof a<"u"&&P!==null&&ut.enableRetinaIcons(P,a)},[P,a]),h.useEffect(function(){typeof l<"u"&&P!==null&&ut.gridSize(P,l)},[P,l]),h.useEffect(function(){typeof c<"u"&&P!==null&&ut.ignoreHidden(P,c)},[P,c]),h.useEffect(function(){typeof u<"u"&&P!==null&&ut.imageExtension(P,u)},[P,u]),h.useEffect(function(){typeof d<"u"&&P!==null&&ut.imagePath(P,d)},[P,d]),h.useEffect(function(){typeof p<"u"&&P!==null&&ut.imageSizes(P,p)},[P,p]),h.useEffect(function(){typeof f<"u"&&P!==null&&ut.maxZoom(P,f)},[P,f]),h.useEffect(function(){typeof m<"u"&&P!==null&&ut.minimumClusterSize(P,m)},[P,m]),h.useEffect(function(){typeof g<"u"&&P!==null&&ut.styles(P,g)},[P,g]),h.useEffect(function(){typeof y<"u"&&P!==null&&ut.title(P,y)},[P,y]),h.useEffect(function(){typeof b<"u"&&P!==null&&ut.zoomOnClick(P,b)},[P,b]),h.useEffect(function(){if(N){var H=Be({},n||EW),V=new hC(N,[],H);return r&&ut.averageCenter(V,r),o&&ut.batchSizeIE(V,o),i&&ut.calculator(V,i),s&&ut.clusterClass(V,s),a&&ut.enableRetinaIcons(V,a),l&&ut.gridSize(V,l),c&&ut.ignoreHidden(V,c),u&&ut.imageExtension(V,u),d&&ut.imagePath(V,d),p&&ut.imageSizes(V,p),f&&ut.maxZoom(V,f),m&&ut.minimumClusterSize(V,m),g&&ut.styles(V,g),y&&ut.title(V,y),b&&ut.zoomOnClick(V,b),w&&Y(google.maps.event.addListener(V,nr.onMouseOut,w)),k&&j(google.maps.event.addListener(V,nr.onMouseOver,k)),x&&B(google.maps.event.addListener(V,nr.onClick,x)),C&&oe(google.maps.event.addListener(V,nr.onClusteringBegin,C)),E&&G(google.maps.event.addListener(V,nr.onClusteringEnd,E)),U(V),M&&M(V),function(){ie!==null&&google.maps.event.removeListener(ie),A!==null&&google.maps.event.removeListener(A),R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),te!==null&&google.maps.event.removeListener(te),T&&T(V)}}},[]),P!==null&&e(P)||null}h.memo(TW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={markerClusterer:null},n.setClustererCallback=function(){n.state.markerClusterer!==null&&n.props.onLoad&&n.props.onLoad(n.state.markerClusterer)},n}return e.prototype.componentDidMount=function(){if(this.context){var n=new hC(this.context,[],this.props.options);this.registeredEvents=Ye({updaterMap:ut,eventMap:nr,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{markerClusterer:n}},this.setClustererCallback)}},e.prototype.componentDidUpdate=function(n){this.state.markerClusterer&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:ut,eventMap:nr,prevProps:n,nextProps:this.props,instance:this.state.markerClusterer}))},e.prototype.componentWillUnmount=function(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Qe(this.registeredEvents),this.state.markerClusterer.setMap(null))},e.prototype.render=function(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null},e.contextType=Ue,e})(h.PureComponent);function K0(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var mC=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),e.enableEventPropagation||K0(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],s=0,a=i;s<a.length;s++){var l=a[s];this.eventListeners.push(google.maps.event.addListener(this.div,l,K0))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,o=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var s=n.getDiv(),a=s.offsetWidth,l=s.offsetHeight,c=this.pixelOffset.width,u=this.pixelOffset.height,d=this.div.offsetWidth,p=this.div.offsetHeight,f=this.infoBoxClearance.width,m=this.infoBoxClearance.height,g=this.getProjection(),y=g.fromLatLngToContainerPixel(this.position);y!==null&&(y.x<-c+f?r=y.x+c-f:y.x+d+c+f>a&&(r=y.x+d+c+f-a),this.alignBottom?y.y<-u+m+p?o=y.y+u-m-p:y.y+u+m>l&&(o=y.y+u+m-l):y.y<-u+m?o=y.y+u-m:y.y+p+u+m>l&&(o=y.y+p+u+m-l)),r===0&&o===0||n.panBy(r,o)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();r.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(o){for(var i in o.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=o.prototype[i]);return this}).apply(e,[n])},t}(),q0={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Y0={options:function(t,e){t.setOptions(e)},position:function(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},OW={};function LW(t){var e=t.children,n=t.anchor,r=t.options,o=t.position,i=t.zIndex,s=t.onCloseClick,a=t.onDomReady,l=t.onContentChanged,c=t.onPositionChanged,u=t.onZindexChanged,d=t.onLoad,p=t.onUnmount,f=h.useContext(Ue),m=h.useState(null),g=m[0],y=m[1],b=h.useState(null),x=b[0],C=b[1],E=h.useState(null),k=E[0],w=E[1],M=h.useState(null),T=M[0],D=M[1],P=h.useState(null),U=P[0],N=P[1],q=h.useState(null),R=q[0],B=q[1],z=h.useRef(null);return h.useEffect(function(){f&&g!==null&&(g.close(),n?g.open(f,n):g.getPosition()&&g.open(f))},[f,g,n]),h.useEffect(function(){r&&g!==null&&g.setOptions(r)},[g,r]),h.useEffect(function(){if(o&&g!==null){var I=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);g.setPosition(I)}},[o]),h.useEffect(function(){typeof i=="number"&&g!==null&&g.setZIndex(i)},[i]),h.useEffect(function(){g&&s&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(g,"closeclick",s)))},[s]),h.useEffect(function(){g&&a&&(k!==null&&google.maps.event.removeListener(k),w(google.maps.event.addListener(g,"domready",a)))},[a]),h.useEffect(function(){g&&l&&(T!==null&&google.maps.event.removeListener(T),D(google.maps.event.addListener(g,"content_changed",l)))},[l]),h.useEffect(function(){g&&c&&(U!==null&&google.maps.event.removeListener(U),N(google.maps.event.addListener(g,"position_changed",c)))},[c]),h.useEffect(function(){g&&u&&(R!==null&&google.maps.event.removeListener(R),B(google.maps.event.addListener(g,"zindex_changed",u)))},[u]),h.useEffect(function(){if(f){var I=r||OW,oe=I.position,me=em(I,["position"]),te=void 0;oe&&!(oe instanceof google.maps.LatLng)&&(te=new google.maps.LatLng(oe.lat,oe.lng));var G=new mC(Be(Be({},me),te?{position:te}:{}));z.current=document.createElement("div"),y(G),s&&C(google.maps.event.addListener(G,"closeclick",s)),a&&w(google.maps.event.addListener(G,"domready",a)),l&&D(google.maps.event.addListener(G,"content_changed",l)),c&&N(google.maps.event.addListener(G,"position_changed",c)),u&&B(google.maps.event.addListener(G,"zindex_changed",u)),G.setContent(z.current),n?G.open(f,n):G.getPosition()?G.open(f):Ft(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(G)}return function(){g!==null&&(x&&google.maps.event.removeListener(x),T&&google.maps.event.removeListener(T),k&&google.maps.event.removeListener(k),U&&google.maps.event.removeListener(U),R&&google.maps.event.removeListener(R),p&&p(g),g.close())}},[]),z.current?Eo.createPortal(h.Children.only(e),z.current):null}h.memo(LW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoBox:null},n.open=function(r,o){o?n.context!==null&&r.open(n.context,o):r.getPosition()?n.context!==null&&r.open(n.context):Ft(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},n.setInfoBoxCallback=function(){n.state.infoBox!==null&&n.containerElement!==null&&(n.state.infoBox.setContent(n.containerElement),n.open(n.state.infoBox,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoBox))},n}return e.prototype.componentDidMount=function(){var n=this.props.options||{},r=n.position,o=em(n,["position"]),i;r&&!(r instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(r.lat,r.lng));var s=new mC(Be(Be({},o),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ye({updaterMap:Y0,eventMap:q0,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)},e.prototype.componentDidUpdate=function(n){var r=this.state.infoBox;r!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Y0,eventMap:q0,prevProps:n,nextProps:this.props,instance:r}))},e.prototype.componentWillUnmount=function(){var n=this.props.onUnmount,r=this.state.infoBox;r!==null&&(n&&n(r),Qe(this.registeredEvents),r.close())},e.prototype.render=function(){return this.containerElement?Eo.createPortal(h.Children.only(this.props.children),this.containerElement):null},e.contextType=Ue,e})(h.PureComponent);var AW=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var s=i[o];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},J0=lC(AW);const Z0=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Od=1,Ps=8;class nm{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const o=r>>4;if(o!==Od)throw new Error(`Got v${o} data when expected v${Od}.`);const i=Z0[r&15];if(!i)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new nm(a,s,i,e)}constructor(e,n=64,r=Float64Array,o){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const i=Z0.indexOf(this.ArrayType),s=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${r}.`);o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,Ps,e),this.coords=new this.ArrayType(this.data,Ps+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Ps+s+a+l),this.ids=new this.IndexArrayType(this.data,Ps,e),this.coords=new this.ArrayType(this.data,Ps+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Od<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Hp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:a}=this,l=[0,i.length-1,0],c=[];for(;l.length;){const u=l.pop()||0,d=l.pop()||0,p=l.pop()||0;if(d-p<=a){for(let y=p;y<=d;y++){const b=s[2*y],x=s[2*y+1];b>=e&&b<=r&&x>=n&&x<=o&&c.push(i[y])}continue}const f=p+d>>1,m=s[2*f],g=s[2*f+1];m>=e&&m<=r&&g>=n&&g<=o&&c.push(i[f]),(u===0?e<=m:n<=g)&&(l.push(p),l.push(f-1),l.push(1-u)),(u===0?r>=m:o>=g)&&(l.push(f+1),l.push(d),l.push(1-u))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:i,nodeSize:s}=this,a=[0,o.length-1,0],l=[],c=r*r;for(;a.length;){const u=a.pop()||0,d=a.pop()||0,p=a.pop()||0;if(d-p<=s){for(let y=p;y<=d;y++)X0(i[2*y],i[2*y+1],e,n)<=c&&l.push(o[y]);continue}const f=p+d>>1,m=i[2*f],g=i[2*f+1];X0(m,g,e,n)<=c&&l.push(o[f]),(u===0?e-r<=m:n-r<=g)&&(a.push(p),a.push(f-1),a.push(1-u)),(u===0?e+r>=m:n+r>=g)&&(a.push(f+1),a.push(d),a.push(1-u))}return l}}function Hp(t,e,n,r,o,i){if(o-r<=n)return;const s=r+o>>1;gC(t,e,s,r,o,i),Hp(t,e,n,r,s-1,1-i),Hp(t,e,n,s+1,o,1-i)}function gC(t,e,n,r,o,i){for(;o>r;){if(o-r>600){const c=o-r+1,u=n-r+1,d=Math.log(c),p=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*p*(c-p)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(n-u*p/c+f)),g=Math.min(o,Math.floor(n+(c-u)*p/c+f));gC(t,e,n,m,g,i)}const s=e[2*n+i];let a=r,l=o;for(Rs(t,e,r,n),e[2*o+i]>s&&Rs(t,e,r,o);a<l;){for(Rs(t,e,a,l),a++,l--;e[2*a+i]<s;)a++;for(;e[2*l+i]>s;)l--}e[2*r+i]===s?Rs(t,e,r,l):(l++,Rs(t,e,l,o)),l<=n&&(r=l+1),n<=l&&(o=l-1)}}function Rs(t,e,n,r){Ld(t,n,r),Ld(e,2*n,2*r),Ld(e,2*n+1,2*r+1)}function Ld(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function X0(t,e,n,r){const o=t-n,i=e-r;return o*o+i*i}const PW={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Q0=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Ro=2,so=3,Ad=4,ro=5,vC=6;class RW{constructor(e){this.options=Object.assign(Object.create(PW),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:o}=this.options;n&&console.time("total time");const i=`prepare ${e.length} points`;n&&console.time(i),this.points=e;const s=[];for(let l=0;l<e.length;l++){const c=e[l];if(!c.geometry)continue;const[u,d]=c.geometry.coordinates,p=Q0(xl(u)),f=Q0(wl(d));s.push(p,f,1/0,l,-1,1),this.options.reduce&&s.push(0)}let a=this.trees[o+1]=this._createTree(s);n&&console.timeEnd(i);for(let l=o;l>=r;l--){const c=+Date.now();a=this.trees[l]=this._createTree(this._cluster(a,l)),n&&console.log("z%d: %d clusters in %dms",l,a.numItems,+Date.now()-c)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[1]));let i=e[2]===180?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const d=this.getClusters([r,o,180,s],n),p=this.getClusters([-180,o,i,s],n);return d.concat(p)}const a=this.trees[this._limitZoom(n)],l=a.range(xl(r),wl(s),xl(i),wl(o)),c=a.data,u=[];for(const d of l){const p=this.stride*d;u.push(c[p+ro]>1?ey(c,p,this.clusterProps):this.points[c[p+so]])}return u}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),o="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(o);const s=i.data;if(n*this.stride>=s.length)throw new Error(o);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=s[n*this.stride],c=s[n*this.stride+1],u=i.within(l,c,a),d=[];for(const p of u){const f=p*this.stride;s[f+Ad]===e&&d.push(s[f+ro]>1?ey(s,f,this.clusterProps):this.points[s[f+so]])}if(d.length===0)throw new Error(o);return d}getLeaves(e,n,r){n=n||10,r=r||0;const o=[];return this._appendLeaves(o,e,n,r,0),o}getTile(e,n,r){const o=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:s,radius:a}=this.options,l=a/s,c=(r-l)/i,u=(r+1+l)/i,d={features:[]};return this._addTileFeatures(o.range((n-l)/i,c,(n+1+l)/i,u),o.data,n,r,i,d),n===0&&this._addTileFeatures(o.range(1-l/i,c,1,u),o.data,i,r,i,d),n===i-1&&this._addTileFeatures(o.range(0,c,l/i,u),o.data,-1,r,i,d),d.features.length?d:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,o,i){const s=this.getChildren(n);for(const a of s){const l=a.properties;if(l&&l.cluster?i+l.point_count<=o?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,r,o,i):i<o?i++:e.push(a),e.length===r)break}return i}_createTree(e){const n=new nm(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,o,i,s){for(const a of e){const l=a*this.stride,c=n[l+ro]>1;let u,d,p;if(c)u=yC(n,l,this.clusterProps),d=n[l],p=n[l+1];else{const g=this.points[n[l+so]];u=g.properties;const[y,b]=g.geometry.coordinates;d=xl(y),p=wl(b)}const f={type:1,geometry:[[Math.round(this.options.extent*(d*i-r)),Math.round(this.options.extent*(p*i-o))]],tags:u};let m;c||this.options.generateId?m=n[l+so]:m=this.points[n[l+so]].id,m!==void 0&&(f.id=m),s.features.push(f)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:o,reduce:i,minPoints:s}=this.options,a=r/(o*Math.pow(2,n)),l=e.data,c=[],u=this.stride;for(let d=0;d<l.length;d+=u){if(l[d+Ro]<=n)continue;l[d+Ro]=n;const p=l[d],f=l[d+1],m=e.within(l[d],l[d+1],a),g=l[d+ro];let y=g;for(const b of m){const x=b*u;l[x+Ro]>n&&(y+=l[x+ro])}if(y>g&&y>=s){let b=p*g,x=f*g,C,E=-1;const k=((d/u|0)<<5)+(n+1)+this.points.length;for(const w of m){const M=w*u;if(l[M+Ro]<=n)continue;l[M+Ro]=n;const T=l[M+ro];b+=l[M]*T,x+=l[M+1]*T,l[M+Ad]=k,i&&(C||(C=this._map(l,d,!0),E=this.clusterProps.length,this.clusterProps.push(C)),i(C,this._map(l,M)))}l[d+Ad]=k,c.push(b/y,x/y,1/0,k,-1,y),i&&c.push(E)}else{for(let b=0;b<u;b++)c.push(l[d+b]);if(y>1)for(const b of m){const x=b*u;if(!(l[x+Ro]<=n)){l[x+Ro]=n;for(let C=0;C<u;C++)c.push(l[x+C])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+ro]>1){const s=this.clusterProps[e[n+vC]];return r?Object.assign({},s):s}const o=this.points[e[n+so]].properties,i=this.options.map(o);return r&&i===o?Object.assign({},i):i}}function ey(t,e,n){return{type:"Feature",id:t[e+so],properties:yC(t,e,n),geometry:{type:"Point",coordinates:[DW(t[e]),IW(t[e+1])]}}}function yC(t,e,n){const r=t[e+ro],o=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,i=t[e+vC],s=i===-1?{}:Object.assign({},n[i]);return Object.assign(s,{cluster:!0,cluster_id:t[e+so],point_count:r,point_count_abbreviated:o})}function xl(t){return t/360+.5}function wl(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function DW(t){return(t-.5)*360}function IW(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $W(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}class zn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Vp{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(zn.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>zn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(zn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class NW{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return _W(e)}}const _W=t=>t.map(n=>new Vp({position:zn.getPosition(n),markers:[n]}));class FW extends NW{constructor(e){var{maxZoom:n,radius:r=60}=e,o=$W(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new RW(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!J0(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const o=this.markers.map(i=>{const s=zn.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:i}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!J0(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new Vp({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:n,lng:e}});const o=r.marker;return new Vp({markers:[o],position:zn.getPosition(o)})}}class BW{constructor(e,n){this.markers={sum:e.length};const r=n.map(i=>i.count),o=r.reduce((i,s)=>i+s,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class jW{render({count:e,position:n},r,o){const s=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,l=Number(google.maps.Marker.MAX_ZINDEX)+e;if(zn.isAdvancedMarkerAvailable(o)){const d=new DOMParser().parseFromString(s,"image/svg+xml").documentElement;d.setAttribute("transform","translate(0 25)");const p={map:o,position:n,zIndex:l,title:a,content:d};return new google.maps.marker.AdvancedMarkerElement(p)}const c={position:n,zIndex:l,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}function zW(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class rm{constructor(){zW(rm,google.maps.OverlayView)}}var ra;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(ra||(ra={}));const HW=(t,e,n)=>{n.fitBounds(e.bounds)};class VW extends rm{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:o=new FW(r),renderer:i=new jW,onClusterClick:s=HW}){super(),this.markers=[...n],this.clusters=[],this.algorithm=o,this.renderer=i,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(zn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(o=>{r=this.removeMarker(o,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,ra.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const o=new Set;for(const s of n)s.markers.length==1&&o.add(s.markers[0]);const i=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?o.has(s.marker)||zn.setMap(s.marker,null):i.push(s.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>i.forEach(s=>zn.setMap(s,null)))}google.maps.event.trigger(this,ra.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>zn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new BW(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(o=>zn.setMap(o,null)),this.onClusterClick&&r.marker.addListener("click",o=>{google.maps.event.trigger(this,ra.CLUSTER_CLICK,r),this.onClusterClick(o,r,n)})),zn.setMap(r.marker,n)})}}function WW(t){var e=cC(),n=h.useState(null),r=n[0],o=n[1];return h.useEffect(function(){if(e&&r===null){var i=new VW(Be(Be({},t),{map:e}));o(i)}},[e]),r}function UW(t){var e=t.children,n=t.options,r=WW(n);return r!==null?e(r):null}h.memo(UW);var ty={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},ny={options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},zIndex:function(t,e){t.setZIndex(e)}};function GW(t){var e=t.children,n=t.anchor,r=t.options,o=t.position,i=t.zIndex,s=t.onCloseClick,a=t.onDomReady,l=t.onContentChanged,c=t.onPositionChanged,u=t.onZindexChanged,d=t.onLoad,p=t.onUnmount,f=h.useContext(Ue),m=h.useState(null),g=m[0],y=m[1],b=h.useState(null),x=b[0],C=b[1],E=h.useState(null),k=E[0],w=E[1],M=h.useState(null),T=M[0],D=M[1],P=h.useState(null),U=P[0],N=P[1],q=h.useState(null),R=q[0],B=q[1],z=h.useRef(null);return h.useEffect(function(){g!==null&&(g.close(),n?g.open(f,n):g.getPosition()&&g.open(f))},[f,g,n]),h.useEffect(function(){r&&g!==null&&g.setOptions(r)},[g,r]),h.useEffect(function(){o&&g!==null&&g.setPosition(o)},[o]),h.useEffect(function(){typeof i=="number"&&g!==null&&g.setZIndex(i)},[i]),h.useEffect(function(){g&&s&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(g,"closeclick",s)))},[s]),h.useEffect(function(){g&&a&&(k!==null&&google.maps.event.removeListener(k),w(google.maps.event.addListener(g,"domready",a)))},[a]),h.useEffect(function(){g&&l&&(T!==null&&google.maps.event.removeListener(T),D(google.maps.event.addListener(g,"content_changed",l)))},[l]),h.useEffect(function(){g&&c&&(U!==null&&google.maps.event.removeListener(U),N(google.maps.event.addListener(g,"position_changed",c)))},[c]),h.useEffect(function(){g&&u&&(R!==null&&google.maps.event.removeListener(R),B(google.maps.event.addListener(g,"zindex_changed",u)))},[u]),h.useEffect(function(){var I=new google.maps.InfoWindow(Be({},r||{}));return y(I),z.current=document.createElement("div"),s&&C(google.maps.event.addListener(I,"closeclick",s)),a&&w(google.maps.event.addListener(I,"domready",a)),l&&D(google.maps.event.addListener(I,"content_changed",l)),c&&N(google.maps.event.addListener(I,"position_changed",c)),u&&B(google.maps.event.addListener(I,"zindex_changed",u)),I.setContent(z.current),o&&I.setPosition(o),i&&I.setZIndex(i),n?I.open(f,n):I.getPosition()?I.open(f):Ft(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(I),function(){x&&google.maps.event.removeListener(x),T&&google.maps.event.removeListener(T),k&&google.maps.event.removeListener(k),U&&google.maps.event.removeListener(U),R&&google.maps.event.removeListener(R),p&&p(I),I.close()}},[]),z.current?Eo.createPortal(h.Children.only(e),z.current):null}h.memo(GW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoWindow:null},n.open=function(r,o){o?r.open(n.context,o):r.getPosition()?r.open(n.context):Ft(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},n.setInfoWindowCallback=function(){n.state.infoWindow!==null&&n.containerElement!==null&&(n.state.infoWindow.setContent(n.containerElement),n.open(n.state.infoWindow,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoWindow))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.InfoWindow(Be({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ye({updaterMap:ny,eventMap:ty,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{infoWindow:n}},this.setInfoWindowCallback)},e.prototype.componentDidUpdate=function(n){this.state.infoWindow!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:ny,eventMap:ty,prevProps:n,nextProps:this.props,instance:this.state.infoWindow}))},e.prototype.componentWillUnmount=function(){this.state.infoWindow!==null&&(Qe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},e.prototype.render=function(){return this.containerElement?Eo.createPortal(h.Children.only(this.props.children),this.containerElement):null},e.contextType=Ue,e})(h.PureComponent);var ry={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},oy={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},visible:function(t,e){t.setVisible(e)}},KW={};function qW(t){var e=t.options,n=t.draggable,r=t.editable,o=t.visible,i=t.path,s=t.onDblClick,a=t.onDragEnd,l=t.onDragStart,c=t.onMouseDown,u=t.onMouseMove,d=t.onMouseOut,p=t.onMouseOver,f=t.onMouseUp,m=t.onRightClick,g=t.onClick,y=t.onDrag,b=t.onLoad,x=t.onUnmount,C=h.useContext(Ue),E=h.useState(null),k=E[0],w=E[1],M=h.useState(null),T=M[0],D=M[1],P=h.useState(null),U=P[0],N=P[1],q=h.useState(null),R=q[0],B=q[1],z=h.useState(null),I=z[0],oe=z[1],me=h.useState(null),te=me[0],G=me[1],X=h.useState(null),ie=X[0],Y=X[1],S=h.useState(null),A=S[0],j=S[1],H=h.useState(null),V=H[0],fe=H[1],pe=h.useState(null),he=pe[0],ke=pe[1],Te=h.useState(null),$=Te[0],F=Te[1],de=h.useState(null),Z=de[0],ae=de[1];return h.useEffect(function(){k!==null&&k.setMap(C)},[C]),h.useEffect(function(){typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),h.useEffect(function(){typeof n<"u"&&k!==null&&k.setDraggable(n)},[k,n]),h.useEffect(function(){typeof r<"u"&&k!==null&&k.setEditable(r)},[k,r]),h.useEffect(function(){typeof o<"u"&&k!==null&&k.setVisible(o)},[k,o]),h.useEffect(function(){typeof i<"u"&&k!==null&&k.setPath(i)},[k,i]),h.useEffect(function(){k&&s&&(T!==null&&google.maps.event.removeListener(T),D(google.maps.event.addListener(k,"dblclick",s)))},[s]),h.useEffect(function(){k&&a&&(U!==null&&google.maps.event.removeListener(U),N(google.maps.event.addListener(k,"dragend",a)))},[a]),h.useEffect(function(){k&&l&&(R!==null&&google.maps.event.removeListener(R),B(google.maps.event.addListener(k,"dragstart",l)))},[l]),h.useEffect(function(){k&&c&&(I!==null&&google.maps.event.removeListener(I),oe(google.maps.event.addListener(k,"mousedown",c)))},[c]),h.useEffect(function(){k&&u&&(te!==null&&google.maps.event.removeListener(te),G(google.maps.event.addListener(k,"mousemove",u)))},[u]),h.useEffect(function(){k&&d&&(ie!==null&&google.maps.event.removeListener(ie),Y(google.maps.event.addListener(k,"mouseout",d)))},[d]),h.useEffect(function(){k&&p&&(A!==null&&google.maps.event.removeListener(A),j(google.maps.event.addListener(k,"mouseover",p)))},[p]),h.useEffect(function(){k&&f&&(V!==null&&google.maps.event.removeListener(V),fe(google.maps.event.addListener(k,"mouseup",f)))},[f]),h.useEffect(function(){k&&m&&(he!==null&&google.maps.event.removeListener(he),ke(google.maps.event.addListener(k,"rightclick",m)))},[m]),h.useEffect(function(){k&&g&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(k,"click",g)))},[g]),h.useEffect(function(){k&&y&&(Z!==null&&google.maps.event.removeListener(Z),ae(google.maps.event.addListener(k,"drag",y)))},[y]),h.useEffect(function(){var ue=new google.maps.Polyline(Be(Be({},e||KW),{map:C}));return i&&ue.setPath(i),typeof o<"u"&&ue.setVisible(o),typeof r<"u"&&ue.setEditable(r),typeof n<"u"&&ue.setDraggable(n),s&&D(google.maps.event.addListener(ue,"dblclick",s)),a&&N(google.maps.event.addListener(ue,"dragend",a)),l&&B(google.maps.event.addListener(ue,"dragstart",l)),c&&oe(google.maps.event.addListener(ue,"mousedown",c)),u&&G(google.maps.event.addListener(ue,"mousemove",u)),d&&Y(google.maps.event.addListener(ue,"mouseout",d)),p&&j(google.maps.event.addListener(ue,"mouseover",p)),f&&fe(google.maps.event.addListener(ue,"mouseup",f)),m&&ke(google.maps.event.addListener(ue,"rightclick",m)),g&&F(google.maps.event.addListener(ue,"click",g)),y&&ae(google.maps.event.addListener(ue,"drag",y)),w(ue),b&&b(ue),function(){T!==null&&google.maps.event.removeListener(T),U!==null&&google.maps.event.removeListener(U),R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),te!==null&&google.maps.event.removeListener(te),ie!==null&&google.maps.event.removeListener(ie),A!==null&&google.maps.event.removeListener(A),V!==null&&google.maps.event.removeListener(V),he!==null&&google.maps.event.removeListener(he),$!==null&&google.maps.event.removeListener($),x&&x(ue),ue.setMap(null)}},[]),null}h.memo(qW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polyline:null},n.setPolylineCallback=function(){n.state.polyline!==null&&n.props.onLoad&&n.props.onLoad(n.state.polyline)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polyline(Be(Be({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:oy,eventMap:ry,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polyline:n}},this.setPolylineCallback)},e.prototype.componentDidUpdate=function(n){this.state.polyline!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:oy,eventMap:ry,prevProps:n,nextProps:this.props,instance:this.state.polyline}))},e.prototype.componentWillUnmount=function(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Qe(this.registeredEvents),this.state.polyline.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);var iy={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},sy={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},paths:function(t,e){t.setPaths(e)},visible:function(t,e){t.setVisible(e)}};function YW(t){var e=t.options,n=t.draggable,r=t.editable,o=t.visible,i=t.path,s=t.paths,a=t.onDblClick,l=t.onDragEnd,c=t.onDragStart,u=t.onMouseDown,d=t.onMouseMove,p=t.onMouseOut,f=t.onMouseOver,m=t.onMouseUp,g=t.onRightClick,y=t.onClick,b=t.onDrag,x=t.onLoad,C=t.onUnmount,E=t.onEdit,k=h.useContext(Ue),w=h.useState(null),M=w[0],T=w[1],D=h.useState(null),P=D[0],U=D[1],N=h.useState(null),q=N[0],R=N[1],B=h.useState(null),z=B[0],I=B[1],oe=h.useState(null),me=oe[0],te=oe[1],G=h.useState(null),X=G[0],ie=G[1],Y=h.useState(null),S=Y[0],A=Y[1],j=h.useState(null),H=j[0],V=j[1],fe=h.useState(null),pe=fe[0],he=fe[1],ke=h.useState(null),Te=ke[0],$=ke[1],F=h.useState(null),de=F[0],Z=F[1],ae=h.useState(null),ue=ae[0],ye=ae[1];return h.useEffect(function(){M!==null&&M.setMap(k)},[k]),h.useEffect(function(){typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),h.useEffect(function(){typeof n<"u"&&M!==null&&M.setDraggable(n)},[M,n]),h.useEffect(function(){typeof r<"u"&&M!==null&&M.setEditable(r)},[M,r]),h.useEffect(function(){typeof o<"u"&&M!==null&&M.setVisible(o)},[M,o]),h.useEffect(function(){typeof i<"u"&&M!==null&&M.setPath(i)},[M,i]),h.useEffect(function(){typeof s<"u"&&M!==null&&M.setPaths(s)},[M,s]),h.useEffect(function(){M&&a&&(P!==null&&google.maps.event.removeListener(P),U(google.maps.event.addListener(M,"dblclick",a)))},[a]),h.useEffect(function(){M&&(google.maps.event.addListener(M.getPath(),"insert_at",function(){E==null||E(M)}),google.maps.event.addListener(M.getPath(),"set_at",function(){E==null||E(M)}))},[M,E]),h.useEffect(function(){M&&l&&(q!==null&&google.maps.event.removeListener(q),R(google.maps.event.addListener(M,"dragend",l)))},[l]),h.useEffect(function(){M&&c&&(z!==null&&google.maps.event.removeListener(z),I(google.maps.event.addListener(M,"dragstart",c)))},[c]),h.useEffect(function(){M&&u&&(me!==null&&google.maps.event.removeListener(me),te(google.maps.event.addListener(M,"mousedown",u)))},[u]),h.useEffect(function(){M&&d&&(X!==null&&google.maps.event.removeListener(X),ie(google.maps.event.addListener(M,"mousemove",d)))},[d]),h.useEffect(function(){M&&p&&(S!==null&&google.maps.event.removeListener(S),A(google.maps.event.addListener(M,"mouseout",p)))},[p]),h.useEffect(function(){M&&f&&(H!==null&&google.maps.event.removeListener(H),V(google.maps.event.addListener(M,"mouseover",f)))},[f]),h.useEffect(function(){M&&m&&(pe!==null&&google.maps.event.removeListener(pe),he(google.maps.event.addListener(M,"mouseup",m)))},[m]),h.useEffect(function(){M&&g&&(Te!==null&&google.maps.event.removeListener(Te),$(google.maps.event.addListener(M,"rightclick",g)))},[g]),h.useEffect(function(){M&&y&&(de!==null&&google.maps.event.removeListener(de),Z(google.maps.event.addListener(M,"click",y)))},[y]),h.useEffect(function(){M&&b&&(ue!==null&&google.maps.event.removeListener(ue),ye(google.maps.event.addListener(M,"drag",b)))},[b]),h.useEffect(function(){var be=new google.maps.Polygon(Be(Be({},e||{}),{map:k}));return i&&be.setPath(i),s&&be.setPaths(s),typeof o<"u"&&be.setVisible(o),typeof r<"u"&&be.setEditable(r),typeof n<"u"&&be.setDraggable(n),a&&U(google.maps.event.addListener(be,"dblclick",a)),l&&R(google.maps.event.addListener(be,"dragend",l)),c&&I(google.maps.event.addListener(be,"dragstart",c)),u&&te(google.maps.event.addListener(be,"mousedown",u)),d&&ie(google.maps.event.addListener(be,"mousemove",d)),p&&A(google.maps.event.addListener(be,"mouseout",p)),f&&V(google.maps.event.addListener(be,"mouseover",f)),m&&he(google.maps.event.addListener(be,"mouseup",m)),g&&$(google.maps.event.addListener(be,"rightclick",g)),y&&Z(google.maps.event.addListener(be,"click",y)),b&&ye(google.maps.event.addListener(be,"drag",b)),T(be),x&&x(be),function(){P!==null&&google.maps.event.removeListener(P),q!==null&&google.maps.event.removeListener(q),z!==null&&google.maps.event.removeListener(z),me!==null&&google.maps.event.removeListener(me),X!==null&&google.maps.event.removeListener(X),S!==null&&google.maps.event.removeListener(S),H!==null&&google.maps.event.removeListener(H),pe!==null&&google.maps.event.removeListener(pe),Te!==null&&google.maps.event.removeListener(Te),de!==null&&google.maps.event.removeListener(de),C&&C(be),be.setMap(null)}},[]),null}h.memo(YW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polygon:null},n.setPolygonCallback=function(){n.state.polygon!==null&&n.props.onLoad&&n.props.onLoad(n.state.polygon)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polygon(Be(Be({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:sy,eventMap:iy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polygon:n}},this.setPolygonCallback)},e.prototype.componentDidUpdate=function(n){this.state.polygon!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:sy,eventMap:iy,prevProps:n,nextProps:this.props,instance:this.state.polygon}))},e.prototype.componentWillUnmount=function(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),Qe(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);var ay={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ly={bounds:function(t,e){t.setBounds(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},visible:function(t,e){t.setVisible(e)}};function JW(t){var e=t.options,n=t.bounds,r=t.draggable,o=t.editable,i=t.visible,s=t.onDblClick,a=t.onDragEnd,l=t.onDragStart,c=t.onMouseDown,u=t.onMouseMove,d=t.onMouseOut,p=t.onMouseOver,f=t.onMouseUp,m=t.onRightClick,g=t.onClick,y=t.onDrag,b=t.onBoundsChanged,x=t.onLoad,C=t.onUnmount,E=h.useContext(Ue),k=h.useState(null),w=k[0],M=k[1],T=h.useState(null),D=T[0],P=T[1],U=h.useState(null),N=U[0],q=U[1],R=h.useState(null),B=R[0],z=R[1],I=h.useState(null),oe=I[0],me=I[1],te=h.useState(null),G=te[0],X=te[1],ie=h.useState(null),Y=ie[0],S=ie[1],A=h.useState(null),j=A[0],H=A[1],V=h.useState(null),fe=V[0],pe=V[1],he=h.useState(null),ke=he[0],Te=he[1],$=h.useState(null),F=$[0],de=$[1],Z=h.useState(null),ae=Z[0],ue=Z[1],ye=h.useState(null),be=ye[0],ge=ye[1];return h.useEffect(function(){w!==null&&w.setMap(E)},[E]),h.useEffect(function(){typeof e<"u"&&w!==null&&w.setOptions(e)},[w,e]),h.useEffect(function(){typeof r<"u"&&w!==null&&w.setDraggable(r)},[w,r]),h.useEffect(function(){typeof o<"u"&&w!==null&&w.setEditable(o)},[w,o]),h.useEffect(function(){typeof i<"u"&&w!==null&&w.setVisible(i)},[w,i]),h.useEffect(function(){typeof n<"u"&&w!==null&&w.setBounds(n)},[w,n]),h.useEffect(function(){w&&s&&(D!==null&&google.maps.event.removeListener(D),P(google.maps.event.addListener(w,"dblclick",s)))},[s]),h.useEffect(function(){w&&a&&(N!==null&&google.maps.event.removeListener(N),q(google.maps.event.addListener(w,"dragend",a)))},[a]),h.useEffect(function(){w&&l&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(w,"dragstart",l)))},[l]),h.useEffect(function(){w&&c&&(oe!==null&&google.maps.event.removeListener(oe),me(google.maps.event.addListener(w,"mousedown",c)))},[c]),h.useEffect(function(){w&&u&&(G!==null&&google.maps.event.removeListener(G),X(google.maps.event.addListener(w,"mousemove",u)))},[u]),h.useEffect(function(){w&&d&&(Y!==null&&google.maps.event.removeListener(Y),S(google.maps.event.addListener(w,"mouseout",d)))},[d]),h.useEffect(function(){w&&p&&(j!==null&&google.maps.event.removeListener(j),H(google.maps.event.addListener(w,"mouseover",p)))},[p]),h.useEffect(function(){w&&f&&(fe!==null&&google.maps.event.removeListener(fe),pe(google.maps.event.addListener(w,"mouseup",f)))},[f]),h.useEffect(function(){w&&m&&(ke!==null&&google.maps.event.removeListener(ke),Te(google.maps.event.addListener(w,"rightclick",m)))},[m]),h.useEffect(function(){w&&g&&(F!==null&&google.maps.event.removeListener(F),de(google.maps.event.addListener(w,"click",g)))},[g]),h.useEffect(function(){w&&y&&(ae!==null&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(w,"drag",y)))},[y]),h.useEffect(function(){w&&b&&(be!==null&&google.maps.event.removeListener(be),ge(google.maps.event.addListener(w,"bounds_changed",b)))},[b]),h.useEffect(function(){var ce=new google.maps.Rectangle(Be(Be({},e||{}),{map:E}));return typeof i<"u"&&ce.setVisible(i),typeof o<"u"&&ce.setEditable(o),typeof r<"u"&&ce.setDraggable(r),typeof n<"u"&&ce.setBounds(n),s&&P(google.maps.event.addListener(ce,"dblclick",s)),a&&q(google.maps.event.addListener(ce,"dragend",a)),l&&z(google.maps.event.addListener(ce,"dragstart",l)),c&&me(google.maps.event.addListener(ce,"mousedown",c)),u&&X(google.maps.event.addListener(ce,"mousemove",u)),d&&S(google.maps.event.addListener(ce,"mouseout",d)),p&&H(google.maps.event.addListener(ce,"mouseover",p)),f&&pe(google.maps.event.addListener(ce,"mouseup",f)),m&&Te(google.maps.event.addListener(ce,"rightclick",m)),g&&de(google.maps.event.addListener(ce,"click",g)),y&&ue(google.maps.event.addListener(ce,"drag",y)),b&&ge(google.maps.event.addListener(ce,"bounds_changed",b)),M(ce),x&&x(ce),function(){D!==null&&google.maps.event.removeListener(D),N!==null&&google.maps.event.removeListener(N),B!==null&&google.maps.event.removeListener(B),oe!==null&&google.maps.event.removeListener(oe),G!==null&&google.maps.event.removeListener(G),Y!==null&&google.maps.event.removeListener(Y),j!==null&&google.maps.event.removeListener(j),fe!==null&&google.maps.event.removeListener(fe),ke!==null&&google.maps.event.removeListener(ke),F!==null&&google.maps.event.removeListener(F),ae!==null&&google.maps.event.removeListener(ae),be!==null&&google.maps.event.removeListener(be),C&&C(ce),ce.setMap(null)}},[]),null}h.memo(JW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={rectangle:null},n.setRectangleCallback=function(){n.state.rectangle!==null&&n.props.onLoad&&n.props.onLoad(n.state.rectangle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Rectangle(Be(Be({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:ly,eventMap:ay,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{rectangle:n}},this.setRectangleCallback)},e.prototype.componentDidUpdate=function(n){this.state.rectangle!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:ly,eventMap:ay,prevProps:n,nextProps:this.props,instance:this.state.rectangle}))},e.prototype.componentWillUnmount=function(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Qe(this.registeredEvents),this.state.rectangle.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);var cy={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},uy={center:function(t,e){t.setCenter(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},radius:function(t,e){t.setRadius(e)},visible:function(t,e){t.setVisible(e)}},ZW={};function XW(t){var e=t.options,n=t.center,r=t.radius,o=t.draggable,i=t.editable,s=t.visible,a=t.onDblClick,l=t.onDragEnd,c=t.onDragStart,u=t.onMouseDown,d=t.onMouseMove,p=t.onMouseOut,f=t.onMouseOver,m=t.onMouseUp,g=t.onRightClick,y=t.onClick,b=t.onDrag,x=t.onCenterChanged,C=t.onRadiusChanged,E=t.onLoad,k=t.onUnmount,w=h.useContext(Ue),M=h.useState(null),T=M[0],D=M[1],P=h.useState(null),U=P[0],N=P[1],q=h.useState(null),R=q[0],B=q[1],z=h.useState(null),I=z[0],oe=z[1],me=h.useState(null),te=me[0],G=me[1],X=h.useState(null),ie=X[0],Y=X[1],S=h.useState(null),A=S[0],j=S[1],H=h.useState(null),V=H[0],fe=H[1],pe=h.useState(null),he=pe[0],ke=pe[1],Te=h.useState(null),$=Te[0],F=Te[1],de=h.useState(null),Z=de[0],ae=de[1],ue=h.useState(null),ye=ue[0],be=ue[1],ge=h.useState(null),ce=ge[0],je=ge[1],Oe=h.useState(null),Ae=Oe[0],He=Oe[1];return h.useEffect(function(){T!==null&&T.setMap(w)},[w]),h.useEffect(function(){typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),h.useEffect(function(){typeof o<"u"&&T!==null&&T.setDraggable(o)},[T,o]),h.useEffect(function(){typeof i<"u"&&T!==null&&T.setEditable(i)},[T,i]),h.useEffect(function(){typeof s<"u"&&T!==null&&T.setVisible(s)},[T,s]),h.useEffect(function(){typeof r=="number"&&T!==null&&T.setRadius(r)},[T,r]),h.useEffect(function(){typeof n<"u"&&T!==null&&T.setCenter(n)},[T,n]),h.useEffect(function(){T&&a&&(U!==null&&google.maps.event.removeListener(U),N(google.maps.event.addListener(T,"dblclick",a)))},[a]),h.useEffect(function(){T&&l&&(R!==null&&google.maps.event.removeListener(R),B(google.maps.event.addListener(T,"dragend",l)))},[l]),h.useEffect(function(){T&&c&&(I!==null&&google.maps.event.removeListener(I),oe(google.maps.event.addListener(T,"dragstart",c)))},[c]),h.useEffect(function(){T&&u&&(te!==null&&google.maps.event.removeListener(te),G(google.maps.event.addListener(T,"mousedown",u)))},[u]),h.useEffect(function(){T&&d&&(ie!==null&&google.maps.event.removeListener(ie),Y(google.maps.event.addListener(T,"mousemove",d)))},[d]),h.useEffect(function(){T&&p&&(A!==null&&google.maps.event.removeListener(A),j(google.maps.event.addListener(T,"mouseout",p)))},[p]),h.useEffect(function(){T&&f&&(V!==null&&google.maps.event.removeListener(V),fe(google.maps.event.addListener(T,"mouseover",f)))},[f]),h.useEffect(function(){T&&m&&(he!==null&&google.maps.event.removeListener(he),ke(google.maps.event.addListener(T,"mouseup",m)))},[m]),h.useEffect(function(){T&&g&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(T,"rightclick",g)))},[g]),h.useEffect(function(){T&&y&&(Z!==null&&google.maps.event.removeListener(Z),ae(google.maps.event.addListener(T,"click",y)))},[y]),h.useEffect(function(){T&&b&&(ye!==null&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(T,"drag",b)))},[b]),h.useEffect(function(){T&&x&&(ce!==null&&google.maps.event.removeListener(ce),je(google.maps.event.addListener(T,"center_changed",x)))},[y]),h.useEffect(function(){T&&C&&(Ae!==null&&google.maps.event.removeListener(Ae),He(google.maps.event.addListener(T,"radius_changed",C)))},[C]),h.useEffect(function(){var Pe=new google.maps.Circle(Be(Be({},e||ZW),{map:w}));return typeof r=="number"&&Pe.setRadius(r),typeof n<"u"&&Pe.setCenter(n),typeof r=="number"&&Pe.setRadius(r),typeof s<"u"&&Pe.setVisible(s),typeof i<"u"&&Pe.setEditable(i),typeof o<"u"&&Pe.setDraggable(o),a&&N(google.maps.event.addListener(Pe,"dblclick",a)),l&&B(google.maps.event.addListener(Pe,"dragend",l)),c&&oe(google.maps.event.addListener(Pe,"dragstart",c)),u&&G(google.maps.event.addListener(Pe,"mousedown",u)),d&&Y(google.maps.event.addListener(Pe,"mousemove",d)),p&&j(google.maps.event.addListener(Pe,"mouseout",p)),f&&fe(google.maps.event.addListener(Pe,"mouseover",f)),m&&ke(google.maps.event.addListener(Pe,"mouseup",m)),g&&F(google.maps.event.addListener(Pe,"rightclick",g)),y&&ae(google.maps.event.addListener(Pe,"click",y)),b&&be(google.maps.event.addListener(Pe,"drag",b)),x&&je(google.maps.event.addListener(Pe,"center_changed",x)),C&&He(google.maps.event.addListener(Pe,"radius_changed",C)),D(Pe),E&&E(Pe),function(){U!==null&&google.maps.event.removeListener(U),R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),te!==null&&google.maps.event.removeListener(te),ie!==null&&google.maps.event.removeListener(ie),A!==null&&google.maps.event.removeListener(A),V!==null&&google.maps.event.removeListener(V),he!==null&&google.maps.event.removeListener(he),$!==null&&google.maps.event.removeListener($),Z!==null&&google.maps.event.removeListener(Z),ce!==null&&google.maps.event.removeListener(ce),Ae!==null&&google.maps.event.removeListener(Ae),k&&k(Pe),Pe.setMap(null)}},[]),null}h.memo(XW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={circle:null},n.setCircleCallback=function(){n.state.circle!==null&&n.props.onLoad&&n.props.onLoad(n.state.circle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Circle(Be(Be({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:uy,eventMap:cy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{circle:n}},this.setCircleCallback)},e.prototype.componentDidUpdate=function(n){this.state.circle!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:uy,eventMap:cy,prevProps:n,nextProps:this.props,instance:this.state.circle}))},e.prototype.componentWillUnmount=function(){var n;this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Qe(this.registeredEvents),(n=this.state.circle)===null||n===void 0||n.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);var dy={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},py={add:function(t,e){t.add(e)},addgeojson:function(t,e,n){t.addGeoJson(e,n)},contains:function(t,e){t.contains(e)},foreach:function(t,e){t.forEach(e)},loadgeojson:function(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle:function(t,e,n){t.overrideStyle(e,n)},remove:function(t,e){t.remove(e)},revertstyle:function(t,e){t.revertStyle(e)},controlposition:function(t,e){t.setControlPosition(e)},controls:function(t,e){t.setControls(e)},drawingmode:function(t,e){t.setDrawingMode(e)},map:function(t,e){t.setMap(e)},style:function(t,e){t.setStyle(e)},togeojson:function(t,e){t.toGeoJson(e)}};function QW(t){var e=t.options,n=t.onClick,r=t.onDblClick,o=t.onMouseDown,i=t.onMouseMove,s=t.onMouseOut,a=t.onMouseOver,l=t.onMouseUp,c=t.onRightClick,u=t.onAddFeature,d=t.onRemoveFeature,p=t.onRemoveProperty,f=t.onSetGeometry,m=t.onSetProperty,g=t.onLoad,y=t.onUnmount,b=h.useContext(Ue),x=h.useState(null),C=x[0],E=x[1],k=h.useState(null),w=k[0],M=k[1],T=h.useState(null),D=T[0],P=T[1],U=h.useState(null),N=U[0],q=U[1],R=h.useState(null),B=R[0],z=R[1],I=h.useState(null),oe=I[0],me=I[1],te=h.useState(null),G=te[0],X=te[1],ie=h.useState(null),Y=ie[0],S=ie[1],A=h.useState(null),j=A[0],H=A[1],V=h.useState(null),fe=V[0],pe=V[1],he=h.useState(null),ke=he[0],Te=he[1],$=h.useState(null),F=$[0],de=$[1],Z=h.useState(null),ae=Z[0],ue=Z[1],ye=h.useState(null),be=ye[0],ge=ye[1];return h.useEffect(function(){C!==null&&C.setMap(b)},[b]),h.useEffect(function(){C&&r&&(w!==null&&google.maps.event.removeListener(w),M(google.maps.event.addListener(C,"dblclick",r)))},[r]),h.useEffect(function(){C&&o&&(D!==null&&google.maps.event.removeListener(D),P(google.maps.event.addListener(C,"mousedown",o)))},[o]),h.useEffect(function(){C&&i&&(N!==null&&google.maps.event.removeListener(N),q(google.maps.event.addListener(C,"mousemove",i)))},[i]),h.useEffect(function(){C&&s&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(C,"mouseout",s)))},[s]),h.useEffect(function(){C&&a&&(oe!==null&&google.maps.event.removeListener(oe),me(google.maps.event.addListener(C,"mouseover",a)))},[a]),h.useEffect(function(){C&&l&&(G!==null&&google.maps.event.removeListener(G),X(google.maps.event.addListener(C,"mouseup",l)))},[l]),h.useEffect(function(){C&&c&&(Y!==null&&google.maps.event.removeListener(Y),S(google.maps.event.addListener(C,"rightclick",c)))},[c]),h.useEffect(function(){C&&n&&(j!==null&&google.maps.event.removeListener(j),H(google.maps.event.addListener(C,"click",n)))},[n]),h.useEffect(function(){C&&u&&(fe!==null&&google.maps.event.removeListener(fe),pe(google.maps.event.addListener(C,"addfeature",u)))},[u]),h.useEffect(function(){C&&d&&(ke!==null&&google.maps.event.removeListener(ke),Te(google.maps.event.addListener(C,"removefeature",d)))},[d]),h.useEffect(function(){C&&p&&(F!==null&&google.maps.event.removeListener(F),de(google.maps.event.addListener(C,"removeproperty",p)))},[p]),h.useEffect(function(){C&&f&&(ae!==null&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(C,"setgeometry",f)))},[f]),h.useEffect(function(){C&&m&&(be!==null&&google.maps.event.removeListener(be),ge(google.maps.event.addListener(C,"setproperty",m)))},[m]),h.useEffect(function(){if(b!==null){var ce=new google.maps.Data(Be(Be({},e||{}),{map:b}));r&&M(google.maps.event.addListener(ce,"dblclick",r)),o&&P(google.maps.event.addListener(ce,"mousedown",o)),i&&q(google.maps.event.addListener(ce,"mousemove",i)),s&&z(google.maps.event.addListener(ce,"mouseout",s)),a&&me(google.maps.event.addListener(ce,"mouseover",a)),l&&X(google.maps.event.addListener(ce,"mouseup",l)),c&&S(google.maps.event.addListener(ce,"rightclick",c)),n&&H(google.maps.event.addListener(ce,"click",n)),u&&pe(google.maps.event.addListener(ce,"addfeature",u)),d&&Te(google.maps.event.addListener(ce,"removefeature",d)),p&&de(google.maps.event.addListener(ce,"removeproperty",p)),f&&ue(google.maps.event.addListener(ce,"setgeometry",f)),m&&ge(google.maps.event.addListener(ce,"setproperty",m)),E(ce),g&&g(ce)}return function(){C&&(w!==null&&google.maps.event.removeListener(w),D!==null&&google.maps.event.removeListener(D),N!==null&&google.maps.event.removeListener(N),B!==null&&google.maps.event.removeListener(B),oe!==null&&google.maps.event.removeListener(oe),G!==null&&google.maps.event.removeListener(G),Y!==null&&google.maps.event.removeListener(Y),j!==null&&google.maps.event.removeListener(j),fe!==null&&google.maps.event.removeListener(fe),ke!==null&&google.maps.event.removeListener(ke),F!==null&&google.maps.event.removeListener(F),ae!==null&&google.maps.event.removeListener(ae),be!==null&&google.maps.event.removeListener(be),y&&y(C),C.setMap(null))}},[]),null}h.memo(QW);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={data:null},n.setDataCallback=function(){n.state.data!==null&&n.props.onLoad&&n.props.onLoad(n.state.data)},n}return e.prototype.componentDidMount=function(){if(this.context!==null){var n=new google.maps.Data(Be(Be({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:py,eventMap:dy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{data:n}},this.setDataCallback)}},e.prototype.componentDidUpdate=function(n){this.state.data!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:py,eventMap:dy,prevProps:n,nextProps:this.props,instance:this.state.data}))},e.prototype.componentWillUnmount=function(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Qe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);var fy={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},hy={options:function(t,e){t.setOptions(e)},url:function(t,e){t.setUrl(e)},zIndex:function(t,e){t.setZIndex(e)}};(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={kmlLayer:null},n.setKmlLayerCallback=function(){n.state.kmlLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.kmlLayer)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.KmlLayer(Be(Be({},this.props.options),{map:this.context}));this.registeredEvents=Ye({updaterMap:hy,eventMap:fy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{kmlLayer:n}},this.setKmlLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.kmlLayer!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:hy,eventMap:fy,prevProps:n,nextProps:this.props,instance:this.state.kmlLayer}))},e.prototype.componentWillUnmount=function(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Qe(this.registeredEvents),this.state.kmlLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);function bC(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function eU(t,e){return new e(t.lat,t.lng)}function tU(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function nU(t,e,n){return t instanceof e?t:n(t,e)}function rU(t,e,n){return t instanceof e?t:n(t,e)}function oU(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),o=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-o.x-e.x,"px"),height:"".concat(o.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function iU(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var o=r.x,i=r.y;return{left:"".concat(o+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function xC(t,e,n,r){return n!==void 0?oU(t,e,rU(n,google.maps.LatLngBounds,tU)):iU(t,e,nU(r,google.maps.LatLng,eU))}function sU(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function aU(t,e,n,r,o){var i=function(s){vt(a,s);function a(l,c,u,d){var p=s.call(this)||this;return p.container=l,p.pane=c,p.position=u,p.bounds=d,p}return a.prototype.onAdd=function(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)},a.prototype.draw=function(){for(var l=this.getProjection(),c=Be({},this.container?bC(this.container,o):{x:0,y:0}),u=xC(l,c,this.bounds,this.position),d=0,p=Object.entries(u);d<p.length;d++){var f=p[d],m=f[0],g=f[1];this.container.style[m]=g}},a.prototype.onRemove=function(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)},a}(google.maps.OverlayView);return new i(t,e,n,r)}function my(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function gy(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function lU(t){var e=t.position,n=t.bounds,r=t.mapPaneName,o=t.zIndex,i=t.onLoad,s=t.onUnmount,a=t.getPixelPositionOffset,l=t.children,c=h.useContext(Ue),u=h.useMemo(function(){var p=document.createElement("div");return p.style.position="absolute",p},[]),d=h.useMemo(function(){return aU(u,r,e,n,a)},[u,r,e,n]);return h.useEffect(function(){return i==null||i(d),d==null||d.setMap(c),function(){s==null||s(d),d==null||d.setMap(null)}},[c,d]),h.useEffect(function(){u.style.zIndex="".concat(o)},[o,u]),Eo.createPortal(l,u)}h.memo(lU);(function(t){vt(e,t);function e(n){var r=t.call(this,n)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var i=r.props.mapPaneName,s=r.overlayView.getPanes();Ft(!!i,"OverlayView requires props.mapPaneName but got %s",i),s?r.setState({paneEl:s[i]}):r.setState({paneEl:null})},r.onAdd=function(){var i,s;r.updatePane(),(s=(i=r.props).onLoad)===null||s===void 0||s.call(i,r.overlayView)},r.onPositionElement=function(){var i=r.overlayView.getProjection(),s=Be({x:0,y:0},r.containerRef.current?bC(r.containerRef.current,r.props.getPixelPositionOffset):{}),a=xC(i,s,r.props.bounds,r.props.position),l=r.state.containerStyle,c=l.left,u=l.top,d=l.width,p=l.height;sU(a,{left:c,top:u,width:d,height:p})||r.setState({containerStyle:{top:a.top||0,left:a.left||0,width:a.width||0,height:a.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var i,s;r.setState(function(){return{paneEl:null}}),(s=(i=r.props).onUnmount)===null||s===void 0||s.call(i,r.overlayView)},r.containerRef=h.createRef();var o=new google.maps.OverlayView;return o.onAdd=r.onAdd,o.draw=r.draw,o.onRemove=r.onRemove,r.overlayView=o,r}return e.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},e.prototype.componentDidUpdate=function(n){var r=my(n.position),o=my(this.props.position),i=gy(n.bounds),s=gy(this.props.bounds);(r!==o||i!==s)&&this.overlayView.draw(),n.mapPaneName!==this.props.mapPaneName&&this.updatePane()},e.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},e.prototype.render=function(){var n=this.state.paneEl;return n?Eo.createPortal(v.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:h.Children.only(this.props.children)}),n):null},e.FLOAT_PANE="floatPane",e.MAP_PANE="mapPane",e.MARKER_LAYER="markerLayer",e.OVERLAY_LAYER="overlayLayer",e.OVERLAY_MOUSE_TARGET="overlayMouseTarget",e.contextType=Ue,e})(h.PureComponent);function cU(){}var vy={onDblClick:"dblclick",onClick:"click"},yy={opacity:function(t,e){t.setOpacity(e)}};function uU(t){var e=t.url,n=t.bounds,r=t.options,o=t.visible,i=h.useContext(Ue),s=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=h.useMemo(function(){var l=new google.maps.GroundOverlay(e,s,Be({},r));return l},[]);return h.useEffect(function(){a!==null&&a.setMap(i)},[i]),h.useEffect(function(){typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(i))},[a,e]),h.useEffect(function(){typeof o<"u"&&a!==null&&a.setOpacity(o?1:0)},[a,o]),h.useEffect(function(){var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",l),a.setMap(i))},[a,n]),null}h.memo(uU);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={groundOverlay:null},n.setGroundOverlayCallback=function(){n.state.groundOverlay!==null&&n.props.onLoad&&n.props.onLoad(n.state.groundOverlay)},n}return e.prototype.componentDidMount=function(){Ft(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var n=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Be(Be({},this.props.options),{map:this.context}));this.registeredEvents=Ye({updaterMap:yy,eventMap:vy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{groundOverlay:n}},this.setGroundOverlayCallback)},e.prototype.componentDidUpdate=function(n){this.state.groundOverlay!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:yy,eventMap:vy,prevProps:n,nextProps:this.props,instance:this.state.groundOverlay}))},e.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},e.prototype.render=function(){return null},e.defaultProps={onLoad:cU},e.contextType=Ue,e})(h.PureComponent);var by={},xy={data:function(t,e){t.setData(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)}};function dU(t){var e=t.data,n=t.onLoad,r=t.onUnmount,o=t.options,i=h.useContext(Ue),s=h.useState(null),a=s[0],l=s[1];return h.useEffect(function(){google.maps.visualization||Ft(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),h.useEffect(function(){Ft(!!e,"data property is required in HeatmapLayer %s",e)},[e]),h.useEffect(function(){a!==null&&a.setMap(i)},[i]),h.useEffect(function(){o&&a!==null&&a.setOptions(o)},[a,o]),h.useEffect(function(){var c=new google.maps.visualization.HeatmapLayer(Be(Be({},o||{}),{data:e,map:i}));return l(c),n&&n(c),function(){a!==null&&(r&&r(a),a.setMap(null))}},[]),null}h.memo(dU);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={heatmapLayer:null},n.setHeatmapLayerCallback=function(){n.state.heatmapLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.heatmapLayer)},n}return e.prototype.componentDidMount=function(){Ft(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ft(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var n=new google.maps.visualization.HeatmapLayer(Be(Be({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=Ye({updaterMap:xy,eventMap:by,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{heatmapLayer:n}},this.setHeatmapLayerCallback)},e.prototype.componentDidUpdate=function(n){Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:xy,eventMap:by,prevProps:n,nextProps:this.props,instance:this.state.heatmapLayer})},e.prototype.componentWillUnmount=function(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Qe(this.registeredEvents),this.state.heatmapLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);var wy={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Cy={register:function(t,e,n){t.registerPanoProvider(e,n)},links:function(t,e){t.setLinks(e)},motionTracking:function(t,e){t.setMotionTracking(e)},options:function(t,e){t.setOptions(e)},pano:function(t,e){t.setPano(e)},position:function(t,e){t.setPosition(e)},pov:function(t,e){t.setPov(e)},visible:function(t,e){t.setVisible(e)},zoom:function(t,e){t.setZoom(e)}};(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={streetViewPanorama:null},n.setStreetViewPanoramaCallback=function(){n.state.streetViewPanorama!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewPanorama)},n}return e.prototype.componentDidMount=function(){var n,r,o=(r=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&r!==void 0?r:null;this.registeredEvents=Ye({updaterMap:Cy,eventMap:wy,prevProps:{},nextProps:this.props,instance:o}),this.setState(function(){return{streetViewPanorama:o}},this.setStreetViewPanoramaCallback)},e.prototype.componentDidUpdate=function(n){this.state.streetViewPanorama!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Cy,eventMap:wy,prevProps:n,nextProps:this.props,instance:this.state.streetViewPanorama}))},e.prototype.componentWillUnmount=function(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Qe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={streetViewService:null},n.setStreetViewServiceCallback=function(){n.state.streetViewService!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewService)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:n}},this.setStreetViewServiceCallback)},e.prototype.componentWillUnmount=function(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},e.prototype.render=function(){return null},e.contextType=Ue,e})(h.PureComponent);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={directionsService:null},n.setDirectionsServiceCallback=function(){n.state.directionsService!==null&&n.props.onLoad&&n.props.onLoad(n.state.directionsService)},n}return e.prototype.componentDidMount=function(){Ft(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var n=new google.maps.DirectionsService;this.setState(function(){return{directionsService:n}},this.setDirectionsServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},e.prototype.render=function(){return null},e})(h.PureComponent);var Sy={onDirectionsChanged:"directions_changed"},ky={directions:function(t,e){t.setDirections(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},panel:function(t,e){t.setPanel(e)},routeIndex:function(t,e){t.setRouteIndex(e)}};(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={directionsRenderer:null},n.setDirectionsRendererCallback=function(){n.state.directionsRenderer!==null&&(n.state.directionsRenderer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.directionsRenderer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ye({updaterMap:ky,eventMap:Sy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{directionsRenderer:n}},this.setDirectionsRendererCallback)},e.prototype.componentDidUpdate=function(n){this.state.directionsRenderer!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:ky,eventMap:Sy,prevProps:n,nextProps:this.props,instance:this.state.directionsRenderer}))},e.prototype.componentWillUnmount=function(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Qe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},e.prototype.render=function(){return v.jsx(v.Fragment,{})},e.contextType=Ue,e})(h.PureComponent);(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={distanceMatrixService:null},n.setDistanceMatrixServiceCallback=function(){n.state.distanceMatrixService!==null&&n.props.onLoad&&n.props.onLoad(n.state.distanceMatrixService)},n}return e.prototype.componentDidMount=function(){Ft(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var n=new google.maps.DistanceMatrixService;this.setState(function(){return{distanceMatrixService:n}},this.setDistanceMatrixServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.distanceMatrixService!==null&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.distanceMatrixService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},e.prototype.render=function(){return null},e})(h.PureComponent);var My={onPlacesChanged:"places_changed"},Ey={bounds:function(t,e){t.setBounds(e)}};(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=h.createRef(),n.state={searchBox:null},n.setSearchBoxCallback=function(){n.state.searchBox!==null&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}return e.prototype.componentDidMount=function(){if(Ft(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var n=this.containerElement.current.querySelector("input");if(n!==null){var r=new google.maps.places.SearchBox(n,this.props.options);this.registeredEvents=Ye({updaterMap:Ey,eventMap:My,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}},e.prototype.componentDidUpdate=function(n){this.state.searchBox!==null&&(Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Ey,eventMap:My,prevProps:n,nextProps:this.props,instance:this.state.searchBox}))},e.prototype.componentWillUnmount=function(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Qe(this.registeredEvents))},e.prototype.render=function(){return v.jsx("div",{ref:this.containerElement,children:h.Children.only(this.props.children)})},e.contextType=Ue,e})(h.PureComponent);var Ty={onPlaceChanged:"place_changed"},Oy={bounds:function(t,e){t.setBounds(e)},restrictions:function(t,e){t.setComponentRestrictions(e)},fields:function(t,e){t.setFields(e)},options:function(t,e){t.setOptions(e)},types:function(t,e){t.setTypes(e)}};(function(t){vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=h.createRef(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){n.state.autocomplete!==null&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}return e.prototype.componentDidMount=function(){var n;Ft(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(n=this.containerElement.current)===null||n===void 0?void 0:n.querySelector("input");if(r){var o=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=Ye({updaterMap:Oy,eventMap:Ty,prevProps:{},nextProps:this.props,instance:o}),this.setState(function(){return{autocomplete:o}},this.setAutocompleteCallback)}},e.prototype.componentDidUpdate=function(n){Qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Oy,eventMap:Ty,prevProps:n,nextProps:this.props,instance:this.state.autocomplete})},e.prototype.componentWillUnmount=function(){this.state.autocomplete!==null&&Qe(this.registeredEvents)},e.prototype.render=function(){return v.jsx("div",{ref:this.containerElement,className:this.props.className,children:h.Children.only(this.props.children)})},e.defaultProps={className:""},e.contextType=Ue,e})(h.PureComponent);const wC=["places"],om={lat:0,lng:0};async function pU(t){const e=t.getBounds();if(e)return e;let n;return new Promise(r=>{n=google.maps.event.addListener(t,"bounds_changed",()=>{r(t.getBounds()),google.maps.event.removeListener(n)})})}function as(t){return!(!t||t.lat===void 0||t.lng===void 0||Number.isNaN(t.lat)||Number.isNaN(t.lng)||typeof Uh(t.lat)=="string"||typeof Gh(t.lng)=="string")}function fU(t){return t?/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/.test(t):!1}function Ly(t,e){return t===e||t&&e&&t.lat===e.lat&&t.lng===e.lng}const hU=Q.div`
	&.mapCoordinates {
		margin-bottom: 8px;
	}
`,Ay=Q(uu)`
  min-width: 684px;

  &.MuiTextField-root {
    display: flex;
  }
`,mU=Q(Tx)`
  cursor: pointer;
  color: ${_.newColors.almostBlack[100]};
`,gU=Q.div`
  background-color: white;
  border: ${_.borders.fieldGray};
  border-top: 0;
  font-family: ${_.fontFamily};
  padding: 8px 0;
  box-shadow: 0 1px 3px rgba(0,0,0,.05);
`,vU=Q.div`
  	background-color: ${({$isSuggestionActive:t})=>t?_.colors.gray200:"white"};
  	cursor: pointer;
	padding: 6px 16px;
	width: 100%;
`,yU=Q.p`
  font-size: 14px;
  margin: 0;

  &:active {
    color: ${_.colors.gray800};
    font-weight: ${_.fontWeight.bold};
  }
`,bU=t=>{const{className:e,value:n,onChange:r,onBlur:o,onSelect:i,textField:s,placeholder:a,googleMapsApiKey:l,disabled:c,id:u}=t,[d,p]=O.useState(null),{isLoaded:f,loadError:m}=tm({googleMapsApiKey:l,libraries:wC}),g=x=>{p(x.target)},y=()=>{p(null),o&&o()},b={...s,inputProps:{"data-testid":"location-search-input"},variant:"outlined",value:n,onFocus:g,onBlur:y};return!f||m?v.jsx(Ay,{...b,fieldSize:"lg",onChange:({target:{value:x}})=>r(x),disabled:c,id:u}):v.jsx(hU,{className:e,children:v.jsx(ZV,{value:n,onChange:r,onSelect:i,children:({getInputProps:x,suggestions:C,getSuggestionItemProps:E})=>v.jsxs("div",{style:{position:"relative"},children:[v.jsx(Ay,{...b,...x({placeholder:a}),fieldSize:"",onFocus:g,onBlur:y,disabled:c,id:u}),v.jsx(LE,{open:!!d&&(C==null?void 0:C.length)>0,anchorEl:d,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"left"},disableAutoFocus:!0,disableEnforceFocus:!0,children:v.jsx(gU,{children:C==null?void 0:C.map(k=>h.createElement(vU,{...E(k),key:k==null?void 0:k.placeId,$isSuggestionActive:k==null?void 0:k.active},v.jsx(yU,{children:k==null?void 0:k.description})))})})]})})})},CC=h.memo(bU),Sr={no:"street_number",street:"route",neighborhood:"neighborhood",locality:"locality",town:"postal_town",area1:"administrative_area_level_1",area2:"administrative_area_level_2",country:"country",postcode:"postal_code"};function xU(t){const{fieldDef:e,path:n,skeleton:r}=t,{inputSettings:o}=e,{getOptionsCountries:i,getOptionsStates:s,googleMapsApiKey:a}=o,{methods:l}=h.useContext(hi),{setFormValues:c}=l,[u,d]=h.useState(""),[p,f]=h.useState(!1),m=h.useCallback(async g=>{const[y]=await Qh(g),b=y.address_components,x=q=>{const R=b.find(({types:B})=>B.includes(q));return!R||!R.long_name?"":R.long_name},C=!!x(Sr.town),E=[{label:"Address 1",value:[x(Sr.no),x(Sr.street)].filter(Boolean).join(" "),dataKey:"address1",emptyWarning:!0},{label:"Address 2",value:C?x(Sr.locality):"",dataKey:"address2"},{label:"City",value:x(C?Sr.town:Sr.locality),dataKey:"city",emptyWarning:!0},{label:"Postal Code",value:x(Sr.postcode),dataKey:"postalCode",emptyWarning:!0}],k=await i(),w=x(Sr.country),M=k.find(({label:q})=>q.toLowerCase().includes(w.toLowerCase()));E.push({label:"Country",value:M||"",dataKey:"country",emptyWarning:!0});const T=M?await s(M.value):[],D=x(C?Sr.area2:Sr.area1),P=T.find(({label:q})=>q.toLowerCase().includes(D.toLowerCase()));E.push({label:"State",value:P||"",dataKey:"state",emptyWarning:!0});const U=E.reduce((q,R)=>({...q,[R.dataKey]:R.value}),{}),N=E.filter(({emptyWarning:q,value:R})=>q&&!R);c({values:U,path:n,validate:!0}),N.length&&(console.warn("Some components could not be resolved.",`

Components received:
`,b,`

By type they are:
`,b.map(({types:[q],long_name:R})=>`${q}: ${R}`).join(`
`),`

Mosaic Result:
`,E),d(N.map(({label:q})=>q).join(", ")),f(!0))},[i,s,n,c]);return v.jsxs(v.Fragment,{children:[v.jsx(qh,{error:t.error,id:e.name,fieldDef:{name:e.name,type:"autocomplete",label:e.label,required:e.required,size:ft.lg},methods:t.methods,disabled:t.disabled,useRealLabel:!0,skeleton:r,children:r?v.jsx(Xe,{variant:"rectangular",width:"100%",height:43}):v.jsx(CC,{onChange:g=>t.onChange(g),onBlur:t.onBlur,value:t.value??"",onSelect:m,googleMapsApiKey:a,disabled:t.disabled,id:`${e.name}-input`})}),Eo.createPortal(v.jsx(Hf,{autoHideDuration:4e3,label:`The following fields could not be autocompleted: ${u}.`,open:p,onClose:()=>f(!1)}),document.body)]})}const wU=h.memo(xU);function CU(t){const{fieldDef:e,path:n,value:r}=t,{inputSettings:o}=e,{getOptionsStates:i}=o,{state:s,methods:a}=h.useContext(hi),{setFieldValue:l}=a,c=h.useMemo(()=>ar(s.data,[...n||[],"country"]),[s,n]),u=h.useCallback(async()=>c?i(c.value):[],[c,i]);return h.useEffect(()=>{if(!r)return;(async()=>{if(!c){l({name:"state",path:n,value:void 0});return}(await i(c.value)).find(({label:m})=>m.toLowerCase().includes(r.label.toLowerCase()))||l({name:"state",path:n,value:void 0})})()},[c,n,i,l,r]),v.jsx(qh,{error:t.error,id:e.name,fieldDef:{name:e.name,type:"addressState",label:e.label,required:e.required,size:e.size},methods:t.methods,disabled:t.disabled,useRealLabel:!0,skeleton:t.skeleton,children:v.jsx(Ux,{...t,fieldDef:{...e,inputSettings:{...o,getOptions:u}}})})}const SU=h.memo(CU),Py={address1:["country","city","state","postalCode"],address2:["address1"],address3:["address2"],state:["country","postalCode"],city:["country","state","postalCode"]};function kU(t){const e=[],n=t.map(r=>typeof r=="string"?r:r.name);for(const r of n)if(Py[r])for(const o of Py[r])n.includes(o)||e.push(`The "${r}" sub field requires the ${o} to also be included.`);return e.join(`
`)}function SC({getOptionsCountries:t,getOptionsStates:e,googleMapsApiKey:n,required:r,disabled:o,include:i}){const s=i&&kU(i);if(s)throw new Error(s);const a={address1:{name:"address1",required:r,disabled:o,label:"Address",size:"lg",...n?{type:wU,inputSettings:{getOptionsCountries:t,getOptionsStates:e,googleMapsApiKey:n}}:{type:"text"}},address2:{name:"address2",type:"text",label:void 0,size:"lg",disabled:o},address3:{name:"address3",type:"text",label:void 0,size:"lg",disabled:o},country:{name:"country",type:"dropdown",label:"Country",size:"sm",required:r,disabled:o,inputSettings:{getOptions:t},validates:[{name:"postalCode",include:[eC]}]},city:{name:"city",type:"text",label:"City",size:"sm",required:r,disabled:o},state:{name:"state",type:SU,label:"State",size:"sm",disabled:o,inputSettings:{getOptionsStates:e}},postalCode:{name:"postalCode",type:"text",label:"Postal Code",size:"sm",required:r,disabled:o,inputSettings:{type:"string"},validators:[{fn:"validatePostcode",options:{countryField:"country"}}]}};return i?i.map(l=>typeof l=="string"?a[l]:Kh(a[l.name],l)):Object.values(a)}const MU=t=>{const{onSave:e,addressToEdit:n,handleClose:r,handleUnsavedChanges:o,dialogOpen:i,handleDialogClose:s,addressTypes:a,getOptionsCountries:l,getOptionsStates:c,googleMapsApiKey:u}=t,d=Au(),{state:p,handleSubmit:f}=d;h.useEffect(()=>{o&&o(!Z9(n,p.data))},[n,p.data]);const m=f(h.useCallback(async()=>{e({...n||{},address1:p.data.address1,address2:p.data.address2,address3:p.data.address3,city:p.data.city,state:p.data.state,postalCode:p.data.postalCode,country:p.data.country,types:p.data.types}),r(!0)},[r,e,n,p.data.address1,p.data.address2,p.data.address3,p.data.city,p.data.state,p.data.postalCode,p.data.country,p.data.types])),g=h.useMemo(()=>[{fields:[[["address1"]],[["address2"]],[["address3"]],[["country"]],[["city"],["state"],["postalCode"]],...a?[[["types"]]]:[]]}],[a]),y=h.useMemo(()=>a?[{name:"types",type:"checkbox",label:"Type",size:"sm",required:!0,inputSettings:{options:[...a,...n?n.types.filter(E=>!a.find(({value:k})=>k===E.value)):[]]}}]:[],[a,n]),b=h.useMemo(()=>[...SC({getOptionsCountries:l,getOptionsStates:c,googleMapsApiKey:u,required:!0}),...y],[l,c,u,y]),x=h.useCallback(async()=>{if(!n)return{};const E={address1:n.address1,address2:n.address2,address3:n.address3,city:n.city,state:n.state,postalCode:n.postalCode,country:n.country};return a&&(E.types=n.types),E},[n,a]),C=h.useMemo(()=>[{label:"Cancel",onClick:()=>r(),color:"gray",variant:"outlined"},{label:"Save",onClick:m,color:"yellow",variant:"contained",type:"submit"}],[r,m]);return v.jsx(Vf,{className:"address",children:v.jsx(Ku,{...d,onBack:r,backLabel:"Cancel address entry",title:"Address Information",buttons:C,"data-testid":"address-testid",sections:g,fields:b,dialogOpen:i,handleDialogClose:s,getFormValues:x})})},EU=Q.div`
  display: flex;
  flex-direction: column;
  color: ${_.newColors.almostBlack[100]};
  background-color: ${_.newColors.grey1[100]};
  font-family: ${_.fontFamily};
  height: 204px;
  padding: 24px 16px 16px 24px;
  width: 300px;

  & span {
    font-size: 14px;
    margin: 0;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
	line-height: 20px;
  }
`,TU=Q.span`
  font-weight: ${_.fontWeight.semiBold};
  margin-bottom: 12px !important;
`,OU=Q(Da)`
  align-self: flex-end;
  margin-top: auto;
`,LU=t=>{var s,a;const{address:e,onEdit:n,onRemoveAddress:r,disabled:o}=t,i=(e.types||[]).map(l=>l.label);return v.jsxs(EU,{"data-testid":"address-card-test",children:[v.jsx(TU,{children:`${Yw(i)} Address`}),v.jsx("span",{children:e==null?void 0:e.address1}),(e==null?void 0:e.address2)&&v.jsx("span",{children:e==null?void 0:e.address2}),(e==null?void 0:e.address3)&&v.jsx("span",{children:e==null?void 0:e.address3}),v.jsx("span",{children:`${e==null?void 0:e.city}, ${(s=e==null?void 0:e.state)!=null&&s.label?e.state.label:""} ${e==null?void 0:e.postalCode}`}),v.jsx("span",{children:(a=e==null?void 0:e.country)==null?void 0:a.label}),v.jsxs(OU,{separator:!0,children:[v.jsx(un,{label:"Edit",color:"teal",variant:"text",disabled:o,onClick:()=>n(e)}),v.jsx(un,{color:"red",variant:"text",disabled:o,label:"Remove",onClick:()=>r(e)})]})]})},AU=h.memo(LU);Q.div`
  align-items: center;
  background-color: ${_.newColors.grey2[100]};
  display: flex;
  justify-content: center;
  min-height: 204px;
  width: 300px;
`;const PU=Q.div`
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
`,RU=Q.div`
  margin-bottom: 16px;
`,DU=Q.div`
  display: flex;
  gap: 16px;
`;function IU(){return v.jsxs("div",{children:[v.jsx(Xe,{variant:"rectangular",width:143,height:36,sx:{marginBottom:2}}),v.jsxs(DU,{children:[v.jsx(Xe,{variant:"rectangular",width:300,height:204}),v.jsx(Xe,{variant:"rectangular",width:300,height:204})]})]})}const Pd=[{label:"Physical",value:"physical",inputSettingsKey:"amountPhysical"},{label:"Billing",value:"billing",inputSettingsKey:"amountBilling"},{label:"Shipping",value:"shipping",inputSettingsKey:"amountShipping"}],$U=t=>{var D,P,U;const{disabled:e,value:n,onBlur:r,onChange:o,fieldDef:i,skeleton:s}=t,[a,l]=h.useState(!1),c=h.useMemo(()=>!n||Array.isArray(n)?n:[n],[n]),[u,d]=h.useState(!1),[p,f]=h.useState(!1),[m,g]=h.useState(null),{singleType:y,limits:b}=h.useMemo(()=>{var I,oe;const q=Pd.map(me=>{var te;return{...me,limit:(te=i==null?void 0:i.inputSettings)==null?void 0:te[me.inputSettingsKey]}}).filter(me=>me.limit!==void 0),R=q.length===1&&((I=i==null?void 0:i.inputSettings)==null?void 0:I.amountPerType)===void 0?q[0]:!1,B=((oe=i==null?void 0:i.inputSettings)==null?void 0:oe.amountPerType)??+!q.length;return{limits:Pd.reduce((me,te)=>{var G;return{...me,[te.value]:((G=i==null?void 0:i.inputSettings)==null?void 0:G[te.inputSettingsKey])??B}},{}),singleType:R}},[i==null?void 0:i.inputSettings]),x=h.useMemo(()=>Pd.filter(q=>{const R=(c||[]).filter(B=>{var z;return(z=B==null?void 0:B.types)==null?void 0:z.map(({value:I})=>I).includes(q.value)});return!(b[q.value]>-1&&R.length>=b[q.value])}),[b,c]),C=()=>{l(!0)},E=h.useCallback(async N=>{o((c||[]).filter(q=>q!==N)),await r()},[r,o,c]),k=async(N=!1)=>{typeof N=="boolean"&&N?(l(!1),r&&await r()):u?f(!0):(l(!1),r&&await r())},w=async N=>{N&&l(!1),f(!1)},M=N=>{const q=[...c||[]],R={...N,types:y?[{value:y.value,label:y.label}]:N.types};if(typeof a=="object"){const B=c.findIndex(z=>z===a);q.splice(B,1,R)}else q.push(R);o(q)},T=h.useMemo(()=>[{label:"No, keep it",onClick:()=>g(void 0),color:"gray",variant:"outlined"},{label:"Yes, remove it",onClick:()=>{E(m),g(void 0)},color:"yellow",variant:"contained"}],[E,m]);return s?v.jsx(IU,{}):v.jsxs(v.Fragment,{children:[x.length>0&&v.jsx(RU,{children:v.jsx(un,{disabled:e,color:"gray",variant:"outlined",label:"ADD ADDRESS",onClick:C})}),!!c&&v.jsx(PU,{children:c.map((N,q)=>v.jsx(AU,{address:N,onEdit:l,disabled:e,onRemoveAddress:g},`${q}`))}),v.jsx(jf,{open:!!a,onClose:k,children:v.jsx(MU,{googleMapsApiKey:(D=i==null?void 0:i.inputSettings)==null?void 0:D.googleMapsApiKey,handleClose:k,addressToEdit:typeof a=="object"?a:void 0,handleUnsavedChanges:N=>d(N),dialogOpen:p,handleDialogClose:w,addressTypes:y?void 0:x,getOptionsCountries:(P=i==null?void 0:i.inputSettings)==null?void 0:P.getOptionsCountries,getOptionsStates:(U=i==null?void 0:i.inputSettings)==null?void 0:U.getOptionsStates,onSave:M})}),v.jsx(zf,{buttons:T,dialogTitle:"Are you sure you want to remove this address?",open:!!m,children:"All data for this address will be lost. This action is irreversible."})]})},NU=h.memo($U);function an(t){this.content=t}an.prototype={constructor:an,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return o==-1?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new an(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new an(n)},addToStart:function(t,e){return new an([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new an(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(i==-1?o.length:i,0,e,n),new an(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=an.from(t),t.size?new an(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=an.from(t),t.size?new an(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=an.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};an.from=function(t){if(t instanceof an)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new an(e)};function kC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),i=e.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){let s=kC(o.content,i.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function MC(t,e,n,r){for(let o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let s=t.child(--o),a=e.child(--i),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=MC(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ne{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,i){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,o+a,i||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,o+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let i="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new ne(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let i=0,s=0;s<n;i++){let a=this.content[i],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=l}return new ne(r,o)}cutByIndex(e,n){return e==n?ne.empty:e==0&&n==this.content.length?this:new ne(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new ne(o,i)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return kC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return MC(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Cl(0,e);if(e==this.size)return Cl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let i=this.child(r),s=o+i.nodeSize;if(s>=e)return s==e||n>0?Cl(r+1,s):Cl(r,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ne.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let n,r=0;for(let o=0;o<e.length;o++){let i=e[o];r+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ne(n||e,r)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const Rd={index:0,offset:0};function Cl(t,e){return Rd.index=t,Rd.offset=e,Rd}function gc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!gc(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!gc(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let mt=class Wp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&gc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Wp.none;if(e instanceof Wp)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};mt.none=[];class ls extends Error{}class se{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=TC(this.content,e+this.openStart,n);return r&&new se(r,this.openStart,this.openEnd)}removeBetween(e,n){return new se(EC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return se.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new se(ne.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new se(e,r,o)}}se.empty=new se(ne.empty,0,0);function EC(t,e,n){let{index:r,offset:o}=t.findIndex(e),i=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(o==e||i.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(EC(i.content,e-o-1,n-o-1)))}function TC(t,e,n,r){let{index:o,offset:i}=t.findIndex(e),s=t.maybeChild(o);if(i==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=TC(s.content,e-i-1,n);return a&&t.replaceChild(o,s.copy(a))}function _U(t,e,n){if(n.openStart>t.depth)throw new ls("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ls("Inconsistent open depths");return OC(t,e,n,0)}function OC(t,e,n,r){let o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let s=OC(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return Ko(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=FU(n,t);return Ko(i,AC(t,s,a,e,r))}else return Ko(i,vc(t,e,r))}function LC(t,e){if(!e.type.compatibleContent(t.type))throw new ls("Cannot join "+e.type.name+" onto "+t.type.name)}function Up(t,e,n){let r=t.node(n);return LC(r,e.node(n)),r}function Go(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function oa(t,e,n,r){let o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Go(t.nodeAfter,r),i++));for(let a=i;a<s;a++)Go(o.child(a),r);e&&e.depth==n&&e.textOffset&&Go(e.nodeBefore,r)}function Ko(t,e){return t.type.checkContent(e),t.copy(e)}function AC(t,e,n,r,o){let i=t.depth>o&&Up(t,e,o+1),s=r.depth>o&&Up(n,r,o+1),a=[];return oa(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(LC(i,s),Go(Ko(i,AC(t,e,n,r,o+1)),a)):(i&&Go(Ko(i,vc(t,e,o+1)),a),oa(e,n,o,a),s&&Go(Ko(s,vc(n,r,o+1)),a)),oa(r,null,o,a),new ne(a)}function vc(t,e,n){let r=[];if(oa(null,t,n,r),t.depth>n){let o=Up(t,e,n+1);Go(Ko(o,vc(t,e,n+1)),r)}return oa(e,null,n,r),new ne(r)}function FU(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)o=e.node(i).copy(ne.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class xa{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)o+=r.child(i).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return mt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let a=r;r=o,o=a}let i=r.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new yc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(i),c=i-l;if(r.push(s,a,o+l),!c||(s=s.child(a),s.isText))break;i=c-1,o+=l+1}return new xa(n,r,i)}static resolveCached(e,n){let r=Ry.get(e);if(r)for(let i=0;i<r.elts.length;i++){let s=r.elts[i];if(s.pos==n)return s}else Ry.set(e,r=new BU);let o=r.elts[r.i]=xa.resolve(e,n);return r.i=(r.i+1)%jU,o}}class BU{constructor(){this.elts=[],this.i=0}}const jU=12,Ry=new WeakMap;class yc{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const zU=Object.create(null);let qo=class Gp{constructor(e,n,r,o=mt.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||ne.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&gc(this.attrs,n||e.defaultAttrs||zU)&&mt.sameSet(this.marks,r||mt.none)}copy(e=null){return e==this.content?this:new Gp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Gp(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return se.empty;let o=this.resolve(e),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),c=o.node(s).content.cut(o.pos-a,i.pos-a);return new se(c,o.depth-s,i.depth-s)}replace(e,n,r){return _U(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return xa.resolveCached(this,e)}resolveNoCache(e){return xa.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),PC(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ne.empty,o=0,i=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(e).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=mt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!mt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=ne.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}};qo.prototype.text=void 0;class bc extends qo{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):PC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new bc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new bc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function PC(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Qo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new HU(e,n);if(r.next==null)return Qo.empty;let o=RC(r);r.next&&r.err("Unexpected trailing text");let i=YU(qU(o));return JU(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(e.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function i(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return ne.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&o.indexOf(d)==-1){o.push(d);let p=i(d,a.concat(u));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(e)){let s=[];for(let a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:a,next:l}=i.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)i+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return i}).join(`
`)}}Qo.empty=new Qo(!0);class HU{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function RC(t){let e=[];do e.push(VU(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function VU(t){let e=[];do e.push(WU(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function WU(t){let e=KU(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=UU(t,e);else break;return e}function Dy(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function UU(t,e){let n=Dy(t),r=n;return t.eat(",")&&(t.next!="}"?r=Dy(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function GU(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let i in n){let s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function KU(t){if(t.eat("(")){let e=RC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=GU(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function qU(t){let e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function o(s,a){s.forEach(l=>l.to=a)}function i(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=i(s.exprs[l],a);if(l==s.exprs.length-1)return c;o(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),o(i(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return o(i(s.expr,a),l),o(i(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();o(i(s.expr,l),u),l=u}if(s.max==-1)o(i(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),o(i(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function DC(t,e){return e-t}function Iy(t,e){let n=[];return r(e),n.sort(DC);function r(o){let i=t[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let s=0;s<i.length;s++){let{term:a,to:l}=i[s];!a&&n.indexOf(l)==-1&&r(l)}}}function YU(t){let e=Object.create(null);return n(Iy(t,0));function n(r){let o=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<o.length;u++)o[u][0]==a&&(c=o[u][1]);Iy(t,l).forEach(u=>{c||o.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[r.join(",")]=new Qo(r.indexOf(t.length-1)>-1);for(let s=0;s<o.length;s++){let a=o[s][1].sort(DC);i.next.push({type:o[s][0],next:e[a.join(",")]||n(a)})}return i}}function JU(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],i=!o.validEnd,s=[];for(let a=0;a<o.next.length;a++){let{type:l,next:c}=o.next[a];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function IC(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function $C(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let i=t[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function NC(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let i=t[o];i.validate&&i.validate(e[o])}}function _C(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new XU(t,r,e[r]);return n}let $y=class FC{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=_C(e,r.attrs),this.defaultAttrs=IC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:$C(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new qo(this,this.computeAttrs(e),ne.from(n),mt.setFrom(r))}createChecked(e=null,n,r){return n=ne.from(n),this.checkContent(n),new qo(this,this.computeAttrs(e),n,mt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ne.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(ne.empty,!0);return i?new qo(this,e,n.append(i),mt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){NC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:mt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,s)=>r[i]=new FC(i,n,s));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ZU(t,e,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class XU{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ZU(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class qa{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=_C(e,o.attrs),this.excluded=null;let i=IC(this.attrs);this.instance=i?new mt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new mt(this,$C(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((i,s)=>r[i]=new qa(i,o++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){NC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class BC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=an.from(e.nodes),n.marks=an.from(e.marks||{}),this.nodes=$y.compile(this.spec.nodes,this),this.marks=qa.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[s]||(r[s]=Qo.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?Ny(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:Ny(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof $y){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new bc(r,r.defaultAttrs,e,mt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return qo.fromJSON(this,e)}markFromJSON(e){return mt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Ny(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(let a in t.marks){let l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function QU(t){return t.tag!=null}function e7(t){return t.style!=null}let ia=class Kp{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(QU(o))this.tags.push(o);else if(e7(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=e.nodes[o.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Fy(this,n,!1);return r.addAll(e,mt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Fy(this,n,!0);return r.addAll(e,mt.none,n.from,n.to),se.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(r7(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(o){let i=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<i)break}n.splice(s,0,o)}for(let o in e.marks){let i=e.marks[o].spec.parseDOM;i&&i.forEach(s=>{r(s=By(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in e.nodes){let i=e.nodes[o].spec.parseDOM;i&&i.forEach(s=>{r(s=By(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Kp(e,Kp.schemaRules(e)))}};const jC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},t7={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},zC={ol:!0,ul:!0},xc=1,wc=2,sa=4;function _y(t,e,n){return e!=null?(e?xc:0)|(e==="full"?wc:0):t&&t.whitespace=="pre"?xc|wc:n&~sa}class Sl{constructor(e,n,r,o,i,s){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=mt.none,this.match=i||(s&sa?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ne.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&xc)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=ne.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!jC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Fy{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let o=n.topNode,i,s=_y(null,n.preserveWhitespace,0)|(r?sa:0);o?i=new Sl(o.type,o.attrs,mt.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new Sl(null,null,mt.none,!0,null,s):i=new Sl(e.schema.topNodeType,null,mt.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top;if(o.options&wc||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o.options&xc)o.options&wc?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let i=o.content[o.content.length-1],s=e.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=e.nodeName.toLowerCase(),i;zC.hasOwnProperty(o)&&this.parser.normalizeLists&&n7(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,r));if(s?s.ignore:t7.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,l=this.top,c=this.needsBlock;if(jC.hasOwnProperty(o))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let u=s&&s.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,s,a,s.consuming===!1?i:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=r.getPropertyValue(i);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(i,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,o){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r)}i&&this.sync(a)&&this.open--}addAll(e,n,r,o){let i=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,n);this.findAtPoint(e,i)}findPlace(e,n){let r,o;for(let i=this.open;i>=0;i--){let s=this.nodes[i],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,o=s,!a.length)||s.solid)break}if(!r)return null;this.sync(o);for(let i=0;i<r.length;i++)n=this.enterInner(r[i],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let i=mt.none;for(let s of r.concat(e.marks))(o.type?o.type.allowsMarkType(s.type):jy(s.type,e.type))&&(i=s.addToSet(i));return o.content.push(e.mark(i)),!0}return!1}enter(e,n,r,o){let i=this.findPlace(e.create(n),r);return i&&(i=this.enterInner(e,n,r,!0,o)),i}enterInner(e,n,r,o=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=_y(e,i,s.options);s.options&sa&&s.content.length==0&&(a|=sa);let l=mt.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):jy(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Sl(e,n,l,o,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&o?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function n7(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&zC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function r7(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function By(t){let e={};for(let n in t)e[n]=t[n];return e}function jy(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let i=[],s=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&s(u))return!0}};if(s(o.contentMatch))return!0}}class mi{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Dd(n).createDocumentFragment());let o=r,i=[];return e.forEach(s=>{if(i.length||s.marks.length){let a=0,l=0;for(;a<i.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)o=i.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(i.push([c,o]),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=_l(Dd(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let i=this.serializeMark(e.marks[o],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&_l(Dd(r),o(e,n),null,e.attrs)}static renderSpec(e,n,r=null,o){return _l(e,n,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new mi(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=zy(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return zy(e.marks)}}function zy(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Dd(t){return t.document||window.document}const Hy=new WeakMap;function o7(t){let e=Hy.get(t);return e===void 0&&Hy.set(t,e=i7(t)),e}function i7(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(t),e}function _l(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=o7(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let a,l=n?t.createElementNS(n,o):t.createElement(o),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let p=d.indexOf(" ");p>0?l.setAttributeNS(d.slice(0,p),d.slice(p+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let p=e[d];if(p===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:m}=_l(t,p,n,r);if(l.appendChild(f),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const HC=65535,VC=Math.pow(2,16);function s7(t,e){return t+e*VC}function Vy(t){return t&HC}function a7(t){return(t-(t&HC))/VC}const WC=1,UC=2,Fl=4,GC=8;let qp=class{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&GC)>0}get deletedBefore(){return(this.delInfo&(WC|Fl))>0}get deletedAfter(){return(this.delInfo&(UC|Fl))>0}get deletedAcross(){return(this.delInfo&Fl)>0}},ei=class Vi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Vi.empty)return Vi.empty}recover(e){let n=0,r=Vy(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+a7(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+s],d=l+c;if(e<=d){let p=c?e==l?-1:e==d?1:n:n,f=l+o+(p<0?0:u);if(r)return f;let m=e==(n<0?l:d)?null:s7(a/3,e-l),g=e==l?UC:e==d?WC:Fl;return(n<0?e!=l:e!=d)&&(g|=GC),new qp(f,g,m)}o+=u-c}return r?e+o:new qp(e+o,0,null)}touches(e,n){let r=0,o=Vy(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==o*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[o+n],u=this.ranges[o+r];e(a,a+c,l,l+u),i+=u-c}}invert(){return new Vi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Vi.empty:new Vi(e<0?[0,-e,0]:[0,0,e])}};ei.empty=new ei([]);let KC=class Bl{constructor(e=[],n,r=0,o=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=o}slice(e=0,n=this.maps.length){return new Bl(this.maps,this.mirror,e,n)}copy(){return new Bl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new Bl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this.maps[i],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return r?e:new qp(e,o,null)}};const Id=Object.create(null);let gn=class{getMap(){return ei.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Id[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Id)throw new RangeError("Duplicate use of step JSON ID "+e);return Id[e]=n,n.prototype.jsonID=e,n}},wn=class js{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new js(e,null)}static fail(e){return new js(null,e)}static fromReplace(e,n,r,o){try{return js.ok(e.replace(n,r,o))}catch(i){if(i instanceof ls)return js.fail(i.message);throw i}}};function im(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let i=t.child(o);i.content.size&&(i=i.copy(im(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return ne.fromArray(r)}let sm=class zs extends gn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new se(im(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return wn.fromReplace(e,this.from,this.to,i)}invert(){return new Ya(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new zs(n.pos,r.pos,this.mark)}merge(e){return e instanceof zs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new zs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new zs(n.from,n.to,e.markFromJSON(n.mark))}};gn.jsonID("addMark",sm);let Ya=class Hs extends gn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new se(im(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return wn.fromReplace(e,this.from,this.to,r)}invert(){return new sm(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Hs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Hs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Hs(n.from,n.to,e.markFromJSON(n.mark))}};gn.jsonID("removeMark",Ya);let am=class Vs extends gn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return wn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return wn.fromReplace(e,this.pos,this.pos+1,new se(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new Vs(this.pos,n.marks[o]);return new Vs(this.pos,this.mark)}}return new lm(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Vs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Vs(n.pos,e.markFromJSON(n.mark))}};gn.jsonID("addNodeMark",am);let lm=class Yp extends gn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return wn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return wn.fromReplace(e,this.pos,this.pos+1,new se(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new am(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Yp(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Yp(n.pos,e.markFromJSON(n.mark))}};gn.jsonID("removeNodeMark",lm);let Gr=class Io extends gn{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&Jp(e,this.from,this.to)?wn.fail("Structure replace would overwrite content"):wn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ei([this.from,this.to-this.from,this.slice.size])}invert(e){return new Io(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Io(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Io)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Io(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Io(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Io(n.from,n.to,se.fromJSON(e,n.slice),!!n.structure)}};gn.jsonID("replace",Gr);let wr=class jl extends gn{constructor(e,n,r,o,i,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Jp(e,this.from,this.gapFrom)||Jp(e,this.gapTo,this.to)))return wn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return wn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?wn.fromReplace(e,this.from,this.to,r):wn.fail("Content does not fit in gap")}getMap(){return new ei([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new jl(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new jl(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new jl(n.from,n.to,n.gapFrom,n.gapTo,se.fromJSON(e,n.slice),n.insert,!!n.structure)}};gn.jsonID("replaceAround",wr);function Jp(t,e,n){let r=t.resolve(e),o=n-e,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function l7(t,e,n,r){let o=[],i=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let p=Math.max(c,e),f=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(s&&s.to==p&&s.mark.eq(d[g])?s.to=f:o.push(s=new Ya(p,f,d[g])));a&&a.to==p?a.to=f:i.push(a=new sm(p,f,r))}}),o.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function c7(t,e,n,r){let o=[],i=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;i++;let l=null;if(r instanceof qa){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],p;for(let f=0;f<o.length;f++){let m=o[f];m.step==i-1&&d.eq(o[f].style)&&(p=m)}p?(p.to=c,p.step=i):o.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),o.forEach(s=>t.step(new Ya(s.from,s.to,s.style)))}function qC(t,e,n,r=n.contentMatch,o=!0){let i=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new Gr(a,u,se.empty));else{r=d;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||t.step(new Ya(a,u,c.marks[p]));if(o&&c.isText&&n.whitespace!="pre"){let p,f=/\r?\n|\r/g,m;for(;p=f.exec(c.text);)m||(m=new se(ne.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new Gr(a+p.index,a+p.index+p[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(ne.empty,!0);t.replace(a,a,new se(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function u7(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function d7(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!u7(o,i,s))break}return null}function p7(t,e,n){let{$from:r,$to:o,depth:i}=e,s=r.before(i+1),a=o.after(i+1),l=s,c=a,u=ne.empty,d=0;for(let m=i,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=ne.from(r.node(m).copy(u)),d++):l--;let p=ne.empty,f=0;for(let m=i,g=!1;m>n;m--)g||o.after(m+1)<o.end(m)?(g=!0,p=ne.from(o.node(m).copy(p)),f++):c++;t.step(new wr(l,c,s,a,new se(u.append(p),d,f),u.size-d,!0))}function f7(t,e,n=null,r=t){let o=h7(t,e),i=o&&m7(r,e);return i?o.map(Wy).concat({type:e,attrs:n}).concat(i.map(Wy)):null}function Wy(t){return{type:t,attrs:null}}function h7(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function m7(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function g7(t,e,n){let r=ne.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ne.from(n[s].type.create(n[s].attrs,r))}let o=e.start,i=e.end;t.step(new wr(o,i,o,i,new se(r,0,0),n.length,!0))}function v7(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(r,l)&&x7(t.doc,t.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!m?c=!1:!f&&m&&(c=!0)}c===!1&&b7(t,s,a,i),qC(t,t.mapping.slice(i).map(a,1),r,void 0,c===null);let u=t.mapping.slice(i),d=u.map(a,1),p=u.map(a+s.nodeSize,1);return t.step(new wr(d,p,d+1,p-1,new se(ne.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&y7(t,s,a,i),!1}})}function y7(t,e,n,r){e.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let l=t.mapping.slice(r).map(n+1+i+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function b7(t,e,n,r){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function x7(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function w7(t,e,n,r,o){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new wr(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new se(ne.from(s),0,0),1,!0))}function C7(t,e,n=1,r){let o=t.resolve(e),i=o.depth-n,s=o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let l=o.depth-1,c=n-2;l>i;l--,c--){let u=o.node(l),d=o.index(l);if(u.type.spec.isolating)return!1;let p=u.content.cutByIndex(d,u.childCount),f=u;if(!u.canReplace(d+1,u.childCount)||!f.type.validContent(p))return!1}let a=o.indexAfter(i);return o.node(i).canReplaceWith(a,a,o.node(i+1).type)}function S7(t,e,n=1,r){let o=t.doc.resolve(e),i=ne.empty,s=ne.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){i=ne.from(o.node(a).copy(i));let u=r&&r[c];s=ne.from(u?u.type.create(u.attrs,s):o.node(a).copy(s))}t.step(new Gr(e,e,new se(i.append(s),n,n),!0))}function k7(t,e){let n=t.resolve(e),r=n.index();return M7(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function M7(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function E7(t,e,n){let r=new Gr(e-n,e+n,se.empty,!0);t.step(r)}function T7(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function YC(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(i==1)u=c.canReplace(l,l,o);else{let d=c.contentMatchAt(l).findWrapping(o.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function O7(t,e,n=e,r=se.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),i=t.resolve(n);return JC(o,i,r)?new Gr(e,n,r):new L7(o,i,r).fit()}function JC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}let L7=class{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ne.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=ne.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let l=new se(i,s,a);return e>-1?new wr(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Gr(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=$d(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(ne.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=$d(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new se(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=$d(e,n);if(o.childCount<=1&&n>0){let i=e.size-n<=n+o.size;this.unplaced=new se(Ws(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new se(Ws(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:p}=this.frontier[n];if(o){for(let g=0;g<o.childCount;g++)u.push(o.child(g));d=d.matchFragment(o)}let f=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),y=d.matchType(g.type);if(!y)break;c++,(c>1||l==0||g.content.size)&&(d=y,u.push(ZC(g.mark(p.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?f:-1)))}let m=c==a.childCount;m||(f=-1),this.placed=Us(this.placed,n,ne.from(u)),this.frontier[n].match=d,m&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<f;g++){let b=y.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),y=b.content}this.unplaced=m?e==0?se.empty:new se(Ws(s.content,e-1,1),e-1,f<0?s.openEnd:e-1):new se(Ws(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Nd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Nd(e,n,o,r,i);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Nd(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Us(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Us(this.placed,this.depth,ne.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=Us(this.placed,this.frontier.length,n))}};function Ws(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Ws(t.firstChild.content,e-1,n)))}function Us(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Us(t.lastChild.content,e-1,n)))}function $d(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function ZC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,ZC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ne.empty,!0)))),t.copy(r)}function Nd(t,e,n,r,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!A7(n,i.content,s)?a:null}function A7(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function P7(t){return t.spec.defining||t.spec.definingForContent}function R7(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),i=t.doc.resolve(n);if(JC(o,i,r))return t.step(new Gr(e,n,r));let s=QC(o,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let p=o.depth,f=o.pos-1;p>0;p--,f--){let m=o.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(p)>-1?a=p:o.before(p)==f&&s.splice(1,0,-p)}let l=s.indexOf(a),c=[],u=r.openStart;for(let p=r.content,f=0;;f++){let m=p.firstChild;if(c.push(m),f==r.openStart)break;p=m.content}for(let p=u-1;p>=0;p--){let f=c[p],m=P7(f.type);if(m&&!f.sameMarkup(o.node(Math.abs(a)-1)))u=p;else if(m||!f.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let f=(p+u+1)%(r.openStart+1),m=c[f];if(m)for(let g=0;g<s.length;g++){let y=s[(g+l)%s.length],b=!0;y<0&&(b=!1,y=-y);let x=o.node(y-1),C=o.index(y-1);if(x.canReplaceWith(C,C,m.type,m.marks))return t.replace(o.before(y),b?i.after(y):n,new se(XC(r.content,0,r.openStart,f),f,r.openEnd))}}let d=t.steps.length;for(let p=s.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>d));p--){let f=s[p];f<0||(e=o.before(f),n=i.after(f))}}function XC(t,e,n,r,o){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(XC(i.content,e+1,n,r,i)))}if(e>r){let i=o.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(ne.empty,!0))}return t}function D7(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=T7(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new se(ne.from(r),0,0))}function I7(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),i=QC(r,o);for(let s=0;s<i.length;s++){let a=i[s],l=s==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return t.delete(r.before(a),o.after(a))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function QC(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}let eS=class zl extends gn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return wn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return wn.fromReplace(e,this.pos,this.pos+1,new se(ne.from(o),0,n.isLeaf?0:1))}getMap(){return ei.empty}invert(e){return new zl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new zl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new zl(n.pos,n.attr,n.value)}};gn.jsonID("attr",eS);let tS=class Zp extends gn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return wn.ok(r)}getMap(){return ei.empty}invert(e){return new Zp(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Zp(n.attr,n.value)}};gn.jsonID("docAttr",tS);let cs=class extends Error{};cs=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};cs.prototype=Object.create(Error.prototype);cs.prototype.constructor=cs;cs.prototype.name="TransformError";let $7=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new KC}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new cs(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=se.empty){let o=O7(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new se(ne.from(r),0,0))}delete(e,n){return this.replace(e,n,se.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return R7(this,e,n,r),this}replaceRangeWith(e,n,r){return D7(this,e,n,r),this}deleteRange(e,n){return I7(this,e,n),this}lift(e,n){return p7(this,e,n),this}join(e,n=1){return E7(this,e,n),this}wrap(e,n){return g7(this,e,n),this}setBlockType(e,n=e,r,o=null){return v7(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return w7(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new eS(e,n,r)),this}setDocAttribute(e,n){return this.step(new tS(e,n)),this}addNodeMark(e,n){return this.step(new am(e,n)),this}removeNodeMark(e,n){if(!(n instanceof mt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new lm(e,n)),this}split(e,n=1,r){return S7(this,e,n,r),this}addMark(e,n,r){return l7(this,e,n,r),this}removeMark(e,n,r){return c7(this,e,n,r),this}clearIncompatible(e,n,r){return qC(this,e,n,r),this}};const _d=Object.create(null);class Ze{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new N7(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=se.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?se.empty:n),a==0&&Ky(e,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:a}=o[i],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),Ky(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new qe(e):Wi(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let i=e.depth-1;i>=0;i--){let s=n<0?Wi(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Wi(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new yr(e.node(0))}static atStart(e){return Wi(e,e,0,0,1)||new yr(e)}static atEnd(e){return Wi(e,e,e.content.size,e.childCount,-1)||new yr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=_d[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in _d)throw new RangeError("Duplicate use of selection JSON ID "+e);return _d[e]=n,n.prototype.jsonID=e,n}getBookmark(){return qe.between(this.$anchor,this.$head).getBookmark()}}Ze.prototype.visible=!0;class N7{constructor(e,n){this.$from=e,this.$to=n}}let Uy=!1;function Gy(t){!Uy&&!t.parent.inlineContent&&(Uy=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class qe extends Ze{constructor(e,n=e){Gy(e),Gy(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ze.near(r);let o=e.resolve(n.map(this.anchor));return new qe(o.parent.inlineContent?o:r,r)}replace(e,n=se.empty){if(super.replace(e,n),n==se.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof qe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ru(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new qe(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=Ze.findFrom(n,r,!0)||Ze.findFrom(n,-r,!0);if(i)n=i.$head;else return Ze.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(Ze.findFrom(e,-r,!0)||Ze.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new qe(e,n)}}Ze.jsonID("text",qe);class Ru{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ru(e.map(this.anchor),e.map(this.head))}resolve(e){return qe.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ve extends Ze{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=e.resolve(o);return r?Ze.near(i):new Ve(i)}content(){return new se(ne.from(this.node),0,0)}eq(e){return e instanceof Ve&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new cm(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ve(e.resolve(n.anchor))}static create(e,n){return new Ve(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ve.prototype.visible=!1;Ze.jsonID("node",Ve);class cm{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ru(r,r):new cm(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ve.isSelectable(r)?new Ve(n):Ze.near(n)}}class yr extends Ze{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=se.empty){if(n==se.empty){e.delete(0,e.doc.content.size);let r=Ze.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new yr(e)}map(e){return new yr(e)}eq(e){return e instanceof yr}getBookmark(){return _7}}Ze.jsonID("all",yr);const _7={map(){return this},resolve(t){return new yr(t)}};function Wi(t,e,n,r,o,i=!1){if(e.inlineContent)return qe.create(t,n);for(let s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){let a=e.child(s);if(a.isAtom){if(!i&&Ve.isSelectable(a))return Ve.create(t,n-(o<0?a.nodeSize:0))}else{let l=Wi(t,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}return null}function Ky(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof Gr||o instanceof wr))return;let i=t.mapping.maps[r],s;i.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(Ze.near(t.doc.resolve(s),n))}const qy=1,kl=2,Yy=4;class F7 extends $7{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|qy)&~kl,this.storedMarks=null,this}get selectionSet(){return(this.updated&qy)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=kl,this}ensureMarks(e){return mt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&kl)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~kl,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||mt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,i)),this.selection.empty||this.setSelection(Ze.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Yy,this}get scrolledIntoView(){return(this.updated&Yy)>0}}function Jy(t,e){return!e||!t?t:t.bind(e)}class Gs{constructor(e,n,r){this.name=e,this.init=Jy(n.init,r),this.apply=Jy(n.apply,r)}}const B7=[new Gs("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Gs("selection",{init(t,e){return t.selection||Ze.atStart(e.doc)},apply(t){return t.selection}}),new Gs("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Gs("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Fd{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=B7.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Gs(r.key,r.spec.state,r))})}}class Xi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=o?o[s].n:0,c=o?o[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!o){o=[];for(let d=0;d<this.config.plugins.length;d++)o.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Xi(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new F7(this)}static create(e){let n=new Fd(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Xi(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new Fd(this.schema,e.plugins),r=n.fields,o=new Xi(n);for(let i=0;i<r.length;i++){let s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new Fd(e.schema,e.plugins),i=new Xi(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=qo.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=Ze.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[s.name]=c.fromJSON.call(l,e,n[a],i);return}}i[s.name]=s.init(e,i)}}),i}}function nS(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=nS(o,e,{})),n[r]=o}return n}class vn{constructor(e){this.spec=e,this.props={},e.props&&nS(e.props,this,this.props),this.key=e.key?e.key.key:rS("plugin")}getState(e){return e[this.key]}}const Bd=Object.create(null);function rS(t){return t in Bd?t+"$"+ ++Bd[t]:(Bd[t]=0,t+"$")}class Gn{constructor(e="key"){this.key=rS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ln=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},wa=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Xp=null;const Hr=function(t,e,n){let r=Xp||(Xp=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},j7=function(){Xp=null},ti=function(t,e,n,r){return n&&(Zy(t,e,n,r,-1)||Zy(t,e,n,r,1))},z7=/^(img|br|input|textarea|hr)$/i;function Zy(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:sr(t))){let i=t.parentNode;if(!i||i.nodeType!=1||Ja(t)||z7.test(t.nodeName)||t.contentEditable=="false")return!1;e=ln(t)+(o<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(o<0?-1:0)],t.contentEditable=="false")return!1;e=o<0?sr(t):0}else return!1}}function sr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function H7(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=sr(t)}else if(t.parentNode&&!Ja(t))e=ln(t),t=t.parentNode;else return null}}function V7(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ja(t))e=ln(t)+1,t=t.parentNode;else return null}}function W7(t,e,n){for(let r=e==0,o=e==sr(t);r||o;){if(t==n)return!0;let i=ln(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,o=o&&i==sr(t)}}function Ja(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Du=function(t){return t.focusNode&&ti(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function _o(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function U7(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function G7(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(sr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(sr(r.startContainer),r.startOffset)}}}const Rr=typeof navigator<"u"?navigator:null,Xy=typeof document<"u"?document:null,Oo=Rr&&Rr.userAgent||"",Qp=/Edge\/(\d+)/.exec(Oo),oS=/MSIE \d/.exec(Oo),ef=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Oo),An=!!(oS||ef||Qp),go=oS?document.documentMode:ef?+ef[1]:Qp?+Qp[1]:0,br=!An&&/gecko\/(\d+)/i.test(Oo);br&&+(/Firefox\/(\d+)/.exec(Oo)||[0,0])[1];const tf=!An&&/Chrome\/(\d+)/.exec(Oo),mn=!!tf,iS=tf?+tf[1]:0,Sn=!An&&!!Rr&&/Apple Computer/.test(Rr.vendor),us=Sn&&(/Mobile\/\w+/.test(Oo)||!!Rr&&Rr.maxTouchPoints>2),rr=us||(Rr?/Mac/.test(Rr.platform):!1),K7=Rr?/Win/.test(Rr.platform):!1,fr=/Android \d/.test(Oo),Za=!!Xy&&"webkitFontSmoothing"in Xy.documentElement.style,q7=Za?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Y7(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function jr(t,e){return typeof t=="number"?t:t[e]}function J7(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Qy(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=n||t.dom;s;s=wa(s)){if(s.nodeType!=1)continue;let a=s,l=a==i.body,c=l?Y7(i):J7(a),u=0,d=0;if(e.top<c.top+jr(r,"top")?d=-(c.top-e.top+jr(o,"top")):e.bottom>c.bottom-jr(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+jr(o,"top")-c.top:e.bottom-c.bottom+jr(o,"bottom")),e.left<c.left+jr(r,"left")?u=-(c.left-e.left+jr(o,"left")):e.right>c.right-jr(r,"right")&&(u=e.right-c.right+jr(o,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{let p=a.scrollLeft,f=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-p,g=a.scrollTop-f;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function Z7(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let i=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(i,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}return{refDOM:r,refTop:o,stack:sS(t.dom)}}function sS(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=wa(r));return e}function X7({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;aS(n,r==0?0:r-e)}function aS(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:i}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Ci=null;function Q7(t){if(t.setActive)return t.setActive();if(Ci)return t.focus(Ci);let e=sS(t);t.focus(Ci==null?{get preventScroll(){return Ci={preventScroll:!0},!0}}:void 0),Ci||(Ci=!1,aS(e,0))}function lS(t,e){let n,r=2e8,o,i=0,s=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let p;if(u.nodeType==1)p=u.getClientRects();else if(u.nodeType==3)p=Hr(u).getClientRects();else continue;for(let f=0;f<p.length;f++){let m=p[f];if(m.top<=s&&m.bottom>=a){s=Math.max(m.bottom,s),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){n=u,r=g,o=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(i=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=d+1)}}return!n&&l&&(n=l,o=c,r=0),n&&n.nodeType==3?eG(n,o):!n||r&&n.nodeType==1?{node:t,offset:i}:lS(n,o)}function eG(t,e){let n=t.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let i=oo(r,1);if(i.top!=i.bottom&&um(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function um(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function tG(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function nG(t,e,n){let{node:r,offset:o}=lS(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,o,i)}function rG(t,e,n,r){let o=-1;for(let i=e,s=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?o=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(o=a.posAfter),s=!0),!a.contentDOM&&o<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}i=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function cS(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let s=t.childNodes[i];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(um(e,c))return cS(s,e,c)}}if((i=(i+1)%r)==o)break}return t}function oG(t,e){let n=t.dom.ownerDocument,r,o=0,i=G7(n,e.left,e.top);i&&({node:r,offset:o}=i);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!um(e,c)||(s=cS(t.dom,e,c),!s))return null}if(Sn)for(let c=s;r&&c;c=wa(c))c.draggable&&(r=void 0);if(s=tG(s,e),r){if(br&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let u=r.childNodes[o],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&o++}let c;Za&&o&&r.nodeType==1&&(c=r.childNodes[o-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(a=rG(t,r,o,e))}a==null&&(a=nG(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function eb(t){return t.top<t.bottom||t.left<t.right}function oo(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(eb(r))return r}return Array.prototype.find.call(n,eb)||t.getBoundingClientRect()}const iG=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function uS(t,e,n){let{node:r,offset:o,atom:i}=t.docView.domFromPos(e,n<0?-1:1),s=Za||br;if(r.nodeType==3)if(s&&(iG.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=oo(Hr(r,o,o),n);if(br&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let c=oo(Hr(r,o-1,o-1),-1);if(c.top==l.top){let u=oo(Hr(r,o,o+1),-1);if(u.top!=l.top)return Ds(u,u.left<c.left)}}return l}else{let l=o,c=o,u=n<0?1:-1;return n<0&&!o?(c++,u=-1):n>=0&&o==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Ds(oo(Hr(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==sr(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return jd(l.getBoundingClientRect(),!1)}if(i==null&&o<sr(r)){let l=r.childNodes[o];if(l.nodeType==1)return jd(l.getBoundingClientRect(),!0)}return jd(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==sr(r))){let l=r.childNodes[o-1],c=l.nodeType==3?Hr(l,sr(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Ds(oo(c,1),!1)}if(i==null&&o<sr(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Hr(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Ds(oo(c,-1),!0)}return Ds(oo(r.nodeType==3?Hr(r):r,-n),n>=0)}function Ds(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function jd(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function dS(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function sG(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return dS(t,e,()=>{let{node:i}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let s=uS(t,o.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Hr(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const aG=/[\u0590-\u08ac]/;function lG(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=t.domSelection();return a?!aG.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:s:dS(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",n,"character");let f=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),y=m&&!f.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return p!=null&&(a.caretBidiLevel=p),y}):r.pos==r.start()||r.pos==r.end()}let tb=null,nb=null,rb=!1;function cG(t,e,n){return tb==e&&nb==n?rb:(tb=e,nb=n,rb=n=="up"||n=="down"?sG(t,e,n):lG(t,e,n))}const lr=0,ob=1,jo=2,Dr=3;class Xa{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=lr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,s;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>ln(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!n||i.node))if(r&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==e&&i!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<i)return o.descAt(e-r-o.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let s=this.children[r],a=i+s.size;if(a>e||s instanceof fS){o=e-i;break}i=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof pS&&i.side>=0;r--);if(n<=0){let i,s=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?ln(i.dom)+1:0}}else{let i,s=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?ln(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(o==-1&&e<=c){let u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(let d=a;d>0;d--){let p=this.children[d-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){o=ln(p.dom)+1;break}e-=p.size}o==-1&&(o=0)}if(o>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=ln(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let i=Math.min(e,n),s=Math.max(e,n);for(let p=0,f=0;p<this.children.length;p++){let m=this.children[p],g=f+m.size;if(i>f&&s<g)return m.setSelection(e-f-m.border,n-f-m.border,r,o);f=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((br||Sn)&&e==n){let{node:p,offset:f}=a;if(p.nodeType==3){if(u=!!(f&&p.nodeValue[f-1]==`
`),u&&f==p.nodeValue.length)for(let m=p,g;m;m=m.parentNode){if(g=m.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:ln(g)+1});break}let y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let m=p.childNodes[f-1];u=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(br&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let p=c.focusNode.childNodes[c.focusOffset];p&&p.contentEditable=="false"&&(o=!0)}if(!(o||u&&Sn)&&ti(a.node,a.offset,c.anchorNode,c.anchorOffset)&&ti(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let f=a;a=l,l=f}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],s=r+i.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+i.border,l=s-i.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?jo:ob,e==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Dr:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?jo:Dr}r=s}this.dirty=jo}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?jo:ob;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class pS extends Xa{constructor(e,n,r,o){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==lr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class uG extends Xa{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ni extends Xa{constructor(e,n,r,o){super(e,[],r,o),this.mark=n}static create(e,n,r,o){let i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return(!s||!s.dom)&&(s=mi.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new ni(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Dr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Dr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=lr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=lr}}slice(e,n,r){let o=ni.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=rf(i,n,s,r)),e>0&&(i=rf(i,0,e,r));for(let a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o}}class vo extends Xa{constructor(e,n,r,o,i,s,a,l,c){super(e,[],i,s),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=a}static create(e,n,r,o,i,s){let a=i.nodeViews[n.type.name],l,c=a&&a(n,i,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,o),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=mi.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let p=u;return u=gS(u,r,n),c?l=new dG(e,n,r,o,u,d||null,p,c,i,s+1):n.isText?new Iu(e,n,r,o,u,p,i):new vo(e,n,r,o,u,d||null,p,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,n,r){return this.dirty==lr&&e.eq(this.node)&&Cc(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,i=e.composing?this.localCompositionInfo(e,n):null,s=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new fG(this,s&&s.node,e);gG(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?mt.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,o)},(c,u,d,p)=>{l.syncToMarks(c.marks,r,e);let f;l.findNodeMatch(c,u,d,p)||a&&e.state.selection.from>o&&e.state.selection.to<o+c.nodeSize&&(f=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,d,f,e)||l.updateNextNode(c,u,d,e,p,o)||l.addNode(c,u,d,e,o),o+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==jo)&&(s&&this.protectLocalComposition(e,s),hS(this.contentDOM,this.children,e),us&&vG(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof qe)||r<n||o>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,a=yG(this.node.content,s,r-n,o-n);return a<0?null:{node:i,pos:a,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new uG(this,i,n,o);e.input.compositionNodes.push(s),this.children=rf(this.children,r,r+o.length,e,s)}update(e,n,r,o){return this.dirty==Dr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=lr}updateOuterDeco(e){if(Cc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=mS(this.dom,this.nodeDOM,nf(this.outerDeco,this.node,n),nf(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ib(t,e,n,r,o){gS(r,e,t);let i=new vo(void 0,t,e,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class Iu extends vo{constructor(e,n,r,o,i,s,a){super(e,n,r,o,i,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==Dr||this.dirty!=lr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=lr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=lr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),i=document.createTextNode(o.text);return new Iu(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Dr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class fS extends Xa{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==lr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class dG extends vo{constructor(e,n,r,o,i,s,a,l,c,u){super(e,n,r,o,i,s,a,c,u),this.spec=l}update(e,n,r,o){if(this.dirty==Dr)return!1;if(this.spec.update){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,o),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function hS(t,e,n){let r=t.firstChild,o=!1;for(let i=0;i<e.length;i++){let s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=sb(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(s instanceof ni){let l=r?r.previousSibling:t.lastChild;hS(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=sb(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const aa=function(t){t&&(this.nodeName=t)};aa.prototype=Object.create(null);const zo=[new aa];function nf(t,e,n){if(t.length==0)return zo;let r=n?zo[0]:new aa,o=[r];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(s){s.nodeName&&o.push(r=new aa(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&o.length==1&&o.push(r=new aa(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function mS(t,e,n,r){if(n==zo&&r==zo)return e;let o=e;for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(i){let l;a&&a.nodeName==s.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=zo[0]),o=l}pG(o,a||zo[0],s)}return o}function pG(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&t.classList.add(o[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function gS(t,e,n){return mS(t,t,zo,nf(e,n,t.nodeType!=1))}function Cc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function sb(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class fG{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=hG(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let o=0,i=this.stack.length>>1,s=Math.min(i,e.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=lr,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=ni.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))i=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,o,i){let s=this.top.children[o];return s.dirty==Dr&&s.dom==s.contentDOM&&(s.dirty=jo),s.update(e,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,i,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof vo){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,d,p=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Dr&&Cc(n,l.outerDeco));if(!p&&l.update(e,n,r,o))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!p&&(d=this.recreateWrapper(l,e,n,r,o,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=jo,d.updateChildren(o,s+1),d.dirty=lr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,i,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Cc(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let a=vo.create(this.top,n,r,o,i,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,o,i){let s=vo.create(this.top,e,n,r,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new pS(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ni;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Iu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Sn||mn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new fS(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function hG(t,e){let n=e,r=n.children.length,o=t.childCount,i=new Map,s=[];e:for(;o>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof ni)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function mG(t,e){return t.type.side-e.type.side}function gG(t,e,n,r){let o=e.locals(t),i=0;if(o.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,o,e.forChild(i,u),c),i+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<o.length&&o[s].to==i;){let y=o[s++];y.widget&&(u?(d||(d=[u])).push(y):u=y)}if(u)if(d){d.sort(mG);for(let y=0;y<d.length;y++)n(d[y],c,!!l)}else n(u,c,!!l);let p,f;if(l)f=-1,p=l,l=null;else if(c<t.childCount)f=c,p=t.child(c++);else break;for(let y=0;y<a.length;y++)a[y].to<=i&&a.splice(y--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);let m=i+p.nodeSize;if(p.isText){let y=m;s<o.length&&o[s].from<y&&(y=o[s].from);for(let b=0;b<a.length;b++)a[b].to<y&&(y=a[b].to);y<m&&(l=p.cut(y-i),p=p.cut(0,y-i),m=y,f=-1)}else for(;s<o.length&&o[s].to<m;)s++;let g=p.isInline&&!p.isLeaf?a.filter(y=>!y.inline):a.slice();r(p,g,e.forChild(i,p),f),i=m}}function vG(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function yG(t,e,n,r){for(let o=0,i=0;o<t.childCount&&i<=r;){let s=t.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<t.childCount;){let c=t.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function rf(t,e,n,r,o){let i=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function dm(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(Du(n)){for(l=s;o&&!o.node;)o=o.parent;let d=o.node;if(o&&d.isAtom&&Ve.isSelectable(d)&&o.parent&&!(d.isInline&&W7(n.focusNode,n.focusOffset,o.dom))){let p=o.posBefore;c=new Ve(s==p?a:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,p=s;for(let f=0;f<n.rangeCount;f++){let m=n.getRangeAt(f);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,s]=p==t.state.selection.anchor?[p,d]:[d,p],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=pm(t,u,a,d)}return c}function vS(t){return t.editable?t.hasFocus():bS(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Wr(t,e=!1){let n=t.state.selection;if(yS(t,n),!!vS(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&mn){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&ti(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)xG(t);else{let{anchor:r,head:o}=n,i,s;ab&&!(n instanceof qe)&&(n.$from.parent.inlineContent||(i=lb(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=lb(t,n.to))),t.docView.setSelection(r,o,t.root,e),ab&&(i&&cb(i),s&&cb(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&bG(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ab=Sn||mn&&iS<63;function lb(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Sn&&o&&o.contentEditable=="false")return zd(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return zd(o);if(i)return zd(i)}}function zd(t){return t.contentEditable="true",Sn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function cb(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function bG(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!vS(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function xG(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setStart(r.parentNode,ln(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&An&&go<=11&&(r.disabled=!0,r.disabled=!1)}function yS(t,e){if(e instanceof Ve){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(ub(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ub(t)}function ub(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function pm(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||qe.between(e,n,r)}function db(t){return t.editable&&!t.hasFocus()?!1:bS(t)}function bS(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function wG(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ti(e.node,e.offset,n.anchorNode,n.anchorOffset)}function of(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return i&&Ze.findFrom(i,e)}function ao(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function pb(t,e,n){let r=t.state.selection;if(r instanceof qe)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(o.pos+i.nodeSize*(e<0?-1:1));return ao(t,new qe(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=of(t.state,e);return o&&o instanceof Ve?ao(t,o):!1}else if(!(rr&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let a=e<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?Ve.isSelectable(i)?ao(t,new Ve(e<0?t.state.doc.resolve(o.pos-i.nodeSize):o)):Za?ao(t,new qe(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ve&&r.node.isInline)return ao(t,new qe(e>0?r.$to:r.$from));{let o=of(t.state,e);return o?ao(t,o):!1}}}function Sc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function la(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Si(t,e){return e<0?CG(t):SG(t)}function CG(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,i,s=!1;for(br&&n.nodeType==1&&r<Sc(n)&&la(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(la(a,-1))o=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(xS(n))break;{let a=n.previousSibling;for(;a&&la(a,-1);)o=n.parentNode,i=ln(a),a=a.previousSibling;if(a)n=a,r=Sc(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?sf(t,n,r):o&&sf(t,o,i)}function SG(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=Sc(n),i,s;for(;;)if(r<o){if(n.nodeType!=1)break;let a=n.childNodes[r];if(la(a,1))i=n,s=++r;else break}else{if(xS(n))break;{let a=n.nextSibling;for(;a&&la(a,1);)i=a.parentNode,s=ln(a)+1,a=a.nextSibling;if(a)n=a,r=0,o=Sc(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}i&&sf(t,i,s)}function xS(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function kG(t,e){for(;t&&e==t.childNodes.length&&!Ja(t);)e=ln(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function MG(t,e){for(;t&&!e&&!Ja(t);)e=ln(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function sf(t,e,n){if(e.nodeType!=3){let i,s;(s=kG(e,n))?(e=s,n=0):(i=MG(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Du(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&Wr(t)},50)}function fb(t,e){let n=t.state.doc.resolve(e);if(!(mn||K7)&&n.parent.inlineContent){let o=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function hb(t,e,n){let r=t.state.selection;if(r instanceof qe&&!r.empty||n.indexOf("s")>-1||rr&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=of(t.state,e);if(s&&s instanceof Ve)return ao(t,s)}if(!o.parent.inlineContent){let s=e<0?o:i,a=r instanceof yr?Ze.near(s,e):Ze.findFrom(s,e);return a?ao(t,a):!1}return!1}function mb(t,e){if(!(t.state.selection instanceof qe))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=t.state.tr;return e<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),t.dispatch(s),!0}return!1}function gb(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function EG(t){if(!Sn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;gb(t,r,"true"),setTimeout(()=>gb(t,r,"false"),20)}return!1}function TG(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function OG(t,e){let n=e.keyCode,r=TG(e);if(n==8||rr&&n==72&&r=="c")return mb(t,-1)||Si(t,-1);if(n==46&&!e.shiftKey||rr&&n==68&&r=="c")return mb(t,1)||Si(t,1);if(n==13||n==27)return!0;if(n==37||rr&&n==66&&r=="c"){let o=n==37?fb(t,t.state.selection.from)=="ltr"?-1:1:-1;return pb(t,o,r)||Si(t,o)}else if(n==39||rr&&n==70&&r=="c"){let o=n==39?fb(t,t.state.selection.from)=="ltr"?1:-1:1;return pb(t,o,r)||Si(t,o)}else{if(n==38||rr&&n==80&&r=="c")return hb(t,-1,r)||Si(t,-1);if(n==40||rr&&n==78&&r=="c")return EG(t)||hb(t,1,r)||Si(t,1);if(r==(rr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function wS(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let n=[],{content:r,openStart:o,openEnd:i}=e;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let f=r.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let s=t.someProp("clipboardSerializer")||mi.fromSchema(t.state.schema),a=TS(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=ES[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let m=a.createElement(u[f]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${o} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function CS(t,e,n,r,o){let i=o.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||i||!n);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,i||r,t)}),i)return e?new se(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):se.empty;let d=t.someProp("clipboardTextParser",p=>p(e,o,r,t));if(d)a=d;else{let p=o.marks(),{schema:f}=t.state,m=mi.fromSchema(f);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=s.appendChild(document.createElement("p"));g&&y.appendChild(m.serializeNode(f.text(g,p)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=RG(n),Za&&DG(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let p=s.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;s=p}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||ia.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:o,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!LG.test(p.parentNode.nodeName)?{ignore:!0}:null}})),u)a=IG(vb(a,+u[1],+u[2]),u[4]);else if(a=se.maxOpen(AG(a.content,o),!0),a.openStart||a.openEnd){let d=0,p=0;for(let f=a.content.firstChild;d<a.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=a.content.lastChild;p<a.openEnd&&!f.type.spec.isolating;p++,f=f.lastChild);a=vb(a,d,p)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const LG=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function AG(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),i,s=[];if(t.forEach(a=>{if(!s)return;let l=o.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&i.length&&kS(l,i,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=MS(s[s.length-1],i.length));let u=SS(a,l);s.push(u),o=o.matchType(u.type),i=l}}),s)return ne.from(s)}return t}function SS(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ne.from(t));return t}function kS(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let i=kS(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(ne.from(SS(n,t,o+1))))}}function MS(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,MS(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(n.append(r))}function af(t,e,n,r,o,i){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(i=0),o<r-1&&(a=af(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function vb(t,e,n){return e<t.openStart&&(t=new se(af(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new se(af(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ES={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let yb=null;function TS(){return yb||(yb=document.implementation.createHTMLDocument("title"))}function PG(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function RG(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=TS().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&ES[r[1].toLowerCase()])&&(t=o.map(i=>"<"+i+">").join("")+t+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=PG(t),o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function DG(t){let e=t.querySelectorAll(mn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function IG(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:i,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=ne.from(l.create(r[a+1],o)),i++,s++}return new se(o,i,s)}const kn={},Mn={},$G={touchstart:!0,touchmove:!0};class NG{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function _G(t){for(let e in kn){let n=kn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{BG(t,r)&&!fm(t,r)&&(t.editable||!(r.type in Mn))&&n(t,r)},$G[e]?{passive:!0}:void 0)}Sn&&t.dom.addEventListener("input",()=>null),lf(t)}function fo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function FG(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function lf(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>fm(t,r))})}function fm(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function BG(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function jG(t,e){!fm(t,e)&&kn[e.type]&&(t.editable||!(e.type in Mn))&&kn[e.type](t,e)}Mn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!LS(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(fr&&mn&&n.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():n.keyCode!=229&&t.domObserver.forceFlush(),us&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,_o(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||OG(t,n)?n.preventDefault():fo(t,"key")};Mn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Mn.keypress=(t,e)=>{let n=e;if(LS(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||rr&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof qe)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,o))&&t.dispatch(t.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function $u(t){return{left:t.clientX,top:t.clientY}}function zG(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function hm(t,e,n,r,o){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,a=>s>i.depth?a(t,n,i.nodeAfter,i.before(s),o,!0):a(t,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function rs(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function HG(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ve.isSelectable(r)?(rs(t,new Ve(n)),!0):!1}function VG(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof Ve&&(r=n.node);let i=t.state.doc.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s);if(Ve.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?(rs(t,Ve.create(t.state.doc,o)),!0):!1}function WG(t,e,n,r,o){return hm(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(o?VG(t,n):HG(t,n))}function UG(t,e,n,r){return hm(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function GG(t,e,n,r){return hm(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||KG(t,n,r)}function KG(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(rs(t,qe.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)rs(t,qe.create(r,a+1,a+1+s.content.size));else if(Ve.isSelectable(s))rs(t,Ve.create(r,a));else continue;return!0}}function mm(t){return kc(t)}const OS=rr?"metaKey":"ctrlKey";kn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=mm(t),o=Date.now(),i="singleClick";o-t.input.lastClick.time<500&&zG(n,t.input.lastClick)&&!n[OS]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let s=t.posAtCoords($u(n));s&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new qG(t,s,n,!!r)):(i=="doubleClick"?UG:GG)(t,s.pos,s.inside,n)?n.preventDefault():fo(t,"pointer"))};class qG{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[OS],this.allowDefault=r.shiftKey;let i,s;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);i=u.parent,s=u.depth?u.before():0}const a=o?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof Ve&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&br&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Wr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords($u(e))),this.updateAllowDefault(e),this.allowDefault||!n?fo(this.view,"pointer"):WG(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Sn&&this.mightDrag&&!this.mightDrag.node.isAtom||mn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(rs(this.view,Ze.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):fo(this.view,"pointer")}move(e){this.updateAllowDefault(e),fo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}kn.touchstart=t=>{t.input.lastTouch=Date.now(),mm(t),fo(t,"pointer")};kn.touchmove=t=>{t.input.lastTouch=Date.now(),fo(t,"pointer")};kn.contextmenu=t=>mm(t);function LS(t,e){return t.composing?!0:Sn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const YG=fr?5e3:-1;Mn.compositionstart=Mn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof qe&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),kc(t,!0),t.markCursor=null;else if(kc(t,!e.selection.empty),br&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else o=s,i=-1}}t.input.composing=!0}AS(t,YG)};Mn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,AS(t,20))};function AS(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>kc(t),e))}function PS(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=ZG());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function JG(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=H7(e.focusNode,e.focusOffset),r=V7(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function ZG(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function kc(t,e=!1){if(!(fr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),PS(t),e||t.docView&&t.docView.dirty){let n=dm(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function XG(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ca=An&&go<15||us&&q7<604;kn.copy=Mn.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let i=Ca?null:n.clipboardData,s=r.content(),{dom:a,text:l}=wS(t,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):XG(t,a),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function QG(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function eK(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Sa(t,r.value,null,o,e):Sa(t,r.textContent,r.innerHTML,o,e)},50)}function Sa(t,e,n,r,o){let i=CS(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,o,i||se.empty)))return!0;if(!i)return!1;let s=QG(i),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function RS(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Mn.paste=(t,e)=>{let n=e;if(t.composing&&!fr)return;let r=Ca?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Sa(t,RS(r),r.getData("text/html"),o,n)?n.preventDefault():eK(t,n)};class DS{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const IS=rr?"altKey":"ctrlKey";kn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,i=o.empty?null:t.posAtCoords($u(n)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof Ve?o.to-1:o.to))){if(r&&r.mightDrag)s=Ve.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=Ve.create(t.state.doc,d.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:c,slice:u}=wS(t,a);(!n.dataTransfer.files.length||!mn||iS>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ca?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ca||n.dataTransfer.setData("text/plain",c),t.dragging=new DS(u,!n[IS],s)};kn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Mn.dragover=Mn.dragenter=(t,e)=>e.preventDefault();Mn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let o=t.posAtCoords($u(n));if(!o)return;let i=t.state.doc.resolve(o.pos),s=r&&r.slice;s?t.someProp("transformPasted",m=>{s=m(s,t)}):s=CS(t,RS(n.dataTransfer),Ca?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&!n[IS]);if(t.someProp("handleDrop",m=>m(t,n,s||se.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?YC(t.state.doc,i.pos,s):i.pos;l==null&&(l=i.pos);let c=t.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,p=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(p))return;let f=c.doc.resolve(u);if(d&&Ve.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Ve(f));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,y,b,x)=>m=x),c.setSelection(pm(t,f,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};kn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Wr(t)},20))};kn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};kn.beforeinput=(t,e)=>{if(mn&&fr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,_o(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in Mn)kn[t]=Mn[t];function ka(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Mc{constructor(e,n){this.toDOM=e,this.spec=n||Yo,this.side=this.spec.side||0}map(e,n,r,o){let{pos:i,deleted:s}=e.mapResult(n.from+o,this.side<0?-1:1);return s?null:new vr(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Mc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ka(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class yo{constructor(e,n){this.attrs=e,this.spec=n||Yo}map(e,n,r,o){let i=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new vr(i,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof yo&&ka(this.attrs,e.attrs)&&ka(this.spec,e.spec)}static is(e){return e.type instanceof yo}destroy(){}}class gm{constructor(e,n){this.attrs=e,this.spec=n||Yo}map(e,n,r,o){let i=e.mapResult(n.from+o,1);if(i.deleted)return null;let s=e.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new vr(i.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),i;return o==n.from&&!(i=e.child(r)).isText&&o+i.nodeSize==n.to}eq(e){return this==e||e instanceof gm&&ka(this.attrs,e.attrs)&&ka(this.spec,e.spec)}destroy(){}}class vr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new vr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new vr(e,e,new Mc(n,r))}static inline(e,n,r,o){return new vr(e,n,new yo(r,o))}static node(e,n,r,o){return new vr(e,n,new gm(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof yo}get widget(){return this.type instanceof Mc}}const Ui=[],Yo={};class tn{constructor(e,n){this.local=e.length?e:Ui,this.children=n.length?n:Ui}static create(e,n){return n.length?Ec(n,e,0,Yo):hn}find(e,n,r){let o=[];return this.findInner(e??0,n??1e9,o,0,r),o}findInner(e,n,r,o,i){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,o+a,i)}}map(e,n,r){return this==hn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Yo)}mapInner(e,n,r,o,i){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,o);l&&l.type.valid(n,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?tK(this.children,s||[],e,n,r,o,i):s?new tn(s.sort(Jo),Ui):hn}add(e,n){return n.length?this==hn?tn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,i=0;e.forEach((a,l)=>{let c=l+r,u;if(u=NS(n,a,c)){for(o||(o=this.children.slice());i<o.length&&o[i]<l;)i+=3;o[i]==l?o[i+2]=o[i+2].addInner(a,u,c+1):o.splice(i,0,l,l+a.nodeSize,Ec(u,a,c+1,Yo)),i+=3}});let s=$S(i?_S(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new tn(s.length?this.local.concat(s).sort(Jo):this.local,o||this.children)}remove(e){return e.length==0||this==hn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let s,a=r[i]+n,l=r[i+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(s,a+1);c!=hn?r[i+2]=c:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<e.length;i++)if(s=e[i])for(let a=0;a<o.length;a++)o[a].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new tn(o,r):hn}forChild(e,n){if(this==hn)return this;if(n.isLeaf)return tn.empty;let r,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let i=e+1,s=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>i&&l.type instanceof yo){let c=Math.max(i,l.from)-i,u=Math.min(s,l.to)-i;c<u&&(o||(o=[])).push(l.copy(c,u))}}if(o){let a=new tn(o.sort(Jo),Ui);return r?new uo([a,r]):a}return r||hn}eq(e){if(this==e)return!0;if(!(e instanceof tn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return vm(this.localsInner(e))}localsInner(e){if(this==hn)return Ui;if(e.inlineContent||!this.local.some(yo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof yo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}tn.empty=new tn([],[]);tn.removeOverlap=vm;const hn=tn.empty;class uo{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,Yo));return uo.from(r)}forChild(e,n){if(n.isLeaf)return tn.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(e,n);i!=hn&&(i instanceof uo?r=r.concat(i.members):r.push(i))}return uo.from(r)}eq(e){if(!(e instanceof uo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?vm(r?n:n.sort(Jo)):Ui}static from(e){switch(e.length){case 0:return hn;case 1:return e[0];default:return new uo(e.every(n=>n instanceof tn)?e:e.reduce((n,r)=>n.concat(r instanceof tn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function tK(t,e,n,r,o,i,s){let a=t.slice();for(let c=0,u=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((p,f,m,g)=>{let y=g-m-(f-p);for(let b=0;b<a.length;b+=3){let x=a[b+1];if(x<0||p>x+u-d)continue;let C=a[b]+u-d;f>=C?a[b+1]=p<=C?-2:-1:p>=u&&y&&(a[b]+=y,a[b+1]+=y)}d+=y}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+i),d=u-o;if(d<0||d>=r.content.size){l=!0;continue}let p=n.map(t[c+1]+i,-1),f=p-o,{index:m,offset:g}=r.content.findIndex(d),y=r.maybeChild(m);if(y&&g==d&&g+y.nodeSize==f){let b=a[c+2].mapInner(n,y,u+1,t[c]+i+1,s);b!=hn?(a[c]=d,a[c+1]=f,a[c+2]=b):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=nK(a,t,e,n,o,i,s),u=Ec(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,p=0;d<u.children.length;d+=3){let f=u.children[d];for(;p<a.length&&a[p]<f;)p+=3;a.splice(p,0,u.children[d],u.children[d+1],u.children[d+2])}}return new tn(e.sort(Jo),a)}function $S(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new vr(o.from+e,o.to+e,o.type))}return n}function nK(t,e,n,r,o,i,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,o,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function NS(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let i=0,s;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function _S(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ec(t,e,n,r){let o=[],i=!1;e.forEach((a,l)=>{let c=NS(t,a,l+n);if(c){i=!0;let u=Ec(c,a,n+l+1,r);u!=hn&&o.push(l,l+a.nodeSize,u)}});let s=$S(i?_S(t):t,-n).sort(Jo);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new tn(s,o):hn}function Jo(t,e){return t.from-e.from||t.to-e.to}function vm(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let i=e[o];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),bb(e,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),bb(e,o,r.copy(i.from,r.to)));break}}}return e}function bb(t,e,n){for(;e<t.length&&Jo(n,t[e])>0;)e++;t.splice(e,0,n)}function Hd(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=hn&&e.push(r)}),t.cursorWrapper&&e.push(tn.create(t.state.doc,[t.cursorWrapper.deco])),uo.from(e)}const rK={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},oK=An&&go<=11;class iK{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class sK{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new iK,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);An&&go<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),oK&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,rK)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(db(this.view)){if(this.suppressingSelectionUpdates)return Wr(this.view);if(An&&go<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ti(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=wa(i))n.add(i);for(let i=e.anchorNode;i;i=wa(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&db(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=this.selectionChanged(r),i=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(i=i<0?d.from:Math.min(d.from,i),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(br&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,p]=u;d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let p of u){let f=p.parentNode;f&&f.nodeName=="LI"&&(!d||cK(e,d)!=f)&&p.remove()}}}let c=null;i<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Du(r)&&(c=dm(e))&&c.eq(Ze.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Wr(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||o)&&(i>-1&&(e.docView.markDirty(i,s),aK(e)),this.handleDOMChange(i,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Wr(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,i=e.nextSibling;if(An&&go<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:p}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let s=o&&o.parentNode==e.target?ln(o)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=i&&i.parentNode==e.target?ln(i):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let xb=new WeakMap,wb=!1;function aK(t){if(!xb.has(t)&&(xb.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=br,wb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),wb=!0}}function Cb(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return ti(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function lK(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return Cb(t,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Cb(t,n):null}function cK(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function uK(t,e,n){let{node:r,fromOffset:o,toOffset:i,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Du(l)||c.push({node:l.focusNode,offset:l.focusOffset})),mn&&t.input.lastKeyCode===8)for(let y=i;y>o;y--){let b=r.childNodes[y-1],x=b.pmViewDesc;if(b.nodeName=="BR"&&!x){i=y;break}if(!x||x.size)break}let d=t.state.doc,p=t.someProp("domParser")||ia.fromSchema(t.state.schema),f=d.resolve(s),m=null,g=p.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:o,to:i,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:dK,context:f});if(c&&c[0].pos!=null){let y=c[0].pos,b=c[1]&&c[1].pos;b==null&&(b=y),m={anchor:y+s,head:b+s}}return{doc:g,sel:m,from:s,to:a}}function dK(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Sn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Sn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const pK=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function fK(t,e,n,r,o){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let D=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,P=dm(t,D);if(P&&!t.state.selection.eq(P)){if(mn&&fr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",N=>N(t,_o(13,"Enter"))))return;let U=t.state.tr.setSelection(P);D=="pointer"?U.setMeta("pointer",!0):D=="key"&&U.scrollIntoView(),i&&U.setMeta("composition",i),t.dispatch(U)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=uK(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),p,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,f="end"):(p=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let m=gK(d.content,c.doc.content,c.from,p,f);if(m&&t.input.domChangeCount++,(us&&t.input.lastIOSEnter>Date.now()-225||fr)&&o.some(D=>D.nodeType==1&&!pK.test(D.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",D=>D(t,_o(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof qe&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let D=Sb(t,t.state.doc,c.sel);if(D&&!D.eq(t.state.selection)){let P=t.state.tr.setSelection(D);i&&P.setMeta("composition",i),t.dispatch(P)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof qe&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),An&&go<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),y=c.doc.resolveNoCache(m.endB-c.from),b=u.resolve(m.start),x=g.sameParent(y)&&g.parent.inlineContent&&b.end()>=m.endA,C;if((us&&t.input.lastIOSEnter>Date.now()-225&&(!x||o.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!x&&g.pos<c.doc.content.size&&!g.sameParent(y)&&(C=Ze.findFrom(c.doc.resolve(g.pos+1),1,!0))&&C.head==y.pos)&&t.someProp("handleKeyDown",D=>D(t,_o(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&mK(u,m.start,m.endA,g,y)&&t.someProp("handleKeyDown",D=>D(t,_o(8,"Backspace")))){fr&&mn&&t.domObserver.suppressSelectionUpdates();return}mn&&fr&&m.endB==m.start&&(t.input.lastAndroidDelete=Date.now()),fr&&!x&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,y=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(D){return D(t,_o(13,"Enter"))})},20));let E=m.start,k=m.endA,w,M,T;if(x){if(g.pos==y.pos)An&&go<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Wr(t),20)),w=t.state.tr.delete(E,k),M=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(T=hK(g.parent.content.cut(g.parentOffset,y.parentOffset),b.parent.content.cut(b.parentOffset,m.endA-b.start()))))w=t.state.tr,T.type=="add"?w.addMark(E,k,T.mark):w.removeMark(E,k,T.mark);else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let D=g.parent.textBetween(g.parentOffset,y.parentOffset);if(t.someProp("handleTextInput",P=>P(t,E,k,D)))return;w=t.state.tr.insertText(D,E,k)}}if(w||(w=t.state.tr.replace(E,k,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let D=Sb(t,w.doc,c.sel);D&&!(mn&&fr&&t.composing&&D.empty&&(m.start!=m.endB||t.input.lastAndroidDelete<Date.now()-100)&&(D.head==E||D.head==w.mapping.map(k)-1)||An&&D.empty&&D.head==E)&&w.setSelection(D)}M&&w.ensureMarks(M),i&&w.setMeta("composition",i),t.dispatch(w.scrollIntoView())}function Sb(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:pm(t,e.resolve(n.anchor),e.resolve(n.head))}function hK(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,i=r,s,a,l;for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(o.length==1&&i.length==0)a=o[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(o.length==0&&i.length==1)a=i[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(ne.from(c).eq(t))return{mark:a,type:s}}function mK(t,e,n,r,o){if(n-e<=o.pos-r.pos||Vd(r,!0,!1)<o.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(Vd(i,!0,!0));return!s.parent.isTextblock||s.pos>n||Vd(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Vd(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function gK(t,e,n,r,o){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let l=Math.max(0,i-Math.min(s,a));r-=s+l-i}if(s<i&&t.size<e.size){let l=r<=i&&r>=s?i-r:0;i-=l,i&&i<e.size&&kb(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-s),s=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<t.size&&kb(t.textBetween(i-1,i+1))&&(i+=l?1:-1),s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}function kb(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class vK{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new NG,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Lb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Tb(this),Eb(this),this.nodeViews=Ob(this),this.docView=ib(this.state.doc,Mb(this),Hd(this),this.dom,this),this.domObserver=new sK(this,(r,o,i,s)=>fK(this,r,o,i,s)),this.domObserver.start(),_G(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&lf(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Lb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let o=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(PS(this),s=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=Ob(this);bK(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&lf(this),this.editable=Tb(this),Eb(this);let l=Hd(this),c=Mb(this),u=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(o.selection))&&(s=!0);let p=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Z7(this);if(s){this.domObserver.stop();let f=d&&(An||mn)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&yK(o.selection,e.selection);if(d){let m=mn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=JG(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=ib(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&wG(this))?Wr(this,f):(yS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():p&&X7(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ve){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Qy(this,n.getBoundingClientRect(),e)}else Qy(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new DS(e.slice,e.move,o<0?void 0:Ve.create(this.state.doc,o))}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(o=n?n(a):a))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let a=i[s].props[e];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(An){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Q7(this.dom),Wr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return oG(this,e)}coordsAtPos(e,n=1){return uS(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return cG(this,n||this.state,e)}pasteHTML(e,n){return Sa(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Sa(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(FG(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,j7())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return jG(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Sn&&this.root.nodeType===11&&U7(this.dom.ownerDocument)==this.dom&&lK(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Mb(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[vr.node(0,t.state.doc.content.size,e)]}function Eb(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:vr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Tb(t){return!t.someProp("editable",e=>e(t.state)===!1)}function yK(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Ob(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function bK(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function Lb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var So={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Tc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},xK=typeof navigator<"u"&&/Mac/.test(navigator.platform),wK=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var cn=0;cn<10;cn++)So[48+cn]=So[96+cn]=String(cn);for(var cn=1;cn<=24;cn++)So[cn+111]="F"+cn;for(var cn=65;cn<=90;cn++)So[cn]=String.fromCharCode(cn+32),Tc[cn]=String.fromCharCode(cn);for(var Wd in So)Tc.hasOwnProperty(Wd)||(Tc[Wd]=So[Wd]);function CK(t){var e=xK&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||wK&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Tc:So)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const SK=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function kK(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))SK?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function MK(t){let e=Object.create(null);for(let n in t)e[kK(n)]=t[n];return e}function Ud(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function EK(t){return new vn({props:{handleKeyDown:TK(t)}})}function TK(t){let e=MK(t);return function(n,r){let o=CK(r),i,s=e[Ud(o,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let a=e[Ud(o,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(i=So[r.keyCode])&&i!=o){let a=e[Ud(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const FS=65535,BS=Math.pow(2,16);function OK(t,e){return t+e*BS}function Ab(t){return t&FS}function LK(t){return(t-(t&FS))/BS}const jS=1,zS=2,Hl=4,HS=8;let cf=class{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&HS)>0}get deletedBefore(){return(this.delInfo&(jS|Hl))>0}get deletedAfter(){return(this.delInfo&(zS|Hl))>0}get deletedAcross(){return(this.delInfo&Hl)>0}},ri=class Gi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Gi.empty)return Gi.empty}recover(e){let n=0,r=Ab(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+LK(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+s],d=l+c;if(e<=d){let p=c?e==l?-1:e==d?1:n:n,f=l+o+(p<0?0:u);if(r)return f;let m=e==(n<0?l:d)?null:OK(a/3,e-l),g=e==l?zS:e==d?jS:Hl;return(n<0?e!=l:e!=d)&&(g|=HS),new cf(f,g,m)}o+=u-c}return r?e+o:new cf(e+o,0,null)}touches(e,n){let r=0,o=Ab(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==o*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[o+n],u=this.ranges[o+r];e(a,a+c,l,l+u),i+=u-c}}invert(){return new Gi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Gi.empty:new Gi(e<0?[0,-e,0]:[0,0,e])}};ri.empty=new ri([]);class ca{constructor(e=[],n,r=0,o=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=o}slice(e=0,n=this.maps.length){return new ca(this.maps,this.mirror,e,n)}copy(){return new ca(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new ca;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this.maps[i],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return r?e:new cf(e,o,null)}}const Gd=Object.create(null);let yn=class{getMap(){return ri.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Gd[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Gd)throw new RangeError("Duplicate use of step JSON ID "+e);return Gd[e]=n,n.prototype.jsonID=e,n}},Cn=class Ks{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ks(e,null)}static fail(e){return new Ks(null,e)}static fromReplace(e,n,r,o){try{return Ks.ok(e.replace(n,r,o))}catch(i){if(i instanceof ls)return Ks.fail(i.message);throw i}}};function ym(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let i=t.child(o);i.content.size&&(i=i.copy(ym(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return ne.fromArray(r)}let bm=class qs extends yn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new se(ym(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return Cn.fromReplace(e,this.from,this.to,i)}invert(){return new Qa(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new qs(n.pos,r.pos,this.mark)}merge(e){return e instanceof qs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new qs(n.from,n.to,e.markFromJSON(n.mark))}};yn.jsonID("addMark",bm);let Qa=class Ys extends yn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new se(ym(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return Cn.fromReplace(e,this.from,this.to,r)}invert(){return new bm(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ys(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ys&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ys(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ys(n.from,n.to,e.markFromJSON(n.mark))}};yn.jsonID("removeMark",Qa);let xm=class Js extends yn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Cn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Cn.fromReplace(e,this.pos,this.pos+1,new se(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new Js(this.pos,n.marks[o]);return new Js(this.pos,this.mark)}}return new wm(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Js(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Js(n.pos,e.markFromJSON(n.mark))}};yn.jsonID("addNodeMark",xm);let wm=class uf extends yn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Cn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Cn.fromReplace(e,this.pos,this.pos+1,new se(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new xm(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new uf(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new uf(n.pos,e.markFromJSON(n.mark))}};yn.jsonID("removeNodeMark",wm);let Kr=class $o extends yn{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&df(e,this.from,this.to)?Cn.fail("Structure replace would overwrite content"):Cn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ri([this.from,this.to-this.from,this.slice.size])}invert(e){return new $o(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new $o(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof $o)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new $o(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new $o(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new $o(n.from,n.to,se.fromJSON(e,n.slice),!!n.structure)}};yn.jsonID("replace",Kr);let gi=class Vl extends yn{constructor(e,n,r,o,i,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=a}apply(e){if(this.structure&&(df(e,this.from,this.gapFrom)||df(e,this.gapTo,this.to)))return Cn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Cn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Cn.fromReplace(e,this.from,this.to,r):Cn.fail("Content does not fit in gap")}getMap(){return new ri([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Vl(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new Vl(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Vl(n.from,n.to,n.gapFrom,n.gapTo,se.fromJSON(e,n.slice),n.insert,!!n.structure)}};yn.jsonID("replaceAround",gi);function df(t,e,n){let r=t.resolve(e),o=n-e,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function AK(t,e,n,r){let o=[],i=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let p=Math.max(c,e),f=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(s&&s.to==p&&s.mark.eq(d[g])?s.to=f:o.push(s=new Qa(p,f,d[g])));a&&a.to==p?a.to=f:i.push(a=new bm(p,f,r))}}),o.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function PK(t,e,n,r){let o=[],i=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;i++;let l=null;if(r instanceof qa){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],p;for(let f=0;f<o.length;f++){let m=o[f];m.step==i-1&&d.eq(o[f].style)&&(p=m)}p?(p.to=c,p.step=i):o.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),o.forEach(s=>t.step(new Qa(s.from,s.to,s.style)))}function Cm(t,e,n,r=n.contentMatch,o=!0){let i=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new Kr(a,u,se.empty));else{r=d;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||t.step(new Qa(a,u,c.marks[p]));if(o&&c.isText&&n.whitespace!="pre"){let p,f=/\r?\n|\r/g,m;for(;p=f.exec(c.text);)m||(m=new se(ne.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new Kr(a+p.index,a+p.index+p[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(ne.empty,!0);t.replace(a,a,new se(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function RK(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function DK(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!RK(o,i,s))break}return null}function IK(t,e,n){let{$from:r,$to:o,depth:i}=e,s=r.before(i+1),a=o.after(i+1),l=s,c=a,u=ne.empty,d=0;for(let m=i,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=ne.from(r.node(m).copy(u)),d++):l--;let p=ne.empty,f=0;for(let m=i,g=!1;m>n;m--)g||o.after(m+1)<o.end(m)?(g=!0,p=ne.from(o.node(m).copy(p)),f++):c++;t.step(new gi(l,c,s,a,new se(u.append(p),d,f),u.size-d,!0))}function $K(t,e,n=null,r=t){let o=NK(t,e),i=o&&_K(r,e);return i?o.map(Pb).concat({type:e,attrs:n}).concat(i.map(Pb)):null}function Pb(t){return{type:t,attrs:null}}function NK(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function _K(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function FK(t,e,n){let r=ne.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ne.from(n[s].type.create(n[s].attrs,r))}let o=e.start,i=e.end;t.step(new gi(o,i,o,i,new se(r,0,0),n.length,!0))}function BK(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(r,l)&&jK(t.doc,t.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!m?c=!1:!f&&m&&(c=!0)}c===!1&&WS(t,s,a,i),Cm(t,t.mapping.slice(i).map(a,1),r,void 0,c===null);let u=t.mapping.slice(i),d=u.map(a,1),p=u.map(a+s.nodeSize,1);return t.step(new gi(d,p,d+1,p-1,new se(ne.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&VS(t,s,a,i),!1}})}function VS(t,e,n,r){e.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let l=t.mapping.slice(r).map(n+1+i+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function WS(t,e,n,r){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function jK(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function zK(t,e,n,r,o){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new gi(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new se(ne.from(s),0,0),1,!0))}function Wl(t,e,n=1,r){let o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){let d=o.node(c),p=o.index(c);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(p,d.childCount),m=r&&r[u+1];m&&(f=f.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(p+1,d.childCount)||!g.type.validContent(f))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function HK(t,e,n=1,r){let o=t.doc.resolve(e),i=ne.empty,s=ne.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){i=ne.from(o.node(a).copy(i));let u=r&&r[c];s=ne.from(u?u.type.create(u.attrs,s):o.node(a).copy(s))}t.step(new Kr(e,e,new se(i.append(s),n,n),!0))}function Sm(t,e){let n=t.resolve(e),r=n.index();return US(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function VK(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let i=e.child(o),s=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function US(t,e){return!!(t&&e&&!t.isLeaf&&VK(t,e))}function GS(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let i,s,a=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),a++,s=r.node(o).maybeChild(a)):(i=r.node(o).maybeChild(a-1),s=r.node(o+1)),i&&!i.isTextblock&&US(i,s)&&r.node(o).canReplace(a,a+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function WK(t,e,n){let r=null,{linebreakReplacement:o}=t.doc.type.schema,i=t.doc.resolve(e-n),s=i.node().type;if(o&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(o);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);WS(t,u.node(),u.before(),a)}s.inlineContent&&Cm(t,e+n-1,s,i.node().contentMatchAt(i.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new Kr(c,l.map(e+n,-1),se.empty,!0)),r===!0){let u=t.doc.resolve(c);VS(t,u.node(),u.before(),t.steps.length)}return t}function UK(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function GK(t,e,n=e,r=se.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),i=t.resolve(n);return KS(o,i,r)?new Kr(e,n,r):new KK(o,i,r).fit()}function KS(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}let KK=class{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ne.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=ne.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let l=new se(i,s,a);return e>-1?new gi(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Kr(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=Kd(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(ne.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=Kd(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new se(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=Kd(e,n);if(o.childCount<=1&&n>0){let i=e.size-n<=n+o.size;this.unplaced=new se(Zs(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new se(Zs(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:p}=this.frontier[n];if(o){for(let g=0;g<o.childCount;g++)u.push(o.child(g));d=d.matchFragment(o)}let f=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),y=d.matchType(g.type);if(!y)break;c++,(c>1||l==0||g.content.size)&&(d=y,u.push(qS(g.mark(p.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?f:-1)))}let m=c==a.childCount;m||(f=-1),this.placed=Xs(this.placed,n,ne.from(u)),this.frontier[n].match=d,m&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<f;g++){let b=y.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),y=b.content}this.unplaced=m?e==0?se.empty:new se(Zs(s.content,e-1,1),e-1,f<0?s.openEnd:e-1):new se(Zs(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!qd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=qd(e,n,o,r,i);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=qd(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Xs(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Xs(this.placed,this.depth,ne.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=Xs(this.placed,this.frontier.length,n))}};function Zs(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Zs(t.firstChild.content,e-1,n)))}function Xs(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Xs(t.lastChild.content,e-1,n)))}function Kd(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function qS(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,qS(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ne.empty,!0)))),t.copy(r)}function qd(t,e,n,r,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!qK(n,i.content,s)?a:null}function qK(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function YK(t){return t.spec.defining||t.spec.definingForContent}function JK(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),i=t.doc.resolve(n);if(KS(o,i,r))return t.step(new Kr(e,n,r));let s=JS(o,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let p=o.depth,f=o.pos-1;p>0;p--,f--){let m=o.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(p)>-1?a=p:o.before(p)==f&&s.splice(1,0,-p)}let l=s.indexOf(a),c=[],u=r.openStart;for(let p=r.content,f=0;;f++){let m=p.firstChild;if(c.push(m),f==r.openStart)break;p=m.content}for(let p=u-1;p>=0;p--){let f=c[p],m=YK(f.type);if(m&&!f.sameMarkup(o.node(Math.abs(a)-1)))u=p;else if(m||!f.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let f=(p+u+1)%(r.openStart+1),m=c[f];if(m)for(let g=0;g<s.length;g++){let y=s[(g+l)%s.length],b=!0;y<0&&(b=!1,y=-y);let x=o.node(y-1),C=o.index(y-1);if(x.canReplaceWith(C,C,m.type,m.marks))return t.replace(o.before(y),b?i.after(y):n,new se(YS(r.content,0,r.openStart,f),f,r.openEnd))}}let d=t.steps.length;for(let p=s.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>d));p--){let f=s[p];f<0||(e=o.before(f),n=i.after(f))}}function YS(t,e,n,r,o){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(YS(i.content,e+1,n,r,i)))}if(e>r){let i=o.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(ne.empty,!0))}return t}function ZK(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=UK(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new se(ne.from(r),0,0))}function XK(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),i=JS(r,o);for(let s=0;s<i.length;s++){let a=i[s],l=s==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return t.delete(r.before(a),o.after(a))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s&&r.start(s-1)==o.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),o.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function JS(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}let ZS=class Ul extends yn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Cn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return Cn.fromReplace(e,this.pos,this.pos+1,new se(ne.from(o),0,n.isLeaf?0:1))}getMap(){return ri.empty}invert(e){return new Ul(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ul(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ul(n.pos,n.attr,n.value)}};yn.jsonID("attr",ZS);let XS=class pf extends yn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Cn.ok(r)}getMap(){return ri.empty}invert(e){return new pf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new pf(n.attr,n.value)}};yn.jsonID("docAttr",XS);let ds=class extends Error{};ds=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ds.prototype=Object.create(Error.prototype);ds.prototype.constructor=ds;ds.prototype.name="TransformError";class QK{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ca}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ds(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=se.empty){let o=GK(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new se(ne.from(r),0,0))}delete(e,n){return this.replace(e,n,se.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return JK(this,e,n,r),this}replaceRangeWith(e,n,r){return ZK(this,e,n,r),this}deleteRange(e,n){return XK(this,e,n),this}lift(e,n){return IK(this,e,n),this}join(e,n=1){return WK(this,e,n),this}wrap(e,n){return FK(this,e,n),this}setBlockType(e,n=e,r,o=null){return BK(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return zK(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new ZS(e,n,r)),this}setDocAttribute(e,n){return this.step(new XS(e,n)),this}addNodeMark(e,n){return this.step(new xm(e,n)),this}removeNodeMark(e,n){if(!(n instanceof mt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new wm(e,n)),this}split(e,n=1,r){return HK(this,e,n,r),this}addMark(e,n,r){return AK(this,e,n,r),this}removeMark(e,n,r){return PK(this,e,n,r),this}clearIncompatible(e,n,r){return Cm(this,e,n,r),this}}const QS=65535,ek=Math.pow(2,16);function eq(t,e){return t+e*ek}function Rb(t){return t&QS}function tq(t){return(t-(t&QS))/ek}const tk=1,nk=2,Gl=4,rk=8;class Db{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&rk)>0}get deletedBefore(){return(this.delInfo&(tk|Gl))>0}get deletedAfter(){return(this.delInfo&(nk|Gl))>0}get deletedAcross(){return(this.delInfo&Gl)>0}}class Vn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Vn.empty)return Vn.empty}recover(e){let n=0,r=Rb(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+tq(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+s],d=l+c;if(e<=d){let p=c?e==l?-1:e==d?1:n:n,f=l+o+(p<0?0:u);if(r)return f;let m=e==(n<0?l:d)?null:eq(a/3,e-l),g=e==l?nk:e==d?tk:Gl;return(n<0?e!=l:e!=d)&&(g|=rk),new Db(f,g,m)}o+=u-c}return r?e+o:new Db(e+o,0,null)}touches(e,n){let r=0,o=Rb(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==o*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[o+n],u=this.ranges[o+r];e(a,a+c,l,l+u),i+=u-c}}invert(){return new Vn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Vn.empty:new Vn(e<0?[0,-e,0]:[0,0,e])}}Vn.empty=new Vn([]);const Yd=Object.create(null);class bn{getMap(){return Vn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Yd[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Yd)throw new RangeError("Duplicate use of step JSON ID "+e);return Yd[e]=n,n.prototype.jsonID=e,n}}class Ut{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ut(e,null)}static fail(e){return new Ut(null,e)}static fromReplace(e,n,r,o){try{return Ut.ok(e.replace(n,r,o))}catch(i){if(i instanceof ls)return Ut.fail(i.message);throw i}}}function km(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let i=t.child(o);i.content.size&&(i=i.copy(km(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return ne.fromArray(r)}class Ho extends bn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new se(km(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return Ut.fromReplace(e,this.from,this.to,i)}invert(){return new Vo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ho(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ho&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ho(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ho(n.from,n.to,e.markFromJSON(n.mark))}}bn.jsonID("addMark",Ho);class Vo extends bn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new se(km(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return Ut.fromReplace(e,this.from,this.to,r)}invert(){return new Ho(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vo(n.pos,r.pos,this.mark)}merge(e){return e instanceof Vo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Vo(n.from,n.to,e.markFromJSON(n.mark))}}bn.jsonID("removeMark",Vo);class Wo extends bn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ut.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ut.fromReplace(e,this.pos,this.pos+1,new se(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new Wo(this.pos,n.marks[o]);return new Wo(this.pos,this.mark)}}return new Ma(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Wo(n.pos,e.markFromJSON(n.mark))}}bn.jsonID("addNodeMark",Wo);class Ma extends bn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ut.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ut.fromReplace(e,this.pos,this.pos+1,new se(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Wo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ma(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ma(n.pos,e.markFromJSON(n.mark))}}bn.jsonID("removeNodeMark",Ma);class hr extends bn{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&ff(e,this.from,this.to)?Ut.fail("Structure replace would overwrite content"):Ut.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Vn([this.from,this.to-this.from,this.slice.size])}invert(e){return new hr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new hr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof hr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new hr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new hr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new hr(n.from,n.to,se.fromJSON(e,n.slice),!!n.structure)}}bn.jsonID("replace",hr);class bo extends bn{constructor(e,n,r,o,i,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=a}apply(e){if(this.structure&&(ff(e,this.from,this.gapFrom)||ff(e,this.gapTo,this.to)))return Ut.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ut.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ut.fromReplace(e,this.from,this.to,r):Ut.fail("Content does not fit in gap")}getMap(){return new Vn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new bo(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new bo(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new bo(n.from,n.to,n.gapFrom,n.gapTo,se.fromJSON(e,n.slice),n.insert,!!n.structure)}}bn.jsonID("replaceAround",bo);function ff(t,e,n){let r=t.resolve(e),o=n-e,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function nq(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Nu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!nq(o,i,s))break}return null}function rq(t,e,n=null,r=t){let o=oq(t,e),i=o&&iq(r,e);return i?o.map(Ib).concat({type:e,attrs:n}).concat(i.map(Ib)):null}function Ib(t){return{type:t,attrs:null}}function oq(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function iq(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function sq(t,e,n=1,r){let o=t.resolve(e),i=o.depth-n,s=o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let l=o.depth-1,c=n-2;l>i;l--,c--){let u=o.node(l),d=o.index(l);if(u.type.spec.isolating)return!1;let p=u.content.cutByIndex(d,u.childCount),f=u;if(!u.canReplace(d+1,u.childCount)||!f.type.validContent(p))return!1}let a=o.indexAfter(i);return o.node(i).canReplaceWith(a,a,o.node(i+1).type)}function _u(t,e){let n=t.resolve(e),r=n.index();return ok(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function aq(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let i=e.child(o),s=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function ok(t,e){return!!(t&&e&&!t.isLeaf&&aq(t,e))}function ik(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let i,s,a=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),a++,s=r.node(o).maybeChild(a)):(i=r.node(o).maybeChild(a-1),s=r.node(o+1)),i&&!i.isTextblock&&ok(i,s)&&r.node(o).canReplace(a,a+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function Mm(t,e,n=e,r=se.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),i=t.resolve(n);return lq(o,i,r)?new hr(e,n,r):new cq(o,i,r).fit()}function lq(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class cq{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ne.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=ne.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let l=new se(i,s,a);return e>-1?new bo(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new hr(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=Jd(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(ne.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=Jd(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new se(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=Jd(e,n);if(o.childCount<=1&&n>0){let i=e.size-n<=n+o.size;this.unplaced=new se(Qs(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new se(Qs(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:p}=this.frontier[n];if(o){for(let g=0;g<o.childCount;g++)u.push(o.child(g));d=d.matchFragment(o)}let f=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),y=d.matchType(g.type);if(!y)break;c++,(c>1||l==0||g.content.size)&&(d=y,u.push(sk(g.mark(p.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?f:-1)))}let m=c==a.childCount;m||(f=-1),this.placed=ea(this.placed,n,ne.from(u)),this.frontier[n].match=d,m&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<f;g++){let b=y.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),y=b.content}this.unplaced=m?e==0?se.empty:new se(Qs(s.content,e-1,1),e-1,f<0?s.openEnd:e-1):new se(Qs(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Zd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Zd(e,n,o,r,i);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Zd(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ea(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=ea(this.placed,this.depth,ne.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=ea(this.placed,this.frontier.length,n))}}function Qs(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Qs(t.firstChild.content,e-1,n)))}function ea(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ea(t.lastChild.content,e-1,n)))}function Jd(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function sk(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,sk(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ne.empty,!0)))),t.copy(r)}function Zd(t,e,n,r,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!uq(n,i.content,s)?a:null}function uq(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}class ua extends bn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ut.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return Ut.fromReplace(e,this.pos,this.pos+1,new se(ne.from(o),0,n.isLeaf?0:1))}getMap(){return Vn.empty}invert(e){return new ua(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ua(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ua(n.pos,n.attr,n.value)}}bn.jsonID("attr",ua);class Oc extends bn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Ut.ok(r)}getMap(){return Vn.empty}invert(e){return new Oc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Oc(n.attr,n.value)}}bn.jsonID("docAttr",Oc);let Ea=class extends Error{};Ea=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ea.prototype=Object.create(Error.prototype);Ea.prototype.constructor=Ea;Ea.prototype.name="TransformError";const dq=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function ak(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const pq=(t,e,n)=>{let r=ak(t,n);if(!r)return!1;let o=Em(r);if(!o){let s=r.blockRange(),a=s&&Nu(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let i=o.nodeBefore;if(dk(t,o,e,-1))return!0;if(r.parent.content.size==0&&(ps(i,"end")||Ve.isSelectable(i)))for(let s=r.depth;;s--){let a=Mm(t.doc,r.before(s),r.after(s),se.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(ps(i,"end")?Ze.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Ve.create(l.doc,o.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},fq=(t,e,n)=>{let r=ak(t,n);if(!r)return!1;let o=Em(r);return o?lk(t,o,e):!1},hq=(t,e,n)=>{let r=ck(t,n);if(!r)return!1;let o=Tm(r);return o?lk(t,o,e):!1};function lk(t,e,n){let r=e.nodeBefore,o=r,i=e.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let u=o.lastChild;if(!u)return!1;o=u}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Mm(t.doc,i,l,se.empty);if(!c||c.from!=i||c instanceof hr&&c.slice.size>=l-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(qe.create(u.doc,i)),n(u.scrollIntoView())}return!0}function ps(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const mq=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=Em(r)}let s=i&&i.nodeBefore;return!s||!Ve.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Ve.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function Em(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ck(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const gq=(t,e,n)=>{let r=ck(t,n);if(!r)return!1;let o=Tm(r);if(!o)return!1;let i=o.nodeAfter;if(dk(t,o,e,1))return!0;if(r.parent.content.size==0&&(ps(i,"start")||Ve.isSelectable(i))){let s=Mm(t.doc,r.before(),r.after(),se.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(ps(i,"start")?Ze.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):Ve.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},vq=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=Tm(r)}let s=i&&i.nodeAfter;return!s||!Ve.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Ve.create(t.doc,i.pos)).scrollIntoView()),!0)};function Tm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const yq=(t,e)=>{let n=t.selection,r=n instanceof Ve,o;if(r){if(n.node.isTextblock||!_u(t.doc,n.from))return!1;o=n.from}else if(o=ik(t.doc,n.from,-1),o==null)return!1;if(e){let i=t.tr.join(o);r&&i.setSelection(Ve.create(i.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},bq=(t,e)=>{let n=t.selection,r;if(n instanceof Ve){if(n.node.isTextblock||!_u(t.doc,n.to))return!1;r=n.to}else if(r=ik(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},xq=(t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),i=o&&Nu(o);return i==null?!1:(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)},wq=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function uk(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Cq=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=uk(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Ze.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},Sq=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof yr||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=uk(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(qe.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},kq=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(sq(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&Nu(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)},Mq=(t,e)=>{let{$from:n,to:r}=t.selection,o,i=n.sharedDepth(r);return i==0?!1:(o=n.before(i),e&&e(t.tr.setSelection(Ve.create(t.doc,o))),!0)};function Eq(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||_u(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function dk(t,e,n,r){let o=e.nodeBefore,i=e.nodeAfter,s,a,l=o.type.spec.isolating||i.type.spec.isolating;if(!l&&Eq(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&a.matchType(s[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,m=ne.empty;for(let b=s.length-1;b>=0;b--)m=ne.from(s[b].create(null,m));m=ne.from(o.copy(m));let g=t.tr.step(new bo(e.pos-1,f,e.pos,f,new se(m,1,0),s.length,!0)),y=g.doc.resolve(f+2*s.length);y.nodeAfter&&y.nodeAfter.type==o.type&&_u(g.doc,y.pos)&&g.join(y.pos),n(g.scrollIntoView())}return!0}let u=i.type.spec.isolating||r>0&&l?null:Ze.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),p=d&&Nu(d);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(d,p).scrollIntoView()),!0;if(c&&ps(i,"start",!0)&&ps(o,"end")){let f=o,m=[];for(;m.push(f),!f.isTextblock;)f=f.lastChild;let g=i,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(n){let b=ne.empty;for(let C=m.length-1;C>=0;C--)b=ne.from(m[C].copy(b));let x=t.tr.step(new bo(e.pos-m.length,e.pos+i.nodeSize,e.pos+y,e.pos+i.nodeSize-y,new se(b,m.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function pk(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(e.tr.setSelection(qe.create(e.doc,t<0?o.start(i):o.end(i)))),!0):!1}}const Tq=pk(-1),Oq=pk(1);function Lq(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=s&&rq(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function $b(t,e=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(s,a,(l,c)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)o=!0;else{let u=n.doc.resolve(c),d=u.index();o=u.parent.canReplaceWith(d,d+1,t)}})}if(!o)return!1;if(r){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];i.setBlockType(a,l,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Aq(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&o.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(o.index(s.depth-1)==0)return!1;let u=n.doc.resolve(s.start-2);l=new yc(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new yc(o,n.doc.resolve(i.end(s.depth)),s.depth)),a=!0}let c=f7(l,t,e,s);return c?(r&&r(Pq(n.tr,s,c,a,t).scrollIntoView()),!0):!1}}function Pq(t,e,n,r,o){let i=ne.empty;for(let u=n.length-1;u>=0;u--)i=ne.from(n[u].type.create(n[u].attrs,i));t.step(new wr(e.start-(r?2:0),e.end,e.start,e.end,new se(i,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==o&&(s=u+1);let a=n.length-s,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,p=!0;u<d;u++,p=!1)!p&&C7(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function Rq(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,s=>s.childCount>0&&s.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?Dq(e,n,t,i):Iq(e,n,i):!0:!1}}function Dq(t,e,n,r){let o=t.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new wr(i-1,s,i,s,new se(ne.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new yc(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const a=d7(r);if(a==null)return!1;o.lift(r,a);let l=o.mapping.map(i,-1)-1;return k7(o.doc,l)&&o.join(l),e(o.scrollIntoView()),!0}function Iq(t,e,n){let r=t.tr,o=n.parent;for(let f=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)f-=o.child(m).nodeSize,r.delete(f-1,f+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?ne.empty:ne.from(o))))return!1;let d=i.pos,p=d+s.nodeSize;return r.step(new wr(d-(a?1:0),p+(l?1:0),d+1,p-1,new se((a?ne.empty:ne.from(o.copy(ne.empty))).append(l?ne.empty:ne.from(o.copy(ne.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function $q(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=ne.from(c?t.create():null),d=new se(ne.from(t.create(null,ne.from(a.type.create(null,u)))),c?3:1,0),p=i.start,f=i.end;n(e.tr.step(new wr(p-(c?3:1),f,p,f,d,1,!0)).scrollIntoView())}return!0}}function Fu(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}class Bu{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:o}=n,{tr:i}=r,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,a=[],l=!!e,c=e||i.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(p=>p===!0)),d={...Object.fromEntries(Object.entries(r).map(([p,f])=>[p,(...g)=>{const y=this.buildProps(c,n),b=f(...g)(y);return a.push(b),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,o=!1,i=e||r.tr,s=this.buildProps(i,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,o)}}buildProps(e,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,a={tr:e,editor:o,view:s,state:Fu({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class Nq{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(o=>o!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Ie(t,e,n){return t.config[e]===void 0&&t.parent?Ie(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Ie(t.parent,e,n):null}):t.config[e]}function ju(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function fk(t){const e=[],{nodeExtensions:n,markExtensions:r}=ju(t),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:o},l=Ie(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([p,f])=>{e.push({type:d,name:p,attribute:{...i,...f}})})})})}),o.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=Ie(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const p={...i,...d};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:s.name,name:u,attribute:p})})}),e}function on(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function It(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}if(o==="class"){const a=i?i.split(" "):[],l=r[o]?r[o].split(" "):[],c=a.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const a=i?i.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,p]=u.split(":").map(f=>f.trim());c.set(d,p)}),a.forEach(u=>{const[d,p]=u.split(":").map(f=>f.trim());c.set(d,p)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=i}),r},{})}function Lc(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>It(n,r),{})}function hk(t){return typeof t=="function"}function Je(t,e=void 0,...n){return hk(t)?e?t.bind(e)(...n):t(...n):t}function _q(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Fq(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Nb(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.reduce((i,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):Fq(n.getAttribute(s.name));return a==null?i:{...i,[s.name]:a}},{});return{...r,...o}}}}function _b(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&_q(n)?!1:n!=null))}function Bq(t,e){var n;const r=fk(t),{nodeExtensions:o,markExtensions:i}=ju(t),s=(n=o.find(c=>Ie(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(o.map(c=>{const u=r.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((b,x)=>{const C=Ie(x,"extendNodeSchema",d);return{...b,...C?C(c):{}}},{}),f=_b({...p,content:Je(Ie(c,"content",d)),marks:Je(Ie(c,"marks",d)),group:Je(Ie(c,"group",d)),inline:Je(Ie(c,"inline",d)),atom:Je(Ie(c,"atom",d)),selectable:Je(Ie(c,"selectable",d)),draggable:Je(Ie(c,"draggable",d)),code:Je(Ie(c,"code",d)),whitespace:Je(Ie(c,"whitespace",d)),defining:Je(Ie(c,"defining",d)),isolating:Je(Ie(c,"isolating",d)),attrs:Object.fromEntries(u.map(b=>{var x;return[b.name,{default:(x=b==null?void 0:b.attribute)===null||x===void 0?void 0:x.default}]}))}),m=Je(Ie(c,"parseHTML",d));m&&(f.parseDOM=m.map(b=>Nb(b,u)));const g=Ie(c,"renderHTML",d);g&&(f.toDOM=b=>g({node:b,HTMLAttributes:Lc(b,u)}));const y=Ie(c,"renderText",d);return y&&(f.toText=y),[c.name,f]})),l=Object.fromEntries(i.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((y,b)=>{const x=Ie(b,"extendMarkSchema",d);return{...y,...x?x(c):{}}},{}),f=_b({...p,inclusive:Je(Ie(c,"inclusive",d)),excludes:Je(Ie(c,"excludes",d)),group:Je(Ie(c,"group",d)),spanning:Je(Ie(c,"spanning",d)),code:Je(Ie(c,"code",d)),attrs:Object.fromEntries(u.map(y=>{var b;return[y.name,{default:(b=y==null?void 0:y.attribute)===null||b===void 0?void 0:b.default}]}))}),m=Je(Ie(c,"parseHTML",d));m&&(f.parseDOM=m.map(y=>Nb(y,u)));const g=Ie(c,"renderHTML",d);return g&&(f.toDOM=y=>g({mark:y,HTMLAttributes:Lc(y,u)})),[c.name,f]}));return new BC({topNode:s,nodes:a,marks:l})}function Xd(t,e){return e.nodes[t]||e.marks[t]||null}function Fb(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const jq=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(o,i,s,a)=>{var l,c;const u=((c=(l=o.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:o,pos:i,parent:s,index:a}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?u:u.slice(0,Math.max(0,r-i))}),n};function Om(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class zu{constructor(e){this.find=e.find,this.handler=e.handler}}const zq=(t,e)=>{if(Om(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Ml(t){var e;const{editor:n,from:r,to:o,text:i,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let u=!1;const d=jq(c)+i;return s.forEach(p=>{if(u)return;const f=zq(d,p.find);if(!f)return;const m=l.state.tr,g=Fu({state:l.state,transaction:m}),y={from:r-(f[0].length-i.length),to:o},{commands:b,chain:x,can:C}=new Bu({editor:n,state:g});p.handler({state:g,range:y,match:f,commands:b,chain:x,can:C})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:o,text:i}),l.dispatch(m),u=!0)}),u}function Hq(t){const{editor:e,rules:n}=t,r=new vn({state:{init(){return null},apply(o,i){const s=o.getMeta(r);if(s)return s;const a=o.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:u}=a,d=c+u.length;Ml({editor:e,from:c,to:d,text:u,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,s,a){return Ml({editor:e,from:i,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&Ml({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?Ml({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Vq(t){return Object.prototype.toString.call(t).slice(8,-1)}function El(t){return Vq(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Hu(t,e){const n={...t};return El(t)&&El(e)&&Object.keys(e).forEach(r=>{El(e[r])&&El(t[r])?n[r]=Hu(t[r],e[r]):n[r]=e[r]}),n}class Un{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Je(Ie(this,"addOptions",{name:this.name}))),this.storage=Je(Ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Un(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Hu(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Un(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Je(Ie(n,"addOptions",{name:n.name})),n.storage=Je(Ie(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const s=o.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function Wq(t){return typeof t=="number"}class Uq{constructor(e){this.find=e.find,this.handler=e.handler}}const Gq=(t,e,n)=>{if(Om(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(o=>{const i=[o.text];return i.index=o.index,i.input=t,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function Kq(t){const{editor:e,state:n,from:r,to:o,rule:i,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:c,can:u}=new Bu({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,o,(f,m)=>{if(!f.isTextblock||f.type.spec.code)return;const g=Math.max(r,m),y=Math.min(o,m+f.content.size),b=f.textBetween(g-m,y-m,void 0,"￼");Gq(b,i.find,s).forEach(C=>{if(C.index===void 0)return;const E=g+C.index+1,k=E+C[0].length,w={from:n.tr.mapping.map(E),to:n.tr.mapping.map(k)},M=i.handler({state:n,range:w,match:C,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(M)})}),d.every(f=>f!==null)}const qq=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function Yq(t){const{editor:e,rules:n}=t;let r=null,o=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:d,to:p,rule:f,pasteEvt:m})=>{const g=u.tr,y=Fu({state:u,transaction:g});if(!(!Kq({editor:e,state:y,from:Math.max(d-1,0),to:p.b-1,rule:f,pasteEvent:m,dropEvent:a})||!g.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(u=>new vn({view(d){const p=f=>{var m;r=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(f.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",p),{destroy(){window.removeEventListener("dragstart",p)}}},props:{handleDOMEvents:{drop:(d,p)=>(i=r===d.dom.parentElement,a=p,!1),paste:(d,p)=>{var f;const m=(f=p.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return s=p,o=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,p,f)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!o,y=m.getMeta("uiEvent")==="drop"&&!i,b=m.getMeta("applyPasteRules"),x=!!b;if(!g&&!y&&!x)return;if(x){const{from:k,text:w}=b,M=k+w.length,T=qq(w);return l({rule:u,state:f,from:k,to:{b:M},pasteEvt:T})}const C=p.doc.content.findDiffStart(f.doc.content),E=p.doc.content.findDiffEnd(f.doc.content);if(!(!Wq(C)||!E||C===E.b))return l({rule:u,state:f,from:C,to:E,pasteEvt:s})}}))}function Jq(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Qi{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Qi.resolve(e),this.schema=Bq(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Qi.sort(Qi.flatten(e)),r=Jq(n.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},o=Ie(n,"addExtensions",r);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(e){return e.sort((r,o)=>{const i=Ie(r,"priority")||100,s=Ie(o,"priority")||100;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Xd(n.name,this.schema)},o=Ie(n,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,n=Qi.sort([...this.extensions].reverse()),r=[],o=[],i=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:Xd(s.name,this.schema)},l=[],c=Ie(s,"addKeyboardShortcuts",a);let u={};if(s.type==="mark"&&Ie(s,"exitable",a)&&(u.ArrowRight=()=>Un.handleExit({editor:e,mark:s})),c){const g=Object.fromEntries(Object.entries(c()).map(([y,b])=>[y,()=>b({editor:e})]));u={...u,...g}}const d=EK(u);l.push(d);const p=Ie(s,"addInputRules",a);Fb(s,e.options.enableInputRules)&&p&&r.push(...p());const f=Ie(s,"addPasteRules",a);Fb(s,e.options.enablePasteRules)&&f&&o.push(...f());const m=Ie(s,"addProseMirrorPlugins",a);if(m){const g=m();l.push(...g)}return l}).flat();return[Hq({editor:e,rules:r}),...Yq({editor:e,rules:o}),...i]}get attributes(){return fk(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ju(this.extensions);return Object.fromEntries(n.filter(r=>!!Ie(r,"addNodeView")).map(r=>{const o=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:on(r.name,this.schema)},s=Ie(r,"addNodeView",i);if(!s)return[];const a=(l,c,u,d,p)=>{const f=Lc(l,o);return s()({node:l,view:c,getPos:u,decorations:d,innerDecorations:p,editor:e,extension:r,HTMLAttributes:f})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Xd(e.name,this.schema)};e.type==="mark"&&(!((n=Je(Ie(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const o=Ie(e,"onBeforeCreate",r),i=Ie(e,"onCreate",r),s=Ie(e,"onUpdate",r),a=Ie(e,"onSelectionUpdate",r),l=Ie(e,"onTransaction",r),c=Ie(e,"onFocus",r),u=Ie(e,"onBlur",r),d=Ie(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Pn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Je(Ie(this,"addOptions",{name:this.name}))),this.storage=Je(Ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Pn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Hu(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Pn({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Je(Ie(n,"addOptions",{name:n.name})),n.storage=Je(Ie(n,"addStorage",{name:n.name,options:n.options})),n}}function mk(t,e,n){const{from:r,to:o}=e,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,o,(l,c,u,d)=>{var p;l.isBlock&&c>r&&(a+=i);const f=s==null?void 0:s[l.type.name];if(f)return u&&(a+=f({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(p=l==null?void 0:l.text)===null||p===void 0?void 0:p.slice(Math.max(r,c)-c,o-c))}),a}function gk(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Zq=Pn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new vn({key:new Gn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:i}=o,s=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=gk(n);return mk(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Xq=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Qq=(t=!1)=>({commands:e})=>e.setContent("",t),eY=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),p=c.resolve(u.map(l+a.nodeSize)),f=d.blockRange(p);if(!f)return;const m=DK(f);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(f.start,g)}(m||m===0)&&e.lift(f,m)})}),!0},tY=t=>e=>t(e),nY=()=>({state:t,dispatch:e})=>Sq(t,e),rY=(t,e)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,i.content),r.setSelection(new qe(r.doc.resolve(s-1))),!0},oY=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const o=t.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===r.type){if(e){const a=o.before(i),l=o.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1},iY=t=>({tr:e,state:n,dispatch:r})=>{const o=on(t,n.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(r){const l=i.before(s),c=i.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},sY=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0},aY=()=>({state:t,dispatch:e})=>dq(t,e),lY=()=>({commands:t})=>t.keyboardShortcut("Enter"),cY=()=>({state:t,dispatch:e})=>Cq(t,e);function Ac(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:Om(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function hf(t,e,n={}){return t.find(r=>r.type===e&&Ac(r.attrs,n))}function uY(t,e,n={}){return!!hf(t,e,n)}function Lm(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const o=hf([...r.node.marks],e,n);if(!o)return;let i=r.index,s=t.start()+r.offset,a=i+1,l=s+r.node.nodeSize;for(hf([...r.node.marks],e,n);i>0&&o.isInSet(t.parent.child(i-1).marks);)i-=1,s-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&uY([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function Lo(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const dY=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const i=Lo(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(o){const d=Lm(l,i,e);if(d&&d.from<=c&&d.to>=u){const p=qe.create(s,d.from,d.to);n.setSelection(p)}}return!0},pY=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function vk(t){return t instanceof qe}function Vr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function yk(t,e=null){if(!e)return null;const n=Ze.atStart(t),r=Ze.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,i=r.to;return e==="all"?qe.create(t,Vr(0,o,i),Vr(t.content.size,o,i)):qe.create(t,Vr(e,o,i),Vr(e,o,i))}function Vu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const fY=(t=null,e={})=>({editor:n,view:r,tr:o,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{Vu()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!vk(n.state.selection))return s(),!0;const a=yk(o.doc,t)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},hY=(t,e)=>n=>t.every((r,o)=>e(r,{...n,index:o})),mY=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),bk=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&bk(r)}return t};function Tl(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return bk(n)}function Pc(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,o=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ne.fromArray(t.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Pc("",e,n)}if(o){if(n.errorOnInvalidContent){let s=!1,a="";const l=new BC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?ia.fromSchema(l).parseSlice(Tl(t),n.parseOptions):ia.fromSchema(l).parse(Tl(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=ia.fromSchema(e);return n.slice?i.parseSlice(Tl(t),n.parseOptions).content:i.parse(Tl(t),n.parseOptions)}return Pc("",e,n)}function gY(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof Kr||o instanceof gi))return;const i=t.mapping.maps[r];let s=0;i.forEach((a,l,c,u)=>{s===0&&(s=u)}),t.setSelection(Ze.near(t.doc.resolve(s),n))}const vY=t=>!("type"in t),yY=(t,e,n)=>({tr:r,dispatch:o,editor:i})=>{var s;if(o){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=Pc(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:i.options.enableContentCheck})}catch(m){return i.emit("contentError",{editor:i,error:m,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((vY(a)?a:[a]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===c&&d){const{parent:m}=r.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let f;u?(Array.isArray(e)?f=e.map(m=>m.text||"").join(""):typeof e=="object"&&e&&e.text?f=e.text:f=e,r.insertText(f,l,c)):(f=a,r.replaceWith(l,c,f)),n.updateSelection&&gY(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:f}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:f})}return!0},bY=()=>({state:t,dispatch:e})=>yq(t,e),xY=()=>({state:t,dispatch:e})=>bq(t,e),wY=()=>({state:t,dispatch:e})=>pq(t,e),CY=()=>({state:t,dispatch:e})=>gq(t,e),SY=()=>({state:t,dispatch:e,tr:n})=>{try{const r=GS(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},kY=()=>({state:t,dispatch:e,tr:n})=>{try{const r=GS(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},MY=()=>({state:t,dispatch:e})=>fq(t,e),EY=()=>({state:t,dispatch:e})=>hq(t,e);function xk(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function TY(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Vu()||xk()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const OY=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=TY(t).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function Ta(t,e,n={}){const{from:r,to:o,empty:i}=t.selection,s=e?on(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(d,p)=>{if(d.isText)return;const f=Math.max(r,p),m=Math.min(o,p+d.nodeSize);a.push({node:d,from:f,to:m})});const l=o-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Ac(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,p)=>d+p.to-p.from,0)>=l}const LY=(t,e={})=>({state:n,dispatch:r})=>{const o=on(t,n.schema);return Ta(n,o,e)?xq(n,r):!1},AY=()=>({state:t,dispatch:e})=>kq(t,e),PY=t=>({state:e,dispatch:n})=>{const r=on(t,e.schema);return Rq(r)(e,n)},RY=()=>({state:t,dispatch:e})=>wq(t,e);function Wu(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Bb(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}const DY=(t,e)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=Wu(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=on(t,r.schema)),a==="mark"&&(s=Lo(t,r.schema)),o&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,Bb(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(Bb(d.attrs,e)))})})}),!0):!1},IY=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),$Y=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),NY=()=>({state:t,dispatch:e})=>mq(t,e),_Y=()=>({state:t,dispatch:e})=>vq(t,e),FY=()=>({state:t,dispatch:e})=>Mq(t,e),BY=()=>({state:t,dispatch:e})=>Oq(t,e),jY=()=>({state:t,dispatch:e})=>Tq(t,e);function mf(t,e,n={},r={}){return Pc(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const zY=(t,e=!1,n={},r={})=>({editor:o,tr:i,dispatch:s,commands:a})=>{var l,c;const{doc:u}=i;if(n.preserveWhitespace!=="full"){const d=mf(t,o.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:o.options.enableContentCheck});return s&&i.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return s&&i.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:o.options.enableContentCheck})};function Am(t,e){const n=Lo(e,t.schema),{from:r,to:o,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function HY(t,e){const n=new QK(t);return e.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function VY(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function WY(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(o,i)=>{n(o)&&r.push({node:o,pos:i})}),r}function UY(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Pm(t){return e=>UY(e.$from,t)}function GY(t,e){const n=mi.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function KY(t,e){const n={from:0,to:t.content.size};return mk(t,n,e)}function qY(t,e){const n=on(e,t.schema),{from:r,to:o}=t.selection,i=[];t.doc.nodesBetween(r,o,a=>{i.push(a)});const s=i.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function wk(t,e){const n=Wu(typeof e=="string"?e:e.name,t.schema);return n==="node"?qY(t,e):n==="mark"?Am(t,e):{}}function YY(t,e=JSON.stringify){const n={};return t.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function JY(t){const e=YY(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,s)=>s!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function ZY(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((o,i)=>{const s=[];if(o.ranges.length)o.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[i];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=e.slice(i).map(a,-1),u=e.slice(i).map(l),d=e.invert().map(c,-1),p=e.invert().map(u);r.push({oldRange:{from:d,to:p},newRange:{from:c,to:u}})})}),JY(r)}function Rm(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const i=n.resolve(t),s=Lm(i,o.type);s&&r.push({mark:o,...s})}):n.nodesBetween(t,e,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(s=>({from:i,to:i+o.nodeSize,mark:s})))}),r}function Kl(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(i=>i.type===e&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}function gf(t,e,n={}){const{empty:r,ranges:o}=t.selection,i=e?Lo(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>Ac(d.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(({$from:d,$to:p})=>{const f=d.pos,m=p.pos;t.doc.nodesBetween(f,m,(g,y)=>{if(!g.isText&&!g.marks.length)return;const b=Math.max(f,y),x=Math.min(m,y+g.nodeSize),C=x-b;s+=C,a.push(...g.marks.map(E=>({mark:E,from:b,to:x})))})}),s===0)return!1;const l=a.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>Ac(d.mark.attrs,n,{strict:!1})).reduce((d,p)=>d+p.to-p.from,0),c=a.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,p)=>d+p.to-p.from,0);return(l>0?l+c:l)>=s}function XY(t,e,n={}){if(!e)return Ta(t,null,n)||gf(t,null,n);const r=Wu(e,t.schema);return r==="node"?Ta(t,e,n):r==="mark"?gf(t,e,n):!1}function jb(t,e){const{nodeExtensions:n}=ju(e),r=n.find(s=>s.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=Je(Ie(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function Dm(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(i=>{o!==!1&&(Dm(i,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function QY(t,e,n){const o=t.state.doc.content.size,i=Vr(e,0,o),s=Vr(n,0,o),a=t.coordsAtPos(i),l=t.coordsAtPos(s,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),d=Math.min(a.left,l.left),p=Math.max(a.right,l.right),f=p-d,m=u-c,b={top:c,bottom:u,left:d,right:p,width:f,height:m,x:d,y:c};return{...b,toJSON:()=>b}}function eJ(t,e,n){var r;const{selection:o}=e;let i=null;if(vk(o)&&(i=o.$cursor),i){const a=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=o;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,p)=>{if(c)return!1;if(u.isInline){const f=!p||p.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=f&&m}return!c}),c})}const tJ=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:a}=i,l=Lo(t,r.schema);if(o)if(s){const c=Am(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(p,f)=>{const m=Math.max(f,u),g=Math.min(f+p.nodeSize,d);p.marks.find(b=>b.type===l)?p.marks.forEach(b=>{l===b.type&&n.addMark(m,g,l.create({...b.attrs,...e}))}):n.addMark(m,g,l.create(e))})});return eJ(r,n,l)},nJ=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),rJ=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const i=on(t,n.schema);return i.isTextblock?o().command(({commands:s})=>$b(i,e)(n)?!0:s.clearNodes()).command(({state:s})=>$b(i,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},oJ=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=Vr(t,0,r.content.size),i=Ve.create(r,o);e.setSelection(i)}return!0},iJ=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:i}=typeof t=="number"?{from:t,to:t}:t,s=qe.atStart(r).from,a=qe.atEnd(r).to,l=Vr(o,s,a),c=Vr(i,s,a),u=qe.create(r,l,c);e.setSelection(u)}return!0},sJ=t=>({state:e,dispatch:n})=>{const r=on(t,e.schema);return $q(r)(e,n)};function zb(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}const aJ=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=e,{$from:a,$to:l}=i,c=o.extensionManager.attributes,u=Kl(c,a.node().type.name,a.node().attrs);if(i instanceof Ve&&i.node.isBlock)return!a.parentOffset||!Wl(s,a.pos)?!1:(r&&(t&&zb(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,p=a.depth===0?void 0:VY(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=d&&p?[{type:p,attrs:u}]:void 0,m=Wl(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!m&&Wl(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(m=!0,f=p?[{type:p,attrs:u}]:void 0),r){if(m&&(i instanceof qe&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),p&&!d&&!a.parentOffset&&a.parent.type!==p)){const g=e.mapping.map(a.before()),y=e.doc.resolve(g);a.node(-1).canReplaceWith(y.index(),y.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}t&&zb(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return m},lJ=(t,e={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var s;const a=on(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const p=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let b=ne.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-x;T>=l.depth-3;T-=1)b=ne.from(l.node(T).copy(b));const C=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,E={...Kl(p,l.node().type.name,l.node().attrs),...e},k=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(E))||void 0;b=b.append(ne.from(a.createAndFill(null,k)||void 0));const w=l.before(l.depth-(x-1));n.replace(w,l.after(-C),new se(b,4-x,0));let M=-1;n.doc.nodesBetween(w,n.doc.content.size,(T,D)=>{if(M>-1)return!1;T.isTextblock&&T.content.size===0&&(M=D+1)}),M>-1&&n.setSelection(qe.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const f=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Kl(p,d.type.name,d.attrs),...e},g={...Kl(p,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const y=f?[{type:a,attrs:m},{type:f,attrs:g}]:[{type:a,attrs:m}];if(!Wl(n.doc,l.pos,2))return!1;if(o){const{selection:b,storedMarks:x}=r,{splittableMarks:C}=i.extensionManager,E=x||b.$to.parentOffset&&b.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!E||!o)return!0;const k=E.filter(w=>C.includes(w.type.name));n.ensureMarks(k)}return!0},Qd=(t,e)=>{const n=Pm(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Sm(t.doc,n.pos)&&t.join(n.pos),!0},ep=(t,e)=>{const n=Pm(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Sm(t.doc,r)&&t.join(r),!0},cJ=(t,e,n,r={})=>({editor:o,tr:i,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:p}=o.extensionManager,f=on(t,s.schema),m=on(e,s.schema),{selection:g,storedMarks:y}=s,{$from:b,$to:x}=g,C=b.blockRange(x),E=y||g.$to.parentOffset&&g.$from.marks();if(!C)return!1;const k=Pm(w=>jb(w.type.name,d))(g);if(C.depth>=1&&k&&C.depth-k.depth<=1){if(k.node.type===f)return c.liftListItem(m);if(jb(k.node.type.name,d)&&f.validContent(k.node.content)&&a)return l().command(()=>(i.setNodeMarkup(k.pos,f),!0)).command(()=>Qd(i,f)).command(()=>ep(i,f)).run()}return!n||!E||!a?l().command(()=>u().wrapInList(f,r)?!0:c.clearNodes()).wrapInList(f,r).command(()=>Qd(i,f)).command(()=>ep(i,f)).run():l().command(()=>{const w=u().wrapInList(f,r),M=E.filter(T=>p.includes(T.type.name));return i.ensureMarks(M),w?!0:c.clearNodes()}).wrapInList(f,r).command(()=>Qd(i,f)).command(()=>ep(i,f)).run()},uJ=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,s=Lo(t,r.schema);return gf(r,s,e)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,e)},dJ=(t,e,n={})=>({state:r,commands:o})=>{const i=on(t,r.schema),s=on(e,r.schema),a=Ta(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?o.setNode(s,l):o.setNode(i,{...l,...n})},pJ=(t,e={})=>({state:n,commands:r})=>{const o=on(t,n.schema);return Ta(n,o,e)?r.lift(o):r.wrapIn(o,e)},fJ=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){const s=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else s.delete(i.from,i.to)}return!0}}return!1},hJ=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},mJ=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=Lo(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!o)return!0;if(u&&s){let{from:p,to:f}=a;const m=(i=c.marks().find(y=>y.type===l))===null||i===void 0?void 0:i.attrs,g=Lm(c,l,m);g&&(p=g.from,f=g.to),n.removeMark(p,f,l)}else d.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},gJ=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=Wu(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=on(t,r.schema)),a==="mark"&&(s=Lo(t,r.schema)),o&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,p)=>{i&&i===d.type&&n.setNodeMarkup(p,void 0,{...d.attrs,...e}),s&&d.marks.length&&d.marks.forEach(f=>{if(s===f.type){const m=Math.max(p,c),g=Math.min(p+d.nodeSize,u);n.addMark(m,g,s.create({...f.attrs,...e}))}})})}),!0):!1},vJ=(t,e={})=>({state:n,dispatch:r})=>{const o=on(t,n.schema);return Lq(o,e)(n,r)},yJ=(t,e={})=>({state:n,dispatch:r})=>{const o=on(t,n.schema);return Aq(o,e)(n,r)};var bJ=Object.freeze({__proto__:null,blur:Xq,clearContent:Qq,clearNodes:eY,command:tY,createParagraphNear:nY,cut:rY,deleteCurrentNode:oY,deleteNode:iY,deleteRange:sY,deleteSelection:aY,enter:lY,exitCode:cY,extendMarkRange:dY,first:pY,focus:fY,forEach:hY,insertContent:mY,insertContentAt:yY,joinBackward:wY,joinDown:xY,joinForward:CY,joinItemBackward:SY,joinItemForward:kY,joinTextblockBackward:MY,joinTextblockForward:EY,joinUp:bY,keyboardShortcut:OY,lift:LY,liftEmptyBlock:AY,liftListItem:PY,newlineInCode:RY,resetAttributes:DY,scrollIntoView:IY,selectAll:$Y,selectNodeBackward:NY,selectNodeForward:_Y,selectParentNode:FY,selectTextblockEnd:BY,selectTextblockStart:jY,setContent:zY,setMark:tJ,setMeta:nJ,setNode:rJ,setNodeSelection:oJ,setTextSelection:iJ,sinkListItem:sJ,splitBlock:aJ,splitListItem:lJ,toggleList:cJ,toggleMark:uJ,toggleNode:dJ,toggleWrap:pJ,undoInputRule:fJ,unsetAllMarks:hJ,unsetMark:mJ,updateAttributes:gJ,wrapIn:vJ,wrapInList:yJ});const xJ=Pn.create({name:"commands",addCommands(){return{...bJ}}}),wJ=Pn.create({name:"drop",addProseMirrorPlugins(){return[new vn({key:new Gn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),CJ=Pn.create({name:"editable",addProseMirrorPlugins(){return[new vn({key:new Gn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),SJ=Pn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new vn({key:new Gn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),kJ=Pn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:p,parent:f}=d,m=d.parent.isTextblock&&p>0?a.doc.resolve(p-1):d,g=m.parent.type.spec.isolating,y=d.pos-d.parentOffset,b=g&&m.parent.childCount===1?y===d.pos:Ze.atStart(c).from===p;return!u||!f.type.isTextblock||f.textContent.length||!b||b&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Vu()||xk()?i:o},addProseMirrorPlugins(){return[new vn({key:new Gn("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),o=t.some(g=>g.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:s,to:a}=e.selection,l=Ze.atStart(e.doc).from,c=Ze.atEnd(e.doc).to;if(i||!(s===l&&a===c)||!Dm(n.doc))return;const p=n.tr,f=Fu({state:n,transaction:p}),{commands:m}=new Bu({editor:this.editor,state:f});if(m.clearNodes(),!!p.steps.length)return p}})]}}),MJ=Pn.create({name:"paste",addProseMirrorPlugins(){return[new vn({key:new Gn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),EJ=Pn.create({name:"tabindex",addProseMirrorPlugins(){return[new vn({key:new Gn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Fo{get name(){return this.node.type.name}constructor(e,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Fo(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Fo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Fo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=this.pos+r+1,s=this.resolvedPos.doc.resolve(i);if(!o&&s.depth<=this.depth)return;const a=new Fo(s,this.editor,o,o?n:null);o&&(a.actualDepth=this.depth+1),e.push(new Fo(s,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(n).length>0){const i=o.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(i[l]!==n[l])break}}else r=o;o=o.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(n);return this.children.forEach(s=>{r&&o.length>0||(s.node.type.name===e&&i.every(l=>n[l]===s.node.attrs[l])&&o.push(s),!(r&&o.length>0)&&(o=o.concat(s.querySelectorAll(e,n,r))))}),o}setAttribute(e){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(n.from).run()}}const TJ=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function OJ(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}let LJ=class extends Nq{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:o})=>this.options.onDrop(n,r,o)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=OJ(TJ,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=hk(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(o=>!o.key.startsWith(n))});return this.view.updateState(r),r}createExtensionManager(){var e,n;const o=[...this.options.enableCoreExtensions?[CJ,Zq.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),xJ,SJ,kJ,EJ,wJ,MJ].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Qi(o,this)}createCommandManager(){this.commandManager=new Bu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=mf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(i){if(!(i instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(i.message))throw i;this.emit("contentError",{editor:this,error:i,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(s=>s.name!=="collaboration"),this.createExtensionManager()}}),e=mf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=yk(e,this.options.autofocus);this.view=new vK(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Xi.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),i=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return wk(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,o=typeof e=="string"?n:e;return XY(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return GY(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return KY(this.state.doc,{blockSeparator:n,textSerializers:{...gk(this.schema),...r}})}get isEmpty(){return Dm(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Fo(n,this)}get $doc(){return this.$pos(0)}};function fs(t){return new zu({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Je(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(Rm(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(g=>g===t.type&&g!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+l,c);const p=n.from+l+s.length;i.addMark(n.from+l,p,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}function AJ(t){return new zu({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Je(t.getAttributes,void 0,r)||{},{tr:i}=e,s=n.from;let a=n.to;const l=t.type.create(o);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];i.insertText(d,s+r[0].length-1),i.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?s:s-1;i.insert(c,t.type.create(o)).delete(i.mapping.map(s),i.mapping.map(a))}i.scrollIntoView()}})}function vf(t){return new zu({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),i=Je(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function Oa(t){return new zu({find:t.find,handler:({state:e,range:n,match:r,chain:o})=>{const i=Je(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&$K(l,t.type,i);if(!c)return null;if(s.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:p}=e,{splittableMarks:f}=t.editor.extensionManager,m=p||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(y=>f.includes(y.type.name));s.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(d,i).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&Sm(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&s.join(n.from-1)}})}let Kn=class yf{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Je(Ie(this,"addOptions",{name:this.name}))),this.storage=Je(Ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new yf(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Hu(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new yf(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Je(Ie(n,"addOptions",{name:n.name})),n.storage=Je(Ie(n,"addStorage",{name:n.name,options:n.options})),n}};function PJ(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class RJ{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,o,i,s,a,l;const{view:c}=this.editor,u=e.target,d=u.nodeType===3?(n=u.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(u)||!d)return;let p=0,f=0;if(this.dom!==d){const b=this.dom.getBoundingClientRect(),x=d.getBoundingClientRect(),C=(o=e.offsetX)!==null&&o!==void 0?o:(i=e.nativeEvent)===null||i===void 0?void 0:i.offsetX,E=(s=e.offsetY)!==null&&s!==void 0?s:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetY;p=x.x-b.x+C,f=x.y-b.y+E}(l=e.dataTransfer)===null||l===void 0||l.setDragImage(this.dom,p,f);const m=this.getPos();if(typeof m!="number")return;const g=Ve.create(c.state.doc,m),y=c.state.tr.setSelection(g);c.dispatch(y)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const i=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!i)return!0;const{isEditable:l}=this.editor,{isDragging:c}=this,u=!!this.node.type.spec.draggable,d=Ve.isSelectable(this.node),p=e.type==="copy",f=e.type==="paste",m=e.type==="cut",g=e.type==="mousedown";if(!u&&d&&i&&e.preventDefault(),u&&i&&!c)return e.preventDefault(),!1;if(u&&l&&!c&&g){const y=r.closest("[data-drag-handle]");y&&(this.dom===y||this.dom.contains(y))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(c||s||p||f||m||g&&d)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(Vu()||PJ())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return typeof r!="number"?!1:(n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function oi(t){return new Uq({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:o})=>{const i=Je(t.getAttributes,void 0,r,o);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),p=d+a.length;if(Rm(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(y=>y===t.type&&y!==m.mark.type)).filter(m=>m.to>d).length)return null;p<n.to&&s.delete(p,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+a.length,s.addMark(n.from+u,c,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function DJ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ck={exports:{}},tp={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function IJ(){if(Hb)return tp;Hb=1;var t=O;function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function a(d,p){var f=p(),m=r({inst:{value:f,getSnapshot:p}}),g=m[0].inst,y=m[1];return i(function(){g.value=f,g.getSnapshot=p,l(g)&&y({inst:g})},[d,f,p]),o(function(){return l(g)&&y({inst:g}),d(function(){l(g)&&y({inst:g})})},[d]),s(f),f}function l(d){var p=d.getSnapshot;d=d.value;try{var f=p();return!n(d,f)}catch{return!0}}function c(d,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return tp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,tp}Ck.exports=IJ();var Im=Ck.exports;const $J=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},NJ=({contentComponent:t})=>{const e=Im.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return O.createElement(O.Fragment,null,Object.values(e))};function _J(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:kT.createPortal(r.reactElement,r.element,n)},t.forEach(o=>o())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(o=>o())}}}class FJ extends O.Component{constructor(e){var n;super(e),this.editorContentRef=O.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=_J(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return O.createElement(O.Fragment,null,O.createElement("div",{ref:$J(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&O.createElement(NJ,{contentComponent:e.contentComponent}))}}const BJ=h.forwardRef((t,e)=>{const n=O.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return O.createElement(FJ,{key:n,innerRef:e,...t})}),jJ=O.memo(BJ);var zJ=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;for(o of e.entries())if(!t(o[1],n.get(o[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(e[o]!==n[o])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var s=i[o];if(!(s==="_owner"&&e.$$typeof)&&!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},HJ=DJ(zJ),Sk={exports:{}},np={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function VJ(){if(Vb)return np;Vb=1;var t=O,e=Im;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return np.useSyncExternalStoreWithSelector=function(c,u,d,p,f){var m=i(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=a(function(){function b(w){if(!x){if(x=!0,C=w,w=p(w),f!==void 0&&g.hasValue){var M=g.value;if(f(M,w))return E=M}return E=w}if(M=E,r(C,w))return M;var T=p(w);return f!==void 0&&f(M,T)?M:(C=w,E=T)}var x=!1,C,E,k=d===void 0?null:d;return[function(){return b(u())},k===null?void 0:function(){return b(k())}]},[u,d,p,f]);var y=o(c,m[0],m[1]);return s(function(){g.hasValue=!0,g.value=y},[y]),l(y),y},np}Sk.exports=VJ();var WJ=Sk.exports;class UJ{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function GJ(t){var e;const[n]=h.useState(()=>new UJ(t.editor)),r=WJ.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:HJ);return h.useEffect(()=>n.watch(t.editor),[t.editor,n]),h.useDebugValue(r),r}const KJ=!1,bf=typeof window>"u",qJ=bf||!!(typeof window<"u"&&window.next);class YJ{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return bf||qJ?null:this.createEditor();if(this.options.current.immediatelyRender&&bf&&KJ)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,i;return(i=(o=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(o,...r)},onBlur:(...r)=>{var o,i;return(i=(o=this.options.current).onBlur)===null||i===void 0?void 0:i.call(o,...r)},onCreate:(...r)=>{var o,i;return(i=(o=this.options.current).onCreate)===null||i===void 0?void 0:i.call(o,...r)},onDestroy:(...r)=>{var o,i;return(i=(o=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(o,...r)},onFocus:(...r)=>{var o,i;return(i=(o=this.options.current).onFocus)===null||i===void 0?void 0:i.call(o,...r)},onSelectionUpdate:(...r)=>{var o,i;return(i=(o=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(o,...r)},onTransaction:(...r)=>{var o,i;return(i=(o=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(o,...r)},onUpdate:(...r)=>{var o,i;return(i=(o=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(o,...r)},onContentError:(...r)=>{var o,i;return(i=(o=this.options.current).onContentError)===null||i===void 0?void 0:i.call(o,...r)},onDrop:(...r)=>{var o,i;return(i=(o=this.options.current).onDrop)===null||i===void 0?void 0:i.call(o,...r)},onPaste:(...r)=>{var o,i;return(i=(o=this.options.current).onPaste)===null||i===void 0?void 0:i.call(o,...r)}};return new LJ(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions(this.options.current):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function JJ(t={},e=[]){const n=h.useRef(t);n.current=t;const[r]=h.useState(()=>new YJ(n)),o=Im.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return h.useDebugValue(o),h.useEffect(r.onRender(e)),GJ({editor:o,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&i===0?0:i+1}),o}const ZJ=h.createContext({editor:null});ZJ.Consumer;const kk=h.createContext({onDragStart:void 0}),XJ=()=>h.useContext(kk),QJ=O.forwardRef((t,e)=>{const{onDragStart:n}=XJ(),r=t.as||"div";return O.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function eZ(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function tZ(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class nZ{constructor(e,{editor:n,props:r={},as:o="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(o),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?Eo.flushSync(()=>{this.render()}):this.render()}render(){var e;const n=this.component,r=this.props,o=this.editor;(eZ(n)||tZ(n))&&(r.ref=i=>{this.ref=i}),this.reactElement=O.createElement(n,r),(e=o==null?void 0:o.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const n=this.editor;(e=n==null?void 0:n.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(n=>{this.element.setAttribute(n,e[n])})}}class rZ extends RJ{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(c={})=>this.updateAttributes(c),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const c=u=>u.charAt(0).toUpperCase()+u.substring(1);this.component.displayName=c(this.extension.name)}const o={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:c=>{c&&this.contentDOMElement&&c.firstChild!==this.contentDOMElement&&c.appendChild(this.contentDOMElement)}},i=this.component,s=O.memo(c=>O.createElement(kk.Provider,{value:o},O.createElement(i,c)));s.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:l=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new nZ(s,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${l}`.trim()}),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&n>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,r){const o=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,s=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=r,this.options.update({oldNode:i,oldDecorations:s,newNode:e,newDecorations:n,oldInnerDecorations:a,innerDecorations:r,updateProps:()=>o({node:e,decorations:n,innerDecorations:r})})}return e===this.node&&this.decorations===n&&this.innerDecorations===r||(this.node=e,this.decorations=n,this.innerDecorations=r,o({node:e,decorations:n,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,r=Lc(this.node,n);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function oZ(t,e){return n=>n.editor.contentComponent?new rZ(t,n,e):{}}const Mk=ko`font-size: font-size: 28px;`,Ek=ko`font-size: font-size: 36px;`,Tk=ko`font-size: font-size: 22px;`,Ok=ko`font-size: font-size: 14px;`,Lk=ko`font-size: font-size: 12px;`,Ak=ko`font-size: font-size: 12px;`,Pk=ko`
    &:disabled {
        color: ${_.colors.gray400};
    }

    &:not(:disabled):hover {
        color: ${_.colors.gray800};
    }

    ${({$active:t})=>`
        color: ${t?_.colors.gray700:_.colors.gray600};
        background-color: ${t?_.newColors.simplyGold[40]:"transparent"};
    `}
`,Wb=ko`
    outline: 3px solid #008DA8;
    outline-offset: 1px;
`,iZ=Q.div`
    font-family: ${_.fontFamily};

    ${({$disabled:t})=>t?`
        --border-color: ${_.colors.disableBorder};
        color: ${_.colors.disabledTextColor};
    `:`
        --border-color: ${_.newColors.simplyGrey[100]};
        color: ${_.newColors.almostBlack[100]};
    `}
`,sZ=Q(jJ)`
    .tiptap {
        background-color: ${_.newColors.grey1[100]};
        border: 1px solid var(--border-color);
        border-top: 0;
        padding: 16px;
        overflow: auto;

        ${({$minHeight:t="4.75em"})=>t&&`
            min-height: ${typeof t=="number"?`${t}px`:t};
        `}

        ${({$maxHeight:t})=>t&&`
            max-height: ${typeof t=="number"?`${t}px`:t};
        `}

        &:focus {
			border-color: ${_.newColors.almostBlack[100]};
            outline: none;
        }

        * {
            margin: 0;
            padding: 0;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        ul,
        ol,
        blockquote,
        pre,
        .script-tag,
        .tiptap-block {
            margin-bottom: 20px;
            line-height: 1.4;
        }

        h1,
        h2,
        h3 {
            line-height: 1.2;
        }

        h1 {
            ${Mk}
            margin: 28px 0;
        }

        h2 {
            ${Ek}
            margin: 24px 0;
        }

        h3 {
            ${Tk}
        }

        h4 {
            ${Ok}
        }

        h5 {
            ${Lk}
        }

        h6 {
            ${Ak}
        }

        :first-child{
            margin-top: 0;
        }

        :last-child{
            margin-bottom: 0;
        }

        .tiptap-flex {
            display: flex;
        }

        .tiptap-pill {
            background-color: ${_.colors.gray200};
            border-radius: 3px;
            border: 1px solid var(--border-color);
            color: ${_.colors.gray600};
            padding: 0;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 0 6px;

            svg {
                width: 16px;
            }
        }

        .ProseMirror-selectednode .tiptap-pill{
            ${Wb}
        }

        ul,
        ol {
            padding-inline-start: 1.625em;

            > li {
                padding-left: 4px;

                &::marker {
                    color: ${_.colors.gray400};
                }
            }

            p,
            p:last-child {
                margin-bottom: 8px;
            }
        }

        a {
            color: ${_.colors.teal};
        }

        pre {
            background-color: ${_.colors.gray200};
            border-radius: 3px;
            border: 1px solid var(--border-color);
            font-size: 0.85rem;
            line-height: 1.4em;
            padding: 8px 12px;
        }

        blockquote {
            border-left: 3px solid var(--border-color);
            padding: 4px 16px;
        }

        hr {
            border: none;
            border-top: 1px solid var(--border-color);
            margin: 20px 0;
        }

        img {
            vertical-align: bottom;
            height: auto;
            max-width: 100%;

            &.ProseMirror-selectednode {
                ${Wb}
            }
        }
    }
`,aZ=Q.div`
    ${({$disabled:t})=>`
        --border-color: ${t?_.colors.disableBorder:_.newColors.simplyGrey[100]};
    `}

    background: white;
    box-shadow: box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    border: 1px solid var(--border-color);
    padding: 4px 0;
`,lZ=Q.div`
    background: ${_.newColors.grey1[100]};
    border: 1px solid var(--border-color);
    border-bottom: 0;
    position: sticky;
    padding: 4px 0;
    top: -25px;
    z-index: 1;

    &::after {
        border-bottom: 1px solid var(--border-color);
        bottom: -1px;
        content: " ";
        left: 16px;
        right: 16px;
        position: absolute;
    }

    ${({$focus:t})=>t&&`
        border-color: ${_.newColors.almostBlack[100]};
    `}
`,cZ=Q.div`
    display: flex;
    flex-wrap: wrap;
`,uZ=Q.div`
    display: flex;
    align-items: center;
    justify-content: center;
    padding-left: 8px;
    padding-right: 8px;
    position: relative;
    margin-left: 1px;
    gap: 2px;

    &::after {
        content: " ";
        position: absolute;
        border-right: 1px solid var(--border-color);
        top: 6px;
        bottom: 6px;
        right: -1px;
    }
`,Rk=Q.button.attrs(t=>({...t,type:"button"}))`
    align-items: center;
    background: none;
    border-radius: 4px;
    border: 0;
    display: flex;
    height: 32px;
    justify-content: center;
    position: relative;

    &:not(:disabled) {
        cursor: pointer;
    }

    svg {
        height: 24px;
        width: 24px;
    }

    ${({$square:t})=>t&&`
        width: 32px;
    `}

    ${Pk}
`,dZ=Q(Rk)`
    width: 90px;
`,pZ=Q(vE)`
    background: ${_.newColors.grey1[100]};
    border: 1px solid var(--border-color);
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 16px;
    margin: 0;
    min-height: 10rem;
    width: 100%;
    resize: vertical;

    &:focus {
        border-color: ${_.newColors.almostBlack[100]};
        outline: none;
    }
`,fZ=Q(AE)`
    font-family: ${_.fontFamily};
    padding: 10px;

    h1 {
        ${Mk}
    }

    h2 {
        ${Ek}
    }

    h3 {
        ${Tk}
    }

    h4 {
        ${Ok}
    }

    h5 {
        ${Lk}
    }

    h6 {
        ${Ak}
    }
`,$m=Q.button`
    background: none;
    border: 0;
    border-radius: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: start;
    gap: 12px;
    width: 100%;
    padding: 8px 12px;

    ${Pk}



    h1, h2, h3, h4, h5, h6 {
        margin: 0;
    }
`,Nm=Q.div`
    display: flex;
    align-items: center;
    text-align: left;
    gap: 4px;
`,_m=Q.div`
    background: ${_.colors.gray200};
    font-size: 12px;
    text-align: center;
    padding: 2px 4px;
    border-radius: 3px;
    margin-left: auto;
`,hZ=Q.div`
    background: white;
    border: 1px solid var(--border-color);
    border-bottom: 0;
    justify-content: end;
    align-items: center;
    display: flex;
    padding: 8px 8px 0 8px;
    align-self: end;
    gap: 4px;
    position: relative;
    z-index: 2;
`,mZ=Q.button.attrs(t=>({...t,type:"button"}))`
    border-radius: 0;
    border: 1px solid transparent;
    padding: 4px 8px;

    ${({$active:t,$focus:e})=>t?`
        background: ${_.newColors.grey1[100]};
        border-color: ${e?_.newColors.almostBlack[100]:_.colors.gray300};
        border-bottom-color: ${_.newColors.grey1[100]};
        padding-bottom: 5px;
        margin-bottom: -1px;
    `:`
        background: white;
        cursor: pointer;
    `}
`,gZ=Q(si)`
    z-index: 5;
`,vZ=Q.div`
    border: 1px solid ${_.colors.gray300};
    background: white;
    width: 300px;
`,yZ=Q(un)`
    && {
        margin-left: auto;

        .adornment-icon {
            width: 24px;
            height: 24px;
        }
    }
`,bZ=Q.a.attrs(t=>({...t,target:"_blank"}))`
    font-family: ${_.fontFamily};
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 14px;
    color: ${_.colors.teal};
`;var Fm={},xZ=kt;Object.defineProperty(Fm,"__esModule",{value:!0});var Bm=Fm.default=void 0,wZ=xZ(Mt()),CZ=St();Bm=Fm.default=(0,wZ.default)((0,CZ.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");function SZ({url:t}){return v.jsxs(bZ,{href:t,target:"_blank",children:[v.jsx(Bm,{})," ","Preview"]})}function Dk({onRemove:t}){return v.jsxs(ZT,{$spacing:"compact",children:[v.jsx(un,{color:"yellow",variant:"contained",label:"Submit",type:"submit"}),t&&v.jsx(yZ,{color:"red",variant:"text",label:"Remove",onClick:t})]})}function kZ({editor:t,getFormValues:e,onClose:n,update:r}){const o=Au(),{state:{data:{url:i}},handleSubmit:s}=o,a=s(h.useCallback(({data:{url:u,newTab:d,text:p}})=>{r({url:u,newTab:d,text:p})},[r])),l=h.useCallback(()=>{t.chain().focus().extendMarkRange("link").unsetLink().run(),n()},[t,n]),c=h.useMemo(()=>[{name:"url",label:"URL",type:"text",required:!0,validateOn:"onSubmit"},{name:"text",label:"Text",type:"text",required:!0,validateOn:"onSubmit"},{name:"open",type:()=>v.jsx(SZ,{url:i}),show:({data:u})=>!!u.url},{name:"newTab",label:"Open in new tab",type:"toggle"}],[i]);return v.jsx(Ku,{...o,fields:c,spacing:"compact",autoFocus:!0,getFormValues:e,onSubmit:a,bottomSlot:v.jsx(Dk,{onRemove:l})})}function MZ({getFormValues:t,update:e}){const n=Au(),{handleSubmit:r}=n,o=r(h.useCallback(({data:{alt:s,src:a}})=>{e({alt:s,src:a})},[e])),i=h.useMemo(()=>[{name:"src",label:"Source",type:"text",required:!0,validateOn:"onSubmit"},{name:"alt",label:"Alternative Text",type:"text",validateOn:"onSubmit"}],[]);return v.jsx(Ku,{...n,fields:i,spacing:"compact",autoFocus:!0,getFormValues:t,onSubmit:o,bottomSlot:v.jsx(Dk,{})})}const EZ=[{name:"offset",options:{offset:[0,5]}}];function TZ({editor:t,onClose:e,type:n,values:r,update:o,anchorEl:i,open:s}){const a=h.useCallback(async()=>r||{},[r]);return v.jsx(gZ,{anchorEl:i,open:s,modifiers:EZ,children:v.jsx(ET,{onClickAway:e,children:v.jsx(vZ,{children:n==="link"?v.jsx(kZ,{editor:t,getFormValues:a,onClose:e,update:o}):n==="image"?v.jsx(MZ,{editor:t,getFormValues:a,onClose:e,update:o}):null})})})}function Uu({shortcut:t}){const n=window.navigator.userAgent.toUpperCase().includes("MAC")?t.mac:t.pc;return v.jsx(v.Fragment,{children:n})}const Ik=h.forwardRef(function({label:e,children:n,active:r,square:o,shortcut:i,disabled:s,...a},l){const{anchorProps:c,tooltipProps:u}=Df(),d=p=>{c.ref(p),l&&(typeof l=="function"?l(p):l.current=p)};return v.jsxs(v.Fragment,{children:[v.jsx(Rk,{...a,...c,ref:d,$active:r,$square:o,disabled:s,children:n}),e&&v.jsxs(If,{...u,children:[e," ",i&&v.jsxs(v.Fragment,{children:["(",v.jsx(Uu,{shortcut:i}),")"]})]})]})});function ws({editor:t,level:e,onClose:n,shortcut:r}){const o=()=>{t.chain().focus().toggleHeading({level:e}).run(),n&&n()};return v.jsxs($m,{onClick:o,$active:t.isActive("heading",{level:e}),"data-testid":`${Ar.TEXT_EDITOR_HEADING_CONTROL}-${e}`,children:[v.jsx(Nm,{children:O.createElement(`h${e}`,null,`Heading ${e}`)}),r&&v.jsx(_m,{children:v.jsx(Uu,{shortcut:r})})]})}function OZ({editor:t,onClose:e,shortcut:n}){const r=()=>{t.chain().focus().setParagraph().run(),e&&e()};return v.jsxs($m,{onClick:r,$active:t.isActive("paragraph"),children:[v.jsx(Nm,{children:"Normal Text"}),n&&v.jsx(_m,{children:v.jsx(Uu,{shortcut:n})})]})}function LZ(t){return v.jsx(ws,{level:1,...t})}function AZ(t){return v.jsx(ws,{level:2,...t})}function PZ(t){return v.jsx(ws,{level:3,...t})}function RZ(t){return v.jsx(ws,{level:4,...t})}function DZ(t){return v.jsx(ws,{level:5,...t})}function IZ(t){return v.jsx(ws,{level:6,...t})}function $Z({name:t,Icon:e,label:n,shortcut:r,cmd:o,editor:i,onClose:s,inputSettings:a}){const l=c=>{o({editor:i,inputSettings:a,event:c}),s()};return v.jsx("li",{children:v.jsxs($m,{onClick:l,$active:i.isActive(t),"data-testid":`${Ar.TEXT_EDITOR_CONTROL}:${t}`,children:[v.jsxs(Nm,{children:[e&&v.jsx(e,{}),n]}),r&&v.jsx(_m,{children:v.jsx(Uu,{shortcut:r})})]})})}function Ub({editor:t,controls:e,MenuButton:n,inputSettings:r,testId:o,disabled:i}){const[s,a]=h.useState(null),l=d=>{a(d.target)},c=()=>{a(null),t.chain().focus()},u=e.some(({name:d})=>t.isActive(d));return v.jsxs(v.Fragment,{children:[n?v.jsx(n,{onClick:l,editor:t,disabled:i}):v.jsx(Ik,{onClick:l,square:!0,active:u,"data-testid":o,disabled:i,children:v.jsx(TT,{})}),v.jsx(fZ,{anchorEl:s,open:!!s,onClose:c,children:e.map((d,p)=>"Component"in d?h.createElement(d.Component,{...d,onClose:c,editor:t,key:p,inputSettings:r,"data-testid":`${Ar.TEXT_EDITOR_CONTROL}:${d.name}`,disabled:i}):h.createElement($Z,{...d,onClose:c,editor:t,inputSettings:r,key:p}))})]})}function NZ({disabled:t,editor:e,onClick:n}){const r={"Normal Text":e.isActive("paragraph"),"Heading 1":e.isActive("heading",{level:1}),"Heading 2":e.isActive("heading",{level:2}),"Heading 3":e.isActive("heading",{level:3}),"Heading 4":e.isActive("heading",{level:4}),"Heading 5":e.isActive("heading",{level:5}),"Heading 6":e.isActive("heading",{level:6})},o=Object.keys(r).reduce((i,s)=>r[s]?s:i,"");return v.jsx(dZ,{onClick:n,disabled:t||!o,"data-testid":Ar.TEXT_EDITOR_HEADING_MENU,children:o||"Normal Text"})}var jm={},_Z=kt;Object.defineProperty(jm,"__esModule",{value:!0});var $k=jm.default=void 0,FZ=_Z(Mt()),BZ=St();$k=jm.default=(0,FZ.default)((0,BZ.jsx)("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold");var zm={},jZ=kt;Object.defineProperty(zm,"__esModule",{value:!0});var Nk=zm.default=void 0,zZ=jZ(Mt()),HZ=St();Nk=zm.default=(0,zZ.default)((0,HZ.jsx)("path",{d:"M3.27 5 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5z"}),"FormatClear");var Hm={},VZ=kt;Object.defineProperty(Hm,"__esModule",{value:!0});var _k=Hm.default=void 0,WZ=VZ(Mt()),UZ=St();_k=Hm.default=(0,WZ.default)((0,UZ.jsx)("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"}),"FormatAlignLeft");var Vm={},GZ=kt;Object.defineProperty(Vm,"__esModule",{value:!0});var Fk=Vm.default=void 0,KZ=GZ(Mt()),qZ=St();Fk=Vm.default=(0,KZ.default)((0,qZ.jsx)("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"}),"FormatAlignCenter");var Wm={},YZ=kt;Object.defineProperty(Wm,"__esModule",{value:!0});var Bk=Wm.default=void 0,JZ=YZ(Mt()),ZZ=St();Bk=Wm.default=(0,JZ.default)((0,ZZ.jsx)("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"}),"FormatAlignRight");var Um={},XZ=kt;Object.defineProperty(Um,"__esModule",{value:!0});var jk=Um.default=void 0,QZ=XZ(Mt()),eX=St();jk=Um.default=(0,QZ.default)((0,eX.jsx)("path",{d:"M3 21h18v-2H3zm0-4h18v-2H3zm0-4h18v-2H3zm0-4h18V7H3zm0-6v2h18V3z"}),"FormatAlignJustify");var Gm={},tX=kt;Object.defineProperty(Gm,"__esModule",{value:!0});var zk=Gm.default=void 0,nX=tX(Mt()),rX=St();zk=Gm.default=(0,nX.default)((0,rX.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");var Km={},oX=kt;Object.defineProperty(Km,"__esModule",{value:!0});var Hk=Km.default=void 0,iX=oX(Mt()),sX=St();Hk=Km.default=(0,iX.default)((0,sX.jsx)("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic");var qm={},aX=kt;Object.defineProperty(qm,"__esModule",{value:!0});var Vk=qm.default=void 0,lX=aX(Mt()),cX=St();Vk=qm.default=(0,lX.default)((0,cX.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");var Ym={},uX=kt;Object.defineProperty(Ym,"__esModule",{value:!0});var Wk=Ym.default=void 0,dX=uX(Mt()),pX=St();Wk=Ym.default=(0,dX.default)((0,pX.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo");var Jm={},fX=kt;Object.defineProperty(Jm,"__esModule",{value:!0});var Uk=Jm.default=void 0,hX=fX(Mt()),mX=St();Uk=Jm.default=(0,hX.default)((0,mX.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"}),"Redo");var Zm={},gX=kt;Object.defineProperty(Zm,"__esModule",{value:!0});var Gk=Zm.default=void 0,vX=gX(Mt()),yX=St();Gk=Zm.default=(0,vX.default)((0,yX.jsx)("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"}),"FormatUnderlined");var Xm={},bX=kt;Object.defineProperty(Xm,"__esModule",{value:!0});var Kk=Xm.default=void 0,xX=bX(Mt()),wX=St();Kk=Xm.default=(0,xX.default)((0,wX.jsx)("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"}),"FormatStrikethrough");var Qm={},CX=kt;Object.defineProperty(Qm,"__esModule",{value:!0});var qk=Qm.default=void 0,SX=CX(Mt()),kX=St();qk=Qm.default=(0,SX.default)((0,kX.jsx)("path",{d:"M22 7h-2v1h3v1h-4V7c0-.55.45-1 1-1h2V5h-3V4h3c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M5.88 20h2.66l3.4-5.42h.12l3.4 5.42h2.66l-4.65-7.27L17.81 6h-2.68l-3.07 4.99h-.12L8.85 6H6.19l4.32 6.73z"}),"Superscript");var eg={},MX=kt;Object.defineProperty(eg,"__esModule",{value:!0});var Yk=eg.default=void 0,EX=MX(Mt()),TX=St();Yk=eg.default=(0,EX.default)((0,TX.jsx)("path",{d:"M22 18h-2v1h3v1h-4v-2c0-.55.45-1 1-1h2v-1h-3v-1h3c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M5.88 18h2.66l3.4-5.42h.12l3.4 5.42h2.66l-4.65-7.27L17.81 4h-2.68l-3.07 4.99h-.12L8.85 4H6.19l4.32 6.73z"}),"Subscript");var tg={},OX=kt;Object.defineProperty(tg,"__esModule",{value:!0});var Jk=tg.default=void 0,LX=OX(Mt()),AX=St();Jk=tg.default=(0,LX.default)((0,AX.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"}),"FormatListNumbered");var ng={},PX=kt;Object.defineProperty(ng,"__esModule",{value:!0});var Zk=ng.default=void 0,RX=PX(Mt()),DX=St();Zk=ng.default=(0,RX.default)((0,DX.jsx)("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),"FormatQuote");var rg={},IX=kt;Object.defineProperty(rg,"__esModule",{value:!0});var og=rg.default=void 0,$X=IX(Mt()),NX=St();og=rg.default=(0,$X.default)((0,NX.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code");const _X={name:"normal-text",label:"Normal Text",Component:OZ,shortcut:{mac:"Cmd+Alt+0",pc:"Ctrl+Alt+0"}},FX={name:"heading-1",label:"Heading 1",Component:LZ,shortcut:{mac:"Cmd+Alt+1",pc:"Ctrl+Alt+1"}},BX={name:"heading-2",label:"Heading 2",Component:AZ,shortcut:{mac:"Cmd+Alt+2",pc:"Ctrl+Alt+2"}},jX={name:"heading-3",label:"Heading 3",Component:PZ,shortcut:{mac:"Cmd+Alt+3",pc:"Ctrl+Alt+3"}},zX={name:"heading-4",label:"Heading 4",Component:RZ,shortcut:{mac:"Cmd+Alt+4",pc:"Ctrl+Alt+4"}},HX={name:"heading-5",label:"Heading 5",Component:DZ,shortcut:{mac:"Cmd+Alt+5",pc:"Ctrl+Alt+5"}},VX={name:"heading-6",label:"Heading 6",Component:IZ,shortcut:{mac:"Cmd+Alt+6",pc:"Ctrl+Alt+6"}},WX={name:"headings",label:"Headings",MenuButton:NZ,controls:[_X,FX,BX,jX,zX,HX,VX]},Xk={name:"bold",label:"Bold",cmd:({editor:t})=>t.chain().focus().toggleBold().run(),Icon:$k,shortcut:{mac:"Cmd+B",pc:"Ctrl+B"}},Qk={name:"italic",label:"Italic",cmd:({editor:t})=>t.chain().focus().toggleItalic().run(),Icon:Hk,shortcut:{mac:"Cmd+I",pc:"Ctrl+I"}},eM={name:"underline",label:"Underline",cmd:({editor:t})=>t.chain().focus().toggleUnderline().run(),Icon:Gk,shortcut:{mac:"Cmd+U",pc:"Ctrl+U"}},tM={name:"strike",label:"Strikethrough",cmd:({editor:t})=>t.chain().focus().toggleStrike().run(),Icon:Kk,shortcut:{mac:"Cmd+Shift+S",pc:"Ctrl+Shift+S"}},nM={name:"superscript",label:"Superscript",cmd:({editor:t})=>t.chain().focus().toggleSuperscript().run(),Icon:qk,shortcut:{mac:"Cmd+.",pc:"Ctrl+."}},rM={name:"subscript",label:"Subscript",cmd:({editor:t})=>t.chain().focus().toggleSubscript().run(),Icon:Yk,shortcut:{mac:"Cmd+,",pc:"Ctrl+,"}},oM={name:"clear",label:"Clear Formatting",cmd:({editor:t})=>t.chain().focus().unsetAllMarks().run(),Icon:Nk},UX={name:"bulletList",label:"Bullet List",cmd:({editor:t})=>t.chain().focus().toggleBulletList().run(),Icon:rT,shortcut:{mac:"Cmd+Shift+8",pc:"Ctrl+Shift+8"}},GX={name:"orderedList",label:"Ordered List",cmd:({editor:t})=>t.chain().focus().toggleOrderedList().run(),Icon:Jk,shortcut:{mac:"Cmd+Shift+7",pc:"Ctrl+Shift+7"}},KX={name:"alignLeft",label:"Align Left",cmd:({editor:t})=>t.chain().focus().setTextAlign("left").run(),Icon:_k,shortcut:{mac:"Cmd+Shift+L",pc:"Ctrl+Shift+L"}},qX={name:"alignCenter",label:"Align Center",cmd:({editor:t})=>t.chain().focus().setTextAlign("center").run(),Icon:Fk,shortcut:{mac:"Cmd+Shift+E",pc:"Ctrl+Shift+E"}},YX={name:"alignRight",label:"Align Right",cmd:({editor:t})=>t.chain().focus().setTextAlign("right").run(),Icon:Bk,shortcut:{mac:"Cmd+Shift+R",pc:"Ctrl+Shift+R"}},JX={name:"alignJustify",label:"Align Justify",cmd:({editor:t})=>t.chain().focus().setTextAlign("justify").run(),Icon:jk,shortcut:{mac:"Cmd+Shift+J",pc:"Ctrl+Shift+J"}},iM={name:"link",label:"Link",cmd:({editor:t,inputSettings:{onLink:e,allowedLinkProtocols:n=Jw}})=>{var u;const{view:r}=t,{state:o,state:{selection:{from:i,to:s}}}=r,a=t.isActive("link")&&t.getAttributes("link"),l=a?(u=t.state.doc.nodeAt(i-1))==null?void 0:u.textContent:o.doc.textBetween(i,s),c={url:a.href,newTab:a.target==="_blank",text:l};e({...c,updateLink:({url:d,newTab:p,text:f})=>{const{state:{selection:{from:m,to:g}}}=t;t.isActive("link")?t.state.doc.nodesBetween(m-1,m,(y,b)=>{if(y.type.name==="text")return t.chain().focus().extendMarkRange("link").setLink({href:P0(d,n),target:p?"_blank":""}).insertContentAt({from:b,to:b+y.nodeSize-1},f).insertContentAt({from:b+f.length,to:b+f.length+1},"").extendMarkRange("link").run(),!1}):t.chain().insertContentAt({from:m,to:g},f).setTextSelection({from:m,to:m+f.length}).focus().extendMarkRange("link").setLink({href:P0(d,n),target:p?"_blank":""}).run()}})},Icon:Vk},sM={name:"linkPreview",label:"Open URL in new tab",cmd:({editor:t})=>{const e=t.state.selection.$to.marks().find(({type:n})=>n.name==="link");!e||!e.attrs.href||window.open(e.attrs.href,"_blank")},Icon:Bm},aM={name:"image",label:"Image",cmd:({editor:t,inputSettings:{onImage:e}})=>{const n=t.state.selection.node,r=(n==null?void 0:n.type.name)==="image"?n:void 0,o={src:(r==null?void 0:r.attrs.src)||"",alt:r==null?void 0:r.attrs.alt};e({...o,updateImage:i=>t.chain().focus().setImage(i).run()})},Icon:zk},ZX={name:"codeBlock",label:"Code Block",cmd:({editor:t})=>t.chain().focus().toggleCodeBlock().run(),Icon:og,shortcut:{mac:"Cmd+Alt+C",pc:"Ctrl+Alt+C"}},XX={name:"blockquote",label:"Quote",cmd:({editor:t})=>t.chain().focus().toggleBlockquote().run(),Icon:Zk,shortcut:{mac:"Cmd+Shift+B",pc:"Ctrl+Shift+B"}},QX={name:"undo",label:"Undo",cmd:({editor:t})=>t.chain().focus().undo().run(),Icon:Wk,shortcut:{mac:"Cmd+Z",pc:"Ctrl+Z"}},eQ={name:"redo",label:"Redo",cmd:({editor:t})=>t.chain().focus().redo().run(),Icon:Uk,shortcut:{mac:"Cmd+Y",pc:"Ctrl+Y"}},tQ=[KX,qX,YX,JX,WX,Xk,Qk,eM,tM,nM,rM,oM,UX,GX,iM,sM,aM,ZX,XX,QX,eQ];function nQ(t){return!("MenuButton"in t)&&!Array.isArray(t)}function lM(t,e){if(typeof t=="string"){const n=tQ.find(({name:r})=>r===t);if(n){const r=Rl(n.show,{selectionTypes:e});if(Dl(r))return n}}else if(Array.isArray(t)){const n=[];for(const r of t){const o=lM(r,e);if(o){if(!nQ(o))throw new Error("Menu controls only allow standard controls as their children.");const i=Rl(o.show,{selectionTypes:e});Dl(i)&&n.push(o)}}if(n.length)return n}else{const n=Rl(t.show,{selectionTypes:e});if(Dl(n))return t}}function rQ(t,e){const n=[];for(const r of t){const o=[];for(const i of r){const s=lM(i,e);s&&o.push(s)}o.length&&n.push(o)}return n}const oQ=[{label:"Visual",value:"visual"},{label:"Source",value:"code"}];function iQ({mode:t,onChange:e,focus:n}){return v.jsx(hZ,{children:oQ.map(({value:r,label:o})=>v.jsx(mZ,{onClick:()=>e(r),$active:r===t,$focus:n,children:o},r))})}function cM({editor:t,controls:e,selectionTypes:n,inputSettings:r={},disabled:o}){const i=h.useMemo(()=>rQ(e,n),[e,n]);return v.jsx(cZ,{children:i.map((s,a)=>v.jsx(uZ,{children:s.map((l,c)=>Array.isArray(l)?v.jsx(Ub,{editor:t,controls:l,inputSettings:r,testId:`${Ar.TEXT_EDITOR_CONTROL}:menu-${a}-${c}`,disabled:o},c):"MenuButton"in l?v.jsx(Ub,{editor:t,controls:l.controls,MenuButton:l.MenuButton,inputSettings:r,disabled:o},c):"Component"in l?h.createElement(l.Component,{...l,key:c,editor:t,inputSettings:r,"data-testid":`${Ar.TEXT_EDITOR_CONTROL}:${l.name}`,disabled:o}):v.jsx(Ik,{onClick:u=>l.cmd({editor:t,inputSettings:r,event:u}),label:l.label,shortcut:l.shortcut,active:t.isActive(l.name),square:!0,"data-testid":`${Ar.TEXT_EDITOR_CONTROL}:${l.name}`,disabled:o,children:v.jsx(l.Icon,{})},l.name))},a))})}function sQ(){return v.jsx(QJ,{className:"tiptap-flex",contentEditable:!1,children:v.jsxs("div",{className:"tiptap-pill",draggable:!0,"data-drag-handle":"",children:[v.jsx(og,{})," ","Script"]})})}function uM(t,e){const r=new DOMParser().parseFromString(t,"text/html");return Wh(r.body,e),r.body.innerHTML}const ql=Kn.create({name:"script",group:"block",content:"inline*",code:!0,draggable:!0,parseHTML(){return[{tag:"script",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:t}){return["span",It({"data-type":this.name},this.options.HTMLAttributes,t),0]},addNodeView(){return oZ(sQ,{className:"tiptap-block"})}});function aQ(t){return t.includes(`<span data-type="${ql.name}">`)?uM(t,({elem:e})=>{if(!e||e.tagName.toLowerCase()!=="span"||e.getAttribute("data-type")!==ql.name)return;const n=e.outerHTML.replace(new RegExp(`^<span data-type="${ql.name}">`),"<script>").replace(/<\/span>$/,"<\/script>");e.outerHTML=n}):t}const lQ=["embed","hr","img","input","link"];function dM(t){if(t.textContent.length)return!1;const e=Array.from(t.childNodes);if(!e.length)return!0;const n={content:0,totalElements:0,inlineElements:0,blockElements:0};for(const r of e){if(hc(r)){if(lQ.includes(r.tagName.toLowerCase())){n.content++;continue}if(!dM(r))return!1;n.totalElements++,fc(r)?n.blockElements++:n.inlineElements++}Zw(r)&&n.content++}return n.content?!1:n.totalElements===n.inlineElements?!0:!(n.totalElements>1&&n.blockElements)}const cQ=[{name:"offset",options:{offset:[0,5]}}];function uQ({anchor:t,open:e,isBusy:n,...r}){return v.jsx(si,{anchorEl:t,open:e,modifiers:cQ,children:v.jsx(aZ,{onMouseEnter:()=>n.current=!0,onMouseDown:()=>n.current=!0,onMouseLeave:()=>n.current=!1,children:v.jsx(cM,{...r})})})}const dQ=/^\s*>\s$/,pQ=Kn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Oa({find:dQ,type:this.type})]}}),fQ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,hQ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,mQ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,gQ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,vQ=Un.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[fs({find:fQ,type:this.type}),fs({find:mQ,type:this.type})]},addPasteRules(){return[oi({find:hQ,type:this.type}),oi({find:gQ,type:this.type})]}}),ig=Kn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",It(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Rc=Un.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",It(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Am(t,this.type);return Object.entries(n).some(([,o])=>!!o)?!0:e.unsetMark(this.name)}}}}),Gb=/^\s*([-+*])\s$/,yQ=Kn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",It(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ig.name,this.editor.getAttributes(Rc.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Oa({find:Gb,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Oa({find:Gb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Rc.name),editor:this.editor})),[t]}}),bQ=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,xQ=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,wQ=Un.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[fs({find:bQ,type:this.type})]},addPasteRules(){return[oi({find:xQ,type:this.type})]}}),CQ=/^```([a-z]+)?[\s\n]$/,SQ=/^~~~([a-z]+)?[\s\n]$/,kQ=Kn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",It(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!i||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Ze.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[vf({find:CQ,type:this.type,getAttributes:t=>({language:t[1]})}),vf({find:SQ,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new vn({key:new Gn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=o==null?void 0:o.mode;if(!n||!i)return!1;const{tr:s,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:i},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(qe.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}});function MQ(t={}){return new vn({view(e){return new EQ(e,t)}})}class EQ{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let i=s=>{this[o](s)};return e.dom.addEventListener(o,i),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,s;if(!o||o==document.body&&getComputedStyle(o).position=="static")i=-pageXOffset,s=-pageYOffset;else{let a=o.getBoundingClientRect();i=a.left-o.scrollLeft,s=a.top-o.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!i){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=YC(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const TQ=Pn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[MQ(this.options)]}}),OQ=Kn.create({name:"doc",topNode:!0,content:"block+"}),LQ=Kn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",It(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:i}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=i||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(p=>a.includes(p.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),AQ=Kn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,It(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>vf({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Dc=200,rn=function(){};rn.prototype.append=function(e){return e.length?(e=rn.from(e),!this.length&&e||e.length<Dc&&this.leafAppend(e)||this.length<Dc&&e.leafPrepend(this)||this.appendInner(e)):this};rn.prototype.prepend=function(e){return e.length?rn.from(e).append(this):this};rn.prototype.appendInner=function(e){return new PQ(this,e)};rn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?rn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};rn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};rn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};rn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(i,s){return o.push(e(i,s))},n,r),o};rn.from=function(e){return e instanceof rn?e:e&&e.length?new pM(e):rn.empty};var pM=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new e(this.values.slice(o,i))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,i,s,a){for(var l=i;l<s;l++)if(o(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,i,s,a){for(var l=i-1;l>=s;l--)if(o(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Dc)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Dc)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(rn);rn.empty=new pM([]);var PQ=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,i,s){var a=this.left.length;if(o<a&&this.left.forEachInner(r,o,Math.min(i,a),s)===!1||i>a&&this.right.forEachInner(r,Math.max(o-a,0),Math.min(this.length,i)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,i,s){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(r,o-a,Math.max(i,a)-a,s+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(o,a),i,s)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(r,o):r>=i?this.right.slice(r-i,o-i):this.left.slice(r,i).append(this.right.slice(0,o-i))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(rn);const RQ=500;class mr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;n&&(o=this.remapping(r,this.items.length),i=o.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,p)=>{if(!d.step){o||(o=this.remapping(r,p+1),i=o.maps.length),i--,u.push(d);return}if(o){u.push(new kr(d.map));let f=d.step.map(o.slice(i)),m;f&&s.maybeStep(f).doc&&(m=s.mapping.maps[s.mapping.maps.length-1],c.push(new kr(m,void 0,void 0,c.length+u.length))),i--,m&&o.appendMap(m,i)}else s.maybeStep(d.step);if(d.selection)return a=o?d.selection.map(o.slice(i)):d.selection,l=new mr(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,o){let i=[],s=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),p=new kr(e.mapping.maps[u],d,n),f;(f=l&&l.merge(p))&&(p=f,u?i.pop():a=a.slice(0,a.length-1)),i.push(p),n&&(s++,n=void 0),o||(l=p)}let c=s-r.depth;return c>IQ&&(a=DQ(a,c),s-=c),new mr(a.append(i),s)}remapping(e,n){let r=new KC;return this.items.forEach((o,i)=>{let s=o.mirrorOffset!=null&&i-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new mr(this.items.append(e.map(n=>new kr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),i=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},o);let l=n;this.items.forEach(p=>{let f=i.getMirror(--l);if(f==null)return;s=Math.min(s,f);let m=i.maps[f];if(p.step){let g=e.steps[f].invert(e.docs[f]),y=p.selection&&p.selection.map(i.slice(l+1,f));y&&a++,r.push(new kr(m,g,y))}else r.push(new kr(m))},o);let c=[];for(let p=n;p<s;p++)c.push(new kr(i.maps[p]));let u=this.items.slice(0,o).append(c).append(r),d=new mr(u,a);return d.emptyItemCount()>RQ&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],i=0;return this.items.forEach((s,a)=>{if(a>=e)o.push(s),s.selection&&i++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&i++;let d=new kr(c.invert(),l,u),p,f=o.length-1;(p=o.length&&o[f].merge(d))?o[f]=p:o.push(d)}}else s.map&&r--},this.items.length,0),new mr(rn.from(o.reverse()),i)}}mr.empty=new mr(rn.empty,0);function DQ(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}class kr{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new kr(n.getMap().invert(),n,this.selection)}}}class lo{constructor(e,n,r,o,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const IQ=20;function $Q(t,e,n,r){let o=n.getMeta(Zo),i;if(o)return o.historyState;n.getMeta(FQ)&&(t=new lo(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Zo))return s.getMeta(Zo).redo?new lo(t.done.addTransform(n,void 0,r,Yl(e)),t.undone,Kb(n.mapping.maps),t.prevTime,t.prevComposition):new lo(t.done,t.undone.addTransform(n,void 0,r,Yl(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!NQ(n,t.prevRanges)),c=s?rp(t.prevRanges,n.mapping):Kb(n.mapping.maps);return new lo(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Yl(e)),mr.empty,c,n.time,a??t.prevComposition)}else return(i=n.getMeta("rebased"))?new lo(t.done.rebased(n,i),t.undone.rebased(n,i),rp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new lo(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),rp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function NQ(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&o>=e[i]&&(n=!0)}),n}function Kb(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,o,i,s)=>e.push(i,s));return e}function rp(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function _Q(t,e,n){let r=Yl(e),o=Zo.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),a=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),o,r),l=new lo(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(s).setMeta(Zo,{redo:n,historyState:l})}let op=!1,qb=null;function Yl(t){let e=t.plugins;if(qb!=e){op=!1,qb=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){op=!0;break}}return op}const Zo=new Gn("history"),FQ=new Gn("closeHistory");function BQ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new vn({key:Zo,state:{init(){return new lo(mr.empty,mr.empty,null,0,-1)},apply(e,n,r){return $Q(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?hM:r=="historyRedo"?mM:null;return o?(n.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function fM(t,e){return(n,r)=>{let o=Zo.getState(n);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(r){let i=_Q(o,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const hM=fM(!1,!0),mM=fM(!0,!0),jQ=Pn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>hM(t,e),redo:()=>({state:t,dispatch:e})=>mM(t,e)}},addProseMirrorPlugins(){return[BQ(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),zQ=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,HQ=Kn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",It(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[AJ({find:zQ,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),VQ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,WQ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,UQ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,GQ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,KQ=Un.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[fs({find:VQ,type:this.type}),fs({find:UQ,type:this.type})]},addPasteRules(){return[oi({find:WQ,type:this.type}),oi({find:GQ,type:this.type})]}}),qQ="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",YQ="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",hs=(t,e)=>{for(const n in e)t[n]=e[n];return t},xf="numeric",wf="ascii",Cf="alpha",Jl="asciinumeric",Ol="alphanumeric",Sf="domain",gM="emoji",JQ="scheme",ZQ="slashscheme",Yb="whitespace";function XQ(t,e){return t in e||(e[t]=[]),e[t]}function Uo(t,e,n){e[xf]&&(e[Jl]=!0,e[Ol]=!0),e[wf]&&(e[Jl]=!0,e[Cf]=!0),e[Jl]&&(e[Ol]=!0),e[Cf]&&(e[Ol]=!0),e[Ol]&&(e[Sf]=!0),e[gM]&&(e[Sf]=!0);for(const r in e){const o=XQ(r,n);o.indexOf(t)<0&&o.push(t)}}function QQ(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Ln(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Ln.groups={};Ln.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],i=e.jr[r][1];if(i&&o.test(t))return i}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let o=0;o<t.length;o++)this.tt(t[o],e,n,r)},tr(t,e,n,r){r=r||Ln.groups;let o;return e&&e.j?o=e:(o=new Ln(e),n&&r&&Uo(e,n,r)),this.jr.push([t,o]),o},ts(t,e,n,r){let o=this;const i=t.length;if(!i)return o;for(let s=0;s<i-1;s++)o=o.tt(t[s]);return o.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Ln.groups;const o=this;if(e&&e.j)return o.j[t]=e,e;const i=e;let s,a=o.go(t);if(a?(s=new Ln,hs(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Ln,i){if(r)if(s.t&&typeof s.t=="string"){const l=hs(QQ(s.t,r),n);Uo(i,l,r)}else n&&Uo(i,n,r);s.t=i}return o.j[t]=s,s}};const Ge=(t,e,n,r,o)=>t.ta(e,n,r,o),er=(t,e,n,r,o)=>t.tr(e,n,r,o),Jb=(t,e,n,r,o)=>t.ts(e,n,r,o),Ce=(t,e,n,r,o)=>t.tt(e,n,r,o),zr="WORD",kf="UWORD",La="LOCALHOST",Mf="TLD",Ef="UTLD",Zl="SCHEME",Ki="SLASH_SCHEME",sg="NUM",vM="WS",ag="NL",da="OPENBRACE",pa="CLOSEBRACE",Ic="OPENBRACKET",$c="CLOSEBRACKET",Nc="OPENPAREN",_c="CLOSEPAREN",Fc="OPENANGLEBRACKET",Bc="CLOSEANGLEBRACKET",jc="FULLWIDTHLEFTPAREN",zc="FULLWIDTHRIGHTPAREN",Hc="LEFTCORNERBRACKET",Vc="RIGHTCORNERBRACKET",Wc="LEFTWHITECORNERBRACKET",Uc="RIGHTWHITECORNERBRACKET",Gc="FULLWIDTHLESSTHAN",Kc="FULLWIDTHGREATERTHAN",qc="AMPERSAND",Yc="APOSTROPHE",Jc="ASTERISK",co="AT",Zc="BACKSLASH",Xc="BACKTICK",Qc="CARET",po="COLON",lg="COMMA",eu="DOLLAR",Mr="DOT",tu="EQUALS",cg="EXCLAMATION",Er="HYPHEN",nu="PERCENT",ru="PIPE",ou="PLUS",iu="POUND",su="QUERY",ug="QUOTE",dg="SEMI",Tr="SLASH",fa="TILDE",au="UNDERSCORE",yM="EMOJI",lu="SYM";var bM=Object.freeze({__proto__:null,WORD:zr,UWORD:kf,LOCALHOST:La,TLD:Mf,UTLD:Ef,SCHEME:Zl,SLASH_SCHEME:Ki,NUM:sg,WS:vM,NL:ag,OPENBRACE:da,CLOSEBRACE:pa,OPENBRACKET:Ic,CLOSEBRACKET:$c,OPENPAREN:Nc,CLOSEPAREN:_c,OPENANGLEBRACKET:Fc,CLOSEANGLEBRACKET:Bc,FULLWIDTHLEFTPAREN:jc,FULLWIDTHRIGHTPAREN:zc,LEFTCORNERBRACKET:Hc,RIGHTCORNERBRACKET:Vc,LEFTWHITECORNERBRACKET:Wc,RIGHTWHITECORNERBRACKET:Uc,FULLWIDTHLESSTHAN:Gc,FULLWIDTHGREATERTHAN:Kc,AMPERSAND:qc,APOSTROPHE:Yc,ASTERISK:Jc,AT:co,BACKSLASH:Zc,BACKTICK:Xc,CARET:Qc,COLON:po,COMMA:lg,DOLLAR:eu,DOT:Mr,EQUALS:tu,EXCLAMATION:cg,HYPHEN:Er,PERCENT:nu,PIPE:ru,PLUS:ou,POUND:iu,QUERY:su,QUOTE:ug,SEMI:dg,SLASH:Tr,TILDE:fa,UNDERSCORE:au,EMOJI:yM,SYM:lu});const ki=/[a-z]/,ip=new RegExp("\\p{L}","u"),sp=new RegExp("\\p{Emoji}","u"),ap=/\d/,Zb=/\s/,Xb=`
`,eee="️",tee="‍";let Ll=null,Al=null;function nee(t){t===void 0&&(t=[]);const e={};Ln.groups=e;const n=new Ln;Ll==null&&(Ll=Qb(qQ)),Al==null&&(Al=Qb(YQ)),Ce(n,"'",Yc),Ce(n,"{",da),Ce(n,"}",pa),Ce(n,"[",Ic),Ce(n,"]",$c),Ce(n,"(",Nc),Ce(n,")",_c),Ce(n,"<",Fc),Ce(n,">",Bc),Ce(n,"（",jc),Ce(n,"）",zc),Ce(n,"「",Hc),Ce(n,"」",Vc),Ce(n,"『",Wc),Ce(n,"』",Uc),Ce(n,"＜",Gc),Ce(n,"＞",Kc),Ce(n,"&",qc),Ce(n,"*",Jc),Ce(n,"@",co),Ce(n,"`",Xc),Ce(n,"^",Qc),Ce(n,":",po),Ce(n,",",lg),Ce(n,"$",eu),Ce(n,".",Mr),Ce(n,"=",tu),Ce(n,"!",cg),Ce(n,"-",Er),Ce(n,"%",nu),Ce(n,"|",ru),Ce(n,"+",ou),Ce(n,"#",iu),Ce(n,"?",su),Ce(n,'"',ug),Ce(n,"/",Tr),Ce(n,";",dg),Ce(n,"~",fa),Ce(n,"_",au),Ce(n,"\\",Zc);const r=er(n,ap,sg,{[xf]:!0});er(r,ap,r);const o=er(n,ki,zr,{[wf]:!0});er(o,ki,o);const i=er(n,ip,kf,{[Cf]:!0});er(i,ki),er(i,ip,i);const s=er(n,Zb,vM,{[Yb]:!0});Ce(n,Xb,ag,{[Yb]:!0}),Ce(s,Xb),er(s,Zb,s);const a=er(n,sp,yM,{[gM]:!0});er(a,sp,a),Ce(a,eee,a);const l=Ce(a,tee);er(l,sp,a);const c=[[ki,o]],u=[[ki,null],[ip,i]];for(let d=0;d<Ll.length;d++)no(n,Ll[d],Mf,zr,c);for(let d=0;d<Al.length;d++)no(n,Al[d],Ef,kf,u);Uo(Mf,{tld:!0,ascii:!0},e),Uo(Ef,{utld:!0,alpha:!0},e),no(n,"file",Zl,zr,c),no(n,"mailto",Zl,zr,c),no(n,"http",Ki,zr,c),no(n,"https",Ki,zr,c),no(n,"ftp",Ki,zr,c),no(n,"ftps",Ki,zr,c),Uo(Zl,{scheme:!0,ascii:!0},e),Uo(Ki,{slashscheme:!0,ascii:!0},e),t=t.sort((d,p)=>d[0]>p[0]?1:-1);for(let d=0;d<t.length;d++){const p=t[d][0],m=t[d][1]?{[JQ]:!0}:{[ZQ]:!0};p.indexOf("-")>=0?m[Sf]=!0:ki.test(p)?ap.test(p)?m[Jl]=!0:m[wf]=!0:m[xf]=!0,Jb(n,p,p,m)}return Jb(n,"localhost",La,{ascii:!0}),n.jd=new Ln(lu),{start:n,tokens:hs({groups:e},bM)}}function ree(t,e){const n=oee(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,o=[];let i=0,s=0;for(;s<r;){let a=t,l=null,c=0,u=null,d=-1,p=-1;for(;s<r&&(l=a.go(n[s]));)a=l,a.accepts()?(d=0,p=0,u=a):d>=0&&(d+=n[s].length,p++),c+=n[s].length,i+=n[s].length,s++;i-=d,s-=p,c-=d,o.push({t:u.t,v:e.slice(i-c,i),s:i-c,e:i})}return o}function oee(t){const e=[],n=t.length;let r=0;for(;r<n;){let o=t.charCodeAt(r),i,s=o<55296||o>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function no(t,e,n,r,o){let i;const s=e.length;for(let a=0;a<s-1;a++){const l=e[a];t.j[l]?i=t.j[l]:(i=new Ln(r),i.jr=o.slice(),t.j[l]=i),t=i}return i=new Ln(n),i.jr=o.slice(),t.j[e[s-1]]=i,i}function Qb(t){const e=[],n=[];let r=0,o="0123456789";for(;r<t.length;){let i=0;for(;o.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let s=parseInt(t.substring(r,r+i),10);s>0;s--)n.pop();r+=i}else n.push(t[r]),r++}return e}const Aa={defaultProtocol:"http",events:null,format:ex,formatHref:ex,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function pg(t,e){e===void 0&&(e=null);let n=hs({},Aa);t&&(n=hs(n,t instanceof pg?t.o:t));const r=n.ignoreTags,o=[];for(let i=0;i<r.length;i++)o.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=o}pg.prototype={o:Aa,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let o=this.o[t];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:Aa[t],typeof o=="function"&&r&&(o=o(e,n))):typeof o=="function"&&r&&(o=o(e,n.t,n)),o)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function ex(t){return t}function xM(t,e){this.t="token",this.v=t,this.tk=e}xM.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Aa.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),o=t.get("tagName",n,e),i=this.toFormattedString(t),s={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return s.href=r,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),u&&hs(s,u),{tagName:o,attributes:s,content:i,eventListeners:d}}};function Gu(t,e){class n extends xM{constructor(o,i){super(o,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const tx=Gu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),nx=Gu("text"),iee=Gu("nl"),Pl=Gu("url",{isLink:!0,toHref(t){return t===void 0&&(t=Aa.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==La&&t[1].t===po}}),tr=t=>new Ln(t);function see(t){let{groups:e}=t;const n=e.domain.concat([qc,Jc,co,Zc,Xc,Qc,eu,tu,Er,sg,nu,ru,ou,iu,Tr,lu,fa,au]),r=[Yc,po,lg,Mr,cg,su,ug,dg,Fc,Bc,da,pa,$c,Ic,Nc,_c,jc,zc,Hc,Vc,Wc,Uc,Gc,Kc],o=[qc,Yc,Jc,Zc,Xc,Qc,eu,tu,Er,da,pa,nu,ru,ou,iu,su,Tr,lu,fa,au],i=tr(),s=Ce(i,fa);Ge(s,o,s),Ge(s,e.domain,s);const a=tr(),l=tr(),c=tr();Ge(i,e.domain,a),Ge(i,e.scheme,l),Ge(i,e.slashscheme,c),Ge(a,o,s),Ge(a,e.domain,a);const u=Ce(a,co);Ce(s,co,u),Ce(l,co,u),Ce(c,co,u);const d=Ce(s,Mr);Ge(d,o,s),Ge(d,e.domain,s);const p=tr();Ge(u,e.domain,p),Ge(p,e.domain,p);const f=Ce(p,Mr);Ge(f,e.domain,p);const m=tr(tx);Ge(f,e.tld,m),Ge(f,e.utld,m),Ce(u,La,m);const g=Ce(p,Er);Ge(g,e.domain,p),Ge(m,e.domain,p),Ce(m,Mr,f),Ce(m,Er,g);const y=Ce(m,po);Ge(y,e.numeric,tx);const b=Ce(a,Er),x=Ce(a,Mr);Ge(b,e.domain,a),Ge(x,o,s),Ge(x,e.domain,a);const C=tr(Pl);Ge(x,e.tld,C),Ge(x,e.utld,C),Ge(C,e.domain,a),Ge(C,o,s),Ce(C,Mr,x),Ce(C,Er,b),Ce(C,co,u);const E=Ce(C,po),k=tr(Pl);Ge(E,e.numeric,k);const w=tr(Pl),M=tr();Ge(w,n,w),Ge(w,r,M),Ge(M,n,w),Ge(M,r,M),Ce(C,Tr,w),Ce(k,Tr,w);const T=Ce(l,po),D=Ce(c,po),P=Ce(D,Tr),U=Ce(P,Tr);Ge(l,e.domain,a),Ce(l,Mr,x),Ce(l,Er,b),Ge(c,e.domain,a),Ce(c,Mr,x),Ce(c,Er,b),Ge(T,e.domain,w),Ce(T,Tr,w),Ge(U,e.domain,w),Ge(U,n,w),Ce(U,Tr,w);const N=[[da,pa],[Ic,$c],[Nc,_c],[Fc,Bc],[jc,zc],[Hc,Vc],[Wc,Uc],[Gc,Kc]];for(let q=0;q<N.length;q++){const[R,B]=N[q],z=Ce(w,R);Ce(M,R,z),Ce(z,B,w);const I=tr(Pl);Ge(z,n,I);const oe=tr();Ge(z,r),Ge(I,n,I),Ge(I,r,oe),Ge(oe,n,I),Ge(oe,r,oe),Ce(I,B,w),Ce(oe,B,w)}return Ce(i,La,C),Ce(i,ag,iee),{start:i,tokens:bM}}function aee(t,e,n){let r=n.length,o=0,i=[],s=[];for(;o<r;){let a=t,l=null,c=null,u=0,d=null,p=-1;for(;o<r&&!(l=a.go(n[o].t));)s.push(n[o++]);for(;o<r&&(c=l||a.go(n[o].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,o++,u++;if(p<0)o-=u,o<r&&(s.push(n[o]),o++);else{s.length>0&&(i.push(lp(nx,e,s)),s=[]),o-=p,u-=p;const f=d.t,m=n.slice(o-u,o);i.push(lp(f,e,m))}}return s.length>0&&i.push(lp(nx,e,s)),i}function lp(t,e,n){const r=n[0].s,o=n[n.length-1].e,i=e.slice(r,o);return new t(i,n)}const lee=typeof console<"u"&&console&&console.warn||(()=>{}),cee="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Tt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function uee(){Ln.groups={},Tt.scanner=null,Tt.parser=null,Tt.tokenQueue=[],Tt.pluginQueue=[],Tt.customSchemes=[],Tt.initialized=!1}function rx(t,e){if(e===void 0&&(e=!1),Tt.initialized&&lee(`linkifyjs: already initialized - will not register custom scheme "${t}" ${cee}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Tt.customSchemes.push([t,e])}function dee(){Tt.scanner=nee(Tt.customSchemes);for(let t=0;t<Tt.tokenQueue.length;t++)Tt.tokenQueue[t][1]({scanner:Tt.scanner});Tt.parser=see(Tt.scanner.tokens);for(let t=0;t<Tt.pluginQueue.length;t++)Tt.pluginQueue[t][1]({scanner:Tt.scanner,parser:Tt.parser});Tt.initialized=!0}function wM(t){return Tt.initialized||dee(),aee(Tt.parser.start,t,ree(Tt.scanner.start,t))}function CM(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new pg(n),o=wM(t),i=[];for(let s=0;s<o.length;s++){const a=o[s];a.isLink&&(!e||a.t===e)&&r.check(a)&&i.push(a.toFormattedObject(r))}return i}function pee(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function fee(t){return new vn({key:new Gn("autolink"),appendTransaction:(e,n,r)=>{const o=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),i=e.some(c=>c.getMeta("preventAutolink"));if(!o||i)return;const{tr:s}=r,a=HY(n.doc,[...e]);if(ZY(a).forEach(({newRange:c})=>{const u=WY(r.doc,c,f=>f.isTextblock);let d,p;if(u.length>1?(d=u[0],p=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):u.length&&r.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=u[0],p=r.doc.textBetween(d.pos,c.to,void 0," ")),d&&p){const f=p.split(" ").filter(b=>b!=="");if(f.length<=0)return!1;const m=f[f.length-1],g=d.pos+p.lastIndexOf(m);if(!m)return!1;const y=wM(m).map(b=>b.toObject(t.defaultProtocol));if(!pee(y))return!1;y.filter(b=>b.isLink).map(b=>({...b,from:g+b.start+1,to:g+b.end+1})).filter(b=>r.schema.marks.code?!r.doc.rangeHasMark(b.from,b.to,r.schema.marks.code):!0).filter(b=>t.validate(b.value)).forEach(b=>{Rm(b.from,b.to,r.doc).some(x=>x.mark.type===t.type)||s.addMark(b.from,b.to,t.type.create({href:b.href}))})}}),!!s.steps.length)return s}})}function hee(t){return new vn({key:new Gn("handleClickLink"),props:{handleClick:(e,n,r)=>{var o,i;if(r.button!==0||!e.editable)return!1;let s=r.target;const a=[];for(;s.nodeName!=="DIV";)a.push(s),s=s.parentNode;if(!a.find(p=>p.nodeName==="A"))return!1;const l=wk(e.state,t.type.name),c=r.target,u=(o=c==null?void 0:c.href)!==null&&o!==void 0?o:l.href,d=(i=c==null?void 0:c.target)!==null&&i!==void 0?i:l.target;return c&&u?(window.open(u,d),!0):!1}}})}function mee(t){return new vn({key:new Gn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:o}=e,{selection:i}=o,{empty:s}=i;if(s)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=CM(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)}}})}const gee=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function ox(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&n.push(o)}),!t||t.replace(gee,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const vee=Un.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){rx(t);return}rx(t.scheme,t.optionalSlashes)})},onDestroy(){uee()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!ox(e,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:t}){return ox(t.href,this.options.protocols)?["a",It(this.options.HTMLAttributes,t),0]:["a",It(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[oi({find:t=>{const e=[];if(t){const{validate:n}=this.options,r=CM(t).filter(o=>o.isLink&&n(o.value));r.length&&r.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(fee({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&t.push(hee({type:this.type})),this.options.linkOnPaste&&t.push(mee({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),ix=/^(\d+)\.\s$/,yee=Kn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",It(this.options.HTMLAttributes,n),0]:["ol",It(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ig.name,this.editor.getAttributes(Rc.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Oa({find:ix,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Oa({find:ix,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Rc.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),bee=Kn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),xee=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,wee=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Cee=Un.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[fs({find:xee,type:this.type})]},addPasteRules(){return[oi({find:wee,type:this.type})]}}),See=Un.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(t){return t!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sub",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setSubscript:()=>({commands:t})=>t.setMark(this.name),toggleSubscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSubscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),kee=Un.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(t){return t!=="super"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sup",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setSuperscript:()=>({commands:t})=>t.setMark(this.name),toggleSuperscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSuperscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),Mee=Kn.create({name:"text",group:"inline"}),Eee=Pn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Tee=Un.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Oee=["abbr","accept","accept-charset","accesskey","align","alink","allow","allowfullscreen","allowpaymentrequest","alt","anchor","archive","as","async","attributionsrc","autocapitalize","autocomplete","autocorrect","autofocus","autoplay","axis","background","behavior","bgcolor","blocking","border","bottommargin","browsingtopics","capture","cellpadding","cellspacing","char","charoff","charset","checked","cite","class","classid","clear","codebase","codetype","color","cols","colspan","compact","content","contenteditable","controls","controlslist","coords","credentialless","crossorigin","csp","data","data-*","datetime","declare","decoding","default","defer","dir","direction","dirname","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","elementtiming","enterkeyhint","exportparts","face","fetchpriority","for","form","formaction","formenctype","formmethod","formnovalidate","formtarget","frame","frameborder","headers","height","hidden","high","href","hreflang","hspace","http-equiv","id","imagesizes","imagesrcset","inert","inputmode","integrity","is","ismap","itemid","itemprop","itemref","itemscope","itemtype","kind","label","lang","language","leftmargin","link","list","loading","longdesc","loop","low","marginheight","marginwidth","max","maxlength","media","min","minlength","moz-opaque","multiple","muted","name","nomodule","nonce","noresize","noshade","onafterprint","onbeforeprint","onbeforeunload","onblur","onerror","onfocus","onhashchange","onlanguagechange","onload","onmessage","onoffline","ononline","onpopstate","onresize","onstorage","onunload","open","optimum","part","pattern","ping","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","profile","readonly","referrerpolicy","rel","required","rev","reversed","rightmargin","rows","rowspan","rules","sandbox","scope","scrollamount","scrolldelay","scrolling","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootmode","shadowrootserializable","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","standby","start","step","style","summary","tabindex","target","text","title","topmargin","translate","truespeed","type","usemap","valign","value","valuetype","version","virtualkeyboardpolicy","vlink","vspace","width","wrap","writingsuggestions","xmlns"],SM={};for(const t of Oee)SM[t]={default:void 0};const Lee=Kn.create({name:"wildCardContent",group:"block",content:"block*",inline:!1,atom:!1,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"*",getAttrs:t=>{const e={};for(const n of Array.from(t.attributes))e[n.name]=n.value;return{tagName:t.tagName.toLowerCase(),...e}}}]},renderHTML({node:t}){const{tagName:e,...n}=t.attrs;return[e,n,0]},addAttributes(){return{tagName:{default:"div"},...SM,...this.options.HTMLAttributes}}}),Aee=({autolink:t}={})=>[TQ,OQ,bee,Mee,vQ,pQ,wQ,kQ,HQ.configure({inline:!0}),KQ,Tee,Cee,kee,See,vee.configure({openOnClick:!1,autolink:t}),AQ.configure({levels:[1,2,3,4,5,6]}),yee,yQ,ig,LQ,jQ,ql,Eee.configure({types:["heading","paragraph"]}),Lee];function Pee(t,{space:e="&nbsp;",lt:n="&lt;",gt:r="&gt;"}={}){return uM(t,({index:o,parent:i,siblings:s,text:a})=>{const l=i.tagName.toLowerCase();if(!(l==="script"||l==="style")&&a&&Xw(a,s[o-1],s[o+1])){const c=a.textContent.replace(/\s(?:\s+)/g,d=>` ${e.repeat(d.length-1)}`).replace(/</g,n).replace(/>/g,r),u=document.createRange().createContextualFragment(c);a.replaceWith(u)}})}const Ree=[["headings"],["bold","italic",["underline","strike","superscript","subscript","clear"]],["bulletList","orderedList"],["alignLeft","alignCenter",["alignRight","alignJustify"]],["link",["image","codeBlock","blockquote"]],["undo","redo"]],Do=({selectionTypes:t=[]})=>t.includes("formatting"),Dee=[[{...Xk,show:Do},{...Qk,show:Do},[{...eM,show:Do},{...tM,show:Do},{...nM,show:Do},{...rM,show:Do},{...oM,show:Do}]],[{...iM,show:({selectionTypes:t=[]})=>!t.includes("image")},{...sM,show:({selectionTypes:t=[]})=>!t.includes("image")&&t.includes("link")}],[{...aM,show:({selectionTypes:t=[]})=>t.includes("image")}]];function cp({view:t,state:{selection:{from:e,to:n}}}){return{getBoundingClientRect:()=>QY(t,e,n)}}function Iee({value:t="",onChange:e,onBlur:n,fieldDef:{inputSettings:r={}},disabled:o,skeleton:i}){const{extensions:s,controls:a=Ree,autolink:l=!0,minHeight:c,maxHeight:u}=r,[d,p]=h.useState("visual"),[f,m]=h.useState(!1),g=h.useRef(!1),[y,b]=h.useState({open:!1,selectionTypes:[]}),[x,C]=h.useState(null),E=R=>{g.current=!1,C(R)},k=h.useMemo(()=>s||Aee({autolink:l}),[l,s]),w=h.useRef(!1),M=h.useRef(t),T=h.useCallback(({editor:R})=>{b(B=>{const{view:z}=R,{state:{selection:{from:I,to:oe}}}=z,me=[],te=R.isActive("link"),G=R.isActive("image");return te&&me.push("link"),G?me.push("image"):I!==oe&&me.push("formatting"),me.length>0?{open:!0,anchor:cp(R),selectionTypes:oC(B.selectionTypes,me).length?me:B.selectionTypes}:B.open?{open:!1,selectionTypes:[]}:B})},[]),D=()=>m(!0),P=()=>{n&&n(),m(!1)},U=JJ({content:String(t),extensions:k,onUpdate:({editor:R})=>{w.current=!0;const B=dM(R.view.dom)?"":Pee(aQ(R.getHTML()));M.current=B,e(B)},onSelectionUpdate:T,editorProps:{attributes:{"data-testid":Ar.TEXT_EDITOR_CANVAS}},editable:!o},[o,k]),N=h.useMemo(()=>({...r,onLink:r.onLink||(({updateLink:R,...B})=>E({open:!0,type:"link",values:B,anchorEl:cp(U),update:(...z)=>{E(null),R(...z)}})),onImage:r.onImage||(({updateImage:R,...B})=>E({open:!0,type:"image",values:B,anchorEl:cp(U),update:(...z)=>{E(null),R(...z)}}))}),[U,r]);h.useEffect(()=>{if(w.current){w.current=!1;return}if(!(!U||w.current))try{const R=String(t);U.commands.setContent(R,!1),M.current=R}catch(R){U.commands.setContent(M.current,!1),console.warn("Could not set rich text content for given value",{error:R,value:t})}},[U,t]);const q=()=>{E(R=>({...R,open:!1})),U.chain().focus()};return i?v.jsx(Xe,{variant:"rectangular",width:"100%",height:130}):v.jsxs(iZ,{$disabled:o,children:[v.jsx(iQ,{mode:d,onChange:p,focus:f}),d==="visual"&&v.jsx(lZ,{$focus:f,"data-testid":Ar.TEXT_EDITOR_PRIMARY_TOOLBAR,children:v.jsx(cM,{editor:U,controls:a,inputSettings:N,disabled:o})}),d==="code"?v.jsx(pZ,{value:t,onChange:({target:{value:R}})=>e(R),onFocus:D,onBlur:P,disabled:o}):v.jsx(sZ,{editor:U,onFocus:D,onBlur:P,disabled:o,$minHeight:c,$maxHeight:u}),x&&v.jsx(TZ,{...x,editor:U,onClose:q}),(f||g.current)&&(!x||!x.open)&&v.jsx(uQ,{...y,editor:U,controls:Dee,inputSettings:N,isBusy:g})]})}const $ee=h.memo(Iee),kM=/[\\^$.*+?()[\]{}|]/g,Nee=RegExp(kM.source);function _ee(t){return!t||!Nee.test(t)?t:t.replace(kM,"\\$&")}const Fee=t=>{var f,m,g;const{value:e,fieldDef:n,onChange:r,handleClose:o}=t;let i,s;n.inputSettings&&"getOptions"in n.inputSettings&&(i=n.inputSettings),n.inputSettings&&"options"in n.inputSettings&&(s=n.inputSettings);const[a,l]=h.useState((e==null?void 0:e.length)>0?e:[]),c=h.useCallback(async()=>{await r(a),o(!0)},[a]),u=[{label:"Cancel",onClick:()=>o(),color:"gray",variant:"outlined"},{label:"Save",onClick:c,color:"yellow",variant:"contained"}],d=({keyword:y})=>{let b=(s==null?void 0:s.options)||[];const x=new RegExp(_ee(y),"i");return y!==void 0&&s.options!==void 0&&(b=s==null?void 0:s.options.filter(C=>x.exec(C.label))),{docs:b,hasMore:!1}},p=(((f=n==null?void 0:n.inputSettings)==null?void 0:f.selectLimit)||0)>0?(m=n==null?void 0:n.inputSettings)==null?void 0:m.selectLimit:-1;return v.jsxs(Vf,{className:"advancedSelection",children:[v.jsx(OT,{title:n==null?void 0:n.label,buttons:u,onBack:o,backLabel:"Cancel advanced selection"}),v.jsx(bE,{comparison:"",selected:e,getOptions:(i==null?void 0:i.getOptions)!==void 0?i.getOptions:d,isOpen:!0,onApply:c,placeholder:"Search...",limit:i==null?void 0:i.getOptionsLimit,selectLimit:p,onChange:y=>l(y),hideButtons:!0,createNewOption:(g=n.inputSettings)==null?void 0:g.createNewOption})]})},Bee=h.memo(Fee);var fg={},jee=kt;Object.defineProperty(fg,"__esModule",{value:!0});var MM=fg.default=void 0,zee=jee(Mt()),Hee=St();MM=fg.default=(0,zee.default)((0,Hee.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");const Vee=Q.div`
  display: flex;
  flex-wrap: wrap;
  row-gap: 12px;
  width: ${({$isMobileView:t})=>t?"":"620px"};

  & > :not(:last-child) {
    margin-right: 12px;
  }

  & > * {
    margin-top: 8px;
  }
`,sx=Q.span`
  color: ${_.newColors.grey3[100]};
  cursor: pointer;
  display: flex;
  font-family: ${_.fontFamily};
  width: fit-content;
  font-weight: ${_.fontWeight.bold};
  font-size: 16px;
  margin-top: 16px;
`,Wee=Q(_f)`
  color: ${_.newColors.grey3[100]};
  margin-left: 14px;
`,Uee=Q(MM)`
  color: ${_.newColors.grey3[100]};
  margin-left: 14px;
`,Gee=Q.div`
  max-width: 600px;
`,Kee=Q.div`
  display: flex;
  gap: 16px;

  & .MuiSkeleton-root {
    border-radius: 99999em;
  }
`,up=8,EM=h.forwardRef((t,e)=>{var l;const{fieldDef:n,value:r}=t,[o,i]=h.useState(!1),s=c=>{var d;const u=r.filter(p=>p.value!==c);(d=n==null?void 0:n.inputSettings)==null||d.deleteSelectedOption(u)},a=()=>{i(!o)};return(r==null?void 0:r.length)>0&&v.jsxs("div",{ref:e,children:[v.jsx(Vee,{$isMobileView:(l=n==null?void 0:n.inputSettings)==null?void 0:l.isMobileView,"data-testid":"as-chiplist",children:o?r==null?void 0:r.map((c,u)=>v.jsx(hp,{disabled:n==null?void 0:n.disabled,label:c==null?void 0:c.label,onDelete:()=>s(c==null?void 0:c.value)},`${c==null?void 0:c.label}-${u}`)):r==null?void 0:r.slice(0,up).map((c,u)=>v.jsx(hp,{disabled:n==null?void 0:n.disabled,label:c==null?void 0:c.label,onDelete:()=>s(c==null?void 0:c.value)},`${c==null?void 0:c.label}-${u}`))}),r.length>up&&v.jsx("div",{onClick:a,children:o?v.jsxs(sx,{children:["Hide"," ",v.jsx(Uee,{})]}):v.jsxs(sx,{children:[`${r.length-up} more`,v.jsx(Wee,{})]})})]})});EM.displayName="ChipList";const qee=h.memo(EM);function Yee(){return v.jsxs("div",{children:[v.jsx(Xe,{variant:"rectangular",width:143,height:36,sx:{marginBottom:2}}),v.jsxs(Kee,{children:[v.jsx(Xe,{variant:"rounded",width:186,height:32}),v.jsx(Xe,{variant:"rounded",width:78,height:32})]})]})}const Jee=t=>{var g,y;const{value:e,onBlur:n,onChange:r,disabled:o,fieldDef:i,skeleton:s}=t,[a,l]=h.useState(!1),[c,u]=h.useState(!1),d=(((g=i==null?void 0:i.inputSettings)==null?void 0:g.selectLimit)||0)>0?(y=i==null?void 0:i.inputSettings)==null?void 0:y.selectLimit:-1;h.useEffect(()=>{const b=()=>{u(window.innerWidth<zM.mobile)};return b(),window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[]);const p=()=>{l(!0)},f=async(b=!1)=>{typeof b=="boolean"&&b?(l(!1),n&&await n()):(l(!1),n&&await n())},m=h.useCallback(async b=>{await r(b),await n()},[r]);return s?v.jsx(Yee,{}):v.jsxs(v.Fragment,{children:[(e==null?void 0:e.length)>0?v.jsxs(Gee,{children:[(d<0||(e==null?void 0:e.length)<d)&&v.jsx(un,{color:"teal",variant:"text",label:"Add",onClick:p,mIcon:xE,attrs:{style:{marginBottom:"16px"}},disabled:o}),v.jsx(qee,{value:e,fieldDef:{inputSettings:{isMobileView:c,deleteSelectedOption:m},disabled:o}})]}):v.jsx(un,{color:"gray",variant:"outlined",label:"ADD",onClick:p,disabled:o}),v.jsx(jf,{open:a,onClose:f,backdropCloseHandler:!1,children:v.jsx(Bee,{value:e??[],fieldDef:i,onChange:r,isModalOpen:a,isMobileView:c,handleClose:f})})]})},Zee=h.memo(Jee),Xee=Q.div`
  color: ${_.newColors.grey3[100]};
  font-family: ${_.fontFamily};
  font-size: 14px;
  margin-top: 4px;

  @media (max-width: ${_.breakpoints.mobile}) {
    width: calc(100vw - 40px);
  };
`,Qee=Q.div`
  border: 2px solid ${_.newColors.grey2[100]};
  border-radius: 4px;
  font-family: ${_.fontFamily};
  min-height: 204px;
  padding: 16px;
  padding-bottom: 16px;
  position: relative;
  width: 450px;
  max-width: 100%;
  background-color: white;
`,ete=Q.div`
  display: flex;
  justify-content: end;

  button:first-child {
    padding-right: 16px;
  }

  button:last-child {
    padding-left: 16px;
  }
`,tte=Q.div`
  display: flex;
  flex-wrap: wrap;
`,nte=Q.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 16px;
`,rte=Q.div`
  margin-right: 16px;
  margin-bottom: 16px;
  height: fit-content;
  border: 2px solid ${_.newColors.grey2[100]};

  img {
    display: block;
    width: 230px;
    max-width: 100%;
  }
`,ax=Q.span`
  color: ${_.newColors.grey3[100]};
  font-size: 14px;
  font-weight: ${_.fontWeight.semiBold};
  margin-bottom: 8px;
`,TM=Q.span`
  color: ${_.newColors.almostBlack[100]};
  font-size: 14px;
  font-weight: ${_.fontWeight.normal};
`,ote=Q(TM)`
  margin-bottom: 12px;
`,ite=Q.div`
  @media (max-width: ${_.breakpoints.mobile}) {
    width: calc(100vw - 40px);
  };
`,ste=Q.div`
  display: flex;
  flex-grow: 1;
  align-items: end;
`,ate=({value:t,initialCenter:e,onDragMarkerEnd:n,zoom:r=7,focusZoom:o=11,shouldPanRef:i})=>{const s=cC(),a=h.useRef(null);if(h.useEffect(()=>{(async()=>{const l=as(t)?t:void 0,c=await pU(s),{lat:u,lng:d}=l?t:as(e)?e:om,p=new google.maps.LatLng(u,d),f=l&&s.getZoom()<o;c&&p&&(!a.current||!a.current.equals(p))&&(a.current=p,c.getCenter().equals(p)||(c.contains(p)?i.current||!l||f?s.panTo(p):i.current=!0:s.setCenter(p))),l?s.getZoom()<o&&s.setZoom(o):s.setZoom(r)})()},[r,s,t,i.current]),!(!t||t.lat===void 0||t.lng===void 0))return v.jsx(gW,{draggable:!0,position:t,onDragEnd:n})},lte={display:"flex",height:"400px"},cte={disableDefaultUI:!0,zoomControl:!0,draggableCursor:"crosshair"},ute=t=>{const{initialCenter:e,value:n,zoom:r=0,focusZoom:o=11,onCoordinatesChange:i,googleMapsApiKey:s,onBlur:a}=t,[l,c]=h.useState(""),u=as(e)?e:om,d=async b=>{c(b);try{const x=await Qh(b),C=await aC(x[0]);i(C)}catch(x){console.error("Could not change coordinates: ",{error:x,value:b})}},p=()=>{c("")},f=h.useRef(!0),m=({latLng:b})=>{f.current=!1;const x=b.lat(),C=b.lng();i({lat:x,lng:C})};h.useEffect(()=>{(n===void 0||n.lat===void 0&&n.lng===void 0)&&p()},[n]);const{isLoaded:g,loadError:y}=tm({googleMapsApiKey:s,libraries:wC});return v.jsxs(ite,{children:[v.jsx(CC,{className:"mapCoordinates",value:l,onChange:c,onBlur:a,onSelect:d,placeholder:"Type a location, address or city…",googleMapsApiKey:s,textField:{InputProps:{endAdornment:v.jsx(ha,{position:"end",children:v.jsx(mU,{"data-testid":"location-search-clear-icon",onClick:p})})}}}),g&&!y&&v.jsx(lW,{mapContainerStyle:lte,center:u,zoom:n?o:r,onClick:m,options:cte,children:v.jsx(ate,{value:n,initialCenter:e,onDragMarkerEnd:m,zoom:r,focusZoom:o,shouldPanRef:f})})]})},dte=h.memo(ute);function pte({zoom:t,focusZoom:e,initialCenter:n,onCoordinatesChange:r,value:o,googleMapsApiKey:i,onBlur:s}){return v.jsxs("div",{children:[v.jsx(dte,{initialCenter:n,value:o,zoom:t,focusZoom:e,onCoordinatesChange:r,googleMapsApiKey:i,onBlur:s}),v.jsx(Xee,{children:"Click on the map to update the latitude and longitude coordinates"})]})}function fte({show:t,onClick:e}){return t&&v.jsx(ste,{children:v.jsx(un,{className:"reset-button",color:"teal",variant:"text",label:"Reset",onClick:e,size:"large"})})}const hte=[{fields:[[["placesList"]],[["lat"],["lng"],["resetButton"]]]}],mte=t=>{var T,D;const{value:e,fieldDef:n,onChange:r,handleClose:o,dialogOpen:i,handleDialogClose:s,handleUnsavedChanges:a,initialCenter:l=om,googleMapsApiKey:c}=t,u=h.useCallback(async()=>{const P=e?e.lat:void 0,U=e?e.lng:void 0;return{lat:P,lng:U,placesList:{lat:P,lng:U}}},[e]),d=Au(),{state:p,methods:{setFieldValue:f,setFormValues:m},handleSubmit:g}=d,y=h.useMemo(()=>as(e)?e:void 0,[e]),b=h.useMemo(()=>{const P={lat:Number(p.data.lat),lng:Number(p.data.lng)};return as(P)?P:void 0},[p.data.lat,p.data.lng]);h.useEffect(()=>{if(!p.data.lat)return;const P=String(p.data.lat),U=P.split(",");U.length!==2||!fU(P)||m({values:{lat:U[0].trim(),lng:U[1].trim()}})},[p.data.lat,p.data.lng,m]),h.useEffect(()=>{const P=p.data.lat!==void 0||p.data.lng!==void 0;P!==p.data.resetButton&&f({name:"resetButton",value:P})},[f,p.data.lat,p.data.lng,p.data.reset,p.data.resetButton]),h.useEffect(()=>{if(!b){f({name:"placesList",value:void 0});return}Ly(p.data.placesList,b)||f({name:"placesList",value:{lat:b.lat,lng:b.lng}})},[p.data.placesList,b]),h.useEffect(()=>{const P=Ly(y,b);a(!P)},[y,b,a]);const x=g(()=>{const P={...e,...b};r(P),o(!0)}),C=h.useCallback(P=>{const U=P?P.lat:void 0,N=P?P.lng:void 0;m({values:{placesList:{lat:U,lng:N},lat:String(U),lng:String(N)},validate:!0})},[m]),E=(T=n==null?void 0:n.inputSettings)==null?void 0:T.zoom,k=(D=n==null?void 0:n.inputSettings)==null?void 0:D.focusZoom,w=h.useMemo(()=>[{name:"placesList",type:({value:P,onBlur:U})=>v.jsx(pte,{zoom:E,focusZoom:k,initialCenter:l,onCoordinatesChange:C,value:P,onBlur:U,googleMapsApiKey:c})},{name:"lat",label:"Latitude",type:"text",validators:[Uh],required:!0},{name:"lng",label:"Longitude",type:"text",validators:[Gh],required:!0},{name:"resetButton",label:"Reset",type:({value:P})=>v.jsx(fte,{show:P,onClick:()=>m({values:{lat:void 0,lng:void 0,placesList:void 0}})})}],[E,k,l,C,c,m]),M=h.useMemo(()=>[{label:"Cancel",onClick:()=>o(),color:"gray",variant:"outlined"},{label:"Save",onClick:x,type:"submit",color:"yellow",variant:"contained"}],[o,x]);return v.jsx(Vf,{className:"mapCoordinates",children:v.jsx(Ku,{...d,onBack:o,backLabel:"Cancel coordinates entry",title:"Map Coordinates",buttons:M,sections:hte,fields:w,dialogOpen:i,handleDialogClose:s,getFormValues:u})})},gte=t=>{var w,M,T;const{value:e,onBlur:n,onChange:r,disabled:o,fieldDef:i,skeleton:s}=t,a=h.useMemo(()=>as(e)?e:void 0,[e]),l=(w=i==null?void 0:i.inputSettings)==null?void 0:w.initialCenter,[c,u]=h.useState(!1),[d,p]=h.useState(!1),[f,m]=h.useState(!1),[g,y]=h.useState(!1),b=()=>{u(!0)},x=async(D=!1)=>{typeof D=="boolean"&&D?(p(!1),u(!1),n&&await n()):d?m(!0):(p(!1),u(!1),n&&await n())},C=async D=>{D&&await x(!0),m(!1)},E=async()=>{r&&await r(void 0),await n()},k=h.useMemo(()=>[{label:"No, keep it",onClick:()=>y(!1),color:"gray",variant:"outlined"},{label:"Yes, remove it",onClick:()=>{E(),y(!1)},color:"yellow",variant:"contained"}],[g]);return s?v.jsx(Xe,{variant:"rectangular",width:280,height:357}):v.jsxs(v.Fragment,{children:[a?v.jsx("div",{children:v.jsxs(Qee,{children:[v.jsxs(tte,{children:[v.jsx(rte,{children:v.jsx("img",{src:`https://maps.googleapis.com/maps/api/staticmap?zoom=${((M=i==null?void 0:i.inputSettings)==null?void 0:M.focusZoom)??11}&size=232x153&maptype=roadmap&markers=color:red%7C${a==null?void 0:a.lat},${a==null?void 0:a.lng}&key=${i.inputSettings.googleMapsApiKey}`,alt:"location"})}),v.jsxs(nte,{children:[v.jsx(ax,{children:"Latitude"}),a?v.jsx(ote,{children:a==null?void 0:a.lat}):v.jsx(vp,{}),v.jsx(ax,{children:"Longitude"}),a?v.jsx(TM,{children:a==null?void 0:a.lng}):v.jsx(vp,{})]})]}),v.jsxs(ete,{children:[v.jsx(un,{color:"teal",variant:"text",label:"Edit",disabled:o,onClick:b}),v.jsx(un,{color:"red",disabled:o,variant:"text",label:"Remove",onClick:()=>y(!0)})]})]})}):v.jsx(un,{disabled:o,onClick:b,color:"gray",variant:"outlined",label:"ADD COORDINATES"}),v.jsx(jf,{open:c,onClose:x,children:v.jsx(mte,{value:e,fieldDef:i,onChange:r,handleClose:x,handleUnsavedChanges:D=>p(D),dialogOpen:f,handleDialogClose:C,initialCenter:l,googleMapsApiKey:(T=i==null?void 0:i.inputSettings)==null?void 0:T.googleMapsApiKey})}),v.jsx(zf,{buttons:k,dialogTitle:"Are you sure you want to remove these coordinates?",open:g,children:"All data for these coordinates will be lost. This action is irreversible."})]})},vte=h.memo(gte),yte=Q.div`
	& > div > .viewContainer {
		padding-left: 0;
		padding-right: 0;
	}
`,bte=Q.div`
	margin-bottom: 0.5rem;
`,xte=Q.div`
    display: flex;
    flex-direction: column;
    gap: 16px;
`,wte=Q(Xe)`
	margin-bottom: 16px;
`,OM=Q.div`
	display: flex;
	align-items: center;
    gap: 16px;
`,Cte=Q.div`
	flex: 1 1 0%;
`,Ste=Q.div`
	flex: 0 0 32px;
`;function kte(){return v.jsx(Xe,{variant:"rectangular",width:143,height:36,sx:{marginBottom:2}})}function lx(){return v.jsx(Ste,{children:v.jsx(Xe,{variant:"rectangular",width:"100%",height:32})})}function dp(){return v.jsx(Cte,{children:v.jsx(Xe,{variant:"rectangular",width:"100%",height:48})})}function cx(){return v.jsxs(OM,{children:[v.jsx(lx,{}),v.jsx(lx,{}),v.jsx(dp,{}),v.jsx(dp,{}),v.jsx(dp,{})]})}function Mte({buttonCount:t=0}){return v.jsxs("div",{children:[v.jsx(OM,{children:[...Array(t)].map((e,n)=>v.jsx(kte,{},n))}),v.jsx(wte,{variant:"rectangular",width:"100%",height:56}),v.jsxs(xte,{children:[v.jsx(cx,{}),v.jsx(cx,{})]})]})}const Ete=t=>{const{value:e,disabled:n,fieldDef:r,skeleton:o}=t,{buttons:i=[],dataView:s}=r.inputSettings,a=(s.data!==void 0?s.data:e)||[],l=a.length>0;return o?v.jsx(Mte,{buttonCount:i.length}):v.jsxs(yte,{children:[v.jsx(bte,{children:v.jsx(Da,{children:i.map((c,u)=>v.jsx(un,{...c,disabled:c.disabled===void 0?n:c.disabled},`${c.label}-${u}`))})}),l&&v.jsx(oT,{data:[],...s,disabled:n,data:a})]})},Tte=h.memo(Ete);let Ote=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var hg={},Lte=kt;Object.defineProperty(hg,"__esModule",{value:!0});var mg=hg.default=void 0,Ate=Lte(Mt()),Pte=St();mg=hg.default=(0,Ate.default)((0,Pte.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var gg={},Rte=kt;Object.defineProperty(gg,"__esModule",{value:!0});var vg=gg.default=void 0,Dte=Rte(Mt()),Ite=St();vg=gg.default=(0,Dte.default)((0,Ite.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload");const LM=Q.div`
	display: flex;
	flex-direction: row;
	background-color: ${_.colors.white};
	border: 2px solid ${({$error:t})=>t?_.newColors.darkRed[100]:_.newColors.grey2[100]};
	padding: 16px;
	width: 100%;
	column-gap: 16px;

	${({$isDeleting:t})=>t&&`
		opacity: 0.5;
	`}

	& > div {
		display: flex;
	}

	& .file-img,
	& .file-delete-btn {
		align-items: center;
	}

	& .file-img {
		border: 2px solid ${_.newColors.grey2[100]};

		a, img {
			display: block;
		}

		img, div {
			width: 62px;
			height: 62px;
		}

		img {
			object-fit: contain;
		}

		div {
			background-color: ${_.newColors.grey2[100]};
			color: ${_.newColors.grey3[100]};
			display: flex;
			align-items: center;
			justify-content: center;
		}
	}

	& .file-data {
		font-size: 14px;
		width: 100%;
		flex-direction: column;
		row-gap: 8px;

		p {
			margin: 0px;
			padding: 0px;
		}
	}

	& .file-name {
		color: ${_.newColors.grey3[100]};
		font-weight: ${_.fontWeight.semiBold};
		line-height: 17px;
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
		text-overflow: ellipsis;
		max-width: 100%;
		word-break: break-word;
	}

	& .file-size {
		color: ${_.newColors.almostBlack[100]};
		font-weight: ${_.fontWeight.normal};
		line-height: 24px;
	}
`,$te=Q(Wf)`
	flex: none;
	align-self: center;
`;var yg={},Nte=kt;Object.defineProperty(yg,"__esModule",{value:!0});var bg=yg.default=void 0,_te=Nte(Mt()),Fte=St();bg=yg.default=(0,_te.default)((0,Fte.jsx)("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile");const Bte=({url:t,...e})=>{const[n,r]=h.useState(!1),o=h.useCallback(()=>{r(!0);const i=document.createElement("iframe"),s=()=>{document.body.removeChild(i),r(!1)};i.onload=s,i.onerror=s,i.setAttribute("style","display: none"),i.src=t,document.body.appendChild(i)},[]);return n?v.jsx(Wf,{}):v.jsx(un,{...e,mIcon:vg,onClick:o})},jte=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],zte=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Hte=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Vte=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],ux=(t,e,n)=>{let r=t;return typeof e=="string"||Array.isArray(e)?r=t.toLocaleString(e,n):(e===!0||n!==void 0)&&(r=t.toLocaleString(void 0,n)),r};function Tf(t,e={}){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e={bits:!1,binary:!1,space:!0,...e};const n=e.bits?e.binary?Vte:Hte:e.binary?zte:jte,r=e.space?" ":"";if(e.signed&&t===0)return` 0${r}${n[0]}`;const o=t<0,i=o?"-":e.signed?"+":"";o&&(t=-t);let s;if(e.minimumFractionDigits!==void 0&&(s={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(s={maximumFractionDigits:e.maximumFractionDigits,...s}),t<1){const u=ux(t,e.locale,s);return i+u+r+n[0]}const a=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),n.length-1);t/=(e.binary?1024:1e3)**a,s||(t=Number(t.toPrecision(3)));const l=ux(Number(t),e.locale,s),c=n[a];return i+l+r+c}function AM(t){return h.useMemo(()=>{const n=parseInt(String(t),10);return Tf(n)},[t])}function Of({name:t}){return v.jsx(xT,{maxLines:1,breakAll:!0,children:t??v.jsx(vp,{})})}const Wte=t=>{const{id:e,name:n,size:r,fileUrl:o,thumbnailUrl:i,downloadUrl:s,downloadStrategy:a,onFileDelete:l,disabled:c,isDeleting:u}=t,d=a!==void 0?a:s?"iframe":"anchor",p=h.useMemo(()=>i?v.jsx("img",{src:i}):v.jsx("div",{children:v.jsx(bg,{})}),[i]),f=AM(r);return v.jsx("div",{"data-testid":"file-card-container",children:v.jsxs(LM,{$isDeleting:u,children:[v.jsx("div",{className:"file-img","data-testid":"file-img",children:o&&!u?v.jsx("a",{href:o,rel:"noreferrer",target:"_blank",children:p}):p}),v.jsxs("div",{className:"file-data","data-testid":"file-data",children:[o&&!u?v.jsx("a",{href:o,rel:"noreferrer",target:"_blank",className:"file-name","data-testid":"file-name",children:v.jsx(Of,{name:n})}):v.jsx("p",{className:"file-name","data-testid":"file-name",children:v.jsx(Of,{name:n})}),v.jsx("p",{className:"file-size","data-testid":"file-size",children:f??"File size"})]}),u?v.jsx($te,{}):v.jsxs(Da,{separator:!0,children:[(s||o)&&v.jsx("div",{className:"file-download-btn",children:d==="anchor"?v.jsx(un,{muiAttrs:{download:!0},href:o,color:"gray",variant:"icon",mIcon:vg}):v.jsx(Bte,{url:s||o,color:"gray",variant:"icon"})}),l&&!c&&v.jsx("div",{className:"file-delete-btn",children:v.jsx(un,{color:"gray",variant:"icon",mIcon:mg,onClick:()=>l({id:e})})})]})]})})},Ute=h.memo(Wte),Gte=Q.div`
	margin-top: 16px;
	display: flex;
	flex-direction: column;
	gap: 16px;
`,Kte=Q.label`
  border: 1px dashed transparent;
  align-items: center;
  display: flex;
  flex-direction: column;
  height: 204px;
  justify-content: center;
  position: relative;
  max-width: 100%;

  & .button {
    z-index: 1000;
  }

	${({$isOver:t,$disabled:e})=>t&&!e?`
		border-color: ${_.newColors.realTeal[100]};
		background: ${_.newColors.realTeal[20]};
  	`:`
		background: ${_.newColors.grey2[100]};
	`}
`,dx=Q.span`
  color: ${({$isOver:t})=>t?_.newColors.realTeal[100]:_.newColors.grey3[100]};
  font-size: 16px;
  margin-bottom: ${({$isOver:t})=>t?"":"24px"};
`,qte=Q.input`
  display: none;
`;class xg{constructor(e=[]){al(this,"extensions");al(this,"acceptAttr");al(this,"human");this.extensions=e.map(n=>n.toLowerCase()),this.acceptAttr=this.extensions.map(n=>`.${n}`).join(","),this.human=Yw(this.extensions.map(n=>`"${n}"`))}static getExtension(e){return e.slice((Math.max(0,e.lastIndexOf("."))||1/0)+1)}isValidFileName(e){if(!this.extensions.length)return!0;const n=xg.getExtension(e).toLowerCase();return this.extensions.includes(n)}}var wg={},Yte=kt;Object.defineProperty(wg,"__esModule",{value:!0});var PM=wg.default=void 0,Jte=Yte(Mt()),Zte=St();PM=wg.default=(0,Jte.default)((0,Zte.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20m6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9"}),"DoNotDisturb");const Xte=t=>{const{id:e,name:n,size:r,onFileDelete:o,error:i,percent:s,disabled:a}=t,l=AM(r);return v.jsxs("div",{"data-testid":"file-card-container",children:[v.jsxs(LM,{$error:!!i,children:[v.jsx("div",{className:"file-img","data-testid":"file-img",children:v.jsx("div",{children:i?v.jsx(PM,{}):s!==void 0&&s<100?v.jsx(Wf,{progress:s}):v.jsx(bg,{})})}),v.jsxs("div",{className:"file-data","data-testid":"file-data",children:[v.jsx("p",{className:"file-name","data-testid":"file-name",children:v.jsx(Of,{name:n})}),v.jsx("p",{className:"file-size","data-testid":"file-size",children:l??"File size"})]}),v.jsx(Da,{separator:!0,children:o&&!a&&(s===void 0||s===100)&&v.jsx("div",{className:"file-delete-btn",children:v.jsx(un,{color:"gray",variant:"icon",mIcon:mg,onClick:()=>o({id:e})})})})]}),i&&v.jsx(Fp,{error:i!==void 0,children:i})]})},Qte=h.memo(Xte);function ene(){return v.jsxs("div",{children:[v.jsx(Xe,{variant:"rectangular",width:"100%",height:204,sx:{marginBottom:2}}),v.jsx(Xe,{variant:"rectangular",width:"100%",height:100})]})}const tne=t=>{const{fieldDef:e,value:n,onChange:r,disabled:o,methods:i,id:s,skeleton:a}=t,{addWait:l}=i||{},c=h.useId(),u=s||c,d=h.useRef(),{limit:p=-1,onFileAdd:f,onFileDelete:m,accept:g,maxFileSize:y,maxTotalSize:b}=e.inputSettings,[x,C]=h.useState(0),[E,k]=h.useState({open:!1,text:""}),w=h.useMemo(()=>n||[],[n]),M=w.length,T=p>=0&&M>=p,D=h.useMemo(()=>new xg(g),[g]),P=h.useMemo(()=>w.filter(X=>yp(X)&&X.error===void 0).length,[w]),U=X=>{X.preventDefault()},N=X=>{X.preventDefault(),C(ie=>ie+1)},q=X=>{X.preventDefault(),C(ie=>ie-1)},R=X=>{if(X.preventDefault(),X.stopPropagation(),C(0),o)return;const ie={target:{files:X.dataTransfer.files}};oe(ie)},B=async({uuid:X,percent:ie})=>{r((Y=[])=>Y.map(S=>X===S.id?{...S,percent:ie*100}:S))};h.useEffect(()=>{if(!l||!P)return;const{remove:X}=l({name:`${e.name}/uploading`,message:`${e.label} is currently uploading ${P} files(s)`});return X},[e.label,e.name,l,P]);const z=async({uuid:X,data:ie})=>{r((Y=[])=>Y.map(S=>X===S.id?{...ie}:S))},I=async({uuid:X,message:ie})=>{r((Y=[])=>Y.map(S=>X===S.id?{...S,error:ie}:S))},oe=async X=>{const ie=Array.from(X.target.files);if(p>=0&&M+ie.length>p){k({open:!0,text:`Upload limited to only ${p} files.`});return}const Y=ie.map(S=>({id:Ote(),name:S.name,size:S.size,error:void 0,rawData:S,isPending:!0}));if(b){const S=iT([...w.map(({size:A})=>A),...Y.map(A=>A.rawData.size)]);if(b<S){k({open:!0,text:`Maximum cumulative file size is ${Tf(b)}`});return}}r((S=[])=>[...S,...Y]),await Promise.all(Y.map(async S=>{if(!D.isValidFileName(S.rawData.name)){I({uuid:S.id,message:`We only allow ${D.human} file uploads`});return}if(y&&y<S.rawData.size){I({uuid:S.id,message:`Individual file upload size should not exceed ${Tf(y)}`});return}try{await f({file:S==null?void 0:S.rawData,onChunkComplete:({percent:A})=>B({uuid:S.id,percent:A}),onUploadComplete:A=>z({uuid:S.id,data:A})})}catch(A){const j=A instanceof Error?A.message:String(A);I({uuid:S.id,message:j})}}))},me=async(X,ie=!1)=>{r((Y=[])=>Y.map(S=>S.id===X?{...S,isDeleting:!0}:S)),ie||await m({id:X}),r((Y=[])=>Y.filter(S=>S.id!==X))},te=h.useCallback(()=>{d.current&&d.current.click()},[]),G=(X,ie)=>{ie!=="clickaway"&&k(Y=>({...Y,open:!1}))};return a?v.jsx(ene,{}):v.jsxs(v.Fragment,{children:[!T&&v.jsxs(Kte,{$isOver:!!x,$disabled:o,onDragOver:U,onDragEnter:N,onDragLeave:q,onDrop:R,"data-testid":"drag-and-drop-container",htmlFor:`${u}-input`,children:[!o&&x?v.jsx(dx,{$isOver:!!x,children:"Release and Drop"}):v.jsxs(v.Fragment,{children:[!o&&v.jsx(dx,{$isOver:!!x,children:"Drag & Drop files here or"}),v.jsx(un,{color:"gray",variant:"outlined",label:"UPLOAD FILES",disabled:o,onClick:te})]}),v.jsx(qte,{"data-testid":"input-file-test",onChange:oe,title:"",type:"file",value:"",disabled:o,multiple:p<0||p>1&&p-M>1,accept:D.acceptAttr,id:`${u}-input`,ref:d})]}),w.length>0&&v.jsx(Gte,{children:w.map(X=>yp(X)?v.jsx(Qte,{...X,onFileDelete:({id:ie})=>me(ie,!0),disabled:o,percent:X.percent,error:X.error},X.id):v.jsx(Ute,{...X,onFileDelete:({id:ie})=>me(ie),disabled:o},X.id))}),v.jsx(Hf,{autoHideDuration:6e3,label:E.text,open:E.open,onClose:G})]})},nne=h.memo(tne),rne=t=>{var T,D,P,U,N;const{fieldDef:e,error:n,onChange:r,onBlur:o,value:i,disabled:s,inputRef:a,id:l,skeleton:c}=t,[u,d]=h.useState(!1),p=h.useRef(),{tooltipProps:f,anchorProps:m}=Df(),g=((T=e==null?void 0:e.inputSettings)==null?void 0:T.decimalPlaces)??-1,y=(D=e==null?void 0:e.inputSettings)==null?void 0:D.prefix,b=(P=e==null?void 0:e.inputSettings)==null?void 0:P.suffix,x=((U=e==null?void 0:e.inputSettings)==null?void 0:U.sign)??"any",C=["Must be a",x!=="any"&&x,g?"numerical value":"whole number",g>0&&`with a maximum of ${g} decimal place${g>1?"s":""}`].filter(Boolean).join(" ")+".",E=q=>{const{value:R}=q.target,B=["^",x==="any"&&"(-|\\+)?",x==="negative"&&"-",x==="positive"&&"\\+?","(?!\\.)\\d*"];g&&B.push("\\.?","\\d",g>0?`{0,${g}}`:"*"),B.push("$");const z=new RegExp(B.filter(Boolean).join(""));if(R&&!R.match(z)){d(!0),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>d(!1),3e3);return}d(!1),r&&r(R===""?void 0:R)},k=q=>{const{value:R}=q.target;(R==="-"||R==="+")&&r(""),R&&R[R.length-1]==="."&&r(R.substring(0,R.length-1)),d(!1),o&&o(R===""?void 0:R),e!=null&&e.onBlurCb&&(e==null||e.onBlurCb(R))},w=typeof n=="string"?(n==null?void 0:n.trim().length)>0:!1,M=h.useMemo(()=>{const q={inputRef:a,inputProps:{inputMode:"numeric",...m}};return y&&(q.startAdornment=v.jsx(ha,{position:"start",children:y})),b&&(q.endAdornment=v.jsx(ha,{position:"end",children:b})),q},[m,a,y,b]);return c?v.jsx(Xe,{variant:"rectangular",width:"100%",height:43}):v.jsxs(v.Fragment,{children:[v.jsx(uu,{id:l,"data-testid":"form-field-number-test-id",value:i??"",onChange:E,onBlur:k,variant:"outlined",error:!!u||w||w&&(e==null?void 0:e.required),className:e==null?void 0:e.className,placeholder:(N=e==null?void 0:e.inputSettings)==null?void 0:N.placeholder,fieldSize:e==null?void 0:e.size,InputProps:M,required:e==null?void 0:e.required,type:"text",disabled:s}),v.jsx(If,{...f,open:!!u,maxWidth:150,children:C})]})},one=h.memo(rne),ine=Q.table`
  border-collapse: collapse;
  color: ${_.newColors.almostBlack[100]};
  background-color: white;
  width: 100%;
`,pp=Q.th`
  padding: 24px 16px;
  font-weight: ${_.fontWeight.medium};
  font-size: 14px;
  text-align: left;
`,sne=Q.tr`
  background-color: ${_.newColors.grey2[100]};

  th:first-child {
    padding-left: 24px;
  }

  th:last-child {
    padding-right: 24px;
  }
`,Lf=Q.td`
  padding: 16px 16px;

  &:first-child {
	padding-left: 24px;
  }

  &:last-child {
	padding-right: 24px;
  }
`,px=Q(Lf)`
  font-weight: ${_.fontWeight.semiBold};
  font-size: 14px;
`,ane=Q.p`
  margin: 0;
  font-weight: ${_.fontWeight.semiBold};
  font-size: 14px;
`,lne=Q.p`
  margin: 8px 0 0 0;
  font-weight: 400;
  font-size: 14px;
`,fx=Q.td`
  padding-left: 16px;
  font-weight: ${_.fontWeight.normal};
  font-size: 14px;
`,cne=Q.tbody`
  tr {
    border-bottom: 1px solid ${_.newColors.grey2[100]};
  }

  tr:last-child,
  tr:nth-last-child(2) {
    border: none;
  }
`,une=Q.tr`
  background-color: ${_.newColors.grey1[100]};

  .totals-row {
    font-weight: ${_.fontWeight.medium};
  }
`,doe=[{name:"2023_02_10",title:"Shoulder Before"},{name:"2023_02_11",title:"Day 1",subtitle:"Thu, Jan 05 2023"},{name:"2023_02_12",title:"Day 2",subtitle:"Fri, Jan 06 2023"},{name:"2023_02_13",title:"Day 3",subtitle:"Sat, Jan 07 2023"}],poe=[{name:"single",title:"Single"},{name:"double",title:"Double"},{name:"queen",title:"Queen"},{name:"king",title:"King"},{name:"suite",title:"Suite"},{name:"any",title:"Any"}],foe={"2023_02_10":{single:"12",double:"13",queen:"14",king:"15",suite:"16",any:"17"},"2023_02_11":{single:"18",double:"19",queen:"20",king:"21",suite:"22",any:"23"},"2023_02_12":{single:"12",double:"13",queen:"14",king:"15",suite:"16",any:"20"},"2023_02_13":{single:"1",double:"1",queen:"1",king:"1",suite:"1",any:"1"}},hx=(t,e)=>e.map(n=>n.name).includes(t),dne=Q.div`
	display: flex;
	align-items: center;
`,Af=Q.div`
	flex: 1 1 0%;
	padding: 16px;
`;function Mi(){return v.jsx(Af,{children:v.jsx(Xe,{variant:"rectangular",width:"100%",height:43})})}function mx(){return v.jsxs(dne,{children:[v.jsxs(Af,{children:[v.jsx(Xe,{width:80,height:28}),v.jsx(Xe,{width:64,height:28})]}),v.jsx(Mi,{}),v.jsx(Mi,{}),v.jsx(Mi,{}),v.jsx(Mi,{}),v.jsx(Mi,{}),v.jsx(Mi,{}),v.jsx(Af,{children:v.jsx(Xe,{width:78,height:28})})]})}function pne(){return v.jsxs("div",{children:[v.jsx(Xe,{variant:"rectangular",width:"100%",height:64}),v.jsx(mx,{}),v.jsx(mx,{})]})}const fne=t=>{const{fieldDef:e,onChange:n,value:r,disabled:o,inputRef:i,skeleton:s}=t,{inputSettings:a}=e,{displaySumColumn:l=!0,displaySumRow:c=!0}=a,[u,d]=h.useState({}),p=h.useRef([]),f={};h.useEffect(()=>{const b={};if(r){for(const x in r)if(hx(x,a.rows))for(const C in r[x])hx(C,a.columns)&&(b[C]=(b[C]||0)+Number(r[x][C]||0))}else a.columns.forEach(x=>{b[x.name]=0});l&&(b.mos_col_totals=Object.values(b).reduce((x,C)=>x+C),d(b))},[r]);const m=(b,x,C)=>{var w;const E=((w=b.target.value)==null?void 0:w.trim())===""?void 0:b.target.value;let k={...r};k[x]?k[x][C]=E:k={...k,[x]:{[C]:E}},E===void 0&&(Object.values(k[x]).every(M=>M===void 0)&&(k={...k,[x]:void 0}),Object.values(k).every(M=>M===void 0)&&(k=void 0)),n(k)},g=b=>b&&new Intl.NumberFormat(navigator.language,a.numberFormatOptions).format(b),y=(b,x,C)=>{var E;switch(b.keyCode){case 37:b.target.selectionStart===0&&C>0&&p.current[x][C-1].focus();break;case 38:x>0&&p.current[x-1][C].focus();break;case 39:b.target.selectionStart===((E=b.target.value)==null?void 0:E.length)&&C<a.columns.length-1&&p.current[x][C+1].focus();break;case 40:x<a.rows.length-1&&p.current[x+1][C].focus();break}};return s?v.jsx(pne,{}):v.jsxs(ine,{children:[v.jsx("thead",{children:v.jsxs(sne,{children:[v.jsx(pp,{children:a.topLeftLabel}),a.columns.map((b,x)=>v.jsx(pp,{children:b.title},`${b.name}-${x}`)),c&&v.jsx(pp,{children:a.columnTotalLabel||"Total"})]})}),v.jsxs(cne,{children:[a.rows.map((b,x)=>v.jsxs("tr",{children:[v.jsxs(Lf,{children:[v.jsx(ane,{children:b.title}),(b==null?void 0:b.subtitle)&&v.jsx(lne,{children:b.subtitle})]},`${b.name}`),a.columns.map((C,E)=>{var w;const k=((w=r==null?void 0:r[b.name])==null?void 0:w[C.name])??"";if(c){const M=isNaN(Number(k))?0:Number(k);f[b.name]=(f[b.name]||0)+M}return v.jsx(Lf,{children:v.jsx(uu,{inputProps:{"data-testid":`${b.name}-${C.name}`},placeholder:"0",value:k,onChange:M=>m(M,b.name,C.name),fieldSize:"90px",disabled:o,inputRef:M=>{p!=null&&p.current&&(p.current[x]=p.current[x]||[],p.current[x][E]=M),!x&&!E&&i&&(i.current=M)},onKeyDown:M=>y(M,x,E)})},`${b.name}-${C.name}`)}),c&&v.jsx(px,{children:g(f[b.name])},`totals-${b.name}`)]},`row-${b.name}`)),l&&v.jsxs(une,{children:[v.jsx(px,{children:a.rowTotalLabel||"Total"}),a.columns.map(b=>v.jsx(fx,{children:g(u[b.name])||0},`column-${b.name}`)),c&&v.jsx(fx,{className:"totals-row",children:g(u.mos_col_totals)||0})]})]})]})},hne=h.memo(fne),mne=Q(pj)`
	box-shadow: none !important;
	border-radius: 0px;
	scroll-margin-top: 60px;
	margin: 0 !important;

	${({$title:t})=>t?`
		border: 1px solid ${_.newColors.grey2[100]};
		margin: 0px 0px 40px 0px;
	`:`
		border: 0;
		margin: 0;
	`}

	&:before {
		content: none !important;
	}
`,gne=Q(kj)`
	background-color: ${_.newColors.grey2[100]} !important;
	margin: 0px !important;
	padding: 12px 24px !important;
	min-height: 0px !important;
	color: ${_.newColors.grey4[100]} !important;

	& :first-child {
		margin: 0px !important;
	}
`,vne=Q(vj)`
	padding: 0px !important;
	margin: 0px !important;
`,yne=Q.p`
	font-size: 16px;
	font-family: ${_.fontFamily};
	color: ${_.newColors.grey3[100]};
	margin: 18px 0 0;
	padding: 0 24px;
`,RM=Q.div`
	margin: 0px;
	display: grid;
	grid-template-columns: repeat(1,minmax(0,1fr));

	${({$title:t})=>t&&`
		padding: 18px 24px;
	`}

	${({$spacing:t})=>`
		gap: ${t==="compact"?"24px":"12px"} 0;
	`}
`,bne=Q.h2`
	font-size: 20px;
	font-family: ${_.fontFamily};
	font-weight: 500;
	margin: 0px;
`,xne=Q.fieldset`
	border: 0;
	margin: 0;
	padding: 0;
`,wne=({fieldDef:t,methods:e,skeleton:n,path:r})=>{const{name:o,inputSettings:i={fields:[]}}=t,{fields:s}=i,a=h.useMemo(()=>i.layout||s.map(c=>[[c.name]]),[s,i.layout]),l=h.useMemo(()=>[...r||[],o],[r,o]);return v.jsx(xne,{children:v.jsx(RM,{children:a.map((c,u)=>v.jsx(IM,{row:c,rowIdx:u,fieldsDef:s,spacing:"compact",methods:e,skeleton:n,path:l},`row-${u}`))})})},Cne=h.memo(wne);function Vt({value:t}){return!(t===void 0||typeof t=="string"&&!t.trim().length||Array.isArray(t)&&!t.length||t===!1)}function Sne(){let t=null;return()=>t||(t={text:{Component:t2,validate:"onBlurAmend",getResolvedValue:Xt,hasValue:Vt},checkbox:{Component:d2,validate:"onChange",getResolvedValue:Xt,hasValue:Vt},chip:{Component:g2,validate:"onChange",getResolvedValue:Xt,hasValue:Vt},dropdown:{Component:Ux,validate:"onChange",getResolvedValue:Xt,hasValue:Vt},phone:{Component:rO,validate:"onBlurAmend",getResolvedValue:Xt,hasValue:Vt},radio:{Component:hO,validate:"onChange",getResolvedValue:Xt,hasValue:Vt},toggle:{Component:SO,validate:"onChange",getResolvedValue:Xt,hasValue:Vt},color:{Component:q3,validate:"onBlur",getResolvedValue:Xt,hasValue:Vt},date:{Component:o6,validate:"onBlurAmend",getResolvedValue:(e,n)=>{var r;return e instanceof Date?{internalValue:{date:e},value:e}:!e||!e.date?{internalValue:void 0,value:void 0}:{internalValue:e,value:Nh(e.date,((r=n==null?void 0:n.inputSettings)==null?void 0:r.fixedTime)||[0,0,0,0])}},hasValue:({internalValue:e})=>!!(e&&e.date)},time:{Component:_6,validate:"onBlurAmend",getResolvedValue:e=>{if(typeof e=="string"){const n=new Date,[r,o]=e.split(":");return n.setHours(Number(r)),n.setMinutes(Number(o)),{internalValue:{time:n,keyboardInputValue:void 0},value:e}}else{if(!e||!e.time)return{internalValue:void 0,value:void 0};const n=isNaN(e.time.getTime())?void 0:[String(e.time.getHours()).padStart(2,"0"),String(e.time.getMinutes()).padStart(2,"0")].join(":");return{internalValue:e,value:n}}},hasValue:({internalValue:e})=>!!(e&&e.time)},address:{Component:NU,validate:"onBlur",getResolvedValue:Xt,hasValue:Vt},textEditor:{Component:$ee,validate:"onBlurAmend",getResolvedValue:Xt,hasValue:Vt},advancedSelection:{Component:Zee,validate:"onBlur",getResolvedValue:Xt,hasValue:Vt},mapCoordinates:{Component:vte,validate:"onBlur",getResolvedValue:Xt,hasValue:Vt},matrix:{Component:Tte,validate:"onChange",getResolvedValue:Xt,hasValue:Vt},upload:{Component:nne,validate:"onChange",getResolvedValue:(e=[])=>({value:Vx(e.filter(n=>!yp(n)&&!n.isDeleting)),internalValue:e||[]}),hasValue:Vt},number:{Component:one,validate:"onBlurAmend",getResolvedValue:Xt,hasValue:Vt},numberTable:{Component:hne,validate:"onChange",getResolvedValue:Xt,hasValue:Vt},raw:{Component:gO,validate:"onChange",getResolvedValue:Xt,hasValue:Vt},group:{Component:Cne,validate:"onSubmit",getResolvedValue:Xt,hasValue:Vt}},t)}const kne=Sne();function DM(t){const e=kne();return typeof t!="string"?{Component:t,validate:"onBlur",getResolvedValue:Xt,hasValue:Vt}:e[t]?e[t]:{Component:null,validate:"onBlur",getResolvedValue:Xt,hasValue:Vt}}const Mne={text:ft.md,checkbox:ft.md,chip:ft.md,dropdown:ft.md,phone:ft.sm,radio:ft.sm,toggle:ft.md,color:ft.sm,date:ft.md,time:ft.md,address:ft.full,addressSingle:ft.full,textEditor:ft.lg,advancedSelection:ft.md,mapCoordinates:ft.sm,matrix:ft.full,upload:ft.md,number:ft.sm,numberTable:ft.full,raw:ft.full,group:ft.full};function Ene(t,e){return t?ft[t]?ft[t]:String(t):typeof e=="string"?Mne[e]:"full"}const Tne=({fieldsDef:t,fieldName:e,colsInRow:n,colIdx:r,rowIdx:o,sectionIdx:i,spacing:s,methods:a,skeleton:l,path:c})=>{const{state:u}=h.useContext(hi),d=h.useMemo(()=>t.find(({name:U})=>U===e),[t,e]);if(!d)throw new Error(`No field declared for field name '${e}' in section ${i}, row ${o}, column ${r}.`);const p=typeof d.type!="string",{Component:f}=DM(d.type),{setFieldValue:m,setFieldBlur:g}=a;if(!f)throw new Error(`Invalid type ${d.type}`);const y=Ql(d,u,"disabled",!1),b=h.useRef(),x=h.useCallback((U,N={})=>{d.onChangeCb&&d.onChangeCb(),m({name:d.name,value:U,touched:!0,validate:N.validate,path:c})},[d,m,c]),C=h.useCallback(()=>{d.onBlurCb&&d.onBlurCb(),g({name:d.name,path:c})},[d,g,c]),E=ar(u.internalData,[...c||[],d.name]),k=y?"":ar(u.errors,[...c||[],d.name]),w=Ene(d.size,d.type),M=Ql(d,u,"show"),T=h.useMemo(()=>({...d,size:w}),[d,w]),D=h.useMemo(()=>v.jsx(f,{fieldDef:T,name:T.name,value:E,error:k,onChange:x,onBlur:C,ref:T.ref,disabled:y,methods:a,inputRef:b,id:`${d.name}-input`,skeleton:l,path:c}),[f,T,E,k,x,C,y,a,d.name,l,c]);if(!M)return null;const P={fieldDef:T,value:E,error:k,colsInRow:n,id:d.name,spacing:s,methods:a,inputRef:b,disabled:y,skeleton:l};return p?v.jsx(bV,{...P,children:D}):v.jsx(qh,{...P,children:D})},One=h.memo(Tne),Lne=t=>{const{col:e,fieldsDef:n,colsInRow:r,colIdx:o,rowIdx:i,sectionIdx:s,spacing:a,methods:l,skeleton:c,path:u}=t;return v.jsx(QT,{"data-layout":"column",$colsInRow:r,children:e.map(d=>v.jsx(One,{fieldName:d,fieldsDef:n,colIdx:o,colsInRow:r,rowIdx:i,sectionIdx:s,spacing:a,methods:l,skeleton:c,path:u},d))})},Ane=h.memo(Lne),Pne=t=>{const{row:e,rowIdx:n,fieldsDef:r,sectionIdx:o,gridMinWidth:i,spacing:s,methods:a,skeleton:l,path:c}=t,{state:u}=h.useContext(hi),d=h.useMemo(()=>e.flat().flat().map(f=>r.find(m=>f===m.name)),[r,e]);return Ql(d,u,"show",!0).length?v.jsx(XT,{"data-layout":"row",$columns:e.length,$gridMinWidth:i,$spacing:s,children:e.map((f,m)=>v.jsx(Ane,{colIdx:m,rowIdx:n,sectionIdx:o,col:f,fieldsDef:r,colsInRow:e.length,spacing:s,methods:a,skeleton:l,path:c},`col-${m}`))}):null},IM=h.memo(Pne),$M=t=>{const{title:e,description:n,fieldsDef:r,rows:o,sectionIdx:i,collapsed:s=!1,registerRef:a,gridMinWidth:l,spacing:c,methods:u,skeleton:d}=t,{state:p}=h.useContext(hi),f=h.useCallback(()=>!!o.flat(2).some(E=>p.errors[E]),[o,p.errors]),m=h.useMemo(()=>f()?!0:!s,[s,f]),[g,y]=h.useState(m),b=h.useRef();h.useEffect(()=>{f()&&y(!0)},[f]),h.useEffect(()=>{y(!s)},[s]);const x=(C,E)=>{y(E)};return h.useEffect(()=>a(b.current),[b.current]),v.jsxs(mne,{"data-testid":"section-test-id",defaultExpanded:m,expanded:g,onChange:x,square:!0,$title:e,ref:b,children:[e&&v.jsx(gne,{expandIcon:v.jsx(_f,{}),"aria-controls":"panel1a-content",children:v.jsx(bne,{className:"section-title",children:e})}),v.jsxs(vne,{children:[n&&v.jsx(yne,{children:n}),o&&v.jsx(RM,{$title:e,children:o.map((C,E)=>v.jsx(IM,{row:C,rowIdx:E,sectionIdx:i,fieldsDef:r,gridMinWidth:l,spacing:c,methods:u,skeleton:d},`row-${E}`))})]})]})};$M.displayName="Section";const Rne=h.memo($M),Dne=Q.div`
	margin: 0px;
	max-width: 1160px;
	display: grid;
	grid-template-columns: repeat(1,minmax(0,1fr));
	gap: 24px 40px;
`,Ine=t=>{const{fields:e,sections:n,registerRef:r,spacing:o,methods:i,skeleton:s}=t;return v.jsx(Dne,{"data-testid":"form-layout-test-id",className:"layout",children:n.map((a,l)=>v.jsx(Rne,{registerRef:r,title:a.title,sectionIdx:l,description:a.description,fieldsDef:e,rows:a.fields,collapsed:a.collapsed,gridMinWidth:a.gridMinWidth,spacing:o,methods:i,skeleton:s},l))})},$ne=h.memo(Ine),Nne=Q.div`
	border-bottom: 2px solid ${_.newColors.grey2[100]};
	padding: 0 24px 24px;

	${Wt("sm","FORM")} {
		padding-top: 24px;
	}

	${({$bottomBorder:t})=>!t&&`
		${Wt("sm","FORM")} {
			border-bottom: 0;
			padding-bottom: 0;
		}

		${Wt("xl","FORM")} {
			padding-bottom: 24px;
		}
	`}

	${Wt("xl","FORM")} {
		border-bottom: 2px solid ${_.newColors.grey2[100]};
	}
`,_ne=Q.div`
	top: 0;
	z-index: 100;
	display: flex;
	flex-direction: column;

	${Wt("sm","FORM")} {
		align-items: center;
		flex-direction: row;
		flex-wrap: wrap;
	}
`,Fne=Q.div`
	display: flex;
	margin: 0 -24px 24px;
	padding: 12px 24px;
	order: -1;
	justify-content: end;
  	background-color: ${_.newColors.grey2[100]};

	${Wt("sm","FORM")} {
		order: 0;
		background: none;
		margin: 0;
		padding: 0;
  	}
`,Bne=Q.button`
  margin-right: auto;
  border-radius: 0;
  border: 0;
  background: none;
  cursor: pointer;

  ${Wt("sm","FORM")} {
	display: none;
  }
`,jne=Q(Tx)`
  color: ${_.newColors.almostBlack[100]};
`,zne=Q.div`
	font-family: ${_.fontFamily};

	${Wt("sm","FORM")} {
		margin-right: auto;
		max-width: 50%;
	}
`;Q.div`
	display: flex;
	align-items: center;
`;const Hne=Q(Nx)`
	display: none;

	${Wt("md","FORM")} {
		display: block;
	}
`,Vne=Q(Nx)`
	width: 100%;

	${Wt("sm","FORM")} {
		order: 1;
	}

	${Wt("md","FORM")} {
		display: none;
	}
`,Wne=t=>{const{buttons:e,description:n,title:r,onBack:o,backLabel:i,bottomBorder:s,collapse:a,skeleton:l}=t;return v.jsxs(Nne,{$bottomBorder:s,children:[v.jsxs(_ne,{children:[v.jsx(zne,{children:v.jsxs(yT,{children:[t.onBack&&v.jsx(bT,{collapse:a,onClick:t.onBack,label:i}),v.jsx(wT,{attrs:{title:r},children:r})]})}),n&&v.jsx(Vne,{children:n}),v.jsxs(Fne,{children:[o&&v.jsx(Bne,{type:"button",onClick:o,children:v.jsx(jne,{})}),v.jsx(Da,{buttons:e,skeleton:l})]})]}),n&&v.jsx(Hne,{children:n})]})},Une=h.memo(Wne);function Gne(t,{min:e,max:n}){return e!==void 0&&t<e?e:n!==void 0&&t>n?n:t}function Kne(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2}function qne(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)}function Yne(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}const Jne={easeInOutQuart:Kne,easeOutBack:qne,easeInOutCubic:Yne};function Zne(t={}){const e={fn:()=>null,startTimestamp:0,preventNext:!1,valueStart:0,valueEnd:0,duration:0,easing:"easeInOutCubic",onComplete:()=>null},n=a=>{Object.assign(e,a)};n(t);const r=a=>{if(e.preventNext)return;e.startTimestamp||(e.startTimestamp=a);const l=Math.min((a-e.startTimestamp)/e.duration,1),c=Math.floor(Jne[e.easing](l)*(e.valueEnd-e.valueStart)+e.valueStart);if(e.fn(c,e),l<1){window.requestAnimationFrame(r);return}e.onComplete&&e.onComplete(),e.preventNext=!0};return{start:(a={})=>{n(a),e.preventNext=!1,e.startTimestamp=0,window.requestAnimationFrame(r)},stop:()=>{e.preventNext=!0},inProgress:()=>!e.preventNext}}function Xne(t){return h.useRef(Zne(t)).current}const Qne=400,ere=1500;function NM({container:t,onComplete:e,onStop:n}){const r=Xne({onComplete:()=>{e&&e(),n&&n()}});h.useEffect(()=>{const{current:i}=t;if(!i)return;const s=()=>{r.stop(),n&&n()};return i.addEventListener("wheel",s,{passive:!0}),()=>i.removeEventListener("wheel",s)},[r,t,n]);const o=h.useCallback(({target:i,offset:s=0})=>{if(!i)return;const{current:a}=t,{scrollTop:l}=a,c=i.getBoundingClientRect(),u=a.getBoundingClientRect(),d=c.top+l-u.top-s,p=a.scrollHeight-u.height,f=l,m=Math.min(d,p);r.start({fn:g=>typeof a.scrollTo=="function"&&a.scrollTo({top:g}),valueStart:f,valueEnd:m,duration:Gne(Math.abs(m-f)*.75,{min:Qne,max:ere})})},[r,t]);return{animation:r,scrollTo:o}}function tre({refs:t,container:e,threshold:n=.2}){const r=h.useRef(!1),o=h.useRef(ST(()=>r.current=!1,100)),{current:i}=e,{animation:s,scrollTo:a}=NM({container:e,onStop:()=>{r.current=!1}}),[l,c]=h.useState(0),[u,d]=h.useState(null),p=u!==null?u:l,f=h.useCallback(()=>{let g=0;if(!i||!t)return g;const y=i.getBoundingClientRect();if(Math.ceil(i.scrollTop+y.height)>=i.scrollHeight)return t.length-1;for(let b=0;b<t.length&&!(t[b].getBoundingClientRect().top>y.top+y.height*n);b++)g=b;return g},[i,t,n]);h.useEffect(()=>{const g=f();c(g)},[f,t]),h.useEffect(()=>{if(!i)return;const g=()=>{o.current(),r.current||d(null);const y=f();c(y)};return i.addEventListener("scroll",g,{passive:!0}),()=>i.removeEventListener("scroll",g)},[i,f]);const m=h.useCallback(g=>{const[y]=t,b=t[g];if(!y||!b||!i)return;d(g),r.current=!0;const{scrollTop:x}=i,C=i.getBoundingClientRect(),k=y.getBoundingClientRect().top+x-C.top;a({target:b,offset:k})},[i,t,a]);return{animation:s,activeSection:p,setActiveSection:m}}const nre=({sections:t,fields:e})=>t?t.map(n=>{const r=n.fields.filter(o=>o.filter(s=>s.length).length);return{...n,fields:r}}):[{fields:e.map(n=>[[n.name]])}];function rre(t){return t.map(e=>{var n;if(e.type==="addressSingle"){const{inputSettings:{getOptionsCountries:r,getOptionsStates:o,googleMapsApiKey:i,subFields:s}={},required:a,disabled:l}=e;return{...e,type:"group",inputSettings:{fields:SC({getOptionsCountries:r,getOptionsStates:o,googleMapsApiKey:i,required:a,disabled:l,include:s})}}}if(e.type==="date"&&((n=e.inputSettings)!=null&&n.showTime)){const{inputSettings:r={}}=e;return{...e,type:"group",size:e.size||"md",inputSettings:{fields:[{name:"date",type:"date",size:ft.full,required:e.required,disabled:e.disabled,inputSettings:{...r,showTime:!1}},{name:"time",type:"time",size:ft.full,required:e.required,disabled:e.disabled,inputSettings:{defaultTime:r.defaultTime}}],layout:[[["date"],["time"]]]},getResolvedValue:o=>o instanceof Date?{internalValue:{date:{date:o,keyboardInputValue:void 0},time:{time:o,keyboardInputValue:void 0,usingDefaultTime:!1}},value:o}:!o||!o.date||!o.time?{internalValue:o,value:void 0}:{internalValue:o,value:Nh(o.date,o.time)}}}return e})}const ore={name:"FORM",minWidth:"sm"},ire={name:"FORM",minWidth:"xl"},sre=t=>{const{buttons:e,state:n,title:r,onBack:o,backLabel:i,fields:s,sections:a,dialogOpen:l=!1,description:c,getFormValues:u,handleDialogClose:d,scrollSpyThreshold:p=.15,fullHeight:f=!0,spacing:m="normal",useSectionHash:g="section",onSubmit:y,methods:b,stable:x,autoFocus:C,skeleton:E,bottomSlot:k=null}=t,w=h.useMemo(()=>({methods:b,state:n}),[b,n]),M=h.useMemo(()=>rre(s),[s]),{init:T,setFormValues:D,setSubmitWarning:P,disableForm:U}=b,{errors:N,loadingInitial:q,disabled:R}=n,{moveToError:B}=x,[z,I]=h.useState([]),oe=h.useRef(),me=h.useRef(),{animation:{inProgress:te},activeSection:G,setActiveSection:X}=tre({refs:z,container:me,threshold:p}),ie=h.useCallback(Z=>{const ae=new URL(window.location.toString());ae.hash=`${g}-${Z}`,history.replaceState({},"",ae.toString())},[g]),{scrollTo:Y}=NM({container:me,onComplete:()=>{x.moveToError=!1}});h.useEffect(()=>{if(!B||!Object.keys(N).filter(Boolean).length)return;const[Z]=Object.entries(x.fields).filter(([,ue])=>x.mounted[ue.name]&&N[ue.name]).map(([,ue])=>ue).sort(({order:ue},{order:ye})=>ue-ye);if(!Z)return;const ae=x.mounted[Z.name];ae&&Y({target:ae.fieldRef})},[N,B,Y,x.fields,x.mounted]);const S=h.useRef(!1);h.useEffect(()=>{var ue;if(R||q||!C||S.current)return;const[Z]=Object.entries(x.fields).filter(([,ye])=>x.mounted[ye.name]).map(([,ye])=>ye).sort(({order:ye},{order:be})=>ye-be);if(!Z)return;const ae=x.mounted[Z.name];!ae||typeof((ue=ae==null?void 0:ae.inputRef)==null?void 0:ue.focus)!="function"||(S.current=!0,window.requestAnimationFrame(()=>ae.inputRef.focus()))},[R,q,C,x.fields,x.mounted]),h.useEffect(()=>{if(!g)return;const{hash:Z}=window.location,ae=new RegExp(`^#${g}-(\\d+)`),ue=Z&&Z.match(ae);if(!ue)return;const ye=Number(ue[1]);X(ye)},[g,X]),h.useEffect(()=>{!g||te()||ie(G)},[G,te,ie,g]);const A=h.useMemo(()=>nre({sections:a,fields:M}),[a,M]),j=Ql(A,n,"show"),H=h.useCallback(Z=>(I(ae=>[...ae,Z]),()=>I(ae=>ae.filter(ue=>ue!==Z))),[]),V=h.useMemo(()=>j.map((Z,ae)=>({label:Z.title,name:ae.toString()})),[j]),fe=h.useCallback(Z=>{const ae=Number(Z.item.name);ie(ae),X(ae)},[ie,X]),pe=typeof n.submitWarning=="object"?v.jsxs(v.Fragment,{children:[v.jsx("div",{children:n.submitWarning.lead}),v.jsx("ul",{children:n.submitWarning.reasons.map(Z=>v.jsx("li",{children:Z},Z))})]}):n.submitWarning,he=[{label:"No, stay",onClick:()=>d(!1),color:"gray",variant:"outlined"},{label:"Yes, leave",onClick:()=>d(!0),color:"yellow",variant:"contained"}],ke=n.disabled||n.waits.length>0,Te=E||q;h.useLayoutEffect(()=>{T({fields:M,sections:a})},[T,M,a]),h.useEffect(()=>{(async()=>{U({disabled:!0,initial:!0});const Z=u?await u():{};D({values:Z,initial:!0})})()},[U,u,D]);const $=h.useCallback(Z=>{Z.preventDefault(),y&&y(Z)},[y]),F=h.useMemo(()=>(e||[]).map(Z=>({...Z,disabled:n.disabled?!0:Z.disabled})),[n.disabled,e]),de=h.useMemo(()=>M.map(Z=>({...Z,disabled:n.disabled?!0:Z.disabled})),[n.disabled,M]);return v.jsxs(hi.Provider,{value:w,children:[v.jsx(GT,{"data-testid":"form-test-id",ref:oe,"aria-busy":ke?"true":"false",role:"form","aria-label":r,$fullHeight:f,children:v.jsxs(KT,{autoComplete:"off",onSubmit:$,noValidate:!0,children:[r&&v.jsx(Une,{title:r,onBack:o,backLabel:i,description:c,buttons:F,bottomBorder:V.length<2,collapse:ore,skeleton:Te}),v.jsxs(YT,{className:"form-primary",children:[V.length>1&&v.jsx(JT,{items:[V],active:String(G),onNav:fe,collapse:ire}),v.jsx(qT,{ref:me,$spacing:m,children:v.jsx($ne,{registerRef:H,fields:de,sections:j,spacing:m,methods:b,skeleton:Te})})]}),k]})}),v.jsx(zf,{buttons:he,dialogTitle:"Are you sure you want to leave?",open:l,children:"You have unsaved changes. If you leave all your changes will be lost."}),v.jsx(Hf,{label:pe,open:n.submitWarning.open,onClose:()=>P({...n.submitWarning,open:!1}),autoHideDuration:4e3})]})},Ku=h.memo(sre);export{Ku as F,eoe as V,F9 as a,eC as b,poe as c,z9 as d,_9 as e,B9 as f,j9 as g,Qre as h,UT as i,Yw as j,qh as k,Aee as l,foe as n,doe as r,Pw as t,Au as u,N9 as v};
