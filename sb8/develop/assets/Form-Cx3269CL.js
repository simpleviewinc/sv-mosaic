var c3=Object.defineProperty;var d3=(n,e,t)=>e in n?c3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Md=(n,e,t)=>d3(n,typeof e!="symbol"?e+"":e,t);import{j as x,r as an}from"./jsx-runtime-nGUw9YhZ.js";import{g as pc,a as $,r as v,c as To}from"./index-BP8_t0zE.js";import{s as ce,C as GM,t as K,n as ms,B as f3}from"./theme-DRtZtbPc.js";import{S as p3}from"./SideNav-D66jd1x5.js";import{c as Rn}from"./containerQuery-C0QVV4Kt.js";import{C as h3,F as g3,l as hc,k as KM,A as m3,r as qM,B as YM,D as v3,o as y3,E as JM,G as b3,H as x3,I as w3,J as C3,K as Ap,L as ZM,b as XM,M as S3,N as k3,O as M3,P as E3,Q as T3,R as A3,d as O3,z as L3,p as R3,S as QM,m as P3,a as I3,T as D3,w as eE,U as _3,V as $3,W as N3,j as F3,v as B3,X as j3,g as Ys}from"./CheckboxList-DIJA1CoI.js";import{S as Op,F as tE,i as bg,b as Ds,o as tw,f as Ba,A as z3,T as n0,I as nE,c as H3}from"./FormFieldText.styled-BceLEoIp.js";import{I as Ju,a as W3,D as U3,d as V3}from"./index-OJVcpMHx.js";import{S as kt,a as mf,B as gc}from"./ButtonRow-CuiV6DQ9.js";import{_ as Pt,d as le,T as G3,L as K3,H as q3,I as Nm,i as ln,g as Or,a as Cn,s as Ve,b as mc,u as ua,e as ti,f as Lr,j as xg,M as Y3,E as J3,z as Lp,y as r0,N as Z3}from"./generateUtilityClasses-DAcHHM0W.js";import{r as un}from"./createSvgIcon-CcHL1II5.js";import{C as Fm,a as X3,d as rE}from"./Chip-B85GZ6Ow.js";import{S as Qt}from"./sizes-C6oSOElx.js";import{c as Io}from"./createSvgIcon-CPgMIgId.js";import{I as vs,d as mu,G as Q3,u as i0,T as o0,P as eF,B as ar,e as tF}from"./Button-Do5OxnZO.js";import{f as nF,T as iE,R as rF,a as ca,P as vc,u as $l,g as nw,h as iF,m as oF,j as sF,k as aF,F as oE}from"./Popper-CPbWUqAP.js";import{u as s0}from"./useId-DLncWxdO.js";import{u as Cl}from"./useControlled-im5M3O13.js";import{_ as lF,c as Je,a as vu,s as uF,u as Lo,d as cF,b as a0}from"./useIsFocusVisible-De2ftVE9.js";import{d as l0}from"./DataViewPrimaryFilter.styled-CylNlUs-.js";import{a as dF,R as fF}from"./RadioButton-CO2cFro8.js";import{T as pF}from"./Toggle-BRgaiAVD.js";import{b as u0,d as da,i as Rp,_ as yc,c as hF,a as gF}from"./isSymbol-CEVJpixJ.js";import{r as it,t as Ze,g as mF,s as Bm,b as sE,c as vF,d as wn,e as yF,h as Pp,l as rw,i as bF,j as iw,k as xF,n as wF,o as jm,p as aE,q as lE,f as gl,u as CF,v as uE,_ as SF,C as kF,P as MF,w as c0,x as Ko,y as EF,z as TF,A as Yd,D as d0,B as AF,a as OF,E as LF,F as vf}from"./ColorSelected-CKk7RW2B.js";import{b as RF,c as ow,e as PF,f as Ft,g as $t,h as qe,i as Nt,_ as IF}from"./useMosaicTranslation-CZCb37QS.js";import{b as cE,D as ml,T as dE,c as fE}from"./formats-sBod7wm8.js";import{u as DF,T as fs}from"./FormControlLabel-n1qioM9o.js";import{a as _F,b as $F,d as sw,c as NF,D as f0}from"./Dialog-DXK7hw4q.js";import{o as wg}from"./ownerWindow-DvT1GKkC.js";import{B as pE,T as hE}from"./ButtonBase-BZmvw3BH.js";import{u as FF}from"./useTheme-5hcycNQy.js";import{u as BF}from"./useMediaQuery-CguehUMS.js";import{D as gE,a as jF,b as zF}from"./TitleWrapper-D2l-_w9e.js";import{T as HF}from"./Typography-Br_RMLnS.js";import{T as WF}from"./TitleText-C9TlfF_O.js";import{d as UF,t as VF}from"./debounce-DO3dP4oK.js";import{S as p0}from"./Snackbar-J6gNQC5v.js";import{r as ys,R as GF}from"./index-BxmsGmlx.js";import{t as oo}from"./testIds-wFnuQL-c.js";import{T as KF,F as h0,B as zm}from"./TooltipIcon-CO3K7ssQ.js";import{g as Jd}from"./useToggle-lipGlewK.js";import{C as qF}from"./ClickAwayListener-DnjBLK-5.js";import{d as YF}from"./MoreVert-BbmWEP2K.js";import{P as JF}from"./PageHeader-DvPTRq5b.js";import{S as g0}from"./Spinner-DgupAfKo.js";var mE={exports:{}},ZF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XF=ZF,QF=XF;function vE(){}function yE(){}yE.resetWarningCache=vE;var eB=function(){function n(r,i,o,s,a,l){if(l!==QF){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yE,resetWarningCache:vE};return t.PropTypes=t,t};mE.exports=eB();var bE=mE.exports;const He=pc(bE);function tB(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function nB(n,e){n.classList?n.classList.add(e):tB(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function aw(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function rB(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=aw(n.className,e):n.setAttribute("class",aw(n.className&&n.className.baseVal||"",e))}var iB=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return nB(e,r)})},Cg=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return rB(e,r)})},m0=function(n){lF(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1];r.removeClasses(f,"exit"),r.addClass(f,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1],h=p?"appear":"enter";r.addClass(f,h,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1],h=p?"appear":"enter";r.removeClasses(f,h),r.addClass(f,h,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",f=c&&l?l+"-":"",p=c?""+f+a:l[a],h=c?p+"-active":l[a+"Active"],m=c?p+"-done":l[a+"Done"];return{baseClassName:p,activeClassName:h,doneClassName:m}},r}var t=e.prototype;return t.addClass=function(i,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;o==="appear"&&s==="done"&&c&&(a+=" "+c),s==="active"&&i&&nF(i),a&&(this.appliedClasses[o][s]=a,iB(i,a))},t.removeClasses=function(i,o){var s=this.appliedClasses[o],a=s.base,l=s.active,c=s.done;this.appliedClasses[o]={},a&&Cg(i,a),l&&Cg(i,l),c&&Cg(i,c)},t.render=function(){var i=this.props;i.classNames;var o=Pt(i,["classNames"]);return $.createElement(iE,le({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}($.Component);m0.defaultProps={classNames:""};m0.propTypes={};const oB=n=>{const e=v.useRef({});return v.useEffect(()=>{e.current=n}),e.current},xE=v.createContext(null);function wE(){return v.useContext(xE)}const sB=typeof Symbol=="function"&&Symbol.for,aB=sB?Symbol.for("mui.nested"):"__THEME_NESTED__";function lB(n,e){return typeof e=="function"?e(n):le({},n,e)}function uB(n){const{children:e,theme:t}=n,r=wE(),i=v.useMemo(()=>{const o=r===null?t:lB(r,t);return o!=null&&(o[aB]=r!==null),o},[t,r]);return x.jsx(xE.Provider,{value:i,children:e})}const lw={};function uw(n,e,t,r=!1){return v.useMemo(()=>{const i=n&&e[n]||e;if(typeof t=="function"){const o=t(i),s=n?le({},e,{[n]:o}):o;return r?()=>s:s}return n?le({},e,{[n]:t}):le({},e,t)},[n,e,t,r])}function cB(n){const{children:e,theme:t,themeId:r}=n,i=FF(lw),o=wE()||lw,s=uw(r,i,t),a=uw(r,o,t,!0),l=s.direction==="rtl";return x.jsx(uB,{theme:a,children:x.jsx(G3.Provider,{value:s,children:x.jsx(rF,{value:l,children:x.jsx(K3,{value:s==null?void 0:s.components,children:e})})})})}function Do({props:n,name:e}){return DF({props:n,name:e,defaultTheme:q3,themeId:Nm})}const dB=["theme"];function fB(n){let{theme:e}=n,t=Pt(n,dB);const r=e[Nm];return x.jsx(cB,le({},t,{themeId:r?Nm:void 0,theme:r||e}))}function El(n){it(1,arguments);var e=Ze(n);return e.setHours(0,0,0,0),e}function pB(n,e){it(2,arguments);var t=El(n),r=El(e);return t.getTime()===r.getTime()}const hB=ce.div`
	position: relative;
	display: flex;
	flex-direction: column;

	container-type: inline-size;
	container-name: ${GM.FORM};

	${({$fullHeight:n=!0})=>n&&`
		height: 100%;
	`}
`,gB=ce.form`
	display: flex;
	flex-direction: column;
	flex: 1 1 0%;
	min-height: 0;
`,mB=ce.div`
	overflow-y: auto;
	flex-grow: 1;
	min-width: 0;
	padding: ${({$spacing:n})=>n==="compact"?"16px":"24px"};
	position: relative;
`,vB=ce.div`
	flex-grow: 1;
	min-height: 0;
	display: flex;
	flex-direction: column;

	${Rn("xl","FORM")} {
		flex-direction: row;
	}
`,yB=ce(p3)`
	display: none;
	margin-top: 10px;

	${Rn("sm","FORM")} {
		display: block;
	}

	${Rn("xl","FORM")} {
		margin-top: 0;
	}
`,bB=ce.div`
	border-top: 2px solid ${K.newColors.grey2[100]};
	padding: ${({$spacing:n})=>n==="compact"?"16px":"24px"};
	display: flex;
`,xB=ce.div`
	${({$columns:n,$gridMinWidth:e,$spacing:t})=>n&&`
		display: grid;
		grid-template-columns: repeat(1,minmax(0,1fr));
		gap: ${t==="compact"?"16px":"24px"};

		${e?`
			@container form (min-width: ${e}) {
				grid-template-columns: repeat(${n},minmax(0,1fr));
			}
		`:`
			${Rn("md","FORM")} {
				grid-template-columns: repeat(${n>1?2:1},minmax(0,1fr));
			}
			${Rn("lg","FORM")} {
				grid-template-columns: repeat(${n},minmax(0,1fr));
			}
		`}
	`}
`,wB=ce.div`
	display: flex;
	flex-direction: column;
	position: relative;
	gap: 24px;

	container-type: inline-size;
	container-name: ${GM.FORM_COL};
`;function Hm(n,e){const t=new Date(n.getTime()),[r,i,o]=Array.isArray(e)?e:[e.getHours(),e.getMinutes(),e.getSeconds()];return t.setHours(r,i,o,0),t}function cw(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=RF(n))||e){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return s=c.done,c},e:function(c){a=!0,o=c},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw o}}}}function CB(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function CE(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CE=function(){return!!n})()}function Bt(n){var e=CE();return function(){var t,r=ow(n);if(e){var i=ow(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return PF(this,t)}}var SB=10,SE=function(){function n(){$t(this,n),qe(this,"priority",void 0),qe(this,"subPriority",0)}return Nt(n,[{key:"validate",value:function(t,r){return!0}}]),n}(),kB=function(n){Ft(t,n);var e=Bt(t);function t(r,i,o,s,a){var l;return $t(this,t),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return Nt(t,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),t}(SE),MB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",SB),qe(Je(r),"subPriority",-1),r}return Nt(t,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),t}(SE),Ut=function(){function n(){$t(this,n),qe(this,"incompatibleTokens",void 0),qe(this,"priority",void 0),qe(this,"subPriority",void 0)}return Nt(n,[{key:"run",value:function(t,r,i,o){var s=this.parse(t,r,i,o);return s?{setter:new kB(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(t,r,i){return!0}}]),n}(),EB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",140),qe(Je(r),"incompatibleTokens",["R","u","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(Ut),Ip=6e4,Dp=36e5,TB=1e3,Pn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ro={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function In(n,e){return n&&{value:e(n.value),rest:n.rest}}function xn(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function io(n,e){var t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*Dp+o*Ip+s*TB),rest:e.slice(t[0].length)}}function kE(n){return xn(Pn.anyDigitsSigned,n)}function Mn(n,e){switch(n){case 1:return xn(Pn.singleDigit,e);case 2:return xn(Pn.twoDigits,e);case 3:return xn(Pn.threeDigits,e);case 4:return xn(Pn.fourDigits,e);default:return xn(new RegExp("^\\d{1,"+n+"}"),e)}}function yf(n,e){switch(n){case 1:return xn(Pn.singleDigitSigned,e);case 2:return xn(Pn.twoDigitsSigned,e);case 3:return xn(Pn.threeDigitsSigned,e);case 4:return xn(Pn.fourDigitsSigned,e);default:return xn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function v0(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ME(n,e){var t=e>0,r=t?e:1-e,i;if(r<=50)i=n||100;else{var o=r+50,s=Math.floor(o/100)*100,a=n>=o%100;i=n+s-(a?100:0)}return t?i:1-i}function EE(n){return n%400===0||n%4===0&&n%100!==0}var AB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",130),qe(Je(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return In(Mn(4,i),a);case"yo":return In(s.ordinalNumber(i,{unit:"year"}),a);default:return In(Mn(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var l=ME(s.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(Ut),OB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",130),qe(Je(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return In(Mn(4,i),a);case"Yo":return In(s.ordinalNumber(i,{unit:"year"}),a);default:return In(Mn(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var l=mF(i,a);if(s.isTwoDigitYear){var c=ME(s.year,l);return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Bm(i,a)}var f=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(f,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Bm(i,a)}}]),t}(Ut),LB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",130),qe(Je(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o){return yf(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),sE(a)}}]),t}(Ut),RB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",130),qe(Je(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o){return yf(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(Ut),PB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",120),qe(Je(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return Mn(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}(Ut),IB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",120),qe(Je(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return Mn(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}(Ut),DB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),qe(Je(r),"priority",110),r}return Nt(t,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"M":return In(xn(Pn.month,i),a);case"MM":return In(Mn(2,i),a);case"Mo":return In(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),t}(Ut),_B=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",110),qe(Je(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"L":return In(xn(Pn.month,i),a);case"LL":return In(Mn(2,i),a);case"Lo":return In(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),t}(Ut);function $B(n,e,t){it(2,arguments);var r=Ze(n),i=wn(e),o=vF(r,t)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var NB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",100),qe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"w":return xn(Pn.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return Mn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return Bm($B(i,s,a),a)}}]),t}(Ut);function FB(n,e){it(2,arguments);var t=Ze(n),r=wn(e),i=yF(t)-r;return t.setUTCDate(t.getUTCDate()-i*7),t}var BB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",100),qe(Je(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"I":return xn(Pn.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return Mn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return sE(FB(i,s))}}]),t}(Ut),jB=[31,28,31,30,31,30,31,31,30,31,30,31],zB=[31,29,31,30,31,30,31,31,30,31,30,31],HB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",90),qe(Je(r),"subPriority",1),qe(Je(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"d":return xn(Pn.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return Mn(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=EE(s),l=i.getUTCMonth();return a?o>=1&&o<=zB[l]:o>=1&&o<=jB[l]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),t}(Ut),WB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",90),qe(Je(r),"subpriority",1),qe(Je(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return xn(Pn.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return Mn(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=EE(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),t}(Ut);function y0(n,e,t){var r,i,o,s,a,l,c,f;it(2,arguments);var p=Pp(),h=wn((r=(i=(o=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:p.weekStartsOn)!==null&&i!==void 0?i:(c=p.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ze(n),y=wn(e),b=m.getUTCDay(),w=y%7,S=(w+7)%7,k=(S<h?7:0)+y-b;return m.setUTCDate(m.getUTCDate()+k),m}var UB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",90),qe(Je(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=y0(i,s,a),i.setUTCHours(0,0,0,0),i}}]),t}(Ut),VB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",90),qe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s,a){var l=function(f){var p=Math.floor((f-1)/7)*7;return(f+a.weekStartsOn+6)%7+p};switch(o){case"e":case"ee":return In(Mn(o.length,i),l);case"eo":return In(s.ordinalNumber(i,{unit:"day"}),l);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=y0(i,s,a),i.setUTCHours(0,0,0,0),i}}]),t}(Ut),GB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",90),qe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s,a){var l=function(f){var p=Math.floor((f-1)/7)*7;return(f+a.weekStartsOn+6)%7+p};switch(o){case"c":case"cc":return In(Mn(o.length,i),l);case"co":return In(s.ordinalNumber(i,{unit:"day"}),l);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=y0(i,s,a),i.setUTCHours(0,0,0,0),i}}]),t}(Ut);function KB(n,e){it(2,arguments);var t=wn(e);t%7===0&&(t=t-7);var r=1,i=Ze(n),o=i.getUTCDay(),s=t%7,a=(s+7)%7,l=(a<r?7:0)+t-o;return i.setUTCDate(i.getUTCDate()+l),i}var qB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",90),qe(Je(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){var a=function(c){return c===0?7:c};switch(o){case"i":case"ii":return Mn(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return In(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return In(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return In(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return In(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=KB(i,s),i.setUTCHours(0,0,0,0),i}}]),t}(Ut),YB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",80),qe(Je(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(v0(s),0,0,0),i}}]),t}(Ut),JB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",80),qe(Je(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(v0(s),0,0,0),i}}]),t}(Ut),ZB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",80),qe(Je(r),"incompatibleTokens",["a","b","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(v0(s),0,0,0),i}}]),t}(Ut),XB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",70),qe(Je(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"h":return xn(Pn.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return Mn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),t}(Ut),QB=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",70),qe(Je(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"H":return xn(Pn.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return Mn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),t}(Ut),e5=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",70),qe(Je(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"K":return xn(Pn.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return Mn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),t}(Ut),t5=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",70),qe(Je(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"k":return xn(Pn.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return Mn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),t}(Ut),n5=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",60),qe(Je(r),"incompatibleTokens",["t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"m":return xn(Pn.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return Mn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),t}(Ut),r5=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",50),qe(Je(r),"incompatibleTokens",["t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o,s){switch(o){case"s":return xn(Pn.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return Mn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),t}(Ut),i5=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",30),qe(Je(r),"incompatibleTokens",["t","T"]),r}return Nt(t,[{key:"parse",value:function(i,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return In(Mn(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),t}(Ut),o5=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",10),qe(Je(r),"incompatibleTokens",["t","T","x"]),r}return Nt(t,[{key:"parse",value:function(i,o){switch(o){case"X":return io(ro.basicOptionalMinutes,i);case"XX":return io(ro.basic,i);case"XXXX":return io(ro.basicOptionalSeconds,i);case"XXXXX":return io(ro.extendedOptionalSeconds,i);case"XXX":default:return io(ro.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),t}(Ut),s5=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",10),qe(Je(r),"incompatibleTokens",["t","T","X"]),r}return Nt(t,[{key:"parse",value:function(i,o){switch(o){case"x":return io(ro.basicOptionalMinutes,i);case"xx":return io(ro.basic,i);case"xxxx":return io(ro.basicOptionalSeconds,i);case"xxxxx":return io(ro.extendedOptionalSeconds,i);case"xxx":default:return io(ro.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),t}(Ut),a5=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",40),qe(Je(r),"incompatibleTokens","*"),r}return Nt(t,[{key:"parse",value:function(i){return kE(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),t}(Ut),l5=function(n){Ft(t,n);var e=Bt(t);function t(){var r;$t(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),qe(Je(r),"priority",20),qe(Je(r),"incompatibleTokens","*"),r}return Nt(t,[{key:"parse",value:function(i){return kE(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),t}(Ut),u5={G:new EB,y:new AB,Y:new OB,R:new LB,u:new RB,Q:new PB,q:new IB,M:new DB,L:new _B,w:new NB,I:new BB,d:new HB,D:new WB,E:new UB,e:new VB,c:new GB,i:new qB,a:new YB,b:new JB,B:new ZB,h:new XB,H:new QB,K:new e5,k:new t5,m:new n5,s:new r5,S:new i5,X:new o5,x:new s5,t:new a5,T:new l5},c5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f5=/^'([^]*?)'?$/,p5=/''/g,h5=/\S/,g5=/[a-zA-Z]/;function TE(n,e,t,r){var i,o,s,a,l,c,f,p,h,m,y,b,w,S,k,T,R,O;it(3,arguments);var M=String(n),L=String(e),D=Pp(),j=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:D.locale)!==null&&i!==void 0?i:aE;if(!j.match)throw new RangeError("locale must contain match property");var F=wn((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(f=r.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&l!==void 0?l:D.firstWeekContainsDate)!==null&&a!==void 0?a:(h=D.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ie=wn((y=(b=(w=(S=r==null?void 0:r.weekStartsOn)!==null&&S!==void 0?S:r==null||(k=r.locale)===null||k===void 0||(T=k.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&w!==void 0?w:D.weekStartsOn)!==null&&b!==void 0?b:(R=D.locale)===null||R===void 0||(O=R.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&y!==void 0?y:0);if(!(ie>=0&&ie<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(L==="")return M===""?Ze(t):new Date(NaN);var W={firstWeekContainsDate:F,weekStartsOn:ie,locale:j},ne=[new MB],z=L.match(d5).map(function(J){var ee=J[0];if(ee in rw){var Re=rw[ee];return Re(J,j.formatLong)}return J}).join("").match(c5),X=[],Z=cw(z),H;try{var he=function(){var ee=H.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&bF(ee)&&iw(ee,L,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&xF(ee)&&iw(ee,L,n);var Re=ee[0],Te=u5[Re];if(Te){var Le=Te.incompatibleTokens;if(Array.isArray(Le)){var Be=X.find(function(V){return Le.includes(V.token)||V.token===Re});if(Be)throw new RangeError("The format string mustn't contain `".concat(Be.fullToken,"` and `").concat(ee,"` at the same time"))}else if(Te.incompatibleTokens==="*"&&X.length>0)throw new RangeError("The format string mustn't contain `".concat(ee,"` and any other token at the same time"));X.push({token:Re,fullToken:ee});var Fe=Te.run(M,ee,j.match,W);if(!Fe)return{v:new Date(NaN)};ne.push(Fe.setter),M=Fe.rest}else{if(Re.match(g5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Re+"`");if(ee==="''"?ee="'":Re==="'"&&(ee=m5(ee)),M.indexOf(ee)===0)M=M.slice(ee.length);else return{v:new Date(NaN)}}};for(Z.s();!(H=Z.n()).done;){var _e=he();if(IF(_e)==="object")return _e.v}}catch(J){Z.e(J)}finally{Z.f()}if(M.length>0&&h5.test(M))return new Date(NaN);var pe=ne.map(function(J){return J.priority}).sort(function(J,ee){return ee-J}).filter(function(J,ee,Re){return Re.indexOf(J)===ee}).map(function(J){return ne.filter(function(ee){return ee.priority===J}).sort(function(ee,Re){return Re.subPriority-ee.subPriority})}).map(function(J){return J[0]}),te=Ze(t);if(isNaN(te.getTime()))return new Date(NaN);var ue=wF(te,jm(te)),ve={},se=cw(pe),A;try{for(se.s();!(A=se.n()).done;){var N=A.value;if(!N.validate(ue,W))return new Date(NaN);var q=N.set(ue,ve,W);Array.isArray(q)?(ue=q[0],CB(ve,q[1])):ue=q}}catch(J){se.e(J)}finally{se.f()}return ue}function m5(n){return n.match(f5)[1].replace(p5,"'")}function Wm(n,e){const t=TE(n,e,new Date);return lE(t)&&gl(t,e)===n}function v5(n){if(Array.isArray(n))return n;const[e,t]=n.split(":");if(!e||e.length!==2||!t||t.length!==2)throw new Error(`${n} is not a valid 24hr time. It must contain hour and minute components separated by a colon.`);const r=Number(e),i=Number(t);if(r!==r||r<0||r>23||i!==i||i<0||i>59)throw new Error(`${n} is not a valid 24hr time`);return[r,i,0,0]}function Um(n){return"isPending"in n&&n.isPending}function Vm(n){return Object.prototype.toString.call(n)==="[object Object]"}const AE=n=>{if(!(n===""||Array.isArray(n)&&n.length===0)&&!(Vm(n)&&!Object.values(n).filter(e=>e!==void 0).length))return n};function Vn(n){return{internalValue:n,value:AE(n)}}const y5=n=>{var y,b,w,S,k,T,R,O;const{fieldDef:e,error:t,onChange:r,onBlur:i,value:o,disabled:s,inputRef:a,id:l,skeleton:c}=n,f=(y=e==null?void 0:e.inputSettings)!=null&&y.prefixElement?{startAdornment:x.jsx(Ju,{position:"start",children:(b=e==null?void 0:e.inputSettings)==null?void 0:b.prefixElement})}:null,p=M=>{const{value:L}=M.target;r&&r(L===""?void 0:L)},h=M=>{const{value:L}=M.target;i&&i(L===""?void 0:L),e!=null&&e.onBlurCb&&(e==null||e.onBlurCb(L))},m=typeof t=="string"?(t==null?void 0:t.trim().length)>0:!1;return c?x.jsx(kt,{variant:"rectangular",width:"100%",height:43}):x.jsx(Op,{id:l,"data-testid":"form-field-text-test-id",value:o??"",onChange:p,onBlur:h,variant:"outlined",error:m||m&&(e==null?void 0:e.required),className:e==null?void 0:e.className,placeholder:(w=e==null?void 0:e.inputSettings)==null?void 0:w.placeholder,multiline:(S=e==null?void 0:e.inputSettings)==null?void 0:S.multiline,fieldSize:e==null?void 0:e.size,InputProps:{...f||{},inputRef:a},required:e==null?void 0:e.required,type:((k=e==null?void 0:e.inputSettings)==null?void 0:k.type)==="number"?"text":(T=e==null?void 0:e.inputSettings)==null?void 0:T.type,minRows:(R=e==null?void 0:e.inputSettings)==null?void 0:R.minRows,maxRows:(O=e==null?void 0:e.inputSettings)==null?void 0:O.maxRows,disabled:s})},b5=v.memo(y5);var b0={},x5=ln;Object.defineProperty(b0,"__esModule",{value:!0});var x0=b0.default=void 0,w5=x5(un()),C5=an();x0=b0.default=(0,w5.default)((0,C5.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");ce.div`
  display: flex;
`;const S5=ce(h3)`
  &.MuiFormGroup-root {
    margin-left: -12px;
		height: fit-content !important;
  }
`;ce(tE)`
  &.MuiFormHelperText-root {
    color: ${K.newColors.grey3[100]};
    font-size: ${n=>n.error?"12px":"14px"};
    margin-top: ${n=>n.error?null:"8px"};
    margin-bottom: ${n=>n.error?null:"8px"};
  }

  &.MuiFormHelperText-root.Mui-error {
    color: ${K.newColors.darkRed[100]};
  }
`;ce.div`
  align-items: center;
  color: ${K.newColors.darkRed[100]};
  display: flex;
  flex-direction: row;
  margin-top: 8px;
`;ce(x0)`
	&.MuiSvgIcon-root {
		font-size: 16px;
		margin-right: 8px;
	}
`;const k5=ce.div`
	display: flex;
	flex-flow: column;
`,M5=ce.div`
	display: flex;
	align-items: center;
`,E5=ce.div`
	display: flex;
	align-items: center;
	justify-content: center;
	width: 18px;
	height: 40px;
	margin-right: 14px;
`;function Sg(){return x.jsxs(M5,{children:[x.jsx(E5,{children:x.jsx(kt,{variant:"rectangular",width:18,height:18})}),x.jsx(kt,{width:52,height:28})]})}function T5(){return x.jsxs(k5,{children:[x.jsx(Sg,{}),x.jsx(Sg,{}),x.jsx(Sg,{})]})}const A5=n=>{var b,w;const{fieldDef:e,onChange:t,onBlur:r,value:i,disabled:o,skeleton:s,id:a}=n,[l,c]=v.useState([]),[f,p]=v.useState([]),[h,m]=v.useState(void 0);v.useEffect(()=>{(async()=>{var k,T;if((k=e==null?void 0:e.inputSettings)!=null&&k.options)c(e.inputSettings.options),m(!0);else if((T=e==null?void 0:e.inputSettings)!=null&&T.getOptions){const R=await e.inputSettings.getOptions();c(R),m(!1)}})()},[(b=e==null?void 0:e.inputSettings)==null?void 0:b.options,(w=e==null?void 0:e.inputSettings)==null?void 0:w.getOptions]),v.useEffect(()=>{i&&h===!1&&i.forEach(S=>{l.find(k=>(k==null?void 0:k.value)===(S==null?void 0:S.value))||c([...l,S])}),p(i)},[l,i,h]);const y=(S,k)=>{const T=S==null?void 0:S.map(R=>l.find(O=>(O==null?void 0:O.value)===R.value));k&&k(T)};return s?x.jsx(T5,{}):x.jsx(S5,{disabled:o,checked:f,options:l,onChange:S=>y(S,t),onChangeCb:S=>y(S,e.onChangeCb),onBlur:r,style:e.style,className:e.className,id:a})},O5=v.memo(A5),L5=ce.div`
	display: flex;
	flex-wrap: wrap;
	row-gap: 12px;

	& .MuiChip-root {
		border: 1px solid ${({$error:n})=>n?K.newColors.darkRed[100]:"transparent"};
		margin-right: 12px;
	}

	& .MuiChip-root:last-child {
		margin-right: 0px;
	}
`,R5=ce.div`
	display: flex;
	gap: 12px;

	& .MuiSkeleton-root {
		border-radius: 99999em;
	}
`;function P5(){return x.jsxs(R5,{children:[x.jsx(kt,{variant:"rounded",width:85,height:32}),x.jsx(kt,{variant:"rounded",width:78,height:32}),x.jsx(kt,{variant:"rounded",width:186,height:32})]})}const I5=n=>{var k,T;const{fieldDef:e,error:t,onChange:r,onBlur:i,value:o,disabled:s,skeleton:a}=n,{required:l}=e||null,[c,f]=v.useState([]),[p,h]=v.useState(!1),[m,y]=v.useState(void 0);v.useEffect(()=>{(async()=>{var O,M;if((O=e==null?void 0:e.inputSettings)!=null&&O.options)f(e.inputSettings.options),y(!0);else if((M=e==null?void 0:e.inputSettings)!=null&&M.getOptions){const L=await e.inputSettings.getOptions();f(L),y(!1)}h(!1)})()},[(k=e==null?void 0:e.inputSettings)==null?void 0:k.options,(T=e==null?void 0:e.inputSettings)==null?void 0:T.getOptions]),v.useEffect(()=>{o&&!p&&(m===!0&&b(o),m===!1&&(c.find(R=>R.value===o.value)?b(o):f([...c,{...o,selected:!0}])),h(!0))},[o,p,c,m]);const b=R=>{let O=[...c];O=O.map(L=>(L==null?void 0:L.value)===(R==null?void 0:R.value)?{...L,selected:l&&L.selected?L.selected:!L.selected}:{...L,selected:!1});const M=O.find(L=>L.selected===!0);return f(O),M},w=R=>{const O=b(R);h(!0),r(O?{label:O.label,value:O.value}:void 0)},S=typeof t=="string"?(t==null?void 0:t.trim().length)>0:!1;return a?x.jsx(P5,{}):x.jsx(L5,{$error:S||S&&l,onBlur:i,role:"listbox",children:c.map(R=>x.jsx(Fm,{label:R.label,disabled:s,selected:R.selected,onClick:()=>w(R),role:"option"},R.value))})},D5=v.memo(I5);function dw(n){return typeof n.normalize<"u"?n.normalize("NFD").replace(/[\u0300-\u036f]/g,""):n}function _5(n={}){const{ignoreAccents:e=!0,ignoreCase:t=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=n;return(a,{inputValue:l,getOptionLabel:c})=>{let f=s?l.trim():l;t&&(f=f.toLowerCase()),e&&(f=dw(f));const p=f?a.filter(h=>{let m=(o||c)(h);return t&&(m=m.toLowerCase()),e&&(m=dw(m)),i==="start"?m.indexOf(f)===0:m.indexOf(f)>-1}):a;return typeof r=="number"?p.slice(0,r):p}}function Ed(n,e){for(let t=0;t<n.length;t+=1)if(e(n[t]))return t;return-1}const $5=_5(),fw=5,N5=n=>{var e;return n.current!==null&&((e=n.current.parentElement)==null?void 0:e.contains(document.activeElement))};function F5(n){const{unstable_isActiveElementInListbox:e=N5,unstable_classNamePrefix:t="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!n.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:f=n.multiple?[]:null,disableClearable:p=!1,disableCloseOnSelect:h=!1,disabled:m,disabledItemsFocusable:y=!1,disableListWrap:b=!1,filterOptions:w=$5,filterSelectedOptions:S=!1,freeSolo:k=!1,getOptionDisabled:T,getOptionKey:R,getOptionLabel:O=me=>{var fe;return(fe=me.label)!=null?fe:me},groupBy:M,handleHomeEndKeys:L=!n.freeSolo,id:D,includeInputInList:j=!1,inputValue:F,isOptionEqualToValue:ie=(me,fe)=>me===fe,multiple:W=!1,onChange:ne,onClose:z,onHighlightChange:X,onInputChange:Z,onOpen:H,open:he,openOnFocus:_e=!1,options:pe,readOnly:te=!1,selectOnFocus:ue=!n.freeSolo,value:ve}=n,se=s0(D);let A=O;A=me=>{const fe=O(me);return typeof fe!="string"?String(fe):fe};const N=v.useRef(!1),q=v.useRef(!0),J=v.useRef(null),ee=v.useRef(null),[Re,Te]=v.useState(null),[Le,Be]=v.useState(-1),Fe=i?0:-1,V=v.useRef(Fe),[G,ke]=Cl({controlled:ve,default:f,name:c}),[ae,xe]=Cl({controlled:F,default:"",name:c,state:"inputValue"}),[Me,Ae]=v.useState(!1),Ie=v.useCallback((me,fe)=>{if(!(W?G.length<fe.length:fe!==null)&&!a)return;let $e;if(W)$e="";else if(fe==null)$e="";else{const at=A(fe);$e=typeof at=="string"?at:""}ae!==$e&&(xe($e),Z&&Z(me,$e,"reset"))},[A,ae,W,Z,xe,a,G]),[Pe,Ee]=Cl({controlled:he,default:!1,name:c,state:"open"}),[Qe,We]=v.useState(!0),Ge=!W&&G!=null&&ae===A(G),ot=Pe&&!te,Ke=ot?w(pe.filter(me=>!(S&&(W?G:[G]).some(fe=>fe!==null&&ie(me,fe)))),{inputValue:Ge&&Qe?"":ae,getOptionLabel:A}):[],Ct=oB({filteredOptions:Ke,value:G,inputValue:ae});v.useEffect(()=>{const me=G!==Ct.value;Me&&!me||k&&!me||Ie(null,G)},[G,Ie,Me,Ct.value,k]);const cn=Pe&&Ke.length>0&&!te,tn=vu(me=>{me===-1?J.current.focus():Re.querySelector(`[data-tag-index="${me}"]`).focus()});v.useEffect(()=>{W&&Le>G.length-1&&(Be(-1),tn(-1))},[G,W,Le,tn]);function gn(me,fe){if(!ee.current||me<0||me>=Ke.length)return-1;let ze=me;for(;;){const $e=ee.current.querySelector(`[data-option-index="${ze}"]`),at=y?!1:!$e||$e.disabled||$e.getAttribute("aria-disabled")==="true";if($e&&$e.hasAttribute("tabindex")&&!at)return ze;if(fe==="next"?ze=(ze+1)%Ke.length:ze=(ze-1+Ke.length)%Ke.length,ze===me)return-1}}const dn=vu(({event:me,index:fe,reason:ze="auto"})=>{if(V.current=fe,fe===-1?J.current.removeAttribute("aria-activedescendant"):J.current.setAttribute("aria-activedescendant",`${se}-option-${fe}`),X&&X(me,fe===-1?null:Ke[fe],ze),!ee.current)return;const $e=ee.current.querySelector(`[role="option"].${t}-focused`);$e&&($e.classList.remove(`${t}-focused`),$e.classList.remove(`${t}-focusVisible`));let at=ee.current;if(ee.current.getAttribute("role")!=="listbox"&&(at=ee.current.parentElement.querySelector('[role="listbox"]')),!at)return;if(fe===-1){at.scrollTop=0;return}const St=ee.current.querySelector(`[data-option-index="${fe}"]`);if(St&&(St.classList.add(`${t}-focused`),ze==="keyboard"&&St.classList.add(`${t}-focusVisible`),at.scrollHeight>at.clientHeight&&ze!=="mouse"&&ze!=="touch")){const _=St,oe=at.clientHeight+at.scrollTop,we=_.offsetTop+_.offsetHeight;we>oe?at.scrollTop=we-at.clientHeight:_.offsetTop-_.offsetHeight*(M?1.3:0)<at.scrollTop&&(at.scrollTop=_.offsetTop-_.offsetHeight*(M?1.3:0))}}),mn=vu(({event:me,diff:fe,direction:ze="next",reason:$e="auto"})=>{if(!ot)return;const St=gn((()=>{const _=Ke.length-1;if(fe==="reset")return Fe;if(fe==="start")return 0;if(fe==="end")return _;const oe=V.current+fe;return oe<0?oe===-1&&j?-1:b&&V.current!==-1||Math.abs(fe)>1?0:_:oe>_?oe===_+1&&j?-1:b||Math.abs(fe)>1?_:0:oe})(),ze);if(dn({index:St,reason:$e,event:me}),r&&fe!=="reset")if(St===-1)J.current.value=ae;else{const _=A(Ke[St]);J.current.value=_,_.toLowerCase().indexOf(ae.toLowerCase())===0&&ae.length>0&&J.current.setSelectionRange(ae.length,_.length)}}),Lt=()=>{const me=(fe,ze)=>{const $e=fe?A(fe):"",at=ze?A(ze):"";return $e===at};if(V.current!==-1&&Ct.filteredOptions&&Ct.filteredOptions.length!==Ke.length&&Ct.inputValue===ae&&(W?G.length===Ct.value.length&&Ct.value.every((fe,ze)=>A(G[ze])===A(fe)):me(Ct.value,G))){const fe=Ct.filteredOptions[V.current];if(fe)return Ed(Ke,ze=>A(ze)===A(fe))}return-1},jn=v.useCallback(()=>{if(!ot)return;const me=Lt();if(me!==-1){V.current=me;return}const fe=W?G[0]:G;if(Ke.length===0||fe==null){mn({diff:"reset"});return}if(ee.current){if(fe!=null){const ze=Ke[V.current];if(W&&ze&&Ed(G,at=>ie(ze,at))!==-1)return;const $e=Ed(Ke,at=>ie(at,fe));$e===-1?mn({diff:"reset"}):dn({index:$e});return}if(V.current>=Ke.length-1){dn({index:Ke.length-1});return}dn({index:V.current})}},[Ke.length,W?!1:G,S,mn,dn,ot,ae,W]),mr=vu(me=>{uF(ee,me),me&&jn()});v.useEffect(()=>{jn()},[jn]);const vn=me=>{Pe||(Ee(!0),We(!0),H&&H(me))},Gn=(me,fe)=>{Pe&&(Ee(!1),z&&z(me,fe))},Sn=(me,fe,ze,$e)=>{if(W){if(G.length===fe.length&&G.every((at,St)=>at===fe[St]))return}else if(G===fe)return;ne&&ne(me,fe,ze,$e),ke(fe)},er=v.useRef(!1),vr=(me,fe,ze="selectOption",$e="options")=>{let at=ze,St=fe;if(W){St=Array.isArray(G)?G.slice():[];const _=Ed(St,oe=>ie(fe,oe));_===-1?St.push(fe):$e!=="freeSolo"&&(St.splice(_,1),at="removeOption")}Ie(me,St),Sn(me,St,at,{option:fe}),!h&&(!me||!me.ctrlKey&&!me.metaKey)&&Gn(me,at),(s===!0||s==="touch"&&er.current||s==="mouse"&&!er.current)&&J.current.blur()};function Rr(me,fe){if(me===-1)return-1;let ze=me;for(;;){if(fe==="next"&&ze===G.length||fe==="previous"&&ze===-1)return-1;const $e=Re.querySelector(`[data-tag-index="${ze}"]`);if(!$e||!$e.hasAttribute("tabindex")||$e.disabled||$e.getAttribute("aria-disabled")==="true")ze+=fe==="next"?1:-1;else return ze}}const Kn=(me,fe)=>{if(!W)return;ae===""&&Gn(me,"toggleInput");let ze=Le;Le===-1?ae===""&&fe==="previous"&&(ze=G.length-1):(ze+=fe==="next"?1:-1,ze<0&&(ze=0),ze===G.length&&(ze=-1)),ze=Rr(ze,fe),Be(ze),tn(ze)},qn=me=>{N.current=!0,xe(""),Z&&Z(me,"","clear"),Sn(me,W?[]:null,"clear")},ai=me=>fe=>{if(me.onKeyDown&&me.onKeyDown(fe),!fe.defaultMuiPrevented&&(Le!==-1&&["ArrowLeft","ArrowRight"].indexOf(fe.key)===-1&&(Be(-1),tn(-1)),fe.which!==229))switch(fe.key){case"Home":ot&&L&&(fe.preventDefault(),mn({diff:"start",direction:"next",reason:"keyboard",event:fe}));break;case"End":ot&&L&&(fe.preventDefault(),mn({diff:"end",direction:"previous",reason:"keyboard",event:fe}));break;case"PageUp":fe.preventDefault(),mn({diff:-fw,direction:"previous",reason:"keyboard",event:fe}),vn(fe);break;case"PageDown":fe.preventDefault(),mn({diff:fw,direction:"next",reason:"keyboard",event:fe}),vn(fe);break;case"ArrowDown":fe.preventDefault(),mn({diff:1,direction:"next",reason:"keyboard",event:fe}),vn(fe);break;case"ArrowUp":fe.preventDefault(),mn({diff:-1,direction:"previous",reason:"keyboard",event:fe}),vn(fe);break;case"ArrowLeft":Kn(fe,"previous");break;case"ArrowRight":Kn(fe,"next");break;case"Enter":if(V.current!==-1&&ot){const ze=Ke[V.current],$e=T?T(ze):!1;if(fe.preventDefault(),$e)return;vr(fe,ze,"selectOption"),r&&J.current.setSelectionRange(J.current.value.length,J.current.value.length)}else k&&ae!==""&&Ge===!1&&(W&&fe.preventDefault(),vr(fe,ae,"createOption","freeSolo"));break;case"Escape":ot?(fe.preventDefault(),fe.stopPropagation(),Gn(fe,"escape")):l&&(ae!==""||W&&G.length>0)&&(fe.preventDefault(),fe.stopPropagation(),qn(fe));break;case"Backspace":if(W&&!te&&ae===""&&G.length>0){const ze=Le===-1?G.length-1:Le,$e=G.slice();$e.splice(ze,1),Sn(fe,$e,"removeOption",{option:G[ze]})}break;case"Delete":if(W&&!te&&ae===""&&G.length>0&&Le!==-1){const ze=Le,$e=G.slice();$e.splice(ze,1),Sn(fe,$e,"removeOption",{option:G[ze]})}break}},Pr=me=>{Ae(!0),_e&&!N.current&&vn(me)},Ir=me=>{if(e(ee)){J.current.focus();return}Ae(!1),q.current=!0,N.current=!1,o&&V.current!==-1&&ot?vr(me,Ke[V.current],"blur"):o&&k&&ae!==""?vr(me,ae,"blur","freeSolo"):a&&Ie(me,G),Gn(me,"blur")},fn=me=>{const fe=me.target.value;ae!==fe&&(xe(fe),We(!1),Z&&Z(me,fe,"input")),fe===""?!p&&!W&&Sn(me,null,"clear"):vn(me)},Kt=me=>{const fe=Number(me.currentTarget.getAttribute("data-option-index"));V.current!==fe&&dn({event:me,index:fe,reason:"mouse"})},Tn=me=>{dn({event:me,index:Number(me.currentTarget.getAttribute("data-option-index")),reason:"touch"}),er.current=!0},tr=me=>{const fe=Number(me.currentTarget.getAttribute("data-option-index"));vr(me,Ke[fe],"selectOption"),er.current=!1},Dr=me=>fe=>{const ze=G.slice();ze.splice(me,1),Sn(fe,ze,"removeOption",{option:G[me]})},Ai=me=>{Pe?Gn(me,"toggleInput"):vn(me)},Oi=me=>{me.currentTarget.contains(me.target)&&me.target.getAttribute("id")!==se&&me.preventDefault()},$n=me=>{me.currentTarget.contains(me.target)&&(J.current.focus(),ue&&q.current&&J.current.selectionEnd-J.current.selectionStart===0&&J.current.select(),q.current=!1)},_r=me=>{!m&&(ae===""||!Pe)&&Ai(me)};let yr=k&&ae.length>0;yr=yr||(W?G.length>0:G!==null);let br=Ke;return M&&(br=Ke.reduce((me,fe,ze)=>{const $e=M(fe);return me.length>0&&me[me.length-1].group===$e?me[me.length-1].options.push(fe):me.push({key:ze,index:ze,group:$e,options:[fe]}),me},[])),m&&Me&&Ir(),{getRootProps:(me={})=>le({"aria-owns":cn?`${se}-listbox`:null},me,{onKeyDown:ai(me),onMouseDown:Oi,onClick:$n}),getInputLabelProps:()=>({id:`${se}-label`,htmlFor:se}),getInputProps:()=>({id:se,value:ae,onBlur:Ir,onFocus:Pr,onChange:fn,onMouseDown:_r,"aria-activedescendant":ot?"":null,"aria-autocomplete":r?"both":"list","aria-controls":cn?`${se}-listbox`:void 0,"aria-expanded":cn,autoComplete:"off",ref:J,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:qn}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Ai}),getTagProps:({index:me})=>le({key:me,"data-tag-index":me,tabIndex:-1},!te&&{onDelete:Dr(me)}),getListboxProps:()=>({role:"listbox",id:`${se}-listbox`,"aria-labelledby":`${se}-label`,ref:mr,onMouseDown:me=>{me.preventDefault()}}),getOptionProps:({index:me,option:fe})=>{var ze;const $e=(W?G:[G]).some(St=>St!=null&&ie(fe,St)),at=T?T(fe):!1;return{key:(ze=R==null?void 0:R(fe))!=null?ze:A(fe),tabIndex:-1,role:"option",id:`${se}-option-${me}`,onMouseMove:Kt,onClick:tr,onTouchStart:Tn,"data-option-index":me,"aria-disabled":at,"aria-selected":$e}},id:se,inputValue:ae,value:G,dirty:yr,expanded:ot&&Re,popupOpen:ot,focused:Me||Le!==-1,anchorEl:Re,setAnchorEl:Te,focusedTag:Le,groupedOptions:br}}function B5(n){return Or("MuiListSubheader",n)}Cn("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const j5=["className","color","component","disableGutters","disableSticky","inset"],z5=n=>{const{classes:e,color:t,disableGutters:r,inset:i,disableSticky:o}=n,s={root:["root",t!=="default"&&`color${mc(t)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return Lr(s,B5,e)},H5=Ve("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${mc(t.color)}`],!t.disableGutters&&e.gutters,t.inset&&e.inset,!t.disableSticky&&e.sticky]}})(({theme:n,ownerState:e})=>le({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(n.vars||n).palette.text.secondary,fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(14)},e.color==="primary"&&{color:(n.vars||n).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(n.vars||n).palette.background.paper})),OE=v.forwardRef(function(e,t){const r=ua({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1}=r,f=Pt(r,j5),p=le({},r,{color:o,component:s,disableGutters:a,disableSticky:l,inset:c}),h=z5(p);return x.jsx(H5,le({as:s,className:ti(h.root,i),ref:t,ownerState:p},f))});OE.muiSkipListHighlight=!0;const W5=Io(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function U5(n){return Or("MuiAutocomplete",n)}const bt=Cn("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var pw,hw;const V5=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],G5=["ref"],K5=["key"],q5=["key"],Y5=n=>{const{classes:e,disablePortal:t,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:f}=n,p={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${mc(f)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",t&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Lr(p,U5,e)},J5=Ve("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=t;return[{[`& .${bt.tag}`]:e.tag},{[`& .${bt.tag}`]:e[`tagSize${mc(a)}`]},{[`& .${bt.inputRoot}`]:e.inputRoot},{[`& .${bt.input}`]:e.input},{[`& .${bt.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${bt.focused} .${bt.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${bt.clearIndicator}`]:{visibility:"visible"}},[`& .${bt.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${bt.inputRoot}`]:{[`.${bt.hasPopupIcon}&, .${bt.hasClearIcon}&`]:{paddingRight:30},[`.${bt.hasPopupIcon}.${bt.hasClearIcon}&`]:{paddingRight:56},[`& .${bt.input}`]:{width:0,minWidth:30}},[`& .${bg.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${bg.root}.${Ds.sizeSmall}`]:{[`& .${bg.input}`]:{padding:"2px 4px 3px 0"}},[`& .${tw.root}`]:{padding:9,[`.${bt.hasPopupIcon}&, .${bt.hasClearIcon}&`]:{paddingRight:39},[`.${bt.hasPopupIcon}.${bt.hasClearIcon}&`]:{paddingRight:65},[`& .${bt.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${bt.endAdornment}`]:{right:9}},[`& .${tw.root}.${Ds.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${bt.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ba.root}`]:{paddingTop:19,paddingLeft:8,[`.${bt.hasPopupIcon}&, .${bt.hasClearIcon}&`]:{paddingRight:39},[`.${bt.hasPopupIcon}.${bt.hasClearIcon}&`]:{paddingRight:65},[`& .${Ba.input}`]:{padding:"7px 4px"},[`& .${bt.endAdornment}`]:{right:9}},[`& .${Ba.root}.${Ds.sizeSmall}`]:{paddingBottom:1,[`& .${Ba.input}`]:{padding:"2.5px 4px"}},[`& .${Ds.hiddenLabel}`]:{paddingTop:8},[`& .${Ba.root}.${Ds.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${bt.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ba.root}.${Ds.hiddenLabel}.${Ds.sizeSmall}`]:{[`& .${bt.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${bt.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${bt.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${bt.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${bt.inputRoot}`]:{flexWrap:"wrap"}}}]}),Z5=Ve("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(n,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),X5=Ve(vs,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(n,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Q5=Ve(vs,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:n},e)=>le({},e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),ej=Ve(ca,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${bt.option}`]:e.option},e.popper,t.disablePortal&&e.popperDisablePortal]}})(({theme:n})=>({zIndex:(n.vars||n).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),tj=Ve(vc,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(n,e)=>e.paper})(({theme:n})=>le({},n.typography.body1,{overflow:"auto"})),nj=Ve("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(n,e)=>e.loading})(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"})),rj=Ve("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(n,e)=>e.noOptions})(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"})),ij=Ve("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(n,e)=>e.listbox})(({theme:n})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${bt.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[n.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${bt.focused}`]:{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${bt.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:xg(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${bt.focused}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:xg(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${bt.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:xg(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}}})),oj=Ve(OE,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(n,e)=>e.groupLabel})(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,top:-8})),sj=Ve("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(n,e)=>e.groupUl})({padding:0,[`& .${bt.option}`]:{paddingLeft:24}}),aj=v.forwardRef(function(e,t){var r,i,o,s;const a=ua({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:c=!1,autoSelect:f=!1,blurOnSelect:p=!1,ChipProps:h,className:m,clearIcon:y=pw||(pw=x.jsx(W5,{fontSize:"small"})),clearOnBlur:b=!a.freeSolo,clearOnEscape:w=!1,clearText:S="Clear",closeText:k="Close",componentsProps:T={},defaultValue:R=a.multiple?[]:null,disableClearable:O=!1,disableCloseOnSelect:M=!1,disabled:L=!1,disabledItemsFocusable:D=!1,disableListWrap:j=!1,disablePortal:F=!1,filterSelectedOptions:ie=!1,forcePopupIcon:W="auto",freeSolo:ne=!1,fullWidth:z=!1,getLimitTagsText:X=$e=>`+${$e}`,getOptionLabel:Z,groupBy:H,handleHomeEndKeys:he=!a.freeSolo,includeInputInList:_e=!1,limitTags:pe=-1,ListboxComponent:te="ul",ListboxProps:ue,loading:ve=!1,loadingText:se="Loading",multiple:A=!1,noOptionsText:N="No options",openOnFocus:q=!1,openText:J="Open",PaperComponent:ee=vc,PopperComponent:Re=ca,popupIcon:Te=hw||(hw=x.jsx(z3,{})),readOnly:Le=!1,renderGroup:Be,renderInput:Fe,renderOption:V,renderTags:G,selectOnFocus:ke=!a.freeSolo,size:ae="medium",slotProps:xe={}}=a,Me=Pt(a,V5),{getRootProps:Ae,getInputProps:Ie,getInputLabelProps:Pe,getPopupIndicatorProps:Ee,getClearProps:Qe,getTagProps:We,getListboxProps:Ge,getOptionProps:ot,value:Ke,dirty:Ct,expanded:cn,id:tn,popupOpen:gn,focused:dn,focusedTag:mn,anchorEl:Lt,setAnchorEl:jn,inputValue:mr,groupedOptions:vn}=F5(le({},a,{componentName:"Autocomplete"})),Gn=!O&&!L&&Ct&&!Le,Sn=(!ne||W===!0)&&W!==!1,{onMouseDown:er}=Ie(),{ref:vr}=ue??{},Rr=Ge(),{ref:Kn}=Rr,qn=Pt(Rr,G5),ai=Lo(Kn,vr),Ir=Z||($e=>{var at;return(at=$e.label)!=null?at:$e}),fn=le({},a,{disablePortal:F,expanded:cn,focused:dn,fullWidth:z,getOptionLabel:Ir,hasClearIcon:Gn,hasPopupIcon:Sn,inputFocused:mn===-1,popupOpen:gn,size:ae}),Kt=Y5(fn);let Tn;if(A&&Ke.length>0){const $e=at=>le({className:Kt.tag,disabled:L},We(at));G?Tn=G(Ke,$e,fn):Tn=Ke.map((at,St)=>{const _=$e({index:St}),{key:oe}=_,we=Pt(_,K5);return x.jsx(X3,le({label:Ir(at),size:ae},we,h),oe)})}if(pe>-1&&Array.isArray(Tn)){const $e=Tn.length-pe;!dn&&$e>0&&(Tn=Tn.splice(0,pe),Tn.push(x.jsx("span",{className:Kt.tag,children:X($e)},Tn.length)))}const Dr=Be||($e=>x.jsxs("li",{children:[x.jsx(oj,{className:Kt.groupLabel,ownerState:fn,component:"div",children:$e.group}),x.jsx(sj,{className:Kt.groupUl,ownerState:fn,children:$e.children})]},$e.key)),Oi=V||(($e,at)=>{const{key:St}=$e,_=Pt($e,q5);return x.jsx("li",le({},_,{children:Ir(at)}),St)}),$n=($e,at)=>{const St=ot({option:$e,index:at});return Oi(le({},St,{className:Kt.option}),$e,{selected:St["aria-selected"],index:at,inputValue:mr},fn)},_r=(r=xe.clearIndicator)!=null?r:T.clearIndicator,yr=(i=xe.paper)!=null?i:T.paper,br=(o=xe.popper)!=null?o:T.popper,me=(s=xe.popupIndicator)!=null?s:T.popupIndicator,fe=$e=>x.jsx(ej,le({as:Re,disablePortal:F,style:{width:Lt?Lt.clientWidth:null},ownerState:fn,role:"presentation",anchorEl:Lt,open:gn},br,{className:ti(Kt.popper,br==null?void 0:br.className),children:x.jsx(tj,le({ownerState:fn,as:ee},yr,{className:ti(Kt.paper,yr==null?void 0:yr.className),children:$e}))}));let ze=null;return vn.length>0?ze=fe(x.jsx(ij,le({as:te,className:Kt.listbox,ownerState:fn},qn,ue,{ref:ai,children:vn.map(($e,at)=>H?Dr({key:$e.key,group:$e.group,children:$e.options.map((St,_)=>$n(St,$e.index+_))}):$n($e,at))}))):ve&&vn.length===0?ze=fe(x.jsx(nj,{className:Kt.loading,ownerState:fn,children:se})):vn.length===0&&!ne&&!ve&&(ze=fe(x.jsx(rj,{className:Kt.noOptions,ownerState:fn,role:"presentation",onMouseDown:$e=>{$e.preventDefault()},children:N}))),x.jsxs(v.Fragment,{children:[x.jsx(J5,le({ref:t,className:ti(Kt.root,m),ownerState:fn},Ae(Me),{children:Fe({id:tn,disabled:L,fullWidth:!0,size:ae==="small"?"small":void 0,InputLabelProps:Pe(),InputProps:le({ref:jn,className:Kt.inputRoot,startAdornment:Tn,onClick:$e=>{$e.target===$e.currentTarget&&er($e)}},(Gn||Sn)&&{endAdornment:x.jsxs(Z5,{className:Kt.endAdornment,ownerState:fn,children:[Gn?x.jsx(X5,le({},Qe(),{"aria-label":S,title:S,ownerState:fn},_r,{className:ti(Kt.clearIndicator,_r==null?void 0:_r.className),children:y})):null,Sn?x.jsx(Q5,le({},Ee(),{disabled:L,"aria-label":gn?k:J,title:gn?k:J,ownerState:fn},me,{className:ti(Kt.popupIndicator,me==null?void 0:me.className),children:Te})):null]})}),inputProps:le({className:Kt.input,disabled:L,readOnly:Le},Ie())})})),Lt?ze:null]})}),lj=ce(aj)`
  & .MuiFormControl-root .MuiInputBase-root {
    font-family: ${K.fontFamily};
    color: ${K.newColors.almostBlack[100]};

    ${({disabled:n})=>n?`
      background-color: ${K.colors.disableBackground};
		`:`
      background-color: ${K.newColors.grey1[100]};
			&:hover {
				& fieldset {
					border-color: ${K.colors.disabledBorderFocus};
				}
			}
		`}
  }

  & .MuiFormControl-root .MuiInputBase-root .MuiOutlinedInput-notchedOutline {
    ${({disabled:n,$error:e})=>n?`
      border-color: ${K.colors.disableBorder};
    `:e?`
      ${K.borders.error};
    `:`
      ${K.borders.fieldGray};
    `}

    border-radius: 0px;
  }

  &
    .MuiFormControl-root
    .MuiInputBase-root.Mui-focused
    .MuiOutlinedInput-notchedOutline {
    border: solid 1px ${K.colors.gray800};
  }

  .MuiAutocomplete-clearIndicator {
    margin-right: 20px;
  }

  .MuiInputBase-input {
    padding: ${K.fieldSpecs.inputText.padding} !important;
  }

  & .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root'] {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    padding-left: 0 !important;
  }

  &.MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon .MuiAutocomplete-inputRoot[class*="MuiOutlinedInput-root"] {
    padding-right: 88px;
  }

  .MuiAutocomplete-popupIndicator, .MuiAutocomplete-popupIndicatorOpen {
    color: ${({$error:n})=>n?K.newColors.darkRed[100]:K.newColors.almostBlack[100]};

    &:before {
      background: none;
      content: "";
      display: block;
      position: absolute;
      top: 4px;
      left: -12px;
      right: -12px;
      bottom: 4px;
      border-right: ${n=>n.open?K.borders.fieldGray:""};
      border-left: ${n=>n.open?"":K.borders.fieldGray};
    }
  }
`,uj=ce.div`
  margin: 0;
  padding: 0;

  .MuiFormControl-fullWidth {
    height: ${K.fieldSpecs.inputText.totalHeight};
    width: ${({$innerWidth:n})=>n||Qt.sm};
  }

  .MuiAutocomplete-paper {
    width: ${({$innerWidth:n})=>n===Qt.xs?Qt.sm:n}
  }
`,cj=ce(ca)`
  z-index: 999999999 !important;
  .MuiAutocomplete-listbox .MuiAutocomplete-option {
    font-family: ${K.fontFamily};
    font-size: 14px;
    min-height: 40px;
    color: ${K.newColors.grey4[100]};
		background-color: white;

    &[aria-selected='true'] {
			color: ${({$value:n})=>n?K.newColors.grey4[100]:K.colors.black};
			font-weight: ${({$value:n})=>n?null:K.fontWeight.semiBold};
			background-color: white;
    }

		&[aria-selected="true"].Mui-focused {
			background-color: ${K.newColors.grey2[100]};
		}
  }
`,dj=ce.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;

  & .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root'] {
    padding: ${K.fieldSpecs.inputText.padding};
  }

  &
    .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root']
    .MuiAutocomplete-input:first-child,
  & .MuiAutocomplete-input,
  & .MuiOutlinedInput-inputAdornedEnd,
  & .MuiOutlinedInput-input,
  & .MuiInputBase-input {
    padding: 0px;
  }

  & .MuiOutlinedInput-input {
    height: ${K.fieldSpecs.inputText.height};
  }
`,fj=({children:n})=>x.jsx(dj,{children:n}),pj=n=>{var O,M;const{fieldDef:e,error:t,onChange:r,onBlur:i,value:o,disabled:s,inputRef:a,id:l,skeleton:c}=n,[f,p]=v.useState(!1),[h,m]=v.useState([]),[y,b]=v.useState(void 0);v.useEffect(()=>{(async()=>{var D,j;if((D=e==null?void 0:e.inputSettings)!=null&&D.options)m(e.inputSettings.options),b(!0);else if((j=e==null?void 0:e.inputSettings)!=null&&j.getOptions){const F=await e.inputSettings.getOptions();m(F),b(!1)}})()},[(O=e==null?void 0:e.inputSettings)==null?void 0:O.options,(M=e==null?void 0:e.inputSettings)==null?void 0:M.getOptions]),v.useEffect(()=>{o&&y===!1&&(h.find(L=>(L==null?void 0:L.value)===(o==null?void 0:o.value))||m([...h,o]))},[h,o,y]);const w=L=>{var D;return x.jsx(fj,{children:x.jsx(n0,{...L,"data-testid":"textfield-test-id",variant:"outlined",placeholder:(D=e==null?void 0:e.inputSettings)==null?void 0:D.placeholder,required:e==null?void 0:e.required,inputProps:{...L.inputProps,ref:j=>{a&&(a.current=j),L.inputProps.ref.current=j},id:l}})})},S=()=>{p(!f)},k=async L=>{r&&await r(L||void 0)},T=(L,D)=>(D==null?void 0:D.value)===""?!0:L.value===(D==null?void 0:D.value),R=L=>x.jsx(cj,{$value:(o==null?void 0:o.value)==="",...L});return c?x.jsx(kt,{variant:"rectangular",width:"100%",height:43}):x.jsx(uj,{"data-testid":"dropdown-single-selection-test-id",$innerWidth:e==null?void 0:e.size,children:x.jsx(lj,{value:o||null,onOpen:S,onClose:S,"data-testid":"autocomplete-test-id",options:h,getOptionLabel:L=>L.label,getOptionKey:L=>L.value,isOptionEqualToValue:T,onChange:(L,D)=>k(D),$error:e!=null&&e.required&&t?!!t:void 0,renderInput:w,PopperComponent:R,popupIcon:x.jsx(l0,{}),onBlur:L=>i&&i(L.target.value),open:f,disabled:s})})},LE=v.memo(pj);var hj=function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,o){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)t.d(o,s,(function(a){return r[a]}).bind(null,s));return o},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=9)}([function(n,e){n.exports=v},function(n,e,t){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){var i={}.hasOwnProperty;function o(){for(var s=[],a=0;a<arguments.length;a++){var l=arguments[a];if(l){var c=typeof l;if(c==="string"||c==="number")s.push(l);else if(Array.isArray(l)){if(l.length){var f=o.apply(null,l);f&&s.push(f)}}else if(c==="object"){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){s.push(l.toString());continue}for(var p in l)i.call(l,p)&&l[p]&&s.push(p)}}}return s.join(" ")}n.exports?(o.default=o,n.exports=o):(r=(function(){return o}).apply(e,[]))===void 0||(n.exports=r)})()},function(n,e,t){(function(r){var i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=typeof r=="object"&&r&&r.Object===Object&&r,f=typeof self=="object"&&self&&self.Object===Object&&self,p=c||f||Function("return this")(),h=Object.prototype.toString,m=p.Symbol,y=m?m.prototype:void 0,b=y?y.toString:void 0;function w(R){if(typeof R=="string")return R;if(k(R))return b?b.call(R):"";var O=R+"";return O=="0"&&1/R==-1/0?"-0":O}function S(R){var O=typeof R;return!!R&&(O=="object"||O=="function")}function k(R){return typeof R=="symbol"||function(O){return!!O&&typeof O=="object"}(R)&&h.call(R)=="[object Symbol]"}function T(R){return R?(R=function(O){if(typeof O=="number")return O;if(k(O))return NaN;if(S(O)){var M=typeof O.valueOf=="function"?O.valueOf():O;O=S(M)?M+"":M}if(typeof O!="string")return O===0?O:+O;O=O.replace(i,"");var L=s.test(O);return L||a.test(O)?l(O.slice(2),L?2:8):o.test(O)?NaN:+O}(R))===1/0||R===-1/0?17976931348623157e292*(R<0?-1:1):R==R?R:0:R===0?R:0}n.exports=function(R,O,M){var L,D,j,F;return R=(L=R)==null?"":w(L),D=function(ie){var W=T(ie),ne=W%1;return W==W?ne?W-ne:W:0}(M),j=0,F=R.length,D==D&&(F!==void 0&&(D=D<=F?D:F),j!==void 0&&(D=D>=j?D:j)),M=D,O=w(O),R.slice(M,M+O.length)==O}}).call(this,t(3))},function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}n.exports=t},function(n,e,t){(function(r){var i=/^\[object .+?Constructor\]$/,o=typeof r=="object"&&r&&r.Object===Object&&r,s=typeof self=="object"&&self&&self.Object===Object&&self,a=o||s||Function("return this")(),l,c=Array.prototype,f=Function.prototype,p=Object.prototype,h=a["__core-js_shared__"],m=(l=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",y=f.toString,b=p.hasOwnProperty,w=p.toString,S=RegExp("^"+y.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=c.splice,T=ie(a,"Map"),R=ie(Object,"create");function O(z){var X=-1,Z=z?z.length:0;for(this.clear();++X<Z;){var H=z[X];this.set(H[0],H[1])}}function M(z){var X=-1,Z=z?z.length:0;for(this.clear();++X<Z;){var H=z[X];this.set(H[0],H[1])}}function L(z){var X=-1,Z=z?z.length:0;for(this.clear();++X<Z;){var H=z[X];this.set(H[0],H[1])}}function D(z,X){for(var Z,H,he=z.length;he--;)if((Z=z[he][0])===(H=X)||Z!=Z&&H!=H)return he;return-1}function j(z){return!(!ne(z)||(X=z,m&&m in X))&&(function(Z){var H=ne(Z)?w.call(Z):"";return H=="[object Function]"||H=="[object GeneratorFunction]"}(z)||function(Z){var H=!1;if(Z!=null&&typeof Z.toString!="function")try{H=!!(Z+"")}catch{}return H}(z)?S:i).test(function(Z){if(Z!=null){try{return y.call(Z)}catch{}try{return Z+""}catch{}}return""}(z));var X}function F(z,X){var Z,H,he=z.__data__;return((H=typeof(Z=X))=="string"||H=="number"||H=="symbol"||H=="boolean"?Z!=="__proto__":Z===null)?he[typeof X=="string"?"string":"hash"]:he.map}function ie(z,X){var Z=function(H,he){return H==null?void 0:H[he]}(z,X);return j(Z)?Z:void 0}function W(z,X){if(typeof z!="function"||X&&typeof X!="function")throw new TypeError("Expected a function");var Z=function(){var H=arguments,he=X?X.apply(this,H):H[0],_e=Z.cache;if(_e.has(he))return _e.get(he);var pe=z.apply(this,H);return Z.cache=_e.set(he,pe),pe};return Z.cache=new(W.Cache||L),Z}function ne(z){var X=typeof z;return!!z&&(X=="object"||X=="function")}O.prototype.clear=function(){this.__data__=R?R(null):{}},O.prototype.delete=function(z){return this.has(z)&&delete this.__data__[z]},O.prototype.get=function(z){var X=this.__data__;if(R){var Z=X[z];return Z==="__lodash_hash_undefined__"?void 0:Z}return b.call(X,z)?X[z]:void 0},O.prototype.has=function(z){var X=this.__data__;return R?X[z]!==void 0:b.call(X,z)},O.prototype.set=function(z,X){return this.__data__[z]=R&&X===void 0?"__lodash_hash_undefined__":X,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(z){var X=this.__data__,Z=D(X,z);return!(Z<0)&&(Z==X.length-1?X.pop():k.call(X,Z,1),!0)},M.prototype.get=function(z){var X=this.__data__,Z=D(X,z);return Z<0?void 0:X[Z][1]},M.prototype.has=function(z){return D(this.__data__,z)>-1},M.prototype.set=function(z,X){var Z=this.__data__,H=D(Z,z);return H<0?Z.push([z,X]):Z[H][1]=X,this},L.prototype.clear=function(){this.__data__={hash:new O,map:new(T||M),string:new O}},L.prototype.delete=function(z){return F(this,z).delete(z)},L.prototype.get=function(z){return F(this,z).get(z)},L.prototype.has=function(z){return F(this,z).has(z)},L.prototype.set=function(z,X){return F(this,z).set(z,X),this},W.Cache=L,n.exports=W}).call(this,t(3))},function(n,e,t){(function(r){var i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=typeof r=="object"&&r&&r.Object===Object&&r,f=typeof self=="object"&&self&&self.Object===Object&&self,p=c||f||Function("return this")(),h=Object.prototype.toString,m=Math.max,y=Math.min,b=function(){return p.Date.now()};function w(k){var T=typeof k;return!!k&&(T=="object"||T=="function")}function S(k){if(typeof k=="number")return k;if(function(O){return typeof O=="symbol"||function(M){return!!M&&typeof M=="object"}(O)&&h.call(O)=="[object Symbol]"}(k))return NaN;if(w(k)){var T=typeof k.valueOf=="function"?k.valueOf():k;k=w(T)?T+"":T}if(typeof k!="string")return k===0?k:+k;k=k.replace(i,"");var R=s.test(k);return R||a.test(k)?l(k.slice(2),R?2:8):o.test(k)?NaN:+k}n.exports=function(k,T,R){var O,M,L,D,j,F,ie=0,W=!1,ne=!1,z=!0;if(typeof k!="function")throw new TypeError("Expected a function");function X(te){var ue=O,ve=M;return O=M=void 0,ie=te,D=k.apply(ve,ue)}function Z(te){return ie=te,j=setTimeout(he,T),W?X(te):D}function H(te){var ue=te-F;return F===void 0||ue>=T||ue<0||ne&&te-ie>=L}function he(){var te=b();if(H(te))return _e(te);j=setTimeout(he,function(ue){var ve=T-(ue-F);return ne?y(ve,L-(ue-ie)):ve}(te))}function _e(te){return j=void 0,z&&O?X(te):(O=M=void 0,D)}function pe(){var te=b(),ue=H(te);if(O=arguments,M=this,F=te,ue){if(j===void 0)return Z(F);if(ne)return j=setTimeout(he,T),X(F)}return j===void 0&&(j=setTimeout(he,T)),D}return T=S(T)||0,w(R)&&(W=!!R.leading,L=(ne="maxWait"in R)?m(S(R.maxWait)||0,T):L,z="trailing"in R?!!R.trailing:z),pe.cancel=function(){j!==void 0&&clearTimeout(j),ie=0,O=F=M=j=void 0},pe.flush=function(){return j===void 0?D:_e(b())},pe}}).call(this,t(3))},function(n,e,t){(function(r,i){var o="[object Arguments]",s="[object Map]",a="[object Object]",l="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,p=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[o]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w["[object Function]"]=w[s]=w["[object Number]"]=w[a]=w["[object RegExp]"]=w[l]=w["[object String]"]=w["[object WeakMap]"]=!1;var S=typeof r=="object"&&r&&r.Object===Object&&r,k=typeof self=="object"&&self&&self.Object===Object&&self,T=S||k||Function("return this")(),R=e&&!e.nodeType&&e,O=R&&typeof i=="object"&&i&&!i.nodeType&&i,M=O&&O.exports===R&&S.process,L=function(){try{return M&&M.binding("util")}catch{}}(),D=L&&L.isTypedArray;function j(_,oe,we,De){var et=-1,Xe=_?_.length:0;for(De&&Xe&&(we=_[++et]);++et<Xe;)we=oe(we,_[et],et,_);return we}function F(_,oe){for(var we=-1,De=_?_.length:0;++we<De;)if(oe(_[we],we,_))return!0;return!1}function ie(_,oe,we,De,et){return et(_,function(Xe,Ne,Zt){we=De?(De=!1,Xe):oe(we,Xe,Ne,Zt)}),we}function W(_){var oe=!1;if(_!=null&&typeof _.toString!="function")try{oe=!!(_+"")}catch{}return oe}function ne(_){var oe=-1,we=Array(_.size);return _.forEach(function(De,et){we[++oe]=[et,De]}),we}function z(_){var oe=-1,we=Array(_.size);return _.forEach(function(De){we[++oe]=De}),we}var X,Z,H,he=Array.prototype,_e=Function.prototype,pe=Object.prototype,te=T["__core-js_shared__"],ue=(X=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",ve=_e.toString,se=pe.hasOwnProperty,A=pe.toString,N=RegExp("^"+ve.call(se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=T.Symbol,J=T.Uint8Array,ee=pe.propertyIsEnumerable,Re=he.splice,Te=(Z=Object.keys,H=Object,function(_){return Z(H(_))}),Le=Kn(T,"DataView"),Be=Kn(T,"Map"),Fe=Kn(T,"Promise"),V=Kn(T,"Set"),G=Kn(T,"WeakMap"),ke=Kn(Object,"create"),ae=tr(Le),xe=tr(Be),Me=tr(Fe),Ae=tr(V),Ie=tr(G),Pe=q?q.prototype:void 0,Ee=Pe?Pe.valueOf:void 0,Qe=Pe?Pe.toString:void 0;function We(_){var oe=-1,we=_?_.length:0;for(this.clear();++oe<we;){var De=_[oe];this.set(De[0],De[1])}}function Ge(_){var oe=-1,we=_?_.length:0;for(this.clear();++oe<we;){var De=_[oe];this.set(De[0],De[1])}}function ot(_){var oe=-1,we=_?_.length:0;for(this.clear();++oe<we;){var De=_[oe];this.set(De[0],De[1])}}function Ke(_){var oe=-1,we=_?_.length:0;for(this.__data__=new ot;++oe<we;)this.add(_[oe])}function Ct(_){this.__data__=new Ge(_)}function cn(_,oe){var we=$n(_)||Oi(_)?function(Ne,Zt){for(var Yt=-1,zt=Array(Ne);++Yt<Ne;)zt[Yt]=Zt(Yt);return zt}(_.length,String):[],De=we.length,et=!!De;for(var Xe in _)!se.call(_,Xe)||et&&(Xe=="length"||ai(Xe,De))||we.push(Xe);return we}function tn(_,oe){for(var we=_.length;we--;)if(Ai(_[we][0],oe))return we;return-1}We.prototype.clear=function(){this.__data__=ke?ke(null):{}},We.prototype.delete=function(_){return this.has(_)&&delete this.__data__[_]},We.prototype.get=function(_){var oe=this.__data__;if(ke){var we=oe[_];return we==="__lodash_hash_undefined__"?void 0:we}return se.call(oe,_)?oe[_]:void 0},We.prototype.has=function(_){var oe=this.__data__;return ke?oe[_]!==void 0:se.call(oe,_)},We.prototype.set=function(_,oe){return this.__data__[_]=ke&&oe===void 0?"__lodash_hash_undefined__":oe,this},Ge.prototype.clear=function(){this.__data__=[]},Ge.prototype.delete=function(_){var oe=this.__data__,we=tn(oe,_);return!(we<0)&&(we==oe.length-1?oe.pop():Re.call(oe,we,1),!0)},Ge.prototype.get=function(_){var oe=this.__data__,we=tn(oe,_);return we<0?void 0:oe[we][1]},Ge.prototype.has=function(_){return tn(this.__data__,_)>-1},Ge.prototype.set=function(_,oe){var we=this.__data__,De=tn(we,_);return De<0?we.push([_,oe]):we[De][1]=oe,this},ot.prototype.clear=function(){this.__data__={hash:new We,map:new(Be||Ge),string:new We}},ot.prototype.delete=function(_){return Rr(this,_).delete(_)},ot.prototype.get=function(_){return Rr(this,_).get(_)},ot.prototype.has=function(_){return Rr(this,_).has(_)},ot.prototype.set=function(_,oe){return Rr(this,_).set(_,oe),this},Ke.prototype.add=Ke.prototype.push=function(_){return this.__data__.set(_,"__lodash_hash_undefined__"),this},Ke.prototype.has=function(_){return this.__data__.has(_)},Ct.prototype.clear=function(){this.__data__=new Ge},Ct.prototype.delete=function(_){return this.__data__.delete(_)},Ct.prototype.get=function(_){return this.__data__.get(_)},Ct.prototype.has=function(_){return this.__data__.has(_)},Ct.prototype.set=function(_,oe){var we=this.__data__;if(we instanceof Ge){var De=we.__data__;if(!Be||De.length<199)return De.push([_,oe]),this;we=this.__data__=new ot(De)}return we.set(_,oe),this};var gn,dn=(gn=function(_,oe){return _&&mn(_,oe,at)},function(_,oe){if(_==null)return _;if(!_r(_))return gn(_,oe);for(var we=_.length,De=-1,et=Object(_);++De<we&&oe(et[De],De,et)!==!1;);return _}),mn=function(_){return function(oe,we,De){for(var et=-1,Xe=Object(oe),Ne=De(oe),Zt=Ne.length;Zt--;){var Yt=Ne[++et];if(we(Xe[Yt],Yt,Xe)===!1)break}return oe}}();function Lt(_,oe){for(var we=0,De=(oe=Pr(oe,_)?[oe]:er(oe)).length;_!=null&&we<De;)_=_[Tn(oe[we++])];return we&&we==De?_:void 0}function jn(_,oe){return _!=null&&oe in Object(_)}function mr(_,oe,we,De,et){return _===oe||(_==null||oe==null||!me(_)&&!fe(oe)?_!=_&&oe!=oe:function(Xe,Ne,Zt,Yt,zt,It){var $r=$n(Xe),zn=$n(Ne),An="[object Array]",Nn="[object Array]";$r||(An=(An=qn(Xe))==o?a:An),zn||(Nn=(Nn=qn(Ne))==o?a:Nn);var Nr=An==a&&!W(Xe),uo=Nn==a&&!W(Ne),Li=An==Nn;if(Li&&!Nr)return It||(It=new Ct),$r||$e(Xe)?vr(Xe,Ne,Zt,Yt,zt,It):function(Vt,Ht,Ca,Ki,No,xr,li){switch(Ca){case"[object DataView]":if(Vt.byteLength!=Ht.byteLength||Vt.byteOffset!=Ht.byteOffset)return!1;Vt=Vt.buffer,Ht=Ht.buffer;case"[object ArrayBuffer]":return!(Vt.byteLength!=Ht.byteLength||!Ki(new J(Vt),new J(Ht)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ai(+Vt,+Ht);case"[object Error]":return Vt.name==Ht.name&&Vt.message==Ht.message;case"[object RegExp]":case"[object String]":return Vt==Ht+"";case s:var ui=ne;case l:var co=2&xr;if(ui||(ui=z),Vt.size!=Ht.size&&!co)return!1;var Ri=li.get(Vt);if(Ri)return Ri==Ht;xr|=1,li.set(Vt,Ht);var fo=vr(ui(Vt),ui(Ht),Ki,No,xr,li);return li.delete(Vt),fo;case"[object Symbol]":if(Ee)return Ee.call(Vt)==Ee.call(Ht)}return!1}(Xe,Ne,An,Zt,Yt,zt,It);if(!(2&zt)){var xa=Nr&&se.call(Xe,"__wrapped__"),$c=uo&&se.call(Ne,"__wrapped__");if(xa||$c){var Nc=xa?Xe.value():Xe,wa=$c?Ne.value():Ne;return It||(It=new Ct),Zt(Nc,wa,Yt,zt,It)}}return Li?(It||(It=new Ct),function(Vt,Ht,Ca,Ki,No,xr){var li=2&No,ui=at(Vt),co=ui.length,Ri=at(Ht).length;if(co!=Ri&&!li)return!1;for(var fo=co;fo--;){var Pi=ui[fo];if(!(li?Pi in Ht:se.call(Ht,Pi)))return!1}var Fc=xr.get(Vt);if(Fc&&xr.get(Ht))return Fc==Ht;var Cs=!0;xr.set(Vt,Ht),xr.set(Ht,Vt);for(var Sa=li;++fo<co;){Pi=ui[fo];var Ss=Vt[Pi],ks=Ht[Pi];if(Ki)var Bc=li?Ki(ks,Ss,Pi,Ht,Vt,xr):Ki(Ss,ks,Pi,Vt,Ht,xr);if(!(Bc===void 0?Ss===ks||Ca(Ss,ks,Ki,No,xr):Bc)){Cs=!1;break}Sa||(Sa=Pi=="constructor")}if(Cs&&!Sa){var ka=Vt.constructor,Ma=Ht.constructor;ka==Ma||!("constructor"in Vt)||!("constructor"in Ht)||typeof ka=="function"&&ka instanceof ka&&typeof Ma=="function"&&Ma instanceof Ma||(Cs=!1)}return xr.delete(Vt),xr.delete(Ht),Cs}(Xe,Ne,Zt,Yt,zt,It)):!1}(_,oe,mr,we,De,et))}function vn(_){return!(!me(_)||function(oe){return!!ue&&ue in oe}(_))&&(yr(_)||W(_)?N:y).test(tr(_))}function Gn(_){return typeof _=="function"?_:_==null?St:typeof _=="object"?$n(_)?function(De,et){return Pr(De)&&Ir(et)?fn(Tn(De),et):function(Xe){var Ne=function(Zt,Yt,zt){var It=Zt==null?void 0:Lt(Zt,Yt);return It===void 0?zt:It}(Xe,De);return Ne===void 0&&Ne===et?function(Zt,Yt){return Zt!=null&&function(zt,It,$r){It=Pr(It,zt)?[It]:er(It);for(var zn,An=-1,Nn=It.length;++An<Nn;){var Nr=Tn(It[An]);if(!(zn=zt!=null&&$r(zt,Nr)))break;zt=zt[Nr]}return zn||!!(Nn=zt?zt.length:0)&&br(Nn)&&ai(Nr,Nn)&&($n(zt)||Oi(zt))}(Zt,Yt,jn)}(Xe,De):mr(et,Ne,void 0,3)}}(_[0],_[1]):function(De){var et=function(Xe){for(var Ne=at(Xe),Zt=Ne.length;Zt--;){var Yt=Ne[Zt],zt=Xe[Yt];Ne[Zt]=[Yt,zt,Ir(zt)]}return Ne}(De);return et.length==1&&et[0][2]?fn(et[0][0],et[0][1]):function(Xe){return Xe===De||function(Ne,Zt,Yt,zt){var It=Yt.length,$r=It;if(Ne==null)return!$r;for(Ne=Object(Ne);It--;){var zn=Yt[It];if(zn[2]?zn[1]!==Ne[zn[0]]:!(zn[0]in Ne))return!1}for(;++It<$r;){var An=(zn=Yt[It])[0],Nn=Ne[An],Nr=zn[1];if(zn[2]){if(Nn===void 0&&!(An in Ne))return!1}else{var uo=new Ct,Li;if(!(Li===void 0?mr(Nr,Nn,zt,3,uo):Li))return!1}}return!0}(Xe,De,et)}}(_):Pr(oe=_)?(we=Tn(oe),function(De){return De==null?void 0:De[we]}):function(De){return function(et){return Lt(et,De)}}(oe);var oe,we}function Sn(_){if(we=(oe=_)&&oe.constructor,De=typeof we=="function"&&we.prototype||pe,oe!==De)return Te(_);var oe,we,De,et=[];for(var Xe in Object(_))se.call(_,Xe)&&Xe!="constructor"&&et.push(Xe);return et}function er(_){return $n(_)?_:Kt(_)}function vr(_,oe,we,De,et,Xe){var Ne=2&et,Zt=_.length,Yt=oe.length;if(Zt!=Yt&&!(Ne&&Yt>Zt))return!1;var zt=Xe.get(_);if(zt&&Xe.get(oe))return zt==oe;var It=-1,$r=!0,zn=1&et?new Ke:void 0;for(Xe.set(_,oe),Xe.set(oe,_);++It<Zt;){var An=_[It],Nn=oe[It];if(De)var Nr=Ne?De(Nn,An,It,oe,_,Xe):De(An,Nn,It,_,oe,Xe);if(Nr!==void 0){if(Nr)continue;$r=!1;break}if(zn){if(!F(oe,function(uo,Li){if(!zn.has(Li)&&(An===uo||we(An,uo,De,et,Xe)))return zn.add(Li)})){$r=!1;break}}else if(An!==Nn&&!we(An,Nn,De,et,Xe)){$r=!1;break}}return Xe.delete(_),Xe.delete(oe),$r}function Rr(_,oe){var we,De,et=_.__data__;return((De=typeof(we=oe))=="string"||De=="number"||De=="symbol"||De=="boolean"?we!=="__proto__":we===null)?et[typeof oe=="string"?"string":"hash"]:et.map}function Kn(_,oe){var we=function(De,et){return De==null?void 0:De[et]}(_,oe);return vn(we)?we:void 0}var qn=function(_){return A.call(_)};function ai(_,oe){return!!(oe=oe??9007199254740991)&&(typeof _=="number"||b.test(_))&&_>-1&&_%1==0&&_<oe}function Pr(_,oe){if($n(_))return!1;var we=typeof _;return!(we!="number"&&we!="symbol"&&we!="boolean"&&_!=null&&!ze(_))||f.test(_)||!c.test(_)||oe!=null&&_ in Object(oe)}function Ir(_){return _==_&&!me(_)}function fn(_,oe){return function(we){return we!=null&&we[_]===oe&&(oe!==void 0||_ in Object(we))}}(Le&&qn(new Le(new ArrayBuffer(1)))!="[object DataView]"||Be&&qn(new Be)!=s||Fe&&qn(Fe.resolve())!="[object Promise]"||V&&qn(new V)!=l||G&&qn(new G)!="[object WeakMap]")&&(qn=function(_){var oe=A.call(_),we=oe==a?_.constructor:void 0,De=we?tr(we):void 0;if(De)switch(De){case ae:return"[object DataView]";case xe:return s;case Me:return"[object Promise]";case Ae:return l;case Ie:return"[object WeakMap]"}return oe});var Kt=Dr(function(_){var oe;_=(oe=_)==null?"":function(De){if(typeof De=="string")return De;if(ze(De))return Qe?Qe.call(De):"";var et=De+"";return et=="0"&&1/De==-1/0?"-0":et}(oe);var we=[];return p.test(_)&&we.push(""),_.replace(h,function(De,et,Xe,Ne){we.push(Xe?Ne.replace(m,"$1"):et||De)}),we});function Tn(_){if(typeof _=="string"||ze(_))return _;var oe=_+"";return oe=="0"&&1/_==-1/0?"-0":oe}function tr(_){if(_!=null){try{return ve.call(_)}catch{}try{return _+""}catch{}}return""}function Dr(_,oe){if(typeof _!="function"||oe&&typeof oe!="function")throw new TypeError("Expected a function");var we=function(){var De=arguments,et=oe?oe.apply(this,De):De[0],Xe=we.cache;if(Xe.has(et))return Xe.get(et);var Ne=_.apply(this,De);return we.cache=Xe.set(et,Ne),Ne};return we.cache=new(Dr.Cache||ot),we}function Ai(_,oe){return _===oe||_!=_&&oe!=oe}function Oi(_){return function(oe){return fe(oe)&&_r(oe)}(_)&&se.call(_,"callee")&&(!ee.call(_,"callee")||A.call(_)==o)}Dr.Cache=ot;var $n=Array.isArray;function _r(_){return _!=null&&br(_.length)&&!yr(_)}function yr(_){var oe=me(_)?A.call(_):"";return oe=="[object Function]"||oe=="[object GeneratorFunction]"}function br(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=9007199254740991}function me(_){var oe=typeof _;return!!_&&(oe=="object"||oe=="function")}function fe(_){return!!_&&typeof _=="object"}function ze(_){return typeof _=="symbol"||fe(_)&&A.call(_)=="[object Symbol]"}var $e=D?function(_){return function(oe){return _(oe)}}(D):function(_){return fe(_)&&br(_.length)&&!!w[A.call(_)]};function at(_){return _r(_)?cn(_):Sn(_)}function St(_){return _}i.exports=function(_,oe,we){var De=$n(_)?j:ie,et=arguments.length<3;return De(_,Gn(oe),we,et,dn)}}).call(this,t(3),t(7)(n))},function(n,e){n.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(n,e){String.prototype.padEnd||(String.prototype.padEnd=function(t,r){return t>>=0,r=String(r!==void 0?r:" "),this.length>t?String(this):((t-=this.length)>r.length&&(r+=r.repeat(t/r.length)),String(this)+r.slice(0,t))})},function(n,e,t){function r(pe,te,ue){return te in pe?Object.defineProperty(pe,te,{value:ue,enumerable:!0,configurable:!0,writable:!0}):pe[te]=ue,pe}function i(pe){if(Symbol.iterator in Object(pe)||Object.prototype.toString.call(pe)==="[object Arguments]")return Array.from(pe)}function o(pe){return function(te){if(Array.isArray(te)){for(var ue=0,ve=new Array(te.length);ue<te.length;ue++)ve[ue]=te[ue];return ve}}(pe)||i(pe)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(pe){if(Array.isArray(pe))return pe}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(pe,te){if(!(pe instanceof te))throw new TypeError("Cannot call a class as a function")}function c(pe,te){for(var ue=0;ue<te.length;ue++){var ve=te[ue];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(pe,ve.key,ve)}}function f(pe){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te})(pe)}function p(pe){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(te){return f(te)}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":f(te)})(pe)}function h(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function m(pe){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(te){return te.__proto__||Object.getPrototypeOf(te)})(pe)}function y(pe,te){return(y=Object.setPrototypeOf||function(ue,ve){return ue.__proto__=ve,ue})(pe,te)}t.r(e);var b=t(0),w=t.n(b),S=t(5),k=t.n(S),T=t(4),R=t.n(T),O=t(6),M=t.n(O),L=t(2),D=t.n(L),j=t(1),F=t.n(j);t(8);function ie(pe,te){return s(pe)||function(ue,ve){var se=[],A=!0,N=!1,q=void 0;try{for(var J,ee=ue[Symbol.iterator]();!(A=(J=ee.next()).done)&&(se.push(J.value),!ve||se.length!==ve);A=!0);}catch(Re){N=!0,q=Re}finally{try{A||ee.return==null||ee.return()}finally{if(N)throw q}}return se}(pe,te)||a()}var W=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Cte dIvoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Runion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["So Tom and Prncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],ne=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthlemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function z(pe,te,ue,ve,se){return!ue||se?pe+"".padEnd(te.length,".")+" "+ve:pe+"".padEnd(te.length,".")+" "+ue}function X(pe,te,ue,ve,se){var A,N,q=[];return N=te===!0,[(A=[]).concat.apply(A,o(pe.map(function(J){var ee={name:J[0],regions:J[1],iso2:J[2],countryCode:J[3],dialCode:J[3],format:z(ue,J[3],J[4],ve,se),priority:J[5]||0},Re=[];return J[6]&&J[6].map(function(Te){var Le=function(Be){for(var Fe=1;Fe<arguments.length;Fe++){var V=arguments[Fe]!=null?arguments[Fe]:{},G=Object.keys(V);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(V).filter(function(ke){return Object.getOwnPropertyDescriptor(V,ke).enumerable}))),G.forEach(function(ke){r(Be,ke,V[ke])})}return Be}({},ee);Le.dialCode=J[3]+Te,Le.isAreaCode=!0,Le.areaCodeLength=Te.length,Re.push(Le)}),Re.length>0?(ee.mainCode=!0,N||te.constructor.name==="Array"&&te.includes(J[2])?(ee.hasAreaCodes=!0,[ee].concat(Re)):(q=q.concat(Re),[ee])):[ee]}))),q]}function Z(pe,te,ue,ve){if(ue!==null){var se=Object.keys(ue),A=Object.values(ue);se.forEach(function(N,q){if(ve)return pe.push([N,A[q]]);var J=pe.findIndex(function(Re){return Re[0]===N});if(J===-1){var ee=[N];ee[te]=A[q],pe.push(ee)}else pe[J][te]=A[q]})}}function H(pe,te){return te.length===0?pe:pe.map(function(ue){var ve=te.findIndex(function(A){return A[0]===ue[2]});if(ve===-1)return ue;var se=te[ve];return se[1]&&(ue[4]=se[1]),se[3]&&(ue[5]=se[3]),se[2]&&(ue[6]=se[2]),ue})}var he=function pe(te,ue,ve,se,A,N,q,J,ee,Re,Te,Le,Be,Fe){l(this,pe),this.filterRegions=function(Pe,Ee){if(typeof Pe=="string"){var Qe=Pe;return Ee.filter(function(We){return We.regions.some(function(Ge){return Ge===Qe})})}return Ee.filter(function(We){return Pe.map(function(Ge){return We.regions.some(function(ot){return ot===Ge})}).some(function(Ge){return Ge})})},this.sortTerritories=function(Pe,Ee){var Qe=[].concat(o(Pe),o(Ee));return Qe.sort(function(We,Ge){return We.name<Ge.name?-1:We.name>Ge.name?1:0}),Qe},this.getFilteredCountryList=function(Pe,Ee,Qe){return Pe.length===0?Ee:Qe?Pe.map(function(We){var Ge=Ee.find(function(ot){return ot.iso2===We});if(Ge)return Ge}).filter(function(We){return We}):Ee.filter(function(We){return Pe.some(function(Ge){return Ge===We.iso2})})},this.localizeCountries=function(Pe,Ee,Qe){for(var We=0;We<Pe.length;We++)Ee[Pe[We].iso2]!==void 0?Pe[We].localName=Ee[Pe[We].iso2]:Ee[Pe[We].name]!==void 0&&(Pe[We].localName=Ee[Pe[We].name]);return Qe||Pe.sort(function(Ge,ot){return Ge.localName<ot.localName?-1:Ge.localName>ot.localName?1:0}),Pe},this.getCustomAreas=function(Pe,Ee){for(var Qe=[],We=0;We<Ee.length;We++){var Ge=JSON.parse(JSON.stringify(Pe));Ge.dialCode+=Ee[We],Qe.push(Ge)}return Qe},this.excludeCountries=function(Pe,Ee){return Ee.length===0?Pe:Pe.filter(function(Qe){return!Ee.includes(Qe.iso2)})};var V=function(Pe,Ee,Qe){var We=[];return Z(We,1,Pe,!0),Z(We,3,Ee),Z(We,2,Qe),We}(J,ee,Re),G=H(JSON.parse(JSON.stringify(W)),V),ke=H(JSON.parse(JSON.stringify(ne)),V),ae=ie(X(G,te,Le,Be,Fe),2),xe=ae[0],Me=ae[1];if(ue){var Ae=ie(X(ke,te,Le,Be,Fe),2),Ie=Ae[0];Ae[1],xe=this.sortTerritories(Ie,xe)}ve&&(xe=this.filterRegions(ve,xe)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(se,xe,q.includes("onlyCountries")),N),Te,q.includes("onlyCountries")),this.preferredCountries=A.length===0?[]:this.localizeCountries(this.getFilteredCountryList(A,xe,q.includes("preferredCountries")),Te,q.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(se,Me),N)},_e=function(pe){function te(se){var A;l(this,te),(A=function(V,G){return!G||p(G)!=="object"&&typeof G!="function"?h(V):G}(this,m(te).call(this,se))).getProbableCandidate=R()(function(V){return V&&V.length!==0?A.state.onlyCountries.filter(function(G){return D()(G.name.toLowerCase(),V.toLowerCase())},h(h(A)))[0]:null}),A.guessSelectedCountry=R()(function(V,G,ke,ae){var xe;if(A.props.enableAreaCodes===!1&&(ae.some(function(Ie){if(D()(V,Ie.dialCode))return ke.some(function(Pe){if(Ie.iso2===Pe.iso2&&Pe.mainCode)return xe=Pe,!0}),!0}),xe))return xe;var Me=ke.find(function(Ie){return Ie.iso2==G});if(V.trim()==="")return Me;var Ae=ke.reduce(function(Ie,Pe){return D()(V,Pe.dialCode)&&(Pe.dialCode.length>Ie.dialCode.length||Pe.dialCode.length===Ie.dialCode.length&&Pe.priority<Ie.priority)?Pe:Ie},{dialCode:"",priority:10001},h(h(A)));return Ae.name?Ae:Me}),A.updateCountry=function(V){var G,ke=A.state.onlyCountries;(G=V.indexOf(0)>="0"&&V.indexOf(0)<="9"?ke.find(function(ae){return ae.dialCode==+V}):ke.find(function(ae){return ae.iso2==V}))&&G.dialCode&&A.setState({selectedCountry:G,formattedNumber:A.props.disableCountryCode?"":A.formatNumber(G.dialCode,G)})},A.scrollTo=function(V,G){if(V){var ke=A.dropdownRef;if(ke&&document.body){var ae=ke.offsetHeight,xe=ke.getBoundingClientRect().top+document.body.scrollTop,Me=xe+ae,Ae=V,Ie=Ae.getBoundingClientRect(),Pe=Ae.offsetHeight,Ee=Ie.top+document.body.scrollTop,Qe=Ee+Pe,We=Ee-xe+ke.scrollTop,Ge=ae/2-Pe/2;if(A.props.enableSearch?Ee<xe+32:Ee<xe)G&&(We-=Ge),ke.scrollTop=We;else if(Qe>Me){G&&(We+=Ge);var ot=ae-Pe;ke.scrollTop=We-ot}}}},A.scrollToTop=function(){var V=A.dropdownRef;V&&document.body&&(V.scrollTop=0)},A.formatNumber=function(V,G){if(!G)return V;var ke,ae=G.format,xe=A.props,Me=xe.disableCountryCode,Ae=xe.enableAreaCodeStretch,Ie=xe.enableLongNumbers,Pe=xe.autoFormat;if(Me?((ke=ae.split(" ")).shift(),ke=ke.join(" ")):Ae&&G.isAreaCode?((ke=ae.split(" "))[1]=ke[1].replace(/\.+/,"".padEnd(G.areaCodeLength,".")),ke=ke.join(" ")):ke=ae,!V||V.length===0)return Me?"":A.props.prefix;if(V&&V.length<2||!ke||!Pe)return Me?V:A.props.prefix+V;var Ee,Qe=M()(ke,function(We,Ge){if(We.remainingText.length===0)return We;if(Ge!==".")return{formattedText:We.formattedText+Ge,remainingText:We.remainingText};var ot,Ke=s(ot=We.remainingText)||i(ot)||a(),Ct=Ke[0],cn=Ke.slice(1);return{formattedText:We.formattedText+Ct,remainingText:cn}},{formattedText:"",remainingText:V.split("")});return(Ee=Ie?Qe.formattedText+Qe.remainingText.join(""):Qe.formattedText).includes("(")&&!Ee.includes(")")&&(Ee+=")"),Ee},A.cursorToEnd=function(){var V=A.numberInputRef;if(document.activeElement===V){V.focus();var G=V.value.length;V.value.charAt(G-1)===")"&&(G-=1),V.setSelectionRange(G,G)}},A.getElement=function(V){return A["flag_no_".concat(V)]},A.getCountryData=function(){return A.state.selectedCountry?{name:A.state.selectedCountry.name||"",dialCode:A.state.selectedCountry.dialCode||"",countryCode:A.state.selectedCountry.iso2||"",format:A.state.selectedCountry.format||""}:{}},A.handleFlagDropdownClick=function(V){if(V.preventDefault(),A.state.showDropdown||!A.props.disabled){var G=A.state,ke=G.preferredCountries,ae=G.onlyCountries,xe=G.selectedCountry,Me=A.concatPreferredCountries(ke,ae).findIndex(function(Ae){return Ae.dialCode===xe.dialCode&&Ae.iso2===xe.iso2});A.setState({showDropdown:!A.state.showDropdown,highlightCountryIndex:Me},function(){A.state.showDropdown&&A.scrollTo(A.getElement(A.state.highlightCountryIndex))})}},A.handleInput=function(V){var G=V.target.value,ke=A.props,ae=ke.prefix,xe=ke.onChange,Me=A.props.disableCountryCode?"":ae,Ae=A.state.selectedCountry,Ie=A.state.freezeSelection;if(!A.props.countryCodeEditable){var Pe=ae+(Ae.hasAreaCodes?A.state.onlyCountries.find(function(dn){return dn.iso2===Ae.iso2&&dn.mainCode}).dialCode:Ae.dialCode);if(G.slice(0,Pe.length)!==Pe)return}if(G===ae)return xe&&xe("",A.getCountryData(),V,""),A.setState({formattedNumber:""});if(!(G.replace(/\D/g,"").length>15&&(A.props.enableLongNumbers===!1||typeof A.props.enableLongNumbers=="number"&&G.replace(/\D/g,"").length>A.props.enableLongNumbers))&&G!==A.state.formattedNumber){V.preventDefault?V.preventDefault():V.returnValue=!1;var Ee=A.props.country,Qe=A.state,We=Qe.onlyCountries,Ge=Qe.selectedCountry,ot=Qe.hiddenAreaCodes;if(xe&&V.persist(),G.length>0){var Ke=G.replace(/\D/g,"");(!A.state.freezeSelection||Ge&&Ge.dialCode.length>Ke.length)&&(Ae=A.props.disableCountryGuess?Ge:A.guessSelectedCountry(Ke.substring(0,6),Ee,We,ot)||Ge,Ie=!1),Me=A.formatNumber(Ke,Ae),Ae=Ae.dialCode?Ae:Ge}var Ct=V.target.selectionStart,cn=V.target.selectionStart,tn=A.state.formattedNumber,gn=Me.length-tn.length;A.setState({formattedNumber:Me,freezeSelection:Ie,selectedCountry:Ae},function(){gn>0&&(cn-=gn),Me.charAt(Me.length-1)==")"?A.numberInputRef.setSelectionRange(Me.length-1,Me.length-1):cn>0&&tn.length>=Me.length?A.numberInputRef.setSelectionRange(cn,cn):Ct<tn.length&&A.numberInputRef.setSelectionRange(Ct,Ct),xe&&xe(Me.replace(/[^0-9]+/g,""),A.getCountryData(),V,Me)})}},A.handleInputClick=function(V){A.setState({showDropdown:!1}),A.props.onClick&&A.props.onClick(V,A.getCountryData())},A.handleDoubleClick=function(V){var G=V.target.value.length;V.target.setSelectionRange(0,G)},A.handleFlagItemClick=function(V,G){var ke=A.state.selectedCountry,ae=A.state.onlyCountries.find(function(Ie){return Ie==V});if(ae){var xe=A.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),Me=xe.length>1?xe.replace(ke.dialCode,ae.dialCode):ae.dialCode,Ae=A.formatNumber(Me.replace(/\D/g,""),ae);A.setState({showDropdown:!1,selectedCountry:ae,freezeSelection:!0,formattedNumber:Ae,searchValue:""},function(){A.cursorToEnd(),A.props.onChange&&A.props.onChange(Ae.replace(/[^0-9]+/g,""),A.getCountryData(),G,Ae)})}},A.handleInputFocus=function(V){A.numberInputRef&&A.numberInputRef.value===A.props.prefix&&A.state.selectedCountry&&!A.props.disableCountryCode&&A.setState({formattedNumber:A.props.prefix+A.state.selectedCountry.dialCode},function(){A.props.jumpCursorToEnd&&setTimeout(A.cursorToEnd,0)}),A.setState({placeholder:""}),A.props.onFocus&&A.props.onFocus(V,A.getCountryData()),A.props.jumpCursorToEnd&&setTimeout(A.cursorToEnd,0)},A.handleInputBlur=function(V){V.target.value||A.setState({placeholder:A.props.placeholder}),A.props.onBlur&&A.props.onBlur(V,A.getCountryData())},A.handleInputCopy=function(V){if(A.props.copyNumbersOnly){var G=window.getSelection().toString().replace(/[^0-9]+/g,"");V.clipboardData.setData("text/plain",G),V.preventDefault()}},A.getHighlightCountryIndex=function(V){var G=A.state.highlightCountryIndex+V;return G<0||G>=A.state.onlyCountries.length+A.state.preferredCountries.length?G-V:A.props.enableSearch&&G>A.getSearchFilteredCountries().length?0:G},A.searchCountry=function(){var V=A.getProbableCandidate(A.state.queryString)||A.state.onlyCountries[0],G=A.state.onlyCountries.findIndex(function(ke){return ke==V})+A.state.preferredCountries.length;A.scrollTo(A.getElement(G),!0),A.setState({queryString:"",highlightCountryIndex:G})},A.handleKeydown=function(V){var G=A.props.keys,ke=V.target.className;if(ke.includes("selected-flag")&&V.which===G.ENTER&&!A.state.showDropdown)return A.handleFlagDropdownClick(V);if(ke.includes("form-control")&&(V.which===G.ENTER||V.which===G.ESC))return V.target.blur();if(A.state.showDropdown&&!A.props.disabled&&(!ke.includes("search-box")||V.which===G.UP||V.which===G.DOWN||V.which===G.ENTER||V.which===G.ESC&&V.target.value==="")){V.preventDefault?V.preventDefault():V.returnValue=!1;var ae=function(xe){A.setState({highlightCountryIndex:A.getHighlightCountryIndex(xe)},function(){A.scrollTo(A.getElement(A.state.highlightCountryIndex),!0)})};switch(V.which){case G.DOWN:ae(1);break;case G.UP:ae(-1);break;case G.ENTER:A.props.enableSearch?A.handleFlagItemClick(A.getSearchFilteredCountries()[A.state.highlightCountryIndex]||A.getSearchFilteredCountries()[0],V):A.handleFlagItemClick([].concat(o(A.state.preferredCountries),o(A.state.onlyCountries))[A.state.highlightCountryIndex],V);break;case G.ESC:case G.TAB:A.setState({showDropdown:!1},A.cursorToEnd);break;default:(V.which>=G.A&&V.which<=G.Z||V.which===G.SPACE)&&A.setState({queryString:A.state.queryString+String.fromCharCode(V.which)},A.state.debouncedQueryStingSearcher)}}},A.handleInputKeyDown=function(V){var G=A.props,ke=G.keys,ae=G.onEnterKeyPress,xe=G.onKeyDown;V.which===ke.ENTER&&ae&&ae(V),xe&&xe(V)},A.handleClickOutside=function(V){A.dropdownRef&&A.dropdownRef!==V.target&&!A.dropdownRef.contains(V.target)&&A.state.showDropdown&&A.setState({showDropdown:!1})},A.handleSearchChange=function(V){var G=V.currentTarget.value,ke=A.state,ae=ke.preferredCountries,xe=ke.selectedCountry,Me=0;if(G===""&&xe){var Ae=A.state.onlyCountries;Me=A.concatPreferredCountries(ae,Ae).findIndex(function(Ie){return Ie==xe}),setTimeout(function(){return A.scrollTo(A.getElement(Me))},100)}A.setState({searchValue:G,highlightCountryIndex:Me})},A.concatPreferredCountries=function(V,G){return V.length>0?o(new Set(V.concat(G))):G},A.getDropdownCountryName=function(V){return V.localName||V.name},A.getSearchFilteredCountries=function(){var V=A.state,G=V.preferredCountries,ke=V.onlyCountries,ae=V.searchValue,xe=A.props.enableSearch,Me=A.concatPreferredCountries(G,ke),Ae=ae.trim().toLowerCase().replace("+","");if(xe&&Ae){if(/^\d+$/.test(Ae))return Me.filter(function(Ee){var Qe=Ee.dialCode;return["".concat(Qe)].some(function(We){return We.toLowerCase().includes(Ae)})});var Ie=Me.filter(function(Ee){var Qe=Ee.iso2;return["".concat(Qe)].some(function(We){return We.toLowerCase().includes(Ae)})}),Pe=Me.filter(function(Ee){var Qe=Ee.name,We=Ee.localName;return Ee.iso2,["".concat(Qe),"".concat(We||"")].some(function(Ge){return Ge.toLowerCase().includes(Ae)})});return A.scrollToTop(),o(new Set([].concat(Ie,Pe)))}return Me},A.getCountryDropdownList=function(){var V=A.state,G=V.preferredCountries,ke=V.highlightCountryIndex,ae=V.showDropdown,xe=V.searchValue,Me=A.props,Ae=Me.disableDropdown,Ie=Me.prefix,Pe=A.props,Ee=Pe.enableSearch,Qe=Pe.searchNotFound,We=Pe.disableSearchIcon,Ge=Pe.searchClass,ot=Pe.searchStyle,Ke=Pe.searchPlaceholder,Ct=Pe.autocompleteSearch,cn=Pe.DropdownList,tn=A.getSearchFilteredCountries().map(function(Lt,jn){var mr=ke===jn,vn=F()({country:!0,preferred:Lt.iso2==="us"||Lt.iso2==="gb",active:Lt.iso2==="us",highlight:mr}),Gn="flag ".concat(Lt.iso2);return w.a.createElement("li",Object.assign({ref:function(Sn){return A["flag_no_".concat(jn)]=Sn},key:"flag_no_".concat(jn),"data-flag-key":"flag_no_".concat(jn),className:vn,"data-dial-code":"1",tabIndex:Ae?"-1":"0","data-country-code":Lt.iso2,onClick:function(Sn){return A.handleFlagItemClick(Lt,Sn)},role:"option"},mr?{"aria-selected":!0}:{}),w.a.createElement("div",{className:Gn}),w.a.createElement("span",{className:"country-name"},A.getDropdownCountryName(Lt)),w.a.createElement("span",{className:"dial-code"},Lt.format?A.formatNumber(Lt.dialCode,Lt):Ie+Lt.dialCode))}),gn=w.a.createElement("li",{key:"dashes",className:"divider"});G.length>0&&(!Ee||Ee&&!xe.trim())&&tn.splice(G.length,0,gn);var dn=F()(r({"country-list":!0,hide:!ae},A.props.dropdownClass,!0)),mn=w.a.createElement(w.a.Fragment,null,Ee&&w.a.createElement("li",{className:F()(r({search:!0},Ge,Ge))},!We&&w.a.createElement("span",{className:F()(r({"search-emoji":!0},"".concat(Ge,"-emoji"),Ge)),role:"img","aria-label":"Magnifying glass"},""),w.a.createElement("input",{className:F()(r({"search-box":!0},"".concat(Ge,"-box"),Ge)),style:ot,type:"search",placeholder:Ke,autoFocus:!0,autoComplete:Ct?"on":"off",value:xe,onChange:A.handleSearchChange})),tn.length>0?tn:w.a.createElement("li",{className:"no-entries-message"},w.a.createElement("span",null,Qe)));return cn?w.a.createElement(cn,{ref:function(Lt){return!Ee&&Lt&&Lt.focus(),A.dropdownRef=Lt},anchorEl:A.numberInputRef},mn):w.a.createElement("ul",{ref:function(Lt){return!Ee&&Lt&&Lt.focus(),A.dropdownRef=Lt},className:dn,style:A.props.dropdownStyle,role:"listbox",tabIndex:"0"},mn)};var N,q=new he(se.enableAreaCodes,se.enableTerritories,se.regions,se.onlyCountries,se.preferredCountries,se.excludeCountries,se.preserveOrder,se.masks,se.priority,se.areaCodes,se.localization,se.prefix,se.defaultMask,se.alwaysDefaultMask),J=q.onlyCountries,ee=q.preferredCountries,Re=q.hiddenAreaCodes,Te=se.value?se.value.replace(/\D/g,""):"";N=se.disableInitialCountryGuess?0:Te.length>1?A.guessSelectedCountry(Te.substring(0,6),se.country,J,Re)||0:se.country&&J.find(function(V){return V.iso2==se.country})||0;var Le,Be=Te.length<2&&N&&!D()(Te,N.dialCode)?N.dialCode:"";Le=Te===""&&N===0?"":A.formatNumber((se.disableCountryCode?"":Be)+Te,N.name?N:void 0);var Fe=J.findIndex(function(V){return V==N});return A.state={showDropdown:se.showDropdown,formattedNumber:Le,onlyCountries:J,preferredCountries:ee,hiddenAreaCodes:Re,selectedCountry:N,highlightCountryIndex:Fe,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:k()(A.searchCountry,250),searchValue:""},A}var ue,ve;return function(se,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(A&&A.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),A&&y(se,A)}(te,pe),ue=te,(ve=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(se,A,N){se.country!==this.props.country?this.updateCountry(this.props.country):se.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(se){if(se===null)return this.setState({selectedCountry:0,formattedNumber:""});var A=this.state,N=A.onlyCountries,q=A.selectedCountry,J=A.hiddenAreaCodes,ee=this.props,Re=ee.country,Te=ee.prefix;if(se==="")return this.setState({selectedCountry:q,formattedNumber:""});var Le,Be,Fe=se.replace(/\D/g,"");if(q&&D()(se,Te+q.dialCode))Be=this.formatNumber(Fe,q),this.setState({formattedNumber:Be});else{var V=(Le=this.props.disableCountryGuess?q:this.guessSelectedCountry(Fe.substring(0,6),Re,N,J)||q)&&D()(Fe,Te+Le.dialCode)?Le.dialCode:"";Be=this.formatNumber((this.props.disableCountryCode?"":V)+Fe,Le||void 0),this.setState({selectedCountry:Le,formattedNumber:Be})}}},{key:"render",value:function(){var se,A,N,q=this,J=this.state,ee=J.onlyCountries,Re=J.selectedCountry,Te=J.showDropdown,Le=J.formattedNumber,Be=J.hiddenAreaCodes,Fe=this.props,V=Fe.disableDropdown,G=Fe.tabbableDropdown,ke=Fe.renderStringAsFlag,ae=Fe.isValid,xe=Fe.defaultErrorMessage,Me=Fe.specialLabel;if(typeof ae=="boolean")A=ae;else{var Ae=ae(Le.replace(/\D/g,""),Re,ee,Be);typeof Ae=="boolean"?(A=Ae)===!1&&(N=xe):(A=!1,N=Ae)}var Ie=F()((r(se={},this.props.containerClass,!0),r(se,"react-tel-input",!0),se)),Pe=F()({arrow:!0,up:Te}),Ee=F()(r({"form-control":!0,"invalid-number":!A,open:Te},this.props.inputClass,!0)),Qe=F()({"selected-flag":!0,open:Te}),We=F()(r({"flag-dropdown":!0,"invalid-number":!A,open:Te},this.props.buttonClass,!0)),Ge="flag ".concat(Re&&Re.iso2);return w.a.createElement("div",{className:"".concat(Ie," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},Me&&w.a.createElement("div",{className:"special-label"},Me),N&&w.a.createElement("div",{className:"invalid-number-message"},N),w.a.createElement("input",Object.assign({className:Ee,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:Le,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(ot){q.numberInputRef=ot,typeof q.props.inputProps.ref=="function"?q.props.inputProps.ref(ot):typeof q.props.inputProps.ref=="object"&&(q.props.inputProps.ref.current=ot)}})),w.a.createElement("div",{className:We,style:this.props.buttonStyle,ref:function(ot){return q.dropdownContainerRef=ot}},ke?w.a.createElement("div",{className:Qe},ke):w.a.createElement("div",{onClick:V?void 0:this.handleFlagDropdownClick,className:Qe,title:Re?"".concat(Re.localName||Re.name,": + ").concat(Re.dialCode):"",tabIndex:V||G===!1?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!Te||void 0},w.a.createElement("div",{className:Ge},!V&&w.a.createElement("div",{className:Pe}))),Te&&this.getCountryDropdownList()))}}])&&c(ue.prototype,ve),te}(w.a.Component);_e.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},e.default=_e}]);const gj=pc(hj),mj=ce.div`
  .react-tel-input {
    .form-control {
      border-radius: 0px;
      border-color: ${K.newColors.simplyGrey[100]};
      font-family: ${K.fontFamily};
      height: ${K.fieldSpecs.inputText.totalHeight};
      padding: 12px 16px 12px 70px;
      outline: 0;
      width: 100%;
      box-shadow: none;
      transition: none;

      border-width: 1px;
      border-style: solid;

      ${({$error:n})=>n?`
        border-color: ${K.newColors.darkRed[100]};
      `:`
        border-color: ${K.newColors.simplyGrey[100]};
      `}

      ${({$disabled:n})=>n?`
        background-color: ${K.colors.disableBackground};
        border-color: ${K.colors.disableBorder};
        color: ${K.colors.disabledTextColor};
      `:`
			  background-color: ${K.newColors.grey1[100]};
        color: ${K.newColors.almostBlack[100]};
        &:hover {
          border-color: ${K.colors.disabledBorderFocus};
        }
      `}

      &:focus {
        color: ${K.newColors.almostBlack[100]};
        border-color: ${K.newColors.almostBlack[100]};
        box-shadow: ${K.fieldSpecs.inputText.shadow};
      }
    }

    .flag-dropdown {
      border: 1px solid transparent;
    }

    .selected-flag {
      &::after{
        background: none;
        content: "";
        display: block;
        position: absolute;
        top: 10px;
        right: -15px;
        bottom: 10px;
        border-right: 1px solid #CCCCCC;
      }

      border-radius: 0;
      width: 100%;
      padding: 15px 30px 15px 15px;

      &:focus:before {
        border-color: transparent;
        box-shadow: none;
      }

      .flag{
        border-radius: 2px;
      }

      ${({$disabled:n})=>n&&`
        .flag{
          opacity: 0.25;
        }
      `}
    }
    .selected-flag.open {
      &:before {
        border-color: transparent;
        box-shadow: none;
      }
    }

    .country {
      font-size: 14px;
    }

    .country-list {
      border-radius: 0px;
      margin: 1px 0px 10px -1px;
      width: 280px;
      .country.highlight,
      .country.highlight .dial-code {
        color: ${K.colors.black};
        font-family: ${K.fontFamily};
        font-weight: 600;
      }
    }
  }
`,vj=ce(ca)`
    z-index: 1500;
`,yj=ce.ul`
    list-style: none;
    margin: 0;
    padding: 8px 0;
    max-height: 40vh;
    overflow: auto;

    li {
        font-family: ${K.fontFamily};
        color: ${K.newColors.almostBlack[100]};
        font-size: 14px;
        min-height: 40px;
        display: flex;
        gap: 8px;
        overflow: hidden;
        justify-content: flex-start;
        align-items: center;
        cursor: pointer;
        box-sizing: border-box;
        outline: 0;
        -webkit-tap-highlight-color: transparent;
        padding: 6px 16px;

        &:highlight,
        &:hover {
            background-color: rgba(0, 0, 0, 0.04);
        }

        & .flag {
            width: 25px;
            height: 20px;
            background-repeat: no-repeat;
        }
    }

    li.highlight,
    li:hover {
        background-color: rgba(0, 0, 0, 0.04);
    }
`,bj=$.forwardRef(function({children:e,anchorEl:t},r){return x.jsx(vj,{open:!0,anchorEl:t,style:{width:t.clientWidth},children:x.jsx(vc,{children:x.jsx(yj,{ref:r,children:e})})})}),xj=n=>{var f,p;const{fieldDef:e,error:t,onChange:r,onBlur:i,value:o,disabled:s,inputRef:a,id:l,skeleton:c}=n;return c?x.jsx(kt,{variant:"rectangular",width:"100%",height:43}):x.jsx(mj,{$error:!!(e!=null&&e.required&&t),onBlur:h=>i&&i(h.target.value),$disabled:s,children:x.jsx(gj,{autoFormat:!!((f=e==null?void 0:e.inputSettings)!=null&&f.autoFormat),country:(p=e==null?void 0:e.inputSettings)!=null&&p.country?e==null?void 0:e.inputSettings.country:"us",disabled:s,onChange:r,value:o,inputProps:{required:e==null?void 0:e.required,ref:a,id:l},tabbableDropdown:!1,DropdownList:bj})})},wj=v.memo(xj);function Cj(n){return Or("MuiRadioGroup",n)}Cn("MuiRadioGroup",["root","row","error"]);const Sj=["actions","children","className","defaultValue","name","onChange","value"],kj=n=>{const{classes:e,row:t,error:r}=n;return Lr({root:["root",t&&"row",r&&"error"]},Cj,e)},Mj=v.forwardRef(function(e,t){const{actions:r,children:i,className:o,defaultValue:s,name:a,onChange:l,value:c}=e,f=Pt(e,Sj),p=v.useRef(null),h=kj(e),[m,y]=Cl({controlled:c,default:s,name:"RadioGroup"});v.useImperativeHandle(r,()=>({focus:()=>{let k=p.current.querySelector("input:not(:disabled):checked");k||(k=p.current.querySelector("input:not(:disabled)")),k&&k.focus()}}),[]);const b=Lo(t,p),w=s0(a),S=v.useMemo(()=>({name:w,onChange(k){y(k.target.value),l&&l(k,k.target.value)},value:m}),[w,l,y,m]);return x.jsx(dF.Provider,{value:S,children:x.jsx(g3,le({role:"radiogroup",ref:b,className:ti(h.root,o)},f,{children:i}))})}),Ej=ce(Mj)`
  margin-left: -12px;
`,Tj=ce.div`
	display: flex;
	flex-flow: column;
`,Aj=ce.div`
	display: flex;
	align-items: center;
`,Oj=ce.div`
	display: flex;
	align-items: center;
	justify-content: center;
	width: 18px;
	height: 40px;
	margin-right: 14px;
`;function kg(){return x.jsxs(Aj,{children:[x.jsx(Oj,{children:x.jsx(kt,{variant:"circular",width:18,height:18})}),x.jsx(kt,{width:52,height:28})]})}function Lj(){return x.jsxs(Tj,{children:[x.jsx(kg,{}),x.jsx(kg,{}),x.jsx(kg,{})]})}const Rj=n=>{var m,y;const{fieldDef:e,onChange:t,value:r,onBlur:i,disabled:o,skeleton:s}=n,[a,l]=v.useState([]),[c,f]=v.useState(void 0);v.useEffect(()=>{(async()=>{var w,S;if((w=e==null?void 0:e.inputSettings)!=null&&w.options)l(e.inputSettings.options),f(!0);else if((S=e==null?void 0:e.inputSettings)!=null&&S.getOptions){const k=await e.inputSettings.getOptions();l(k),f(!1)}})()},[(m=e==null?void 0:e.inputSettings)==null?void 0:m.options,(y=e==null?void 0:e.inputSettings)==null?void 0:y.getOptions]),v.useEffect(()=>{r&&c===!1&&(a.find(b=>(b==null?void 0:b.value)===(r==null?void 0:r.value))||l([...a,r]))},[a,r,c]);const p=x.jsx(x.Fragment,{children:a.map(b=>x.jsx(fF,{disabled:o,label:b.label,value:b.value},b.label))}),h=b=>{const w=a.find(S=>S.value===b);t(w)};return s?x.jsx(Lj,{}):x.jsx(Ej,{onChange:b=>t&&h(b.target.value),value:r?r.value:"",onBlur:b=>i&&i(b.target.value),children:p})},Pj=v.memo(Rj),Ij=n=>{const{value:e}=n;return x.jsx(x.Fragment,{children:e})},Dj=v.memo(Ij),_j=ce.div`
	display: flex;
	flex-flow: column;
`,$j=ce.div`
	display: flex;
	align-items: center;
`,Nj=ce.div`
	display: flex;
	align-items: center;
	justify-content: center;
    padding-left: 10px;
	height: 40px;
	margin-right: 14px;

    & .MuiSkeleton-root {
        border-radius: 99999em;
    }
`;function Fj(){return x.jsxs($j,{children:[x.jsx(Nj,{children:x.jsx(kt,{variant:"rounded",width:36,height:22})}),x.jsx(kt,{width:78,height:28})]})}function Bj(){return x.jsx(_j,{children:x.jsx(Fj,{})})}const jj=n=>{var a;const{fieldDef:e,onBlur:t,onChange:r,value:i,disabled:o,skeleton:s}=n;return s?x.jsx(Bj,{}):x.jsx(pF,{disabled:o,checked:i,label:(a=e==null?void 0:e.inputSettings)==null?void 0:a.toggleLabel,onChange:r,onBlur:t})},zj=v.memo(jj);var ki={},bc={},Hj=u0,Wj=hc,Uj=da,Vj="[object String]";function Gj(n){return typeof n=="string"||!Wj(n)&&Uj(n)&&Hj(n)==Vj}var Kj=Gj,qj=KM;function Yj(n){return typeof n=="function"?n:qj}var Jj=Yj,Zj=W3,Xj=Jj;function Qj(n,e){return n&&Zj(n,Xj(e))}var w0=Qj,e4=m3,t4=e4(Object.getPrototypeOf,Object),C0=t4,n4=u0,r4=C0,i4=da,o4="[object Object]",s4=Function.prototype,a4=Object.prototype,RE=s4.toString,l4=a4.hasOwnProperty,u4=RE.call(Object);function c4(n){if(!i4(n)||n4(n)!=o4)return!1;var e=r4(n);if(e===null)return!0;var t=l4.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&RE.call(t)==u4}var PE=c4;Object.defineProperty(bc,"__esModule",{value:!0});bc.flattenNames=void 0;var d4=Kj,f4=_p(d4),p4=w0,h4=_p(p4),g4=PE,m4=_p(g4),v4=CF,y4=_p(v4);function _p(n){return n&&n.__esModule?n:{default:n}}var b4=bc.flattenNames=function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[];return(0,y4.default)(e,function(r){Array.isArray(r)?n(r).map(function(i){return t.push(i)}):(0,m4.default)(r)?(0,h4.default)(r,function(i,o){i===!0&&t.push(o),t.push(o+"-"+i)}):(0,f4.default)(r)&&t.push(r)}),t};bc.default=b4;var xc={};function x4(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var S0=x4,w4=uE(),C4=SF;function S4(n,e,t,r){var i=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),i?C4(t,a,l):w4(t,a,l)}return t}var $p=S4,k4=$p,M4=qM;function E4(n,e){return n&&k4(e,M4(e),n)}var IE=E4;function T4(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var A4=T4,O4=Rp,L4=YM,R4=A4,P4=Object.prototype,I4=P4.hasOwnProperty;function D4(n){if(!O4(n))return R4(n);var e=L4(n),t=[];for(var r in n)r=="constructor"&&(e||!I4.call(n,r))||t.push(r);return t}var _4=D4,$4=v3,N4=_4,F4=y3;function B4(n){return F4(n)?$4(n,!0):N4(n)}var k0=B4,j4=$p,z4=k0;function H4(n,e){return n&&j4(e,z4(e),n)}var W4=H4,bf={exports:{}};bf.exports;(function(n,e){var t=yc,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,f){if(f)return c.slice();var p=c.length,h=a?a(p):new c.constructor(p);return c.copy(h),h}n.exports=l})(bf,bf.exports);var U4=bf.exports;function V4(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var Np=V4,G4=$p,K4=JM;function q4(n,e){return G4(n,K4(n),e)}var Y4=q4,J4=b3,Z4=C0,X4=JM,Q4=x3,e6=Object.getOwnPropertySymbols,t6=e6?function(n){for(var e=[];n;)J4(e,X4(n)),n=Z4(n);return e}:Q4,DE=t6,n6=$p,r6=DE;function i6(n,e){return n6(n,r6(n),e)}var o6=i6,s6=w3,a6=DE,l6=k0;function u6(n){return s6(n,l6,a6)}var c6=u6,d6=Object.prototype,f6=d6.hasOwnProperty;function p6(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&f6.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var h6=p6,gw=C3;function g6(n){var e=new n.constructor(n.byteLength);return new gw(e).set(new gw(n)),e}var M0=g6,m6=M0;function v6(n,e){var t=e?m6(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var y6=v6,b6=/\w*$/;function x6(n){var e=new n.constructor(n.source,b6.exec(n));return e.lastIndex=n.lastIndex,e}var w6=x6,mw=hF,vw=mw?mw.prototype:void 0,yw=vw?vw.valueOf:void 0;function C6(n){return yw?Object(yw.call(n)):{}}var S6=C6,k6=M0;function M6(n,e){var t=e?k6(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var E6=M6,T6=M0,A6=y6,O6=w6,L6=S6,R6=E6,P6="[object Boolean]",I6="[object Date]",D6="[object Map]",_6="[object Number]",$6="[object RegExp]",N6="[object Set]",F6="[object String]",B6="[object Symbol]",j6="[object ArrayBuffer]",z6="[object DataView]",H6="[object Float32Array]",W6="[object Float64Array]",U6="[object Int8Array]",V6="[object Int16Array]",G6="[object Int32Array]",K6="[object Uint8Array]",q6="[object Uint8ClampedArray]",Y6="[object Uint16Array]",J6="[object Uint32Array]";function Z6(n,e,t){var r=n.constructor;switch(e){case j6:return T6(n);case P6:case I6:return new r(+n);case z6:return A6(n,t);case H6:case W6:case U6:case V6:case G6:case K6:case q6:case Y6:case J6:return R6(n,t);case D6:return new r;case _6:case F6:return new r(n);case $6:return O6(n);case N6:return new r;case B6:return L6(n)}}var X6=Z6,Q6=Rp,bw=Object.create,ez=function(){function n(){}return function(e){if(!Q6(e))return{};if(bw)return bw(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),Fp=ez,tz=Fp,nz=C0,rz=YM;function iz(n){return typeof n.constructor=="function"&&!rz(n)?tz(nz(n)):{}}var oz=iz,sz=Ap,az=da,lz="[object Map]";function uz(n){return az(n)&&sz(n)==lz}var cz=uz,dz=cz,fz=XM,xw=ZM,ww=xw&&xw.isMap,pz=ww?fz(ww):dz,hz=pz,gz=Ap,mz=da,vz="[object Set]";function yz(n){return mz(n)&&gz(n)==vz}var bz=yz,xz=bz,wz=XM,Cw=ZM,Sw=Cw&&Cw.isSet,Cz=Sw?wz(Sw):xz,Sz=Cz,kz=S3,Mz=S0,Ez=uE(),Tz=IE,Az=W4,Oz=U4,Lz=Np,Rz=Y4,Pz=o6,Iz=M3,Dz=c6,_z=Ap,$z=h6,Nz=X6,Fz=oz,Bz=hc,jz=k3,zz=hz,Hz=Rp,Wz=Sz,Uz=qM,Vz=k0,Gz=1,Kz=2,qz=4,_E="[object Arguments]",Yz="[object Array]",Jz="[object Boolean]",Zz="[object Date]",Xz="[object Error]",$E="[object Function]",Qz="[object GeneratorFunction]",eH="[object Map]",tH="[object Number]",NE="[object Object]",nH="[object RegExp]",rH="[object Set]",iH="[object String]",oH="[object Symbol]",sH="[object WeakMap]",aH="[object ArrayBuffer]",lH="[object DataView]",uH="[object Float32Array]",cH="[object Float64Array]",dH="[object Int8Array]",fH="[object Int16Array]",pH="[object Int32Array]",hH="[object Uint8Array]",gH="[object Uint8ClampedArray]",mH="[object Uint16Array]",vH="[object Uint32Array]",rn={};rn[_E]=rn[Yz]=rn[aH]=rn[lH]=rn[Jz]=rn[Zz]=rn[uH]=rn[cH]=rn[dH]=rn[fH]=rn[pH]=rn[eH]=rn[tH]=rn[NE]=rn[nH]=rn[rH]=rn[iH]=rn[oH]=rn[hH]=rn[gH]=rn[mH]=rn[vH]=!0;rn[Xz]=rn[$E]=rn[sH]=!1;function Zd(n,e,t,r,i,o){var s,a=e&Gz,l=e&Kz,c=e&qz;if(t&&(s=i?t(n,r,i,o):t(n)),s!==void 0)return s;if(!Hz(n))return n;var f=Bz(n);if(f){if(s=$z(n),!a)return Lz(n,s)}else{var p=_z(n),h=p==$E||p==Qz;if(jz(n))return Oz(n,a);if(p==NE||p==_E||h&&!i){if(s=l||h?{}:Fz(n),!a)return l?Pz(n,Az(s,n)):Rz(n,Tz(s,n))}else{if(!rn[p])return i?n:{};s=Nz(n,p,a)}}o||(o=new kz);var m=o.get(n);if(m)return m;o.set(n,s),Wz(n)?n.forEach(function(w){s.add(Zd(w,e,t,w,n,o))}):zz(n)&&n.forEach(function(w,S){s.set(S,Zd(w,e,t,S,n,o))});var y=c?l?Dz:Iz:l?Vz:Uz,b=f?void 0:y(n);return Mz(b||n,function(w,S){b&&(S=w,w=n[S]),Ez(s,S,Zd(w,e,t,S,n,o))}),s}var E0=Zd,yH=E0,bH=1,xH=4;function wH(n){return yH(n,bH|xH)}var CH=wH;Object.defineProperty(xc,"__esModule",{value:!0});xc.mergeClasses=void 0;var SH=w0,kH=FE(SH),MH=CH,EH=FE(MH),TH=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function FE(n){return n&&n.__esModule?n:{default:n}}var AH=xc.mergeClasses=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,EH.default)(e.default)||{};return t.map(function(i){var o=e[i];return o&&(0,kH.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=TH({},r[a],o[a])}),i}),r};xc.default=AH;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.autoprefix=void 0;var OH=w0,kw=RH(OH),LH=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function RH(n){return n&&n.__esModule?n:{default:n}}var PH={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},IH=wc.autoprefix=function(e){var t={};return(0,kw.default)(e,function(r,i){var o={};(0,kw.default)(r,function(s,a){var l=PH[a];l?o=LH({},o,l(s)):o[a]=s}),t[i]=o}),t};wc.default=IH;var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.hover=void 0;var DH=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_H=v,Mg=$H(_H);function $H(n){return n&&n.__esModule?n:{default:n}}function NH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mw(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function FH(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var BH=Cc.hover=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){FH(i,r);function i(){var o,s,a,l;NH(this,i);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return l=(s=(a=Mw(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(f))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Mg.default.createElement(t,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Mg.default.createElement(e,DH({},a.props,a.state)))},s),Mw(a,l)}return i}(Mg.default.Component)};Cc.default=BH;var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.active=void 0;var jH=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zH=v,Eg=HH(zH);function HH(n){return n&&n.__esModule?n:{default:n}}function WH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ew(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function UH(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var VH=Sc.active=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){UH(i,r);function i(){var o,s,a,l;WH(this,i);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return l=(s=(a=Ew(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(f))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Eg.default.createElement(t,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Eg.default.createElement(e,jH({},a.props,a.state)))},s),Ew(a,l)}return i}(Eg.default.Component)};Sc.default=VH;var T0={};Object.defineProperty(T0,"__esModule",{value:!0});var GH=function(e,t){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===t-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};T0.default=GH;Object.defineProperty(ki,"__esModule",{value:!0});ki.ReactCSS=ki.loop=ki.handleActive=A0=ki.handleHover=ki.hover=void 0;var KH=bc,qH=Nl(KH),YH=xc,JH=Nl(YH),ZH=wc,XH=Nl(ZH),QH=Cc,BE=Nl(QH),e8=Sc,t8=Nl(e8),n8=T0,r8=Nl(n8);function Nl(n){return n&&n.__esModule?n:{default:n}}ki.hover=BE.default;var A0=ki.handleHover=BE.default;ki.handleActive=t8.default;ki.loop=r8.default;var i8=ki.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=(0,qH.default)(r),s=(0,JH.default)(e,o);return(0,XH.default)(s)},ft=ki.default=i8,o8=function(e,t,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,f=l-(o.getBoundingClientRect().left+window.pageXOffset),p=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(p<0?h=0:p>a?h=1:h=Math.round(p*100/a)/100,t.a!==h)return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}else{var m=void 0;if(f<0?m=0:f>s?m=1:m=Math.round(f*100/s)/100,i!==m)return{h:t.h,s:t.s,l:t.l,a:m,source:"rgb"}}return null},Tg={},s8=function(e,t,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=t,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},a8=function(e,t,r,i){var o=e+"-"+t+"-"+r+(i?"-server":"");if(Tg[o])return Tg[o];var s=s8(e,t,r,i);return Tg[o]=s,s},Tw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fl=function(e){var t=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,c=ft({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+a8(t,r,i,o.canvas)+") center left"}}});return v.isValidElement(l)?$.cloneElement(l,Tw({},l.props,{style:Tw({},l.props.style,c.grid)})):$.createElement("div",{style:c.grid})};Fl.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var l8=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},u8=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function c8(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Aw(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function d8(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var O0=function(n){d8(e,n);function e(){var t,r,i,o;c8(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=Aw(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(c){var f=o8(c,i.props.hsl,i.props.direction,i.props.a,i.container);f&&typeof i.props.onChange=="function"&&i.props.onChange(f,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),Aw(i,o)}return u8(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=ft({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:l8({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return $.createElement("div",{style:o.alpha},$.createElement("div",{style:o.checkboard},$.createElement(Fl,{renderers:this.props.renderers})),$.createElement("div",{style:o.gradient}),$.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},$.createElement("div",{style:o.pointer},this.props.pointer?$.createElement(this.props.pointer,this.props):$.createElement("div",{style:o.slider}))))}}]),e}(v.PureComponent||v.Component),f8=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function p8(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h8(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function g8(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function m8(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var v8=1,jE=38,y8=40,b8=[jE,y8],x8=function(e){return b8.indexOf(e)>-1},w8=function(e){return Number(String(e).replace(/%/g,""))},C8=1,_t=function(n){m8(e,n);function e(t){h8(this,e);var r=g8(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=w8(i.target.value);if(!isNaN(o)&&x8(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===jE?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},r.inputId="rc-editable-input-"+C8++,r}return f8(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return p8({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||v8}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=ft({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return $.createElement("div",{style:i.wrap},$.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?$.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(v.PureComponent||v.Component),S8=function(e,t,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),f=l-(i.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var p=void 0;if(f<0)p=359;else if(f>s)p=0;else{var h=-(f*100/s)+100;p=360*h/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(c<0)m=0;else if(c>o)m=359;else{var y=c*100/o;m=360*y/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},k8=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function M8(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ow(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function E8(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Bl=function(n){E8(e,n);function e(){var t,r,i,o;M8(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=Ow(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(c){var f=S8(c,i.props.direction,i.props.hsl,i.container);f&&typeof i.props.onChange=="function"&&i.props.onChange(f,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),Ow(i,o)}return k8(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=ft({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return $.createElement("div",{style:s.hue},$.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},$.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),$.createElement("div",{style:s.pointer},this.props.pointer?$.createElement(this.props.pointer,this.props):$.createElement("div",{style:s.slider}))))}}]),e}(v.PureComponent||v.Component);function T8(){this.__data__=[],this.size=0}function kc(n,e){return n===e||n!==n&&e!==e}function Bp(n,e){for(var t=n.length;t--;)if(kc(n[t][0],e))return t;return-1}var A8=Array.prototype,O8=A8.splice;function L8(n){var e=this.__data__,t=Bp(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():O8.call(e,t,1),--this.size,!0}function R8(n){var e=this.__data__,t=Bp(e,n);return t<0?void 0:e[t][1]}function P8(n){return Bp(this.__data__,n)>-1}function I8(n,e){var t=this.__data__,r=Bp(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function _o(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_o.prototype.clear=T8;_o.prototype.delete=L8;_o.prototype.get=R8;_o.prototype.has=P8;_o.prototype.set=I8;function D8(){this.__data__=new _o,this.size=0}function _8(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function $8(n){return this.__data__.get(n)}function N8(n){return this.__data__.has(n)}var zE=typeof global=="object"&&global&&global.Object===Object&&global,F8=typeof self=="object"&&self&&self.Object===Object&&self,Vi=zE||F8||Function("return this")(),ps=Vi.Symbol,HE=Object.prototype,B8=HE.hasOwnProperty,j8=HE.toString,ou=ps?ps.toStringTag:void 0;function z8(n){var e=B8.call(n,ou),t=n[ou];try{n[ou]=void 0;var r=!0}catch{}var i=j8.call(n);return r&&(e?n[ou]=t:delete n[ou]),i}var H8=Object.prototype,W8=H8.toString;function U8(n){return W8.call(n)}var V8="[object Null]",G8="[object Undefined]",Lw=ps?ps.toStringTag:void 0;function fa(n){return n==null?n===void 0?G8:V8:Lw&&Lw in Object(n)?z8(n):U8(n)}function Ti(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var K8="[object AsyncFunction]",q8="[object Function]",Y8="[object GeneratorFunction]",J8="[object Proxy]";function L0(n){if(!Ti(n))return!1;var e=fa(n);return e==q8||e==Y8||e==K8||e==J8}var Ag=Vi["__core-js_shared__"],Rw=function(){var n=/[^.]+$/.exec(Ag&&Ag.keys&&Ag.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Z8(n){return!!Rw&&Rw in n}var X8=Function.prototype,Q8=X8.toString;function pa(n){if(n!=null){try{return Q8.call(n)}catch{}try{return n+""}catch{}}return""}var e9=/[\\^$.*+?()[\]{}|]/g,t9=/^\[object .+?Constructor\]$/,n9=Function.prototype,r9=Object.prototype,i9=n9.toString,o9=r9.hasOwnProperty,s9=RegExp("^"+i9.call(o9).replace(e9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function a9(n){if(!Ti(n)||Z8(n))return!1;var e=L0(n)?s9:t9;return e.test(pa(n))}function l9(n,e){return n==null?void 0:n[e]}function ha(n,e){var t=l9(n,e);return a9(t)?t:void 0}var Zu=ha(Vi,"Map"),Xu=ha(Object,"create");function u9(){this.__data__=Xu?Xu(null):{},this.size=0}function c9(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var d9="__lodash_hash_undefined__",f9=Object.prototype,p9=f9.hasOwnProperty;function h9(n){var e=this.__data__;if(Xu){var t=e[n];return t===d9?void 0:t}return p9.call(e,n)?e[n]:void 0}var g9=Object.prototype,m9=g9.hasOwnProperty;function v9(n){var e=this.__data__;return Xu?e[n]!==void 0:m9.call(e,n)}var y9="__lodash_hash_undefined__";function b9(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Xu&&e===void 0?y9:e,this}function na(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}na.prototype.clear=u9;na.prototype.delete=c9;na.prototype.get=h9;na.prototype.has=v9;na.prototype.set=b9;function x9(){this.size=0,this.__data__={hash:new na,map:new(Zu||_o),string:new na}}function w9(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function jp(n,e){var t=n.__data__;return w9(e)?t[typeof e=="string"?"string":"hash"]:t.map}function C9(n){var e=jp(this,n).delete(n);return this.size-=e?1:0,e}function S9(n){return jp(this,n).get(n)}function k9(n){return jp(this,n).has(n)}function M9(n,e){var t=jp(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function $o(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}$o.prototype.clear=x9;$o.prototype.delete=C9;$o.prototype.get=S9;$o.prototype.has=k9;$o.prototype.set=M9;var E9=200;function T9(n,e){var t=this.__data__;if(t instanceof _o){var r=t.__data__;if(!Zu||r.length<E9-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new $o(r)}return t.set(n,e),this.size=t.size,this}function so(n){var e=this.__data__=new _o(n);this.size=e.size}so.prototype.clear=D8;so.prototype.delete=_8;so.prototype.get=$8;so.prototype.has=N8;so.prototype.set=T9;var xf=function(){try{var n=ha(Object,"defineProperty");return n({},"",{}),n}catch{}}();function R0(n,e,t){e=="__proto__"&&xf?xf(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Gm(n,e,t){(t!==void 0&&!kc(n[e],t)||t===void 0&&!(e in n))&&R0(n,e,t)}function A9(n){return function(e,t,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(t(o[l],l,o)===!1)break}return e}}var WE=A9(),UE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pw=UE&&typeof module=="object"&&module&&!module.nodeType&&module,O9=Pw&&Pw.exports===UE,Iw=O9?Vi.Buffer:void 0;Iw&&Iw.allocUnsafe;function L9(n,e){return n.slice()}var wf=Vi.Uint8Array;function R9(n){var e=new n.constructor(n.byteLength);return new wf(e).set(new wf(n)),e}function P9(n,e){var t=R9(n.buffer);return new n.constructor(t,n.byteOffset,n.length)}function I9(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var Dw=Object.create,D9=function(){function n(){}return function(e){if(!Ti(e))return{};if(Dw)return Dw(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function VE(n,e){return function(t){return n(e(t))}}var GE=VE(Object.getPrototypeOf,Object),_9=Object.prototype;function P0(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||_9;return n===t}function $9(n){return typeof n.constructor=="function"&&!P0(n)?D9(GE(n)):{}}function hs(n){return n!=null&&typeof n=="object"}var N9="[object Arguments]";function _w(n){return hs(n)&&fa(n)==N9}var KE=Object.prototype,F9=KE.hasOwnProperty,B9=KE.propertyIsEnumerable,Cf=_w(function(){return arguments}())?_w:function(n){return hs(n)&&F9.call(n,"callee")&&!B9.call(n,"callee")},ri=Array.isArray,j9=9007199254740991;function I0(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=j9}function jl(n){return n!=null&&I0(n.length)&&!L0(n)}function z9(n){return hs(n)&&jl(n)}function H9(){return!1}var qE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$w=qE&&typeof module=="object"&&module&&!module.nodeType&&module,W9=$w&&$w.exports===qE,Nw=W9?Vi.Buffer:void 0,U9=Nw?Nw.isBuffer:void 0,Sf=U9||H9,V9="[object Object]",G9=Function.prototype,K9=Object.prototype,YE=G9.toString,q9=K9.hasOwnProperty,Y9=YE.call(Object);function J9(n){if(!hs(n)||fa(n)!=V9)return!1;var e=GE(n);if(e===null)return!0;var t=q9.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&YE.call(t)==Y9}var Z9="[object Arguments]",X9="[object Array]",Q9="[object Boolean]",eW="[object Date]",tW="[object Error]",nW="[object Function]",rW="[object Map]",iW="[object Number]",oW="[object Object]",sW="[object RegExp]",aW="[object Set]",lW="[object String]",uW="[object WeakMap]",cW="[object ArrayBuffer]",dW="[object DataView]",fW="[object Float32Array]",pW="[object Float64Array]",hW="[object Int8Array]",gW="[object Int16Array]",mW="[object Int32Array]",vW="[object Uint8Array]",yW="[object Uint8ClampedArray]",bW="[object Uint16Array]",xW="[object Uint32Array]",sn={};sn[fW]=sn[pW]=sn[hW]=sn[gW]=sn[mW]=sn[vW]=sn[yW]=sn[bW]=sn[xW]=!0;sn[Z9]=sn[X9]=sn[cW]=sn[Q9]=sn[dW]=sn[eW]=sn[tW]=sn[nW]=sn[rW]=sn[iW]=sn[oW]=sn[sW]=sn[aW]=sn[lW]=sn[uW]=!1;function wW(n){return hs(n)&&I0(n.length)&&!!sn[fa(n)]}function CW(n){return function(e){return n(e)}}var JE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nu=JE&&typeof module=="object"&&module&&!module.nodeType&&module,SW=Nu&&Nu.exports===JE,Og=SW&&zE.process,Fw=function(){try{var n=Nu&&Nu.require&&Nu.require("util").types;return n||Og&&Og.binding&&Og.binding("util")}catch{}}(),Bw=Fw&&Fw.isTypedArray,D0=Bw?CW(Bw):wW;function Km(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var kW=Object.prototype,MW=kW.hasOwnProperty;function EW(n,e,t){var r=n[e];(!(MW.call(n,e)&&kc(r,t))||t===void 0&&!(e in n))&&R0(n,e,t)}function TW(n,e,t,r){var i=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=n[a]),i?R0(t,a,l):EW(t,a,l)}return t}function AW(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var OW=9007199254740991,LW=/^(?:0|[1-9]\d*)$/;function _0(n,e){var t=typeof n;return e=e??OW,!!e&&(t=="number"||t!="symbol"&&LW.test(n))&&n>-1&&n%1==0&&n<e}var RW=Object.prototype,PW=RW.hasOwnProperty;function ZE(n,e){var t=ri(n),r=!t&&Cf(n),i=!t&&!r&&Sf(n),o=!t&&!r&&!i&&D0(n),s=t||r||i||o,a=s?AW(n.length,String):[],l=a.length;for(var c in n)(e||PW.call(n,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_0(c,l)))&&a.push(c);return a}function IW(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var DW=Object.prototype,_W=DW.hasOwnProperty;function $W(n){if(!Ti(n))return IW(n);var e=P0(n),t=[];for(var r in n)r=="constructor"&&(e||!_W.call(n,r))||t.push(r);return t}function XE(n){return jl(n)?ZE(n,!0):$W(n)}function NW(n){return TW(n,XE(n))}function FW(n,e,t,r,i,o,s){var a=Km(n,t),l=Km(e,t),c=s.get(l);if(c){Gm(n,t,c);return}var f=o?o(a,l,t+"",n,e,s):void 0,p=f===void 0;if(p){var h=ri(l),m=!h&&Sf(l),y=!h&&!m&&D0(l);f=l,h||m||y?ri(a)?f=a:z9(a)?f=I9(a):m?(p=!1,f=L9(l)):y?(p=!1,f=P9(l)):f=[]:J9(l)||Cf(l)?(f=a,Cf(a)?f=NW(a):(!Ti(a)||L0(a))&&(f=$9(l))):p=!1}p&&(s.set(l,f),i(f,l,r,o,s),s.delete(l)),Gm(n,t,f)}function QE(n,e,t,r,i){n!==e&&WE(e,function(o,s){if(i||(i=new so),Ti(o))FW(n,e,s,t,QE,r,i);else{var a=r?r(Km(n,s),o,s+"",n,e,i):void 0;a===void 0&&(a=o),Gm(n,s,a)}},XE)}function zp(n){return n}function BW(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var jw=Math.max;function jW(n,e,t){return e=jw(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=jw(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(s),BW(n,this,a)}}function zW(n){return function(){return n}}var HW=xf?function(n,e){return xf(n,"toString",{configurable:!0,enumerable:!1,value:zW(e),writable:!0})}:zp,WW=800,UW=16,VW=Date.now;function GW(n){var e=0,t=0;return function(){var r=VW(),i=UW-(r-t);if(t=r,i>0){if(++e>=WW)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var KW=GW(HW);function qW(n,e){return KW(jW(n,e,zp),n+"")}function YW(n,e,t){if(!Ti(t))return!1;var r=typeof e;return(r=="number"?jl(t)&&_0(e,t.length):r=="string"&&e in t)?kc(t[e],n):!1}function JW(n){return qW(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,s&&YW(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,o)}return e})}var Vr=JW(function(n,e,t){QE(n,e,t)}),Mc=function(e){var t=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=ft(Vr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+t*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":t===1});return $.createElement("div",{style:l.wrap},$.createElement("div",{style:l.bg}),$.createElement("div",{style:l.content},o))};Mc.propTypes={background:He.string,zDepth:He.oneOf([0,1,2,3,4,5]),radius:He.number,styles:He.object};Mc.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Lg=function(){return Vi.Date.now()},ZW=/\s/;function XW(n){for(var e=n.length;e--&&ZW.test(n.charAt(e)););return e}var QW=/^\s+/;function eU(n){return n&&n.slice(0,XW(n)+1).replace(QW,"")}var tU="[object Symbol]";function Hp(n){return typeof n=="symbol"||hs(n)&&fa(n)==tU}var zw=NaN,nU=/^[-+]0x[0-9a-f]+$/i,rU=/^0b[01]+$/i,iU=/^0o[0-7]+$/i,oU=parseInt;function Hw(n){if(typeof n=="number")return n;if(Hp(n))return zw;if(Ti(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Ti(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=eU(n);var t=rU.test(n);return t||iU.test(n)?oU(n.slice(2),t?2:8):nU.test(n)?zw:+n}var sU="Expected a function",aU=Math.max,lU=Math.min;function eT(n,e,t){var r,i,o,s,a,l,c=0,f=!1,p=!1,h=!0;if(typeof n!="function")throw new TypeError(sU);e=Hw(e)||0,Ti(t)&&(f=!!t.leading,p="maxWait"in t,o=p?aU(Hw(t.maxWait)||0,e):o,h="trailing"in t?!!t.trailing:h);function m(M){var L=r,D=i;return r=i=void 0,c=M,s=n.apply(D,L),s}function y(M){return c=M,a=setTimeout(S,e),f?m(M):s}function b(M){var L=M-l,D=M-c,j=e-L;return p?lU(j,o-D):j}function w(M){var L=M-l,D=M-c;return l===void 0||L>=e||L<0||p&&D>=o}function S(){var M=Lg();if(w(M))return k(M);a=setTimeout(S,b(M))}function k(M){return a=void 0,h&&r?m(M):(r=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function R(){return a===void 0?s:k(Lg())}function O(){var M=Lg(),L=w(M);if(r=arguments,i=this,l=M,L){if(a===void 0)return y(l);if(p)return clearTimeout(a),a=setTimeout(S,e),m(l)}return a===void 0&&(a=setTimeout(S,e)),s}return O.cancel=T,O.flush=R,O}var uU="Expected a function";function cU(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(uU);return Ti(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),eT(n,e,{leading:r,maxWait:e,trailing:i})}var dU=function(e,t,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),f=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),f<0?f=0:f>s&&(f=s);var p=c/o,h=1-f/s;return{h:t.h,s:p,v:h,a:t.a,source:"hsv"}},fU=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function pU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hU(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function gU(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Wp=function(n){gU(e,n);function e(t){pU(this,e);var r=hU(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,dU(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=cU(function(i,o,s){i(o,s)},50),r}return fU(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,c=i.circle,f=ft({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return $.createElement("div",{style:f.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},$.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),$.createElement("div",{style:f.white,className:"saturation-white"},$.createElement("div",{style:f.black,className:"saturation-black"}),$.createElement("div",{style:f.pointer},this.props.pointer?$.createElement(this.props.pointer,this.props):$.createElement("div",{style:f.circle}))))}}]),e}(v.PureComponent||v.Component);function mU(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var vU=VE(Object.keys,Object),yU=Object.prototype,bU=yU.hasOwnProperty;function xU(n){if(!P0(n))return vU(n);var e=[];for(var t in Object(n))bU.call(n,t)&&t!="constructor"&&e.push(t);return e}function $0(n){return jl(n)?ZE(n):xU(n)}function wU(n,e){return n&&WE(n,e,$0)}function CU(n,e){return function(t,r){if(t==null)return t;if(!jl(t))return n(t,r);for(var i=t.length,o=-1,s=Object(t);++o<i&&r(s[o],o,s)!==!1;);return t}}var tT=CU(wU);function SU(n){return typeof n=="function"?n:zp}function kU(n,e){var t=ri(n)?mU:tT;return t(n,SU(e))}function kf(n){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(n)}var MU=/^\s+/,EU=/\s+$/;function rt(n,e){if(n=n||"",e=e||{},n instanceof rt)return n;if(!(this instanceof rt))return new rt(n,e);var t=TU(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}rt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,i,o,s,a;return t=e.r/255,r=e.g/255,i=e.b/255,t<=.03928?o=t/12.92:o=Math.pow((t+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=nT(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Uw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Uw(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+i+"%)":"hsva("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Ww(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Ww(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Vw(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return RU(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(hn(this._r,255)*100)+"%",g:Math.round(hn(this._g,255)*100)+"%",b:Math.round(hn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(hn(this._r,255)*100)+"%, "+Math.round(hn(this._g,255)*100)+"%, "+Math.round(hn(this._b,255)*100)+"%)":"rgba("+Math.round(hn(this._r,255)*100)+"%, "+Math.round(hn(this._g,255)*100)+"%, "+Math.round(hn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:WU[Vw(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+Gw(this._r,this._g,this._b,this._a),r=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=rt(e);r="#"+Gw(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!t&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return rt(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(_U,arguments)},brighten:function(){return this._applyModification($U,arguments)},darken:function(){return this._applyModification(NU,arguments)},desaturate:function(){return this._applyModification(PU,arguments)},saturate:function(){return this._applyModification(IU,arguments)},greyscale:function(){return this._applyModification(DU,arguments)},spin:function(){return this._applyModification(FU,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(zU,arguments)},complement:function(){return this._applyCombination(BU,arguments)},monochromatic:function(){return this._applyCombination(HU,arguments)},splitcomplement:function(){return this._applyCombination(jU,arguments)},triad:function(){return this._applyCombination(Kw,[3])},tetrad:function(){return this._applyCombination(Kw,[4])}};rt.fromRatio=function(n,e){if(kf(n)=="object"){var t={};for(var r in n)n.hasOwnProperty(r)&&(r==="a"?t[r]=n[r]:t[r]=yu(n[r]));n=t}return rt(n,e)};function TU(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,o=null,s=!1,a=!1;return typeof n=="string"&&(n=KU(n)),kf(n)=="object"&&(Co(n.r)&&Co(n.g)&&Co(n.b)?(e=AU(n.r,n.g,n.b),s=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Co(n.h)&&Co(n.s)&&Co(n.v)?(r=yu(n.s),i=yu(n.v),e=LU(n.h,r,i),s=!0,a="hsv"):Co(n.h)&&Co(n.s)&&Co(n.l)&&(r=yu(n.s),o=yu(n.l),e=OU(n.h,r,o),s=!0,a="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=nT(t),{ok:s,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function AU(n,e,t){return{r:hn(n,255)*255,g:hn(e,255)*255,b:hn(t,255)*255}}function Ww(n,e,t){n=hn(n,255),e=hn(e,255),t=hn(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s,l:a}}function OU(n,e,t){var r,i,o;n=hn(n,360),e=hn(e,100),t=hn(t,100);function s(c,f,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?c+(f-c)*6*p:p<1/2?f:p<2/3?c+(f-c)*(2/3-p)*6:c}if(e===0)r=i=o=t;else{var a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=s(l,a,n+1/3),i=s(l,a,n),o=s(l,a,n-1/3)}return{r:r*255,g:i*255,b:o*255}}function Uw(n,e,t){n=hn(n,255),e=hn(e,255),t=hn(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s,v:a}}function LU(n,e,t){n=hn(n,360)*6,e=hn(e,100),t=hn(t,100);var r=Math.floor(n),i=n-r,o=t*(1-e),s=t*(1-i*e),a=t*(1-(1-i)*e),l=r%6,c=[t,s,o,o,a,t][l],f=[a,t,t,s,o,o][l],p=[o,o,a,t,t,s][l];return{r:c*255,g:f*255,b:p*255}}function Vw(n,e,t,r){var i=[zi(Math.round(n).toString(16)),zi(Math.round(e).toString(16)),zi(Math.round(t).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function RU(n,e,t,r,i){var o=[zi(Math.round(n).toString(16)),zi(Math.round(e).toString(16)),zi(Math.round(t).toString(16)),zi(rT(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Gw(n,e,t,r){var i=[zi(rT(r)),zi(Math.round(n).toString(16)),zi(Math.round(e).toString(16)),zi(Math.round(t).toString(16))];return i.join("")}rt.equals=function(n,e){return!n||!e?!1:rt(n).toRgbString()==rt(e).toRgbString()};rt.random=function(){return rt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function PU(n,e){e=e===0?0:e||10;var t=rt(n).toHsl();return t.s-=e/100,t.s=Up(t.s),rt(t)}function IU(n,e){e=e===0?0:e||10;var t=rt(n).toHsl();return t.s+=e/100,t.s=Up(t.s),rt(t)}function DU(n){return rt(n).desaturate(100)}function _U(n,e){e=e===0?0:e||10;var t=rt(n).toHsl();return t.l+=e/100,t.l=Up(t.l),rt(t)}function $U(n,e){e=e===0?0:e||10;var t=rt(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),rt(t)}function NU(n,e){e=e===0?0:e||10;var t=rt(n).toHsl();return t.l-=e/100,t.l=Up(t.l),rt(t)}function FU(n,e){var t=rt(n).toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,rt(t)}function BU(n){var e=rt(n).toHsl();return e.h=(e.h+180)%360,rt(e)}function Kw(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=rt(n).toHsl(),r=[rt(n)],i=360/e,o=1;o<e;o++)r.push(rt({h:(t.h+o*i)%360,s:t.s,l:t.l}));return r}function jU(n){var e=rt(n).toHsl(),t=e.h;return[rt(n),rt({h:(t+72)%360,s:e.s,l:e.l}),rt({h:(t+216)%360,s:e.s,l:e.l})]}function zU(n,e,t){e=e||6,t=t||30;var r=rt(n).toHsl(),i=360/t,o=[rt(n)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(rt(r));return o}function HU(n,e){e=e||6;for(var t=rt(n).toHsv(),r=t.h,i=t.s,o=t.v,s=[],a=1/e;e--;)s.push(rt({h:r,s:i,v:o})),o=(o+a)%1;return s}rt.mix=function(n,e,t){t=t===0?0:t||50;var r=rt(n).toRgb(),i=rt(e).toRgb(),o=t/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return rt(s)};rt.readability=function(n,e){var t=rt(n),r=rt(e);return(Math.max(t.getLuminance(),r.getLuminance())+.05)/(Math.min(t.getLuminance(),r.getLuminance())+.05)};rt.isReadable=function(n,e,t){var r=rt.readability(n,e),i,o;switch(o=!1,i=qU(t),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};rt.mostReadable=function(n,e,t){var r=null,i=0,o,s,a,l;t=t||{},s=t.includeFallbackColors,a=t.level,l=t.size;for(var c=0;c<e.length;c++)o=rt.readability(n,e[c]),o>i&&(i=o,r=rt(e[c]));return rt.isReadable(n,r,{level:a,size:l})||!s?r:(t.includeFallbackColors=!1,rt.mostReadable(n,["#fff","#000"],t))};var qm=rt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},WU=rt.hexNames=UU(qm);function UU(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function nT(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function hn(n,e){VU(n)&&(n="100%");var t=GU(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function Up(n){return Math.min(1,Math.max(0,n))}function Qr(n){return parseInt(n,16)}function VU(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function GU(n){return typeof n=="string"&&n.indexOf("%")!=-1}function zi(n){return n.length==1?"0"+n:""+n}function yu(n){return n<=1&&(n=n*100+"%"),n}function rT(n){return Math.round(parseFloat(n)*255).toString(16)}function qw(n){return Qr(n)/255}var Ni=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Co(n){return!!Ni.CSS_UNIT.exec(n)}function KU(n){n=n.replace(MU,"").replace(EU,"").toLowerCase();var e=!1;if(qm[n])n=qm[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=Ni.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=Ni.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Ni.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=Ni.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Ni.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=Ni.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Ni.hex8.exec(n))?{r:Qr(t[1]),g:Qr(t[2]),b:Qr(t[3]),a:qw(t[4]),format:e?"name":"hex8"}:(t=Ni.hex6.exec(n))?{r:Qr(t[1]),g:Qr(t[2]),b:Qr(t[3]),format:e?"name":"hex"}:(t=Ni.hex4.exec(n))?{r:Qr(t[1]+""+t[1]),g:Qr(t[2]+""+t[2]),b:Qr(t[3]+""+t[3]),a:qw(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=Ni.hex3.exec(n))?{r:Qr(t[1]+""+t[1]),g:Qr(t[2]+""+t[2]),b:Qr(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function qU(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}var Yw=function(e){var t=["r","g","b","a","h","s","l","v"],r=0,i=0;return kU(t,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},bu=function(e,t){var r=e.hex?rt(e.hex):rt(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=t||0,o.h=t||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||t||i.h,source:e.source}},bs=function(e){if(e==="transparent")return!0;var t=String(e).charAt(0)==="#"?1:0;return e.length!==4+t&&e.length<7+t&&rt(e).isValid()},N0=function(e){if(!e)return"#fff";var t=bu(e);if(t.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(t.rgb.r*299+t.rgb.g*587+t.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Rg=function(e,t){var r=e.replace("","");return rt(t+" ("+r+")")._ok},su=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YU=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function JU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ZU(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function XU(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Gr=function(e){var t=function(r){XU(i,r);function i(o){JU(this,i);var s=ZU(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var c=Yw(a);if(c){var f=bu(a,a.h||s.state.oldHue);s.setState(f),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,f,l),s.props.onChange&&s.props.onChange(f,l)}},s.handleSwatchHover=function(a,l){var c=Yw(a);if(c){var f=bu(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(f,l)}},s.state=su({},bu(o.color,0)),s.debounce=eT(function(a,l,c){a(l,c)},100),s}return YU(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),$.createElement(e,su({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return su({},bu(s.color,a.oldHue))}}]),i}(v.PureComponent||v.Component);return t.propTypes=su({},e.propTypes),t.defaultProps=su({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},QU=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eV=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function tV(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Jw(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function nV(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var rV=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){nV(i,r);function i(){var o,s,a,l;tV(this,i);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return l=(s=(a=Jw(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(f))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),Jw(a,l)}return eV(i,[{key:"render",value:function(){return $.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},$.createElement(e,QU({},this.props,this.state)))}}]),i}($.Component)},Zw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},iV=13,oV=function(e){var t=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?t:a,c=e.children,f=e.focus,p=e.focusStyle,h=p===void 0?{}:p,m=t==="transparent",y=ft({default:{swatch:Zw({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,f?h:{})}}),b=function(R){return o(t,R)},w=function(R){return R.keyCode===iV&&o(t,R)},S=function(R){return s(t,R)},k={};return s&&(k.onMouseOver=S),$.createElement("div",Zw({style:y.swatch,onClick:b,title:l,tabIndex:0,onKeyDown:w},k),c,m&&$.createElement(Fl,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const ga=rV(oV);var sV=function(e){var t=e.direction,r=ft({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:t==="vertical"});return $.createElement("div",{style:r.picker})},aV=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},iT=function(e){var t=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,c=e.renderers,f=e.pointer,p=e.className,h=p===void 0?"":p,m=ft({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return $.createElement("div",{style:m.picker,className:"alpha-picker "+h},$.createElement(O0,aV({},m.alpha,{rgb:t,hsl:r,pointer:f,renderers:c,onChange:s,direction:a})))};iT.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:sV};Gr(iT);function oT(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var lV="__lodash_hash_undefined__";function uV(n){return this.__data__.set(n,lV),this}function cV(n){return this.__data__.has(n)}function Mf(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new $o;++e<t;)this.add(n[e])}Mf.prototype.add=Mf.prototype.push=uV;Mf.prototype.has=cV;function dV(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function fV(n,e){return n.has(e)}var pV=1,hV=2;function sT(n,e,t,r,i,o){var s=t&pV,a=n.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(n),f=o.get(e);if(c&&f)return c==e&&f==n;var p=-1,h=!0,m=t&hV?new Mf:void 0;for(o.set(n,e),o.set(e,n);++p<a;){var y=n[p],b=e[p];if(r)var w=s?r(b,y,p,e,n,o):r(y,b,p,n,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(m){if(!dV(e,function(S,k){if(!fV(m,k)&&(y===S||i(y,S,t,r,o)))return m.push(k)})){h=!1;break}}else if(!(y===b||i(y,b,t,r,o))){h=!1;break}}return o.delete(n),o.delete(e),h}function gV(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function mV(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var vV=1,yV=2,bV="[object Boolean]",xV="[object Date]",wV="[object Error]",CV="[object Map]",SV="[object Number]",kV="[object RegExp]",MV="[object Set]",EV="[object String]",TV="[object Symbol]",AV="[object ArrayBuffer]",OV="[object DataView]",Xw=ps?ps.prototype:void 0,Pg=Xw?Xw.valueOf:void 0;function LV(n,e,t,r,i,o,s){switch(t){case OV:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case AV:return!(n.byteLength!=e.byteLength||!o(new wf(n),new wf(e)));case bV:case xV:case SV:return kc(+n,+e);case wV:return n.name==e.name&&n.message==e.message;case kV:case EV:return n==e+"";case CV:var a=gV;case MV:var l=r&vV;if(a||(a=mV),n.size!=e.size&&!l)return!1;var c=s.get(n);if(c)return c==e;r|=yV,s.set(n,e);var f=sT(a(n),a(e),r,i,o,s);return s.delete(n),f;case TV:if(Pg)return Pg.call(n)==Pg.call(e)}return!1}function RV(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}function PV(n,e,t){var r=e(n);return ri(n)?r:RV(r,t(n))}function IV(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var s=n[t];e(s,t,n)&&(o[i++]=s)}return o}function DV(){return[]}var _V=Object.prototype,$V=_V.propertyIsEnumerable,Qw=Object.getOwnPropertySymbols,NV=Qw?function(n){return n==null?[]:(n=Object(n),IV(Qw(n),function(e){return $V.call(n,e)}))}:DV;function eC(n){return PV(n,$0,NV)}var FV=1,BV=Object.prototype,jV=BV.hasOwnProperty;function zV(n,e,t,r,i,o){var s=t&FV,a=eC(n),l=a.length,c=eC(e),f=c.length;if(l!=f&&!s)return!1;for(var p=l;p--;){var h=a[p];if(!(s?h in e:jV.call(e,h)))return!1}var m=o.get(n),y=o.get(e);if(m&&y)return m==e&&y==n;var b=!0;o.set(n,e),o.set(e,n);for(var w=s;++p<l;){h=a[p];var S=n[h],k=e[h];if(r)var T=s?r(k,S,h,e,n,o):r(S,k,h,n,e,o);if(!(T===void 0?S===k||i(S,k,t,r,o):T)){b=!1;break}w||(w=h=="constructor")}if(b&&!w){var R=n.constructor,O=e.constructor;R!=O&&"constructor"in n&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof O=="function"&&O instanceof O)&&(b=!1)}return o.delete(n),o.delete(e),b}var Ym=ha(Vi,"DataView"),Jm=ha(Vi,"Promise"),Zm=ha(Vi,"Set"),Xm=ha(Vi,"WeakMap"),tC="[object Map]",HV="[object Object]",nC="[object Promise]",rC="[object Set]",iC="[object WeakMap]",oC="[object DataView]",WV=pa(Ym),UV=pa(Zu),VV=pa(Jm),GV=pa(Zm),KV=pa(Xm),Zo=fa;(Ym&&Zo(new Ym(new ArrayBuffer(1)))!=oC||Zu&&Zo(new Zu)!=tC||Jm&&Zo(Jm.resolve())!=nC||Zm&&Zo(new Zm)!=rC||Xm&&Zo(new Xm)!=iC)&&(Zo=function(n){var e=fa(n),t=e==HV?n.constructor:void 0,r=t?pa(t):"";if(r)switch(r){case WV:return oC;case UV:return tC;case VV:return nC;case GV:return rC;case KV:return iC}return e});var qV=1,sC="[object Arguments]",aC="[object Array]",Td="[object Object]",YV=Object.prototype,lC=YV.hasOwnProperty;function JV(n,e,t,r,i,o){var s=ri(n),a=ri(e),l=s?aC:Zo(n),c=a?aC:Zo(e);l=l==sC?Td:l,c=c==sC?Td:c;var f=l==Td,p=c==Td,h=l==c;if(h&&Sf(n)){if(!Sf(e))return!1;s=!0,f=!1}if(h&&!f)return o||(o=new so),s||D0(n)?sT(n,e,t,r,i,o):LV(n,e,l,t,r,i,o);if(!(t&qV)){var m=f&&lC.call(n,"__wrapped__"),y=p&&lC.call(e,"__wrapped__");if(m||y){var b=m?n.value():n,w=y?e.value():e;return o||(o=new so),i(b,w,t,r,o)}}return h?(o||(o=new so),zV(n,e,t,r,i,o)):!1}function F0(n,e,t,r,i){return n===e?!0:n==null||e==null||!hs(n)&&!hs(e)?n!==n&&e!==e:JV(n,e,t,r,F0,i)}var ZV=1,XV=2;function QV(n,e,t,r){var i=t.length,o=i;if(n==null)return!o;for(n=Object(n);i--;){var s=t[i];if(s[2]?s[1]!==n[s[0]]:!(s[0]in n))return!1}for(;++i<o;){s=t[i];var a=s[0],l=n[a],c=s[1];if(s[2]){if(l===void 0&&!(a in n))return!1}else{var f=new so,p;if(!(p===void 0?F0(c,l,ZV|XV,r,f):p))return!1}}return!0}function aT(n){return n===n&&!Ti(n)}function e7(n){for(var e=$0(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,aT(i)]}return e}function lT(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function t7(n){var e=e7(n);return e.length==1&&e[0][2]?lT(e[0][0],e[0][1]):function(t){return t===n||QV(t,n,e)}}var n7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r7=/^\w*$/;function B0(n,e){if(ri(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Hp(n)?!0:r7.test(n)||!n7.test(n)||e!=null&&n in Object(e)}var i7="Expected a function";function j0(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(i7);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return t.cache=o.set(i,s)||o,s};return t.cache=new(j0.Cache||$o),t}j0.Cache=$o;var o7=500;function s7(n){var e=j0(n,function(r){return t.size===o7&&t.clear(),r}),t=e.cache;return e}var a7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l7=/\\(\\)?/g,u7=s7(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(a7,function(t,r,i,o){e.push(i?o.replace(l7,"$1"):r||t)}),e}),c7=1/0,uC=ps?ps.prototype:void 0,cC=uC?uC.toString:void 0;function uT(n){if(typeof n=="string")return n;if(ri(n))return oT(n,uT)+"";if(Hp(n))return cC?cC.call(n):"";var e=n+"";return e=="0"&&1/n==-c7?"-0":e}function d7(n){return n==null?"":uT(n)}function cT(n,e){return ri(n)?n:B0(n,e)?[n]:u7(d7(n))}var f7=1/0;function Vp(n){if(typeof n=="string"||Hp(n))return n;var e=n+"";return e=="0"&&1/n==-f7?"-0":e}function dT(n,e){e=cT(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Vp(e[t++])];return t&&t==r?n:void 0}function p7(n,e,t){var r=n==null?void 0:dT(n,e);return r===void 0?t:r}function h7(n,e){return n!=null&&e in Object(n)}function g7(n,e,t){e=cT(e,n);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Vp(e[r]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++r!=i?o:(i=n==null?0:n.length,!!i&&I0(i)&&_0(s,i)&&(ri(n)||Cf(n)))}function m7(n,e){return n!=null&&g7(n,e,h7)}var v7=1,y7=2;function b7(n,e){return B0(n)&&aT(e)?lT(Vp(n),e):function(t){var r=p7(t,n);return r===void 0&&r===e?m7(t,n):F0(e,r,v7|y7)}}function x7(n){return function(e){return e==null?void 0:e[n]}}function w7(n){return function(e){return dT(e,n)}}function C7(n){return B0(n)?x7(Vp(n)):w7(n)}function S7(n){return typeof n=="function"?n:n==null?zp:typeof n=="object"?ri(n)?b7(n[0],n[1]):t7(n):C7(n)}function k7(n,e){var t=-1,r=jl(n)?Array(n.length):[];return tT(n,function(i,o,s){r[++t]=e(i,o,s)}),r}function ma(n,e){var t=ri(n)?oT:k7;return t(n,S7(e))}var M7=function(e){var t=e.colors,r=e.onClick,i=e.onSwatchHover,o=ft({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return $.createElement("div",{style:o.swatches},ma(t,function(s){return $.createElement(ga,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),$.createElement("div",{style:o.clear}))},z0=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,f=e.className,p=f===void 0?"":f,h=i==="transparent",m=function(w,S){bs(w)&&t({hex:w,source:"hex"},S)},y=ft(Vr({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:N0(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return $.createElement("div",{style:y.card,className:"block-picker "+p},$.createElement("div",{style:y.triangle}),$.createElement("div",{style:y.head},h&&$.createElement(Fl,{borderRadius:"6px 6px 0 0"}),$.createElement("div",{style:y.label},i)),$.createElement("div",{style:y.body},$.createElement(M7,{colors:o,onClick:m,onSwatchHover:r}),$.createElement(_t,{style:{input:y.input},value:i,onChange:m})))};z0.propTypes={width:He.oneOfType([He.string,He.number]),colors:He.arrayOf(He.string),triangle:He.oneOf(["top","hide"]),styles:He.object};z0.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Gr(z0);var Ka={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},qa={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Ya={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Ja={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Za={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Xa={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Qa={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},el={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},tl={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},xu={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},nl={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},rl={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},il={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},ol={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},sl={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},al={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},ll={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},ul={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},fT=function(e){var t=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,c=ft({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:o,active:s});return $.createElement("div",{style:c.swatch},$.createElement(ga,{style:c.Swatch,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+t}}))};fT.defaultProps={circleSize:28,circleSpacing:14};const E7=A0(fT);var H0=function(e){var t=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,f=e.circleSpacing,p=e.className,h=p===void 0?"":p,m=ft(Vr({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},c)),y=function(w,S){return r({hex:w,source:"hex"},S)};return $.createElement("div",{style:m.card,className:"circle-picker "+h},ma(o,function(b){return $.createElement(E7,{key:b,color:b,onClick:y,onSwatchHover:i,active:s===b.toLowerCase(),circleSize:a,circleSpacing:f})}))};H0.propTypes={width:He.oneOfType([He.string,He.number]),circleSize:He.number,circleSpacing:He.number,styles:He.object};H0.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ka[500],qa[500],Ya[500],Ja[500],Za[500],Xa[500],Qa[500],el[500],tl[500],xu[500],nl[500],rl[500],il[500],ol[500],sl[500],al[500],ll[500],ul[500]],styles:{}};Gr(H0);function dC(n){return n===void 0}var pT={};Object.defineProperty(pT,"__esModule",{value:!0});var fC=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},T7=v,pC=A7(T7);function A7(n){return n&&n.__esModule?n:{default:n}}function O7(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var Ad=24,L7=pT.default=function(n){var e=n.fill,t=e===void 0?"currentColor":e,r=n.width,i=r===void 0?Ad:r,o=n.height,s=o===void 0?Ad:o,a=n.style,l=a===void 0?{}:a,c=O7(n,["fill","width","height","style"]);return pC.default.createElement("svg",fC({viewBox:"0 0 "+Ad+" "+Ad,style:fC({fill:t,width:i,height:s},l)},c),pC.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},R7=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function P7(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function I7(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function D7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var hT=function(n){D7(e,n);function e(t){P7(this,e);var r=I7(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?bs(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(dC(i.s)?r.props.hsl.s:i.s),l:Number(dC(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},t.hsl.a!==1&&t.view==="hex"?r.state={view:"rgb"}:r.state={view:t.view},r}return R7(e,[{key:"render",value:function(){var r=this,i=ft({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=$.createElement("div",{style:i.fields,className:"flexbox-fix"},$.createElement("div",{style:i.field},$.createElement(_t,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=$.createElement("div",{style:i.fields,className:"flexbox-fix"},$.createElement("div",{style:i.field},$.createElement(_t,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),$.createElement("div",{style:i.field},$.createElement(_t,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),$.createElement("div",{style:i.field},$.createElement(_t,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),$.createElement("div",{style:i.alpha},$.createElement(_t,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=$.createElement("div",{style:i.fields,className:"flexbox-fix"},$.createElement("div",{style:i.field},$.createElement(_t,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),$.createElement("div",{style:i.field},$.createElement(_t,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),$.createElement("div",{style:i.field},$.createElement(_t,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),$.createElement("div",{style:i.alpha},$.createElement(_t,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),$.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,$.createElement("div",{style:i.toggle},$.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},$.createElement(L7,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}($.Component);hT.defaultProps={view:"hex"};var hC=function(){var e=ft({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return $.createElement("div",{style:e.picker})},_7=function(){var e=ft({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return $.createElement("div",{style:e.picker})},W0=function(e){var t=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,f=e.styles,p=f===void 0?{}:f,h=e.className,m=h===void 0?"":h,y=e.defaultView,b=ft(Vr({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},p),{disableAlpha:i});return $.createElement("div",{style:b.picker,className:"chrome-picker "+m},$.createElement("div",{style:b.saturation},$.createElement(Wp,{style:b.Saturation,hsl:s,hsv:a,pointer:_7,onChange:r})),$.createElement("div",{style:b.body},$.createElement("div",{style:b.controls,className:"flexbox-fix"},$.createElement("div",{style:b.color},$.createElement("div",{style:b.swatch},$.createElement("div",{style:b.active}),$.createElement(Fl,{renderers:c}))),$.createElement("div",{style:b.toggles},$.createElement("div",{style:b.hue},$.createElement(Bl,{style:b.Hue,hsl:s,pointer:hC,onChange:r})),$.createElement("div",{style:b.alpha},$.createElement(O0,{style:b.Alpha,rgb:o,hsl:s,pointer:hC,renderers:c,onChange:r})))),$.createElement(hT,{rgb:o,hsl:s,hex:l,view:y,onChange:r,disableAlpha:i})))};W0.propTypes={width:He.oneOfType([He.string,He.number]),disableAlpha:He.bool,styles:He.object,defaultView:He.oneOf(["hex","rgb","hsl"])};W0.defaultProps={width:225,disableAlpha:!1,styles:{}};Gr(W0);var $7=function(e){var t=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=ft({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:N0(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":t==="#FFFFFF",transparent:t==="transparent"});return $.createElement(ga,{style:a.color,color:t,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},$.createElement("div",{style:a.dot}))},N7=function(e){var t=e.hex,r=e.rgb,i=e.onChange,o=ft({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return $.createElement("div",{style:o.fields,className:"flexbox-fix"},$.createElement("div",{style:o.active}),$.createElement(_t,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:t,onChange:s}),$.createElement(_t,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),$.createElement(_t,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),$.createElement(_t,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},U0=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,f=c===void 0?"":c,p=ft(Vr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(y,b){y.hex?bs(y.hex)&&t({hex:y.hex,source:"hex"},b):t(y,b)};return $.createElement(Mc,{style:p.Compact,styles:l},$.createElement("div",{style:p.compact,className:"compact-picker "+f},$.createElement("div",null,ma(i,function(m){return $.createElement($7,{key:m,color:m,active:m.toLowerCase()===o,onClick:h,onSwatchHover:r})}),$.createElement("div",{style:p.clear})),$.createElement(N7,{hex:o,rgb:s,onChange:h})))};U0.propTypes={colors:He.arrayOf(He.string),styles:He.object};U0.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Gr(U0);var F7=function(e){var t=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=ft({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:t});return $.createElement("div",{style:a.swatch},$.createElement(ga,{color:r,onClick:i,onHover:o,focusStyle:s}))};const B7=A0(F7);var V0=function(e){var t=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,f=c===void 0?"":c,p=ft(Vr({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),h=function(y,b){return i({hex:y,source:"hex"},b)};return $.createElement("div",{style:p.card,className:"github-picker "+f},$.createElement("div",{style:p.triangleShadow}),$.createElement("div",{style:p.triangle}),ma(r,function(m){return $.createElement(B7,{color:m,key:m,onClick:h,onSwatchHover:o})}))};V0.propTypes={width:He.oneOfType([He.string,He.number]),colors:He.arrayOf(He.string),triangle:He.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:He.object};V0.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Gr(V0);var j7=function(e){var t=e.direction,r=ft({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:t==="vertical"});return $.createElement("div",{style:r.picker})},z7=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},G0=function(e){var t=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,f=e.className,p=f===void 0?"":f,h=ft(Vr({default:{picker:{position:"relative",width:t,height:r},hue:{radius:"2px"}}},c)),m=function(b){return i({a:1,h:b.h,l:.5,s:1})};return $.createElement("div",{style:h.picker,className:"hue-picker "+p},$.createElement(Bl,z7({},h.hue,{hsl:o,pointer:a,onChange:m,direction:s})))};G0.propTypes={styles:He.object};G0.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:j7,styles:{}};Gr(G0);var H7=function(e){var t=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=ft(Vr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),f=function(h,m){h.hex?bs(h.hex)&&t({hex:h.hex,source:"hex"},m):(h.r||h.g||h.b)&&t({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},m)};return $.createElement(Mc,{styles:s},$.createElement("div",{style:c.material,className:"material-picker "+l},$.createElement(_t,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:f}),$.createElement("div",{style:c.split,className:"flexbox-fix"},$.createElement("div",{style:c.third},$.createElement(_t,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:f})),$.createElement("div",{style:c.third},$.createElement(_t,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:f})),$.createElement("div",{style:c.third},$.createElement(_t,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:f})))))};Gr(H7);var W7=function(e){var t=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=ft({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,f){c["#"]?bs(c["#"])&&t({hex:c["#"],source:"hex"},f):c.r||c.g||c.b?t({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},f):(c.h||c.s||c.v)&&t({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},f)};return $.createElement("div",{style:s.fields},$.createElement(_t,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),$.createElement(_t,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),$.createElement(_t,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),$.createElement("div",{style:s.divider}),$.createElement(_t,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),$.createElement(_t,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),$.createElement(_t,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),$.createElement("div",{style:s.divider}),$.createElement(_t,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),$.createElement("div",{style:s.fieldSymbols},$.createElement("div",{style:s.symbol},""),$.createElement("div",{style:s.symbol},"%"),$.createElement("div",{style:s.symbol},"%")))},U7=function(e){var t=e.hsl,r=ft({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return $.createElement("div",{style:r.picker})},V7=function(){var e=ft({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return $.createElement("div",{style:e.pointer},$.createElement("div",{style:e.left},$.createElement("div",{style:e.leftInside})),$.createElement("div",{style:e.right},$.createElement("div",{style:e.rightInside})))},gC=function(e){var t=e.onClick,r=e.label,i=e.children,o=e.active,s=ft({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return $.createElement("div",{style:s.button,onClick:t},r||i)},G7=function(e){var t=e.rgb,r=e.currentColor,i=ft({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return $.createElement("div",null,$.createElement("div",{style:i.label},"new"),$.createElement("div",{style:i.swatches},$.createElement("div",{style:i.new}),$.createElement("div",{style:i.current})),$.createElement("div",{style:i.label},"current"))},K7=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function q7(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Y7(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function J7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var K0=function(n){J7(e,n);function e(t){q7(this,e);var r=Y7(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:t.hex},r}return K7(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=ft(Vr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return $.createElement("div",{style:l.picker,className:"photoshop-picker "+a},$.createElement("div",{style:l.head},this.props.header),$.createElement("div",{style:l.body,className:"flexbox-fix"},$.createElement("div",{style:l.saturation},$.createElement(Wp,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:U7,onChange:this.props.onChange})),$.createElement("div",{style:l.hue},$.createElement(Bl,{direction:"vertical",hsl:this.props.hsl,pointer:V7,onChange:this.props.onChange})),$.createElement("div",{style:l.controls},$.createElement("div",{style:l.top,className:"flexbox-fix"},$.createElement("div",{style:l.previews},$.createElement(G7,{rgb:this.props.rgb,currentColor:this.state.currentColor})),$.createElement("div",{style:l.actions},$.createElement(gC,{label:"OK",onClick:this.props.onAccept,active:!0}),$.createElement(gC,{label:"Cancel",onClick:this.props.onCancel}),$.createElement(W7,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}($.Component);K0.propTypes={header:He.string,styles:He.object};K0.defaultProps={header:"Color Picker",styles:{}};Gr(K0);var Z7=function(e){var t=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=ft({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(f,p){f.hex?bs(f.hex)&&t({hex:f.hex,source:"hex"},p):f.r||f.g||f.b?t({r:f.r||r.r,g:f.g||r.g,b:f.b||r.b,a:r.a,source:"rgb"},p):f.a&&(f.a<0?f.a=0:f.a>100&&(f.a=100),f.a/=100,t({h:i.h,s:i.s,l:i.l,a:f.a,source:"rgb"},p))};return $.createElement("div",{style:a.fields,className:"flexbox-fix"},$.createElement("div",{style:a.double},$.createElement(_t,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),$.createElement("div",{style:a.single},$.createElement(_t,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),$.createElement("div",{style:a.single},$.createElement(_t,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),$.createElement("div",{style:a.single},$.createElement(_t,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),$.createElement("div",{style:a.alpha},$.createElement(_t,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},X7=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gT=function(e){var t=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=ft({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(c,f){i({hex:c,source:"hex"},f)};return $.createElement("div",{style:s.colors,className:"flexbox-fix"},t.map(function(l){var c=typeof l=="string"?{color:l}:l,f=""+c.color+(c.title||"");return $.createElement("div",{key:f,style:s.swatchWrap},$.createElement(ga,X7({},c,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};gT.propTypes={colors:He.arrayOf(He.oneOfType([He.string,He.shape({color:He.string,title:He.string})])).isRequired};var Q7=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},q0=function(e){var t=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,f=e.presetColors,p=e.renderers,h=e.styles,m=h===void 0?{}:h,y=e.className,b=y===void 0?"":y,w=ft(Vr({default:Q7({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:c});return $.createElement("div",{style:w.picker,className:"sketch-picker "+b},$.createElement("div",{style:w.saturation},$.createElement(Wp,{style:w.Saturation,hsl:s,hsv:o,onChange:a})),$.createElement("div",{style:w.controls,className:"flexbox-fix"},$.createElement("div",{style:w.sliders},$.createElement("div",{style:w.hue},$.createElement(Bl,{style:w.Hue,hsl:s,onChange:a})),$.createElement("div",{style:w.alpha},$.createElement(O0,{style:w.Alpha,rgb:r,hsl:s,renderers:p,onChange:a}))),$.createElement("div",{style:w.color},$.createElement(Fl,null),$.createElement("div",{style:w.activeColor}))),$.createElement(Z7,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:c}),$.createElement(gT,{colors:f,onClick:a,onSwatchHover:l}))};q0.propTypes={disableAlpha:He.bool,width:He.oneOfType([He.string,He.number]),styles:He.object};q0.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const eG=Gr(q0);var au=function(e){var t=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,c=ft({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),f=function(h){return o({h:t.h,s:.5,l:r,source:"hsl"},h)};return $.createElement("div",{style:c.swatch,onClick:f})},tG=function(e){var t=e.onClick,r=e.hsl,i=ft({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return $.createElement("div",{style:i.swatches},$.createElement("div",{style:i.swatch},$.createElement(au,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:t,first:!0})),$.createElement("div",{style:i.swatch},$.createElement(au,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:t})),$.createElement("div",{style:i.swatch},$.createElement(au,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:t})),$.createElement("div",{style:i.swatch},$.createElement(au,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:t})),$.createElement("div",{style:i.swatch},$.createElement(au,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:t,last:!0})),$.createElement("div",{style:i.clear}))},nG=function(){var e=ft({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return $.createElement("div",{style:e.picker})},Y0=function(e){var t=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=ft(Vr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return $.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},$.createElement("div",{style:c.hue},$.createElement(Bl,{style:c.Hue,hsl:t,pointer:i,onChange:r})),$.createElement("div",{style:c.swatches},$.createElement(tG,{hsl:t,onClick:r})))};Y0.propTypes={styles:He.object};Y0.defaultProps={pointer:nG,styles:{}};Gr(Y0);var mT={};Object.defineProperty(mT,"__esModule",{value:!0});var mC=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rG=v,vC=iG(rG);function iG(n){return n&&n.__esModule?n:{default:n}}function oG(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var Od=24,sG=mT.default=function(n){var e=n.fill,t=e===void 0?"currentColor":e,r=n.width,i=r===void 0?Od:r,o=n.height,s=o===void 0?Od:o,a=n.style,l=a===void 0?{}:a,c=oG(n,["fill","width","height","style"]);return vC.default.createElement("svg",mC({viewBox:"0 0 "+Od+" "+Od,style:mC({fill:t,width:i,height:s},l)},c),vC.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},aG=function(e){var t=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,c=ft({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:N0(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":t==="#FFFFFF",transparent:t==="transparent"});return $.createElement(ga,{color:t,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},$.createElement("div",{style:c.check},$.createElement(sG,null)))},lG=function(e){var t=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=ft({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return $.createElement("div",{style:s.group},ma(i,function(a,l){return $.createElement(aG,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:t,onSwatchHover:r})}))},J0=function(e){var t=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,f=e.className,p=f===void 0?"":f,h=ft(Vr({default:{picker:{width:t,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),m=function(b,w){return i({hex:b,source:"hex"},w)};return $.createElement("div",{style:h.picker,className:"swatches-picker "+p},$.createElement(Mc,null,$.createElement("div",{style:h.overflow},$.createElement("div",{style:h.body},ma(s,function(y){return $.createElement(lG,{key:y.toString(),group:y,active:a,onClick:m,onSwatchHover:o})}),$.createElement("div",{style:h.clear})))))};J0.propTypes={width:He.oneOfType([He.string,He.number]),height:He.oneOfType([He.string,He.number]),colors:He.arrayOf(He.arrayOf(He.string)),styles:He.object};J0.defaultProps={width:320,height:240,colors:[[Ka[900],Ka[700],Ka[500],Ka[300],Ka[100]],[qa[900],qa[700],qa[500],qa[300],qa[100]],[Ya[900],Ya[700],Ya[500],Ya[300],Ya[100]],[Ja[900],Ja[700],Ja[500],Ja[300],Ja[100]],[Za[900],Za[700],Za[500],Za[300],Za[100]],[Xa[900],Xa[700],Xa[500],Xa[300],Xa[100]],[Qa[900],Qa[700],Qa[500],Qa[300],Qa[100]],[el[900],el[700],el[500],el[300],el[100]],[tl[900],tl[700],tl[500],tl[300],tl[100]],["#194D33",xu[700],xu[500],xu[300],xu[100]],[nl[900],nl[700],nl[500],nl[300],nl[100]],[rl[900],rl[700],rl[500],rl[300],rl[100]],[il[900],il[700],il[500],il[300],il[100]],[ol[900],ol[700],ol[500],ol[300],ol[100]],[sl[900],sl[700],sl[500],sl[300],sl[100]],[al[900],al[700],al[500],al[300],al[100]],[ll[900],ll[700],ll[500],ll[300],ll[100]],[ul[900],ul[700],ul[500],ul[300],ul[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Gr(J0);var Z0=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,f=e.className,p=f===void 0?"":f,h=ft(Vr({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(b,w){bs(b)&&t({hex:b,source:"hex"},w)};return $.createElement("div",{style:h.card,className:"twitter-picker "+p},$.createElement("div",{style:h.triangleShadow}),$.createElement("div",{style:h.triangle}),$.createElement("div",{style:h.body},ma(o,function(y,b){return $.createElement(ga,{key:b,color:y,hex:y,style:h.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+y}})}),$.createElement("div",{style:h.hash},"#"),$.createElement(_t,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:m}),$.createElement("div",{style:h.clear})))};Z0.propTypes={width:He.oneOfType([He.string,He.number]),triangle:He.oneOf(["hide","top-left","top-right"]),colors:He.arrayOf(He.string),styles:He.object};Z0.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Gr(Z0);var X0=function(e){var t=ft({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return $.createElement("div",{style:t.picker})};X0.propTypes={hsl:He.shape({h:He.number,s:He.number,l:He.number,a:He.number})};X0.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Q0=function(e){var t=ft({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return $.createElement("div",{style:t.picker})};Q0.propTypes={hsl:He.shape({h:He.number,s:He.number,l:He.number,a:He.number})};Q0.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var uG=function(e){var t=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(m,y){if(m.hex)bs(m.hex)&&t({hex:m.hex,source:"hex"},y);else if(m.rgb){var b=m.rgb.split(",");Rg(m.rgb,"rgb")&&t({r:b[0],g:b[1],b:b[2],a:1,source:"rgb"},y)}else if(m.hsv){var w=m.hsv.split(",");Rg(m.hsv,"hsv")&&(w[2]=w[2].replace("%",""),w[1]=w[1].replace("%",""),w[0]=w[0].replace("",""),w[1]==1?w[1]=.01:w[2]==1&&(w[2]=.01),t({h:Number(w[0]),s:Number(w[1]),v:Number(w[2]),source:"hsv"},y))}else if(m.hsl){var S=m.hsl.split(",");Rg(m.hsl,"hsl")&&(S[2]=S[2].replace("%",""),S[1]=S[1].replace("%",""),S[0]=S[0].replace("",""),p[1]==1?p[1]=.01:p[2]==1&&(p[2]=.01),t({h:Number(S[0]),s:Number(S[1]),v:Number(S[2]),source:"hsl"},y))}},l=ft({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,f=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",p=Math.round(s.h)+", "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return $.createElement("div",{style:l.wrap,className:"flexbox-fix"},$.createElement("div",{style:l.fields},$.createElement("div",{style:l.double},$.createElement(_t,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),$.createElement("div",{style:l.column},$.createElement("div",{style:l.single},$.createElement(_t,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),$.createElement("div",{style:l.single},$.createElement(_t,{style:{input:l.input2,label:l.label2},label:"hsv",value:p,onChange:a})),$.createElement("div",{style:l.single},$.createElement(_t,{style:{input:l.input2,label:l.label2},label:"hsl",value:f,onChange:a})))))},ey=function(e){var t=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,c=e.styles,f=c===void 0?{}:c,p=e.className,h=p===void 0?"":p,m=ft(Vr({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},f));return $.createElement("div",{style:m.picker,className:"google-picker "+h},$.createElement("div",{style:m.head},l),$.createElement("div",{style:m.swatch}),$.createElement("div",{style:m.saturation},$.createElement(Wp,{hsl:o,hsv:s,pointer:X0,onChange:r})),$.createElement("div",{style:m.body},$.createElement("div",{style:m.controls,className:"flexbox-fix"},$.createElement("div",{style:m.hue},$.createElement(Bl,{style:m.Hue,hsl:o,radius:"4px",pointer:Q0,onChange:r}))),$.createElement(uG,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};ey.propTypes={width:He.oneOfType([He.string,He.number]),styles:He.object,header:He.string};ey.defaultProps={width:652,styles:{},header:"Color picker"};Gr(ey);const cG=n=>{let e=n.r.toString(16),t=n.g.toString(16),r=n.b.toString(16),i=Math.round(n.a*255).toString(16);return e.length===1&&(e="0"+e),t.length===1&&(t="0"+t),r.length===1&&(r="0"+r),i.length===1&&(i="0"+i),"#"+e+t+r+i},dG=n=>{const[e,t]=v.useState(null),{fieldDef:r,value:i,onChange:o,onBlur:s,disabled:a,skeleton:l,id:c}=n,[f,p]=v.useState(!1),[h,m]=v.useState(null),y=k=>{p(!f),t(k.currentTarget)},b=()=>{p(!1),t(null),s()},w=k=>{m(k),o(cG(k.rgb))},S=open?`${r.name}-popover`:void 0;return l?x.jsx(kt,{variant:"rectangular",width:102,height:52}):x.jsxs(x.Fragment,{children:[x.jsx(kF,{disabled:a,color:(h==null?void 0:h.rgb)||i||{r:0,g:141,b:168,a:1},onClick:y,id:c}),!a&&x.jsx(MF,{id:S,open:f,anchorEl:e,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:x.jsx(eG,{color:i||K.newColors.realTeal[100],onChange:w})})]})},fG=v.memo(dG),Ig={message:`Please enter a valid ${cE} date`},vl={message:"Please enter a valid 12hr time. Example: 12:00 PM."},ja={message:"Please also provide a time"};function pG(n,{min:e,max:t}){return e!==void 0&&n<e?e:t!==void 0&&n>t?t:n}function hG(n){return n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2}function gG(n){return 1+2.70158*Math.pow(n-1,3)+1.70158*Math.pow(n-1,2)}function mG(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}const vG={easeInOutQuart:hG,easeOutBack:gG,easeInOutCubic:mG};function yG(n={}){const e={fn:()=>null,startTimestamp:0,preventNext:!1,valueStart:0,valueEnd:0,duration:0,easing:"easeInOutCubic",onComplete:()=>null},t=a=>{Object.assign(e,a)};t(n);const r=a=>{if(e.preventNext)return;e.startTimestamp||(e.startTimestamp=a);const l=Math.min((a-e.startTimestamp)/e.duration,1),c=Math.floor(vG[e.easing](l)*(e.valueEnd-e.valueStart)+e.valueStart);if(e.fn(c,e),l<1){window.requestAnimationFrame(r);return}e.onComplete&&e.onComplete(),e.preventNext=!0};return{start:(a={})=>{t(a),e.preventNext=!1,e.startTimestamp=0,window.requestAnimationFrame(r)},stop:()=>{e.preventNext=!0},inProgress:()=>!e.preventNext}}function bG(n){return v.useRef(yG(n)).current}const xG=400,wG=1500;function vT({container:n,onComplete:e,onStop:t}){const r=bG({onComplete:()=>{e&&e(),t&&t()}});v.useEffect(()=>{const{current:o}=n;if(!o)return;const s=()=>{r.stop(),t&&t()};return o.addEventListener("wheel",s,{passive:!0}),()=>o.removeEventListener("wheel",s)},[r,n,t]);const i=v.useCallback(({target:o,offset:s=0})=>{if(!o)return;const{current:a}=n,{scrollTop:l}=a,c=o.getBoundingClientRect(),f=a.getBoundingClientRect(),p=c.top+l-f.top-s,h=a.scrollHeight-f.height,m=l,y=Math.min(p,h);r.start({fn:b=>typeof a.scrollTo=="function"&&a.scrollTo({top:b}),valueStart:m,valueEnd:y,duration:pG(Math.abs(y-m)*.75,{min:xG,max:wG})})},[r,n]);return{animation:r,scrollTo:i}}function CG({refs:n,container:e,threshold:t=.2}){const r=v.useRef(!1),i=v.useRef(UF(()=>r.current=!1,100)),{current:o}=e,{animation:s,scrollTo:a}=vT({container:e,onStop:()=>{r.current=!1}}),[l,c]=v.useState(0),[f,p]=v.useState(null),h=f!==null?f:l,m=v.useCallback(()=>{let b=0;if(!o||!n)return b;const w=o.getBoundingClientRect();if(Math.ceil(o.scrollTop+w.height)>=o.scrollHeight)return n.length-1;for(let S=0;S<n.length&&!(n[S].getBoundingClientRect().top>w.top+w.height*t);S++)b=S;return b},[o,n,t]);v.useEffect(()=>{const b=m();c(b)},[m,n]),v.useEffect(()=>{if(!o)return;const b=()=>{i.current(),r.current||p(null);const w=m();c(w)};return o.addEventListener("scroll",b,{passive:!0}),()=>o.removeEventListener("scroll",b)},[o,m]);const y=v.useCallback(b=>{const[w]=n,S=n[b];if(!w||!S||!o)return;p(b),r.current=!0;const{scrollTop:k}=o,T=o.getBoundingClientRect(),O=w.getBoundingClientRect().top+k-T.top;a({target:S,offset:O})},[o,n,a]);return{animation:s,activeSection:h,setActiveSection:y}}function SG(n,e){const t=[];for(const r of n)e.includes(r)&&t.push(r);return t}function ty(n,e){const t=new Set(n),r=new Set(e),i=[...n].filter(a=>!r.has(a)),o=[...e].filter(a=>!t.has(a));return[...i,...o]}function kG(n,e){switch(e.type){case"ADD_ERROR":{const t=Array.isArray(e.error)?e.error:[e.error],r=ty(t,n);return r.length?[...n,...r]:n}case"REMOVE_ERROR":{const t=Array.isArray(e.error)?e.error:[e.error],r=SG(t,n);return r.length?n.filter(i=>!r.includes(i)):n}default:throw new Error("useFieldErrors action is not valid")}}function yT({methods:n,name:e}){const{addValidator:t}=n||{},[r,i]=v.useReducer(kG,[]),o=r[0],s=v.useCallback(l=>{i({type:"ADD_ERROR",error:l})},[i]),a=v.useCallback(l=>{i({type:"REMOVE_ERROR",error:l})},[i]);return v.useEffect(()=>{if(!t)return;const{remove:l}=t({name:e,validator:()=>o&&o.message});return l},[t,o,e]),{addError:s,removeError:a}}function Qm(n,e){it(2,arguments);var t=Ze(n),r=wn(e);return isNaN(r)?new Date(NaN):(r&&t.setDate(t.getDate()+r),t)}function MG(n,e){it(2,arguments);var t=wn(e);return c0(n,t*1e3)}var EG=6e4;function TG(n,e){it(2,arguments);var t=wn(e);return c0(n,t*EG)}var AG=36e5;function OG(n,e){it(2,arguments);var t=wn(e);return c0(n,t*AG)}function LG(n,e){it(2,arguments);var t=wn(e),r=t*7;return Qm(n,r)}function Xd(n,e){it(2,arguments);var t=Ze(n),r=wn(e);if(isNaN(r))return new Date(NaN);if(!r)return t;var i=t.getDate(),o=new Date(t.getTime());o.setMonth(t.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(t.setFullYear(o.getFullYear(),o.getMonth(),i),t)}function yC(n,e){it(2,arguments);var t=wn(e);return Xd(n,t*12)}function RG(n,e){it(2,arguments);var t=Ze(n),r=Ze(e);return t.getFullYear()-r.getFullYear()}function Fu(n,e){it(2,arguments);var t=Ze(n),r=Ze(e),i=t.getTime()-r.getTime();return i<0?-1:i>0?1:i}function PG(n,e){it(2,arguments);var t=Ze(n),r=Ze(e),i=Fu(t,r),o=Math.abs(RG(t,r));t.setFullYear(1584),r.setFullYear(1584);var s=Fu(t,r)===-i,a=i*(o-Number(s));return a===0?0:a}function IG(n,e){it(2,arguments);var t=Ze(n),r=Ze(e),i=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return i*12+o}function ev(n){it(1,arguments);var e=Ze(n);return e.setHours(23,59,59,999),e}function tv(n){it(1,arguments);var e=Ze(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function DG(n){it(1,arguments);var e=Ze(n);return ev(e).getTime()===tv(e).getTime()}function bT(n,e){it(2,arguments);var t=Ze(n),r=Ze(e),i=Fu(t,r),o=Math.abs(IG(t,r)),s;if(o<1)s=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-i*o);var a=Fu(t,r)===-i;DG(Ze(n))&&o===1&&Fu(n,r)===1&&(a=!1),s=i*(o-Number(a))}return s===0?0:s}var bC={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},_G="trunc";function Ec(n){return n?bC[n]:bC[_G]}function $G(n,e,t){it(2,arguments);var r=bT(n,e)/3;return Ec(void 0)(r)}var NG=864e5;function FG(n,e){it(2,arguments);var t=El(n),r=El(e),i=t.getTime()-jm(t),o=r.getTime()-jm(r);return Math.round((i-o)/NG)}function xC(n,e){var t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function xT(n,e){it(2,arguments);var t=Ze(n),r=Ze(e),i=xC(t,r),o=Math.abs(FG(t,r));t.setDate(t.getDate()-i*o);var s=+(xC(t,r)===-i),a=i*(o-s);return a===0?0:a}function BG(n,e,t){it(2,arguments);var r=xT(n,e)/7;return Ec(void 0)(r)}function Gp(n,e){return it(2,arguments),Ze(n).getTime()-Ze(e).getTime()}function jG(n,e,t){it(2,arguments);var r=Gp(n,e)/Dp;return Ec(void 0)(r)}function zG(n,e,t){it(2,arguments);var r=Gp(n,e)/Ip;return Ec(void 0)(r)}function HG(n,e,t){it(2,arguments);var r=Gp(n,e)/1e3;return Ec(void 0)(r)}function WG(n,e){var t;it(1,arguments);var r=n||{},i=Ze(r.start),o=Ze(r.end),s=o.getTime();if(!(i.getTime()<=s))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var c=Number((t=void 0)!==null&&t!==void 0?t:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)a.push(Ze(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return a}function Dg(n,e){var t,r,i,o,s,a,l,c;it(1,arguments);var f=Pp(),p=wn((t=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&t!==void 0?t:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ze(n),m=h.getDay(),y=(m<p?-7:0)+6-(m-p);return h.setDate(h.getDate()+y),h.setHours(23,59,59,999),h}function _g(n){it(1,arguments);var e=Ze(n),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function UG(n){it(1,arguments);var e=Ze(n),t=e.getDate();return t}function VG(n){it(1,arguments);var e=Ze(n),t=e.getDay();return t}function wT(n){it(1,arguments);var e=Ze(n),t=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function GG(n){it(1,arguments);var e=Ze(n),t=e.getHours();return t}function KG(n){it(1,arguments);var e=Ze(n),t=e.getMinutes();return t}function qG(n){it(1,arguments);var e=Ze(n),t=e.getMonth();return t}function YG(n){it(1,arguments);var e=Ze(n),t=e.getSeconds();return t}function JG(n){return it(1,arguments),Ze(n).getFullYear()}function Ld(n,e){it(2,arguments);var t=Ze(n),r=Ze(e);return t.getTime()>r.getTime()}function za(n,e){it(2,arguments);var t=Ze(n),r=Ze(e);return t.getTime()<r.getTime()}function ZG(n,e){it(2,arguments);var t=Ze(n),r=Ze(e);return t.getTime()===r.getTime()}function XG(n,e){it(2,arguments);var t=Ze(n),r=Ze(e);return t.getFullYear()===r.getFullYear()}function QG(n,e){it(2,arguments);var t=Ze(n),r=Ze(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function wC(n){it(1,arguments);var e=Ze(n);return e.setMinutes(0,0,0),e}function eK(n,e){it(2,arguments);var t=wC(n),r=wC(e);return t.getTime()===r.getTime()}function tK(n,e){it(2,arguments);var t=Ze(n),r=wn(e);return t.setDate(r),t}function nK(n,e){it(2,arguments);var t=Ze(n),r=wn(e);return t.setHours(r),t}function rK(n,e){it(2,arguments);var t=Ze(n),r=wn(e);return t.setMinutes(r),t}function iK(n,e){it(2,arguments);var t=Ze(n),r=wn(e),i=t.getFullYear(),o=t.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=wT(s);return t.setMonth(r,Math.min(o,a)),t}function oK(n,e){it(2,arguments);var t=Ze(n),r=wn(e);return t.setSeconds(r),t}function sK(n,e){it(2,arguments);var t=Ze(n),r=wn(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(r),t)}function Rd(n){it(1,arguments);var e=Ze(n);return e.setDate(1),e.setHours(0,0,0,0),e}function $g(n,e){var t,r,i,o,s,a,l,c;it(1,arguments);var f=Pp(),p=wn((t=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&t!==void 0?t:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ze(n),m=h.getDay(),y=(m<p?7:0)+m-p;return h.setDate(h.getDate()-y),h.setHours(0,0,0,0),h}function Pd(n){it(1,arguments);var e=Ze(n),t=new Date(0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function aK(n,e){var t;it(1,arguments);var r=wn((t=void 0)!==null&&t!==void 0?t:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var i=dK(n),o;if(i.date){var s=fK(i.date,r);o=pK(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,c;if(i.time&&(l=hK(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=gK(i.timezone),isNaN(c))return new Date(NaN)}else{var f=new Date(a+l),p=new Date(0);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return new Date(a+l+c)}var Id={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dK(n){var e={},t=n.split(Id.dateTimeDelimiter),r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Id.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Id.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){var i=Id.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function fK(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function pK(n,e){if(e===null)return new Date(NaN);var t=n.match(lK);if(!t)return new Date(NaN);var r=!!t[4],i=lu(t[1]),o=lu(t[2])-1,s=lu(t[3]),a=lu(t[4]),l=lu(t[5])-1;if(r)return xK(e,a,l)?mK(e,a,l):new Date(NaN);var c=new Date(0);return!yK(e,o,s)||!bK(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}function lu(n){return n?parseInt(n):1}function hK(n){var e=n.match(uK);if(!e)return NaN;var t=Ng(e[1]),r=Ng(e[2]),i=Ng(e[3]);return wK(t,r,i)?t*Dp+r*Ip+i*1e3:NaN}function Ng(n){return n&&parseFloat(n.replace(",","."))||0}function gK(n){if(n==="Z")return 0;var e=n.match(cK);if(!e)return 0;var t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return CK(r,i)?t*(r*Dp+i*Ip):NaN}function mK(n,e,t){var r=new Date(0);r.setUTCFullYear(n,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var vK=[31,null,31,30,31,30,31,31,30,31,30,31];function CT(n){return n%400===0||n%4===0&&n%100!==0}function yK(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(vK[e]||(CT(n)?29:28))}function bK(n,e){return e>=1&&e<=(CT(n)?366:365)}function xK(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function wK(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function CK(n,e){return e>=0&&e<=59}function SK(n,e){var t,r;it(1,arguments);var i=Ze(n);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var o=String((t=e==null?void 0:e.format)!==null&&t!==void 0?t:"extended"),s=String((r=e==null?void 0:e.representation)!==null&&r!==void 0?r:"complete");if(o!=="extended"&&o!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(s!=="date"&&s!=="time"&&s!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",c=o==="extended"?"-":"",f=o==="extended"?":":"";if(s!=="time"){var p=Ko(i.getDate(),2),h=Ko(i.getMonth()+1,2),m=Ko(i.getFullYear(),4);a="".concat(m).concat(c).concat(h).concat(c).concat(p)}if(s!=="date"){var y=i.getTimezoneOffset();if(y!==0){var b=Math.abs(y),w=Ko(Math.floor(b/60),2),S=Ko(b%60,2),k=y<0?"+":"-";l="".concat(k).concat(w,":").concat(S)}else l="Z";var T=Ko(i.getHours(),2),R=Ko(i.getMinutes(),2),O=Ko(i.getSeconds(),2),M=a===""?"":"T",L=[T,R,O].join(f);a="".concat(a).concat(M).concat(L).concat(l)}return a}function kK(n,e){it(2,arguments);var t=Ze(n).getTime(),r=Ze(e.start).getTime(),i=Ze(e.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return t>=r&&t<=i}var nv={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(l,c){switch(l){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},r=function(l,c){switch(l){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},i=function(l,c){var f=l.match(/(P+)(p+)?/)||[],p=f[1],h=f[2];if(!h)return t(l,c);var m;switch(p){case"P":m=c.dateTime({width:"short"});break;case"PP":m=c.dateTime({width:"medium"});break;case"PPP":m=c.dateTime({width:"long"});break;case"PPPP":default:m=c.dateTime({width:"full"});break}return m.replace("{{date}}",t(p,c)).replace("{{time}}",r(h,c))},o={p:r,P:i},s=o;e.default=s,n.exports=e.default})(nv,nv.exports);var MK=nv.exports;const EK=pc(MK),TK={dayOfMonth:"d",fullDate:"PP",fullDateWithWeekday:"PPPP",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aaa",fullDateTime24h:"PP HH:mm",fullTime:"p",fullTime12h:"hh:mm aaa",fullTime24h:"HH:mm",hours12h:"hh",hours24h:"HH",keyboardDate:"P",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aaa",keyboardDateTime24h:"P HH:mm",minutes:"mm",month:"LLLL",monthAndDate:"MMMM d",monthAndYear:"LLLL yyyy",monthShort:"MMM",weekday:"EEEE",weekdayShort:"EEE",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",seconds:"ss",shortDate:"MMM d",year:"yyyy"};class ST{constructor({locale:e,formats:t}={}){this.lib="date-fns",this.is12HourCycleInCurrentLocale=()=>{var r;return this.locale?/a/.test((r=this.locale.formatLong)===null||r===void 0?void 0:r.time()):!0},this.getFormatHelperText=r=>{var i,o;const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a=this.locale||aE;return(o=(i=r.match(s))===null||i===void 0?void 0:i.map(l=>{const c=l[0];if(c==="p"||c==="P"){const f=EK[c];return f(l,a.formatLong,{})}return l}).join("").replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase())!==null&&o!==void 0?o:r},this.parseISO=r=>aK(r),this.toISO=r=>SK(r,{format:"extended"}),this.getCurrentLocaleCode=()=>{var r;return((r=this.locale)===null||r===void 0?void 0:r.code)||"en-US"},this.addSeconds=(r,i)=>MG(r,i),this.addMinutes=(r,i)=>TG(r,i),this.addHours=(r,i)=>OG(r,i),this.addDays=(r,i)=>Qm(r,i),this.addWeeks=(r,i)=>LG(r,i),this.addMonths=(r,i)=>Xd(r,i),this.addYears=(r,i)=>yC(r,i),this.isValid=r=>lE(this.date(r)),this.getDiff=(r,i,o)=>{var s;const a=(s=this.date(i))!==null&&s!==void 0?s:r;if(!this.isValid(a))return 0;switch(o){case"years":return PG(r,a);case"quarters":return $G(r,a);case"months":return bT(r,a);case"weeks":return BG(r,a);case"days":return xT(r,a);case"hours":return jG(r,a);case"minutes":return zG(r,a);case"seconds":return HG(r,a);default:return Gp(r,a)}},this.isAfter=(r,i)=>Ld(r,i),this.isBefore=(r,i)=>za(r,i),this.startOfDay=r=>El(r),this.endOfDay=r=>ev(r),this.getHours=r=>GG(r),this.setHours=(r,i)=>nK(r,i),this.setMinutes=(r,i)=>rK(r,i),this.getSeconds=r=>YG(r),this.setSeconds=(r,i)=>oK(r,i),this.isSameDay=(r,i)=>pB(r,i),this.isSameMonth=(r,i)=>QG(r,i),this.isSameYear=(r,i)=>XG(r,i),this.isSameHour=(r,i)=>eK(r,i),this.startOfYear=r=>Pd(r),this.endOfYear=r=>_g(r),this.startOfMonth=r=>Rd(r),this.endOfMonth=r=>tv(r),this.startOfWeek=r=>$g(r,{locale:this.locale}),this.endOfWeek=r=>Dg(r,{locale:this.locale}),this.getYear=r=>JG(r),this.setYear=(r,i)=>sK(r,i),this.date=r=>typeof r>"u"?new Date:r===null?null:new Date(r),this.toJsDate=r=>r,this.parse=(r,i)=>r===""?null:TE(r,i,new Date,{locale:this.locale}),this.format=(r,i)=>this.formatByString(r,this.formats[i]),this.formatByString=(r,i)=>gl(r,i,{locale:this.locale}),this.isEqual=(r,i)=>r===null&&i===null?!0:ZG(r,i),this.isNull=r=>r===null,this.isAfterDay=(r,i)=>Ld(r,ev(i)),this.isBeforeDay=(r,i)=>za(r,El(i)),this.isBeforeYear=(r,i)=>za(r,Pd(i)),this.isAfterYear=(r,i)=>Ld(r,_g(i)),this.isWithinRange=(r,[i,o])=>kK(r,{start:i,end:o}),this.formatNumber=r=>r,this.getMinutes=r=>KG(r),this.getDate=r=>UG(r),this.setDate=(r,i)=>tK(r,i),this.getMonth=r=>qG(r),this.getDaysInMonth=r=>wT(r),this.setMonth=(r,i)=>iK(r,i),this.getMeridiemText=r=>r==="am"?"AM":"PM",this.getNextMonth=r=>Xd(r,1),this.getPreviousMonth=r=>Xd(r,-1),this.getMonthArray=r=>{const o=[Pd(r)];for(;o.length<12;){const s=o[o.length-1];o.push(this.getNextMonth(s))}return o},this.mergeDateAndTime=(r,i)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(i)),this.getMinutes(i)),this.getSeconds(i)),this.getWeekdays=()=>{const r=new Date;return WG({start:$g(r,{locale:this.locale}),end:Dg(r,{locale:this.locale})}).map(i=>this.formatByString(i,"EEEEEE"))},this.getWeekArray=r=>{const i=$g(Rd(r),{locale:this.locale}),o=Dg(tv(r),{locale:this.locale});let s=0,a=i;const l=[];let c=null;for(;za(a,o);){const f=Math.floor(s/7);l[f]=l[f]||[];const p=VG(a);c!==p&&(c=p,l[f].push(a),s+=1),a=Qm(a,1)}return l},this.getYearRange=(r,i)=>{const o=Pd(r),s=_g(i),a=[];let l=o;for(;za(l,s);)a.push(l),l=yC(l,1);return a},this.locale=e,this.formats=Object.assign({},TK,t)}isBeforeMonth(e,t){return za(e,Rd(t))}isAfterMonth(e,t){return Ld(e,Rd(t))}}const AK=n=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:le({},n)}}}}),kT={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:n=>n==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",clockLabelText:(n,e,t)=>`Select ${n}. ${e===null?"No time selected":`Selected time is ${t.format(e,"fullTime")}`}`,hoursClockNumberText:n=>`${n} hours`,minutesClockNumberText:n=>`${n} minutes`,secondsClockNumberText:n=>`${n} seconds`,openDatePickerDialogue:(n,e)=>n&&e.isValid(e.date(n))?`Choose date, selected date is ${e.format(e.date(n),"fullDate")}`:"Choose date",openTimePickerDialogue:(n,e)=>n&&e.isValid(e.date(n))?`Choose time, selected time is ${e.format(e.date(n),"fullTime")}`:"Choose time",timeTableLabel:"pick time",dateTableLabel:"pick date"},OK=kT;AK(kT);const MT=v.createContext(null);function ET(n){const e=Do({props:n,name:"MuiLocalizationProvider"}),{children:t,dateAdapter:r,dateFormats:i,dateLibInstance:o,locale:s,adapterLocale:a,localeText:l}=e,c=v.useMemo(()=>new r({locale:a??s,formats:i,instance:o}),[r,s,a,i,o]),f=v.useMemo(()=>({minDate:c.date("1900-01-01T00:00:00.000"),maxDate:c.date("2099-12-31T00:00:00.000")}),[c]),p=v.useMemo(()=>({utils:c,defaultDates:f,localeText:le({},OK,l??{})}),[f,c,l]);return x.jsx(MT.Provider,{value:p,children:t})}const Tc=()=>{const n=v.useContext(MT);if(n===null)throw new Error("MUI: Can not find utils in context. It looks like you forgot to wrap your component in LocalizationProvider, or pass dateAdapter prop directly.");return n},_n=()=>Tc().utils,Kp=()=>Tc().defaultDates,zl=()=>Tc().localeText,Ac=()=>{const n=_n();return v.useRef(n.date()).current},Fg=({date:n,disableFuture:e,disablePast:t,maxDate:r,minDate:i,isDateDisabled:o,utils:s})=>{const a=s.startOfDay(s.date());t&&s.isBefore(i,a)&&(i=a),e&&s.isAfter(r,a)&&(r=a);let l=n,c=n;for(s.isBefore(n,i)&&(l=s.date(i),c=null),s.isAfter(n,r)&&(c&&(c=s.date(r)),l=null);l||c;){if(l&&s.isAfter(l,r)&&(l=null),c&&s.isBefore(c,i)&&(c=null),l){if(!o(l))return l;l=s.addDays(l,1)}if(c){if(!o(c))return c;c=s.addDays(c,-1)}}return null},TT=(n,e)=>{const t=n.date(e);return n.isValid(t)?t:null},AT=n=>n.length===1&&n[0]==="year",OT=n=>n.length===2&&n.indexOf("month")!==-1&&n.indexOf("year")!==-1,LK=(n,e)=>AT(n)?{inputFormat:e.formats.year}:OT(n)?{disableMaskedInput:!0,inputFormat:e.formats.monthAndYear}:{inputFormat:e.formats.keyboardDate};function RK(n,e){var t;const r=_n(),i=Kp(),o=Do({props:n,name:e}),s=(t=o.views)!=null?t:["year","day"];return le({openTo:"day",minDate:i.minDate,maxDate:i.maxDate},LK(s,r),o,{views:s})}const PK={emptyValue:null,getTodayValue:n=>n.date(),parseInput:TT,areValuesEqual:(n,e,t)=>n.isEqual(e,t)};function IK(n){return Or("MuiCollapse",n)}Cn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const DK=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],_K=n=>{const{orientation:e,classes:t}=n,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Lr(r,IK,t)},$K=Ve("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(({theme:n,ownerState:e})=>le({height:0,overflow:"hidden",transition:n.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:n.transitions.create("width")},e.state==="entered"&&le({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),NK=Ve("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(n,e)=>e.wrapper})(({ownerState:n})=>le({display:"flex",width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),FK=Ve("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(n,e)=>e.wrapperInner})(({ownerState:n})=>le({width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),LT=v.forwardRef(function(e,t){const r=ua({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:l,easing:c,in:f,onEnter:p,onEntered:h,onEntering:m,onExit:y,onExited:b,onExiting:w,orientation:S="vertical",style:k,timeout:T=Y3.standard,TransitionComponent:R=iE}=r,O=Pt(r,DK),M=le({},r,{orientation:S,collapsedSize:a}),L=_K(M),D=$l(),j=cF(),F=v.useRef(null),ie=v.useRef(),W=typeof a=="number"?`${a}px`:a,ne=S==="horizontal",z=ne?"width":"height",X=v.useRef(null),Z=Lo(t,X),H=N=>q=>{if(N){const J=X.current;q===void 0?N(J):N(J,q)}},he=()=>F.current?F.current[ne?"clientWidth":"clientHeight"]:0,_e=H((N,q)=>{F.current&&ne&&(F.current.style.position="absolute"),N.style[z]=W,p&&p(N,q)}),pe=H((N,q)=>{const J=he();F.current&&ne&&(F.current.style.position="");const{duration:ee,easing:Re}=nw({style:k,timeout:T,easing:c},{mode:"enter"});if(T==="auto"){const Te=D.transitions.getAutoHeightDuration(J);N.style.transitionDuration=`${Te}ms`,ie.current=Te}else N.style.transitionDuration=typeof ee=="string"?ee:`${ee}ms`;N.style[z]=`${J}px`,N.style.transitionTimingFunction=Re,m&&m(N,q)}),te=H((N,q)=>{N.style[z]="auto",h&&h(N,q)}),ue=H(N=>{N.style[z]=`${he()}px`,y&&y(N)}),ve=H(b),se=H(N=>{const q=he(),{duration:J,easing:ee}=nw({style:k,timeout:T,easing:c},{mode:"exit"});if(T==="auto"){const Re=D.transitions.getAutoHeightDuration(q);N.style.transitionDuration=`${Re}ms`,ie.current=Re}else N.style.transitionDuration=typeof J=="string"?J:`${J}ms`;N.style[z]=W,N.style.transitionTimingFunction=ee,w&&w(N)}),A=N=>{T==="auto"&&j.start(ie.current||0,N),i&&i(X.current,N)};return x.jsx(R,le({in:f,onEnter:_e,onEntered:te,onEntering:pe,onExit:ue,onExited:ve,onExiting:se,addEndListener:A,nodeRef:X,timeout:T==="auto"?null:T},O,{children:(N,q)=>x.jsx($K,le({as:l,className:ti(L.root,s,{entered:L.entered,exited:!f&&W==="0px"&&L.hidden}[N]),style:le({[ne?"minWidth":"minHeight"]:W},k),ref:Z},q,{ownerState:le({},M,{state:N}),children:x.jsx(NK,{ownerState:le({},M,{state:N}),className:L.wrapper,ref:F,children:x.jsx(FK,{ownerState:le({},M,{state:N}),className:L.wrapperInner,children:o})})}))}))});LT.muiSupportAuto=!0;const RT=v.createContext({}),BK=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],jK=["component","slots","slotProps"],zK=["component"];function HK(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=e,l=Pt(e,BK),{component:c,slots:f={[n]:void 0},slotProps:p={[n]:void 0}}=o;Pt(o,jK);const h=f[n]||r,m=iF(p[n],i),y=oF(le({className:t},l,{externalForwardedProps:void 0,externalSlotProps:m})),{props:{component:b},internalRef:w}=y,S=Pt(y.props,zK),k=Lo(w,m==null?void 0:m.ref,e.ref),T=s?s(S):{},R=le({},i,T),O=b,M=sF(h,le({},n==="root",!f[n]&&a,S,O&&{as:O},{ref:k}),R);return Object.keys(T).forEach(L=>{delete M[L]}),[h,M]}function WK(n){return Or("MuiAccordion",n)}const Dd=Cn("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),UK=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],VK=n=>{const{classes:e,square:t,expanded:r,disabled:i,disableGutters:o}=n;return Lr({root:["root",!t&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},WK,e)},GK=Ve(vc,{name:"MuiAccordion",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Dd.region}`]:e.region},e.root,!t.square&&e.rounded,!t.disableGutters&&e.gutters]}})(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{position:"relative",transition:n.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(n.vars||n).palette.divider,transition:n.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Dd.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Dd.disabled}`]:{backgroundColor:(n.vars||n).palette.action.disabledBackground}}},({theme:n})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(n.vars||n).shape.borderRadius,borderBottomRightRadius:(n.vars||n).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${Dd.expanded}`]:{margin:"16px 0"}}}]})),KK=v.forwardRef(function(e,t){const r=ua({props:e,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:f,square:p=!1,slots:h={},slotProps:m={},TransitionComponent:y,TransitionProps:b}=r,w=Pt(r,UK),[S,k]=Cl({controlled:c,default:s,name:"Accordion",state:"expanded"}),T=v.useCallback(ne=>{k(!S),f&&f(ne,!S)},[S,f,k]),[R,...O]=v.Children.toArray(i),M=v.useMemo(()=>({expanded:S,disabled:a,disableGutters:l,toggle:T}),[S,a,l,T]),L=le({},r,{square:p,disabled:a,disableGutters:l,expanded:S}),D=VK(L),j=le({transition:y},h),F=le({transition:b},m),[ie,W]=HK("transition",{elementType:LT,externalForwardedProps:{slots:j,slotProps:F},ownerState:L});return x.jsxs(GK,le({className:ti(D.root,o),ref:t,ownerState:L,square:p},w,{children:[x.jsx(RT.Provider,{value:M,children:R}),x.jsx(ie,le({in:S,timeout:"auto"},W,{children:x.jsx("div",{"aria-labelledby":R.props.id,id:R.props["aria-controls"],role:"region",className:D.region,children:O})}))]}))});function qK(n){return Or("MuiAccordionDetails",n)}Cn("MuiAccordionDetails",["root"]);const YK=["className"],JK=n=>{const{classes:e}=n;return Lr({root:["root"]},qK,e)},ZK=Ve("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>({padding:n.spacing(1,2,2)})),XK=v.forwardRef(function(e,t){const r=ua({props:e,name:"MuiAccordionDetails"}),{className:i}=r,o=Pt(r,YK),s=r,a=JK(s);return x.jsx(ZK,le({className:ti(a.root,i),ref:t,ownerState:s},o))});function QK(n){return Or("MuiAccordionSummary",n)}const yl=Cn("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),eq=["children","className","expandIcon","focusVisibleClassName","onClick"],tq=n=>{const{classes:e,expanded:t,disabled:r,disableGutters:i}=n;return Lr({root:["root",t&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",t&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",t&&"expanded"]},QK,e)},nq=Ve(pE,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],e),[`&.${yl.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${yl.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`&:hover:not(.${yl.disabled})`]:{cursor:"pointer"},variants:[{props:t=>!t.disableGutters,style:{[`&.${yl.expanded}`]:{minHeight:64}}}]}}),rq=Ve("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(n,e)=>e.content})(({theme:n})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:n.transitions.create(["margin"],{duration:n.transitions.duration.shortest}),[`&.${yl.expanded}`]:{margin:"20px 0"}}}]})),iq=Ve("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(n,e)=>e.expandIconWrapper})(({theme:n})=>({display:"flex",color:(n.vars||n).palette.action.active,transform:"rotate(0deg)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),[`&.${yl.expanded}`]:{transform:"rotate(180deg)"}})),oq=v.forwardRef(function(e,t){const r=ua({props:e,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:l}=r,c=Pt(r,eq),{disabled:f=!1,disableGutters:p,expanded:h,toggle:m}=v.useContext(RT),y=S=>{m&&m(S),l&&l(S)},b=le({},r,{expanded:h,disabled:f,disableGutters:p}),w=tq(b);return x.jsxs(nq,le({focusRipple:!1,disableRipple:!0,disabled:f,component:"div","aria-expanded":h,className:ti(w.root,o),focusVisibleClassName:ti(w.focusVisible,a),onClick:y,ref:t,ownerState:b},c,{children:[x.jsx(rq,{className:w.content,ownerState:b,children:i}),s&&x.jsx(iq,{className:w.expandIconWrapper,ownerState:b,children:s})]}))}),CC=v.createContext();function sq(n){return Or("MuiGrid",n)}const aq=[0,1,2,3,4,5,6,7,8,9,10],lq=["column-reverse","column","row-reverse","row"],uq=["nowrap","wrap-reverse","wrap"],uu=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Qu=Cn("MuiGrid",["root","container","item","zeroMinWidth",...aq.map(n=>`spacing-xs-${n}`),...lq.map(n=>`direction-xs-${n}`),...uq.map(n=>`wrap-xs-${n}`),...uu.map(n=>`grid-xs-${n}`),...uu.map(n=>`grid-sm-${n}`),...uu.map(n=>`grid-md-${n}`),...uu.map(n=>`grid-lg-${n}`),...uu.map(n=>`grid-xl-${n}`)]),cq=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Sl(n){const e=parseFloat(n);return`${e}${String(n).replace(String(e),"")||"px"}`}function dq({theme:n,ownerState:e}){let t;return n.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(t=e[i]),!t)return r;if(t===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(t==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Lp({values:e.columns,breakpoints:n.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const l=`${Math.round(t/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const f=n.spacing(e.columnSpacing);if(f!=="0px"){const p=`calc(${l} + ${Sl(f)})`;c={flexBasis:p,maxWidth:p}}}o=le({flexBasis:l,flexGrow:0,maxWidth:l},c)}return n.breakpoints.values[i]===0?Object.assign(r,o):r[n.breakpoints.up(i)]=o,r},{})}function fq({theme:n,ownerState:e}){const t=Lp({values:e.direction,breakpoints:n.breakpoints.values});return r0({theme:n},t,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Qu.item}`]={maxWidth:"none"}),i})}function PT({breakpoints:n,values:e}){let t="";Object.keys(e).forEach(i=>{t===""&&e[i]!==0&&(t=i)});const r=Object.keys(n).sort((i,o)=>n[i]-n[o]);return r.slice(0,r.indexOf(t))}function pq({theme:n,ownerState:e}){const{container:t,rowSpacing:r}=e;let i={};if(t&&r!==0){const o=Lp({values:r,breakpoints:n.breakpoints.values});let s;typeof o=="object"&&(s=PT({breakpoints:n.breakpoints.values,values:o})),i=r0({theme:n},o,(a,l)=>{var c;const f=n.spacing(a);return f!=="0px"?{marginTop:`-${Sl(f)}`,[`& > .${Qu.item}`]:{paddingTop:Sl(f)}}:(c=s)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Qu.item}`]:{paddingTop:0}}})}return i}function hq({theme:n,ownerState:e}){const{container:t,columnSpacing:r}=e;let i={};if(t&&r!==0){const o=Lp({values:r,breakpoints:n.breakpoints.values});let s;typeof o=="object"&&(s=PT({breakpoints:n.breakpoints.values,values:o})),i=r0({theme:n},o,(a,l)=>{var c;const f=n.spacing(a);return f!=="0px"?{width:`calc(100% + ${Sl(f)})`,marginLeft:`-${Sl(f)}`,[`& > .${Qu.item}`]:{paddingLeft:Sl(f)}}:(c=s)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Qu.item}`]:{paddingLeft:0}}})}return i}function gq(n,e,t={}){if(!n||n<=0)return[];if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number")return[t[`spacing-xs-${String(n)}`]];const r=[];return e.forEach(i=>{const o=n[i];Number(o)>0&&r.push(t[`spacing-${i}-${String(o)}`])}),r}const mq=Ve("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=t;let f=[];r&&(f=gq(s,c,e));const p=[];return c.forEach(h=>{const m=t[h];m&&p.push(e[`grid-${h}-${String(m)}`])}),[e.root,r&&e.container,o&&e.item,l&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...p]}})(({ownerState:n})=>le({boxSizing:"border-box"},n.container&&{display:"flex",flexWrap:"wrap",width:"100%"},n.item&&{margin:0},n.zeroMinWidth&&{minWidth:0},n.wrap!=="wrap"&&{flexWrap:n.wrap}),fq,pq,hq,dq);function vq(n,e){if(!n||n<=0)return[];if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number")return[`spacing-xs-${String(n)}`];const t=[];return e.forEach(r=>{const i=n[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;t.push(o)}}),t}const yq=n=>{const{classes:e,container:t,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=n;let c=[];t&&(c=vq(o,l));const f=[];l.forEach(h=>{const m=n[h];m&&f.push(`grid-${h}-${String(m)}`)});const p={root:["root",t&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...f]};return Lr(p,sq,e)},bq=v.forwardRef(function(e,t){const r=ua({props:e,name:"MuiGrid"}),{breakpoints:i}=$l(),o=J3(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:f=!1,direction:p="row",item:h=!1,rowSpacing:m,spacing:y=0,wrap:b="wrap",zeroMinWidth:w=!1}=o,S=Pt(o,cq),k=m||y,T=l||y,R=v.useContext(CC),O=f?a||12:R,M={},L=le({},S);i.keys.forEach(F=>{S[F]!=null&&(M[F]=S[F],delete L[F])});const D=le({},o,{columns:O,container:f,direction:p,item:h,rowSpacing:k,columnSpacing:T,wrap:b,zeroMinWidth:w,spacing:y},M,{breakpoints:i.keys}),j=yq(D);return x.jsx(CC.Provider,{value:O,children:x.jsx(mq,le({ownerState:D,className:ti(j.root,s),as:c,ref:t},L))})});function IT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=IT(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Zn(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=IT(n))&&(r&&(r+=" "),r+=e);return r}const xq=Io(x.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),wq=Io(x.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Cq=Io(x.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),DT=Io(x.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),_T=Io(x.jsxs(v.Fragment,{children:[x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),x.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");Io(x.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");const Sq=Io(x.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Pen");Io(x.jsxs(v.Fragment,{children:[x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),x.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const bl=Cn("MuiPickersToolbar",["root","content","penIconButton","penIconButtonLandscape"]),kq=Ve("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>le({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:n.spacing(2,3)},e.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),Mq=Ve(bq,{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(n,e)=>e.content})({flex:1}),Eq=Ve(vs,{name:"MuiPickersToolbar",slot:"PenIconButton",overridesResolver:(n,e)=>e.penIconButton})({}),Tq=n=>n==="clock"?x.jsx(_T,{color:"inherit"}):x.jsx(DT,{color:"inherit"});function Aq(n,e){return n?`text input view is open, go to ${e} view`:`${e} view is open, go to text input view`}const $T=v.forwardRef(function(e,t){const{children:r,className:i,getMobileKeyboardInputViewButtonText:o=Aq,isLandscape:s,isMobileKeyboardViewOpen:a,landscapeDirection:l="column",toggleMobileKeyboardView:c,toolbarTitle:f,viewType:p="calendar"}=e,h=e;return x.jsxs(kq,{ref:t,className:Zn(bl.root,i),ownerState:h,children:[x.jsx(fs,{color:"text.secondary",variant:"overline",children:f}),x.jsxs(Mq,{container:!0,justifyContent:"space-between",className:bl.content,ownerState:h,direction:s?l:"row",alignItems:s?"flex-start":"flex-end",children:[r,x.jsx(Eq,{onClick:c,className:Zn(bl.penIconButton,s&&bl.penIconButtonLandscape),ownerState:h,color:"inherit","aria-label":o(a,p),children:a?Tq(p):x.jsx(Sq,{color:"inherit"})})]})]})}),Oq=["parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],SC=Cn("MuiDatePickerToolbar",["root","title"]),Lq=Ve($T,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(n,e)=>e.root})({[`& .${bl.penIconButton}`]:{position:"relative",top:4}}),Rq=Ve(fs,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(n,e)=>e.title})(({ownerState:n})=>le({},n.isLandscape&&{margin:"auto 16px auto auto"})),Pq=v.forwardRef(function(e,t){const{parsedValue:r,isLandscape:i,isMobileKeyboardViewOpen:o,toggleMobileKeyboardView:s,toolbarFormat:a,toolbarPlaceholder:l="",toolbarTitle:c="Select date",views:f}=e,p=Pt(e,Oq),h=_n(),m=v.useMemo(()=>r?a?h.formatByString(r,a):AT(f)?h.format(r,"year"):OT(f)?h.format(r,"month"):/en/.test(h.getCurrentLocaleCode())?h.format(r,"normalDateWithWeekday"):h.format(r,"normalDate"):l,[r,a,l,h,f]),y=e;return x.jsx(Lq,le({ref:t,toolbarTitle:c,isMobileKeyboardViewOpen:o,toggleMobileKeyboardView:s,isLandscape:i,ownerState:y,className:SC.root},p,{children:x.jsx(Rq,{variant:"h4",align:i?"left":"center",ownerState:y,className:SC.title,children:m})}))}),va=v.createContext(null),NT=n=>{const{onAccept:e,onClear:t,onCancel:r,onSetToday:i,actions:o}=n,s=v.useContext(va),a=zl(),l=typeof o=="function"?o(s):o;if(l==null||l.length===0)return null;const c=l==null?void 0:l.map(f=>{switch(f){case"clear":return x.jsx(mu,{onClick:t,children:a.clearButtonLabel},f);case"cancel":return x.jsx(mu,{onClick:r,children:a.cancelButtonLabel},f);case"accept":return x.jsx(mu,{onClick:e,children:a.okButtonLabel},f);case"today":return x.jsx(mu,{onClick:i,children:a.todayButtonLabel},f);default:return null}});return x.jsx(_F,{children:c})},Iq=["onClick","onTouchStart"],Dq=Ve(ca)(({theme:n})=>({zIndex:n.zIndex.modal})),_q=Ve(vc)(({ownerState:n})=>le({transformOrigin:"top center",outline:0},n.placement==="top"&&{transformOrigin:"bottom center"}));function $q(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function Nq(n,e){const t=v.useRef(!1),r=v.useRef(!1),i=v.useRef(null),o=v.useRef(!1);v.useEffect(()=>{if(!n)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[n]);const s=vu(l=>{if(!o.current)return;const c=r.current;r.current=!1;const f=wg(i.current);if(!i.current||"clientX"in l&&$q(l,f))return;if(t.current){t.current=!1;return}let p;l.composedPath?p=l.composedPath().indexOf(i.current)>-1:p=!f.documentElement.contains(l.target)||i.current.contains(l.target),!p&&!c&&e(l)}),a=()=>{r.current=!0};return v.useEffect(()=>{if(n){const l=wg(i.current),c=()=>{t.current=!0};return l.addEventListener("touchstart",s),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",c)}}},[n,s]),v.useEffect(()=>{if(n){const l=wg(i.current);return l.addEventListener("click",s),()=>{l.removeEventListener("click",s),r.current=!1}}},[n,s]),[i,a,a]}const Fq=n=>{var e;const{anchorEl:t,children:r,containerRef:i=null,onBlur:o,onClose:s,onClear:a,onAccept:l,onCancel:c,onSetToday:f,open:p,PopperProps:h,role:m,TransitionComponent:y=Q3,TrapFocusProps:b,PaperProps:w={},components:S,componentsProps:k}=n;v.useEffect(()=>{function Z(H){p&&(H.key==="Escape"||H.key==="Esc")&&s()}return document.addEventListener("keydown",Z),()=>{document.removeEventListener("keydown",Z)}},[s,p]);const T=v.useRef(null);v.useEffect(()=>{m!=="tooltip"&&(p?T.current=document.activeElement:T.current&&T.current instanceof HTMLElement&&T.current.focus())},[p,m]);const[R,O,M]=Nq(p,o??s),L=v.useRef(null),D=Lo(L,i),j=Lo(D,R),F=n,{onClick:ie,onTouchStart:W}=w,ne=Pt(w,Iq),z=Z=>{Z.key==="Escape"&&(Z.stopPropagation(),s())},X=(e=S==null?void 0:S.ActionBar)!=null?e:NT;return x.jsx(Dq,le({transition:!0,role:m,open:p,anchorEl:t,ownerState:F,onKeyDown:z},h,{children:({TransitionProps:Z,placement:H})=>x.jsx(aF,le({open:p,disableAutoFocus:!0,disableEnforceFocus:m==="tooltip",isEnabled:()=>!0},b,{children:x.jsx(y,le({},Z,{children:x.jsxs(_q,le({tabIndex:-1,elevation:8,ref:j,onClick:he=>{O(he),ie&&ie(he)},onTouchStart:he=>{M(he),W&&W(he)},ownerState:le({},F,{placement:H})},ne,{children:[r,x.jsx(X,le({onAccept:l,onClear:a,onCancel:c,onSetToday:f,actions:[]},k==null?void 0:k.actionBar))]}))}))}))}))};function FT(n){const{children:e,DateInputProps:t,KeyboardDateInputComponent:r,onClear:i,onDismiss:o,onCancel:s,onAccept:a,onSetToday:l,open:c,PopperProps:f,PaperProps:p,TransitionComponent:h,components:m,componentsProps:y}=n,b=v.useRef(null),w=Lo(t.inputRef,b);return x.jsxs(va.Provider,{value:"desktop",children:[x.jsx(r,le({},t,{inputRef:w})),x.jsx(Fq,{role:"dialog",open:c,anchorEl:b.current,TransitionComponent:h,PopperProps:f,PaperProps:p,onClose:o,onCancel:s,onClear:i,onAccept:a,onSetToday:l,components:m,componentsProps:y,children:e})]})}function Bs(n,e){return Array.isArray(e)?e.every(t=>n.indexOf(t)!==-1):n.indexOf(e)!==-1}const BT=(n,e)=>t=>{(t.key==="Enter"||t.key===" ")&&(n(),t.preventDefault(),t.stopPropagation())};function ny({onChange:n,onViewChange:e,openTo:t,view:r,views:i}){var o,s;const[a,l]=Cl({name:"Picker",state:"view",controlled:r,default:t&&Bs(i,t)?t:i[0]}),c=(o=i[i.indexOf(a)-1])!=null?o:null,f=(s=i[i.indexOf(a)+1])!=null?s:null,p=v.useCallback(y=>{l(y),e&&e(y)},[l,e]),h=v.useCallback(()=>{f&&p(f)},[f,p]);return{handleChangeAndOpenNext:v.useCallback((y,b)=>{const w=b==="finish";n(y,w&&f?"partial":b),w&&h()},[f,n,h]),nextView:f,previousView:c,openNext:h,openView:a,setOpenView:p}}const Tl=220,ss=36,ec={x:Tl/2,y:Tl/2},jT={x:ec.x,y:0},Bq=jT.x-ec.x,jq=jT.y-ec.y,zq=n=>n*(180/Math.PI),zT=(n,e,t)=>{const r=e-ec.x,i=t-ec.y,o=Math.atan2(Bq,jq)-Math.atan2(r,i);let s=zq(o);s=Math.round(s/n)*n,s%=360;const a=Math.floor(s/n)||0,l=r**2+i**2,c=Math.sqrt(l);return{value:a,distance:c}},Hq=(n,e,t=1)=>{const r=t*6;let{value:i}=zT(r,n,e);return i=i*t%60,i},Wq=(n,e,t)=>{const{value:r,distance:i}=zT(30,n,e);let o=r||12;return t?o%=12:i<Tl/2-ss&&(o+=12,o%=24),o},Uq=["className","hasSelected","isInner","type","value"],Vq=Ve("div")(({theme:n,ownerState:e})=>le({width:2,backgroundColor:n.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},e.toAnimateTransform&&{transition:n.transitions.create(["transform","height"])})),Gq=Ve("div")(({theme:n,ownerState:e})=>le({width:4,height:4,backgroundColor:n.palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${ss/2}px)`,border:`${(ss-4)/2}px solid ${n.palette.primary.main}`,boxSizing:"content-box"},e.hasSelected&&{backgroundColor:n.palette.primary.main}));class HT extends v.Component{constructor(...e){super(...e),this.state={toAnimateTransform:!1,previousType:void 0}}render(){const e=this.props,{className:t,isInner:r,type:i,value:o}=e,s=Pt(e,Uq),a=le({},this.props,this.state),l=()=>{let f=360/(i==="hours"?12:60)*o;return i==="hours"&&o>12&&(f-=360),{height:Math.round((r?.26:.4)*Tl),transform:`rotateZ(${f}deg)`}};return x.jsx(Vq,le({style:l(),className:t,ownerState:a},s,{children:x.jsx(Gq,{ownerState:a})}))}}HT.getDerivedStateFromProps=(n,e)=>n.type!==e.previousType?{toAnimateTransform:!0,previousType:n.type}:{toAnimateTransform:!1,previousType:n.type};const Kq=Ve("div")(({theme:n})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:n.spacing(2)})),qq=Ve("div")({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Yq=Ve("div")(({ownerState:n})=>le({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none"},n.disabled?{}:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}})),Jq=Ve("div")(({theme:n})=>({width:6,height:6,borderRadius:"50%",backgroundColor:n.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Zq=Ve(vs)(({theme:n,ownerState:e})=>le({zIndex:1,position:"absolute",bottom:e.ampmInClock?64:8,left:8},e.meridiemMode==="am"&&{backgroundColor:n.palette.primary.main,color:n.palette.primary.contrastText,"&:hover":{backgroundColor:n.palette.primary.light}})),Xq=Ve(vs)(({theme:n,ownerState:e})=>le({zIndex:1,position:"absolute",bottom:e.ampmInClock?64:8,right:8},e.meridiemMode==="pm"&&{backgroundColor:n.palette.primary.main,color:n.palette.primary.contrastText,"&:hover":{backgroundColor:n.palette.primary.light}}));function Qq(n){const{ampm:e,ampmInClock:t,autoFocus:r,children:i,date:o,getClockLabelText:s,handleMeridiemChange:a,isTimeDisabled:l,meridiemMode:c,minutesStep:f=1,onChange:p,selectedId:h,type:m,value:y,disabled:b,readOnly:w}=n,S=n,k=_n(),T=v.useContext(va),R=v.useRef(!1),O=l(y,m),M=!e&&m==="hours"&&(y<1||y>12),L=(H,he)=>{b||w||l(H,m)||p(H,he)},D=(H,he)=>{let{offsetX:_e,offsetY:pe}=H;if(_e===void 0){const ue=H.target.getBoundingClientRect();_e=H.changedTouches[0].clientX-ue.left,pe=H.changedTouches[0].clientY-ue.top}const te=m==="seconds"||m==="minutes"?Hq(_e,pe,f):Wq(_e,pe,!!e);L(te,he)},j=H=>{R.current=!0,D(H,"shallow")},F=H=>{R.current&&(D(H,"finish"),R.current=!1)},ie=H=>{H.buttons>0&&D(H.nativeEvent,"shallow")},W=H=>{R.current&&(R.current=!1),D(H.nativeEvent,"finish")},ne=v.useMemo(()=>m==="hours"?!0:y%5===0,[m,y]),z=m==="minutes"?f:1,X=v.useRef(null);a0(()=>{r&&X.current.focus()},[r]);const Z=H=>{if(!R.current)switch(H.key){case"Home":L(0,"partial"),H.preventDefault();break;case"End":L(m==="minutes"?59:23,"partial"),H.preventDefault();break;case"ArrowUp":L(y+z,"partial"),H.preventDefault();break;case"ArrowDown":L(y-z,"partial"),H.preventDefault();break}};return x.jsxs(Kq,{children:[x.jsxs(qq,{children:[x.jsx(Yq,{onTouchMove:j,onTouchEnd:F,onMouseUp:W,onMouseMove:ie,ownerState:{disabled:b}}),!O&&x.jsxs(v.Fragment,{children:[x.jsx(Jq,{}),o&&x.jsx(HT,{type:m,value:y,isInner:M,hasSelected:ne})]}),x.jsx("div",{"aria-activedescendant":h,"aria-label":s(m,o,k),ref:X,role:"listbox",onKeyDown:Z,tabIndex:0,children:i})]}),e&&(T==="desktop"||t)&&x.jsxs(v.Fragment,{children:[x.jsx(Zq,{onClick:w?void 0:()=>a("am"),disabled:b||c===null,ownerState:S,children:x.jsx(fs,{variant:"caption",children:"AM"})}),x.jsx(Xq,{disabled:b||c===null,onClick:w?void 0:()=>a("pm"),ownerState:S,children:x.jsx(fs,{variant:"caption",children:"PM"})})]})]})}const WT=n=>()=>{},eY=["className","disabled","index","inner","label","selected"],Ef=Cn("PrivateClockNumber",["selected","disabled"]),tY=Ve("span")(({theme:n,ownerState:e})=>le({height:ss,width:ss,position:"absolute",left:`calc((100% - ${ss}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:n.palette.text.primary,fontFamily:n.typography.fontFamily,"&:focused":{backgroundColor:n.palette.background.paper},[`&.${Ef.selected}`]:{color:n.palette.primary.contrastText},[`&.${Ef.disabled}`]:{pointerEvents:"none",color:n.palette.text.disabled}},e.inner&&le({},n.typography.body2,{color:n.palette.text.secondary})));function UT(n){const{className:e,disabled:t,index:r,inner:i,label:o,selected:s}=n,a=Pt(n,eY),l=n,c=r%12/12*Math.PI*2-Math.PI/2,f=(Tl-ss-2)/2*(i?.65:1),p=Math.round(Math.cos(c)*f),h=Math.round(Math.sin(c)*f);return x.jsx(tY,le({className:Zn(e,s&&Ef.selected,t&&Ef.disabled),"aria-disabled":t?!0:void 0,"aria-selected":s?!0:void 0,role:"option",style:{transform:`translate(${p}px, ${h+(Tl-ss)/2}px`},ownerState:l},a,{children:o}))}const nY=({ampm:n,date:e,getClockNumberText:t,isDisabled:r,selectedId:i,utils:o})=>{const s=e?o.getHours(e):null,a=[],l=n?1:0,c=n?12:23,f=p=>s===null?!1:n?p===12?s===12||s===0:s===p||s-12===p:s===p;for(let p=l;p<=c;p+=1){let h=p.toString();p===0&&(h="00");const m=!n&&(p===0||p>12);h=o.formatNumber(h);const y=f(p);a.push(x.jsx(UT,{id:y?i:void 0,index:p,inner:m,selected:y,disabled:r(p),label:h,"aria-label":t(h)},p))}return a},kC=({utils:n,value:e,isDisabled:t,getClockNumberText:r,selectedId:i})=>{const o=n.formatNumber;return[[5,o("05")],[10,o("10")],[15,o("15")],[20,o("20")],[25,o("25")],[30,o("30")],[35,o("35")],[40,o("40")],[45,o("45")],[50,o("50")],[55,o("55")],[0,o("00")]].map(([s,a],l)=>{const c=s===e;return x.jsx(UT,{label:a,id:c?i:void 0,index:l+1,inner:!1,disabled:t(s),selected:c,"aria-label":r(a)},s)})},rY=["children","className","components","componentsProps","isLeftDisabled","isLeftHidden","isRightDisabled","isRightHidden","leftArrowButtonText","onLeftClick","onRightClick","rightArrowButtonText"],_d=Cn("MuiPickersArrowSwitcher",["root","spacer","button"]),iY=Ve("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex"}),oY=Ve("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(n,e)=>e.spacer})(({theme:n})=>({width:n.spacing(3)})),MC=Ve(vs,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(n,e)=>e.button})(({ownerState:n})=>le({},n.hidden&&{visibility:"hidden"})),VT=v.forwardRef(function(e,t){const{children:r,className:i,components:o,componentsProps:s,isLeftDisabled:a,isLeftHidden:l,isRightDisabled:c,isRightHidden:f,leftArrowButtonText:p,onLeftClick:h,onRightClick:m,rightArrowButtonText:y}=e,b=Pt(e,rY),S=$l().direction==="rtl",k=(s==null?void 0:s.leftArrowButton)||{},T=(o==null?void 0:o.LeftArrowIcon)||wq,R=(s==null?void 0:s.rightArrowButton)||{},O=(o==null?void 0:o.RightArrowIcon)||Cq,M=e;return x.jsxs(iY,le({ref:t,className:Zn(_d.root,i),ownerState:M},b,{children:[x.jsx(MC,le({as:o==null?void 0:o.LeftArrowButton,size:"small","aria-label":p,title:p,disabled:a,edge:"end",onClick:h},k,{className:Zn(_d.button,k.className),ownerState:le({},M,k,{hidden:l}),children:S?x.jsx(O,{}):x.jsx(T,{})})),r?x.jsx(fs,{variant:"subtitle1",component:"span",children:r}):x.jsx(oY,{className:_d.spacer,ownerState:M}),x.jsx(MC,le({as:o==null?void 0:o.RightArrowButton,size:"small","aria-label":y,title:y,edge:"start",disabled:c,onClick:m},R,{className:Zn(_d.button,R.className),ownerState:le({},M,R,{hidden:f}),children:S?x.jsx(T,{}):x.jsx(O,{})}))]}))}),sY=(n,e)=>n?e.getHours(n)>=12?"pm":"am":null,rv=(n,e,t)=>t&&(n>=12?"pm":"am")!==e?e==="am"?n-12:n+12:n,aY=(n,e,t,r)=>{const i=rv(r.getHours(n),e,t);return r.setHours(n,i)},EC=(n,e)=>e.getHours(n)*3600+e.getMinutes(n)*60+e.getSeconds(n),GT=(n=!1,e)=>(t,r)=>n?e.isAfter(t,r):EC(t,e)>EC(r,e);function lY(n,{disableFuture:e,maxDate:t}){const r=_n();return v.useMemo(()=>{const i=r.date(),o=r.startOfMonth(e&&r.isBefore(i,t)?i:t);return!r.isAfter(o,n)},[e,t,n,r])}function uY(n,{disablePast:e,minDate:t}){const r=_n();return v.useMemo(()=>{const i=r.date(),o=r.startOfMonth(e&&r.isAfter(i,t)?i:t);return!r.isBefore(o,n)},[e,t,n,r])}function KT(n,e,t){const r=_n(),i=sY(n,r),o=v.useCallback(s=>{const a=n==null?null:aY(n,s,!!e,r);t(a,"partial")},[e,n,t,r]);return{meridiemMode:i,handleMeridiemChange:o}}function cY(n){return Or("MuiClockPicker",n)}Cn("MuiClockPicker",["root","arrowSwitcher"]);const iv=36,ry=2,qT=320,dY=358,iy=Ve("div")({overflowX:"hidden",width:qT,maxHeight:dY,display:"flex",flexDirection:"column",margin:"0 auto"}),fY=n=>{const{classes:e}=n;return Lr({root:["root"],arrowSwitcher:["arrowSwitcher"]},cY,e)},pY=Ve(iy,{name:"MuiClockPicker",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexDirection:"column"}),hY=Ve(VT,{name:"MuiClockPicker",slot:"ArrowSwitcher",overridesResolver:(n,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),gY=WT(),mY=v.forwardRef(function(e,t){const r=Do({props:e,name:"MuiClockPicker"}),{ampm:i=!1,ampmInClock:o=!1,autoFocus:s,components:a,componentsProps:l,date:c,disableIgnoringDatePartForTimeValidation:f,getClockLabelText:p,getHoursClockNumberText:h,getMinutesClockNumberText:m,getSecondsClockNumberText:y,leftArrowButtonText:b,maxTime:w,minTime:S,minutesStep:k=1,rightArrowButtonText:T,shouldDisableTime:R,showViewSwitcher:O,onChange:M,view:L,views:D=["hours","minutes"],openTo:j,onViewChange:F,className:ie,disabled:W,readOnly:ne}=r;gY({leftArrowButtonText:b,rightArrowButtonText:T,getClockLabelText:p,getHoursClockNumberText:h,getMinutesClockNumberText:m,getSecondsClockNumberText:y});const z=zl(),X=b??z.openPreviousView,Z=T??z.openNextView,H=p??z.clockLabelText,he=h??z.hoursClockNumberText,_e=m??z.minutesClockNumberText,pe=y??z.secondsClockNumberText,{openView:te,setOpenView:ue,nextView:ve,previousView:se,handleChangeAndOpenNext:A}=ny({view:L,views:D,openTo:j,onViewChange:F,onChange:M}),N=Ac(),q=_n(),J=v.useMemo(()=>c||q.setSeconds(q.setMinutes(q.setHours(N,0),0),0),[c,N,q]),{meridiemMode:ee,handleMeridiemChange:Re}=KT(J,i,A),Te=v.useCallback((G,ke)=>{const ae=GT(f,q),xe=({start:Ae,end:Ie})=>!(S&&ae(S,Ie)||w&&ae(Ae,w)),Me=(Ae,Ie=1)=>Ae%Ie!==0?!1:R?!R(Ae,ke):!0;switch(ke){case"hours":{const Ae=rv(G,ee,i),Ie=q.setHours(J,Ae),Pe=q.setSeconds(q.setMinutes(Ie,0),0),Ee=q.setSeconds(q.setMinutes(Ie,59),59);return!xe({start:Pe,end:Ee})||!Me(Ae)}case"minutes":{const Ae=q.setMinutes(J,G),Ie=q.setSeconds(Ae,0),Pe=q.setSeconds(Ae,59);return!xe({start:Ie,end:Pe})||!Me(G,k)}case"seconds":{const Ae=q.setSeconds(J,G);return!xe({start:Ae,end:Ae})||!Me(G)}default:throw new Error("not supported")}},[i,J,f,w,ee,S,k,R,q]),Le=s0(),Be=v.useMemo(()=>{switch(te){case"hours":{const G=(ke,ae)=>{const xe=rv(ke,ee,i);A(q.setHours(J,xe),ae)};return{onChange:G,value:q.getHours(J),children:nY({date:c,utils:q,ampm:i,onChange:G,getClockNumberText:he,isDisabled:ke=>W||Te(ke,"hours"),selectedId:Le})}}case"minutes":{const G=q.getMinutes(J),ke=(ae,xe)=>{A(q.setMinutes(J,ae),xe)};return{value:G,onChange:ke,children:kC({utils:q,value:G,onChange:ke,getClockNumberText:_e,isDisabled:ae=>W||Te(ae,"minutes"),selectedId:Le})}}case"seconds":{const G=q.getSeconds(J),ke=(ae,xe)=>{A(q.setSeconds(J,ae),xe)};return{value:G,onChange:ke,children:kC({utils:q,value:G,onChange:ke,getClockNumberText:pe,isDisabled:ae=>W||Te(ae,"seconds"),selectedId:Le})}}default:throw new Error("You must provide the type for ClockView")}},[te,q,c,i,he,_e,pe,ee,A,J,Te,Le,W]),Fe=r,V=fY(Fe);return x.jsxs(pY,{ref:t,className:Zn(V.root,ie),ownerState:Fe,children:[O&&x.jsx(hY,{className:V.arrowSwitcher,leftArrowButtonText:X,rightArrowButtonText:Z,components:a,componentsProps:l,onLeftClick:()=>ue(se),onRightClick:()=>ue(ve),isLeftDisabled:!se,isRightDisabled:!ve,ownerState:Fe}),x.jsx(Qq,le({autoFocus:s,date:c,ampmInClock:o,type:te,ampm:i,getClockLabelText:H,minutesStep:k,isTimeDisabled:Te,meridiemMode:ee,handleMeridiemChange:Re,selectedId:Le,disabled:W,readOnly:ne},Be))]})}),vY=["disabled","onSelect","selected","value"],ov=Cn("PrivatePickersMonth",["root","selected"]),yY=Ve(fs)(({theme:n})=>le({flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",color:"unset",backgroundColor:"transparent",border:0,outline:0},n.typography.subtitle1,{margin:"8px 0",height:36,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:mf(n.palette.action.active,n.palette.action.hoverOpacity)},"&:disabled":{pointerEvents:"none",color:n.palette.text.secondary},[`&.${ov.selected}`]:{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.main,"&:focus, &:hover":{backgroundColor:n.palette.primary.dark}}})),bY=n=>{const{disabled:e,onSelect:t,selected:r,value:i}=n,o=Pt(n,vY),s=()=>{t(i)};return x.jsx(yY,le({component:"button",type:"button",className:Zn(ov.root,r&&ov.selected),tabIndex:e?-1:0,onClick:s,onKeyDown:BT(s),color:r?"primary":void 0,variant:r?"h5":"subtitle1",disabled:e},o))};function xY(n){return Or("MuiMonthPicker",n)}Cn("MuiMonthPicker",["root"]);const wY=["className","date","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly"],CY=n=>{const{classes:e}=n;return Lr({root:["root"]},xY,e)},SY=Ve("div",{name:"MuiMonthPicker",slot:"Root",overridesResolver:(n,e)=>e.root})({width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch",margin:"0 4px"}),kY=v.forwardRef(function(e,t){const r=_n(),i=Ac(),o=Kp(),s=Do({props:e,name:"MuiMonthPicker"}),{className:a,date:l,disabled:c,disableFuture:f,disablePast:p,maxDate:h=o.maxDate,minDate:m=o.minDate,onChange:y,shouldDisableMonth:b,readOnly:w}=s,S=Pt(s,wY),k=s,T=CY(k),R=l??i,O=r.getMonth(R),M=D=>{const j=r.startOfMonth(p&&r.isAfter(i,m)?i:m),F=r.startOfMonth(f&&r.isBefore(i,h)?i:h);return r.isBefore(D,j)||r.isAfter(D,F)?!0:b?b(D):!1},L=D=>{if(w)return;const j=r.setMonth(R,D);y(j,"finish")};return x.jsx(SY,le({ref:t,className:Zn(T.root,a),ownerState:k},S,{children:r.getMonthArray(R).map(D=>{const j=r.getMonth(D),F=r.format(D,"monthShort");return x.jsx(bY,{value:j,selected:j===O,onSelect:L,disabled:c||M(D),children:F},F)})}))});function YT(n,e,t){const{value:r,onError:i}=n,o=Tc(),s=v.useRef(null),a=e({adapter:o,value:r,props:n});return v.useEffect(()=>{i&&!t(a,s.current)&&i(a,r),s.current=a},[t,i,s,a,r]),a}const JT=({props:n,value:e,adapter:t})=>{const r=t.utils.date(),i=t.utils.date(e),{shouldDisableDate:o,minDate:s=t.defaultDates.minDate,maxDate:a=t.defaultDates.maxDate,disableFuture:l,disablePast:c}=n;if(i===null)return null;switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(o&&o(i)):return"shouldDisableDate";case!!(l&&t.utils.isAfterDay(i,r)):return"disableFuture";case!!(c&&t.utils.isBeforeDay(i,r)):return"disablePast";case!!(s&&t.utils.isBeforeDay(i,s)):return"minDate";case!!(a&&t.utils.isAfterDay(i,a)):return"maxDate";default:return null}},ZT=({shouldDisableDate:n,minDate:e,maxDate:t,disableFuture:r,disablePast:i})=>{const o=Tc();return v.useCallback(s=>JT({adapter:o,value:s,props:{shouldDisableDate:n,minDate:e,maxDate:t,disableFuture:r,disablePast:i}})!==null,[o,n,e,t,r,i])},MY=(n,e)=>n===e,EY=n=>YT(n,JT,MY),TY=(n,e,t)=>(r,i)=>{switch(i.type){case"changeMonth":return le({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!n});case"finishMonthSwitchingAnimation":return le({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&i.focusedDay!=null&&t.isSameDay(i.focusedDay,r.focusedDay))return r;const o=i.focusedDay!=null&&!e&&!t.isSameMonth(r.currentMonth,i.focusedDay);return le({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:o&&!n,currentMonth:o?t.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:i.focusedDay!=null&&t.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},AY=({date:n,defaultCalendarMonth:e,disableFuture:t,disablePast:r,disableSwitchToMonthOnDayFocus:i=!1,maxDate:o,minDate:s,onMonthChange:a,reduceAnimations:l,shouldDisableDate:c})=>{var f;const p=Ac(),h=_n(),m=v.useRef(TY(!!l,i,h)).current,[y,b]=v.useReducer(m,{isMonthSwitchingAnimating:!1,focusedDay:n||p,currentMonth:h.startOfMonth((f=n??e)!=null?f:p),slideDirection:"left"}),w=v.useCallback(O=>{b(le({type:"changeMonth"},O)),a&&a(O.newMonth)},[a]),S=v.useCallback(O=>{const M=O??p;h.isSameMonth(M,y.currentMonth)||w({newMonth:h.startOfMonth(M),direction:h.isAfterDay(M,y.currentMonth)?"left":"right"})},[y.currentMonth,w,p,h]),k=ZT({shouldDisableDate:c,minDate:s,maxDate:o,disableFuture:t,disablePast:r}),T=v.useCallback(()=>{b({type:"finishMonthSwitchingAnimation"})},[]),R=v.useCallback(O=>{k(O)||b({type:"changeFocusedDay",focusedDay:O})},[k]);return{calendarState:y,changeMonth:S,changeFocusedDay:R,isDateDisabled:k,onMonthSwitchingAnimationEnd:T,handleChangeMonth:w}},OY=Cn("PrivatePickersFadeTransitionGroup",["root"]),TC=500,LY=Ve(hE)({display:"block",position:"relative"}),XT=({children:n,className:e,reduceAnimations:t,transKey:r})=>t?n:x.jsx(LY,{className:Zn(OY.root,e),children:x.jsx(oE,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:TC,enter:TC/2,exit:0},children:n},r)});function RY(n){return Or("MuiPickersDay",n)}const $d=Cn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),PY=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDayFocus","onDaySelect","onFocus","onKeyDown","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today"],IY=n=>{const{selected:e,disableMargin:t,disableHighlightToday:r,today:i,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:s,classes:a}=n;return Lr({root:["root",e&&"selected",!t&&"dayWithMargin",!r&&i&&"today",o&&s&&"dayOutsideMonth"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},RY,a)},QT=({theme:n,ownerState:e})=>le({},n.typography.caption,{width:iv,height:iv,borderRadius:"50%",padding:0,backgroundColor:n.palette.background.paper,color:n.palette.text.primary,"&:hover":{backgroundColor:mf(n.palette.action.active,n.palette.action.hoverOpacity)},"&:focus":{backgroundColor:mf(n.palette.action.active,n.palette.action.hoverOpacity),[`&.${$d.selected}`]:{willChange:"background-color",backgroundColor:n.palette.primary.dark}},[`&.${$d.selected}`]:{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.main,fontWeight:n.typography.fontWeightMedium,transition:n.transitions.create("background-color",{duration:n.transitions.duration.short}),"&:hover":{willChange:"background-color",backgroundColor:n.palette.primary.dark}},[`&.${$d.disabled}`]:{color:n.palette.text.disabled}},!e.disableMargin&&{margin:`0 ${ry}px`},e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&{color:n.palette.text.secondary},!e.disableHighlightToday&&e.today&&{[`&:not(.${$d.selected})`]:{border:`1px solid ${n.palette.text.secondary}`}}),eA=(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableMargin&&e.dayWithMargin,!t.disableHighlightToday&&t.today&&e.today,!t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,t.outsideCurrentMonth&&!t.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},DY=Ve(pE,{name:"MuiPickersDay",slot:"Root",overridesResolver:eA})(QT),_Y=Ve("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:eA})(({theme:n,ownerState:e})=>le({},QT({theme:n,ownerState:e}),{visibility:"hidden"})),$Y=()=>{},NY=v.forwardRef(function(e,t){const r=Do({props:e,name:"MuiPickersDay"}),{autoFocus:i=!1,className:o,day:s,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:f,onClick:p,onDayFocus:h=$Y,onDaySelect:m,onFocus:y,onKeyDown:b,outsideCurrentMonth:w,selected:S=!1,showDaysOutsideCurrentMonth:k=!1,children:T,today:R=!1}=r,O=Pt(r,PY),M=le({},r,{autoFocus:i,disabled:a,disableHighlightToday:l,disableMargin:c,selected:S,showDaysOutsideCurrentMonth:k,today:R}),L=IY(M),D=_n(),j=v.useRef(null),F=Lo(j,t);a0(()=>{i&&!a&&!f&&!w&&j.current.focus()},[i,a,f,w]);const ie=X=>{h&&h(s),y&&y(X)},W=X=>{a||m(s,"finish"),p&&p(X)},ne=$l();function z(X){switch(b!==void 0&&b(X),X.key){case"ArrowUp":h(D.addDays(s,-7)),X.preventDefault();break;case"ArrowDown":h(D.addDays(s,7)),X.preventDefault();break;case"ArrowLeft":h(D.addDays(s,ne.direction==="ltr"?-1:1)),X.preventDefault();break;case"ArrowRight":h(D.addDays(s,ne.direction==="ltr"?1:-1)),X.preventDefault();break;case"Home":h(D.startOfWeek(s)),X.preventDefault();break;case"End":h(D.endOfWeek(s)),X.preventDefault();break;case"PageUp":h(D.getNextMonth(s)),X.preventDefault();break;case"PageDown":h(D.getPreviousMonth(s)),X.preventDefault();break}}return w&&!k?x.jsx(_Y,{className:Zn(L.root,L.hiddenDaySpacingFiller,o),ownerState:M}):x.jsx(DY,le({className:Zn(L.root,o),ownerState:M,ref:F,centerRipple:!0,disabled:a,"aria-label":T?void 0:D.format(s,"fullDate"),tabIndex:S?0:-1,onFocus:ie,onKeyDown:z,onClick:W},O,{children:T||D.format(s,"dayOfMonth")}))}),FY=(n,e)=>n.autoFocus===e.autoFocus&&n.isAnimating===e.isAnimating&&n.today===e.today&&n.disabled===e.disabled&&n.selected===e.selected&&n.disableMargin===e.disableMargin&&n.showDaysOutsideCurrentMonth===e.showDaysOutsideCurrentMonth&&n.disableHighlightToday===e.disableHighlightToday&&n.className===e.className&&n.outsideCurrentMonth===e.outsideCurrentMonth&&n.onDayFocus===e.onDayFocus&&n.onDaySelect===e.onDaySelect,BY=v.memo(NY,FY),jY=["children","className","reduceAnimations","slideDirection","transKey"],Si=Cn("PrivatePickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),tA=350,zY=Ve(hE)(({theme:n})=>{const e=n.transitions.create("transform",{duration:tA,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Si["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Si["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Si.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Si.slideExit}`]:{transform:"translate(0%)"},[`& .${Si["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Si["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}}),HY=n=>{let{children:e,className:t,reduceAnimations:r,slideDirection:i,transKey:o}=n,s=Pt(n,jY);if(r)return x.jsx("div",{className:Zn(Si.root,t),children:e});const a={exit:Si.slideExit,enterActive:Si.slideEnterActive,enter:Si[`slideEnter-${i}`],exitActive:Si[`slideExitActiveLeft-${i}`]};return x.jsx(zY,{className:Zn(Si.root,t),childFactory:l=>v.cloneElement(l,{classNames:a}),children:x.jsx(m0,le({mountOnEnter:!0,unmountOnExit:!0,timeout:tA,classNames:a},s,{children:e}),o)})},nA=(iv+ry*2)*6,WY=Ve("div")({display:"flex",justifyContent:"center",alignItems:"center"}),UY=Ve(fs)(({theme:n})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:n.palette.text.secondary})),VY=Ve("div")({display:"flex",justifyContent:"center",alignItems:"center",minHeight:nA}),GY=Ve(HY)({minHeight:nA}),KY=Ve("div")({overflow:"hidden"}),qY=Ve("div")({margin:`${ry}px 0`,display:"flex",justifyContent:"center"});function YY(n){const e=Ac(),t=_n(),{autoFocus:r,onFocusedDayChange:i,className:o,currentMonth:s,selectedDays:a,disabled:l,disableHighlightToday:c,focusedDay:f,isMonthSwitchingAnimating:p,loading:h,onSelectedDaysChange:m,onMonthSwitchingAnimationEnd:y,readOnly:b,reduceAnimations:w,renderDay:S,renderLoading:k=()=>x.jsx("span",{children:"..."}),showDaysOutsideCurrentMonth:T,slideDirection:R,TransitionProps:O,disablePast:M,disableFuture:L,minDate:D,maxDate:j,shouldDisableDate:F}=n,ie=ZT({shouldDisableDate:F,minDate:D,maxDate:j,disablePast:M,disableFuture:L}),W=v.useCallback((H,he="finish")=>{b||m(H,he)},[m,b]),ne=t.getMonth(s),z=a.filter(H=>!!H).map(H=>t.startOfDay(H)),X=ne,Z=v.useMemo(()=>v.createRef(),[X]);return x.jsxs(v.Fragment,{children:[x.jsx(WY,{children:t.getWeekdays().map((H,he)=>x.jsx(UY,{"aria-hidden":!0,variant:"caption",children:H.charAt(0).toUpperCase()},H+he.toString()))}),h?x.jsx(VY,{children:k()}):x.jsx(GY,le({transKey:X,onExited:y,reduceAnimations:w,slideDirection:R,className:o},O,{nodeRef:Z,children:x.jsx(KY,{ref:Z,role:"grid",children:t.getWeekArray(s).map(H=>x.jsx(qY,{role:"row",children:H.map(he=>{const _e={key:he==null?void 0:he.toString(),day:he,isAnimating:p,disabled:l||ie(he),autoFocus:r&&f!==null&&t.isSameDay(he,f),today:t.isSameDay(he,e),outsideCurrentMonth:t.getMonth(he)!==ne,selected:z.some(pe=>t.isSameDay(pe,he)),disableHighlightToday:c,showDaysOutsideCurrentMonth:T,onDayFocus:i,onDaySelect:W};return S?S(he,z,_e):x.jsx("div",{role:"cell",children:x.jsx(BY,le({},_e))},_e.key)})},`week-${H[0]}`))})}))]})}const JY=Ve("div")({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),ZY=Ve("div")(({theme:n})=>le({display:"flex",maxHeight:30,overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},n.typography.body1,{fontWeight:n.typography.fontWeightMedium})),XY=Ve("div")({marginRight:6}),QY=Ve(vs)({marginRight:"auto"}),eJ=Ve(xq)(({theme:n,ownerState:e})=>le({willChange:"transform",transition:n.transitions.create("transform"),transform:"rotate(0deg)"},e.openView==="year"&&{transform:"rotate(180deg)"})),tJ=WT();function nJ(n){const{components:e={},componentsProps:t={},currentMonth:r,disabled:i,disableFuture:o,disablePast:s,getViewSwitchingButtonText:a,leftArrowButtonText:l,maxDate:c,minDate:f,onMonthChange:p,onViewChange:h,openView:m,reduceAnimations:y,rightArrowButtonText:b,views:w}=n;tJ({leftArrowButtonText:l,rightArrowButtonText:b,getViewSwitchingButtonText:a});const S=zl(),k=l??S.previousMonth,T=b??S.nextMonth,R=a??S.calendarViewSwitchingButtonAriaLabel,O=_n(),M=t.switchViewButton||{},L=()=>p(O.getNextMonth(r),"left"),D=()=>p(O.getPreviousMonth(r),"right"),j=lY(r,{disableFuture:o,maxDate:c}),F=uY(r,{disablePast:s,minDate:f}),ie=()=>{if(!(w.length===1||!h||i))if(w.length===2)h(w.find(ne=>ne!==m)||w[0]);else{const ne=w.indexOf(m)!==0?0:1;h(w[ne])}};if(w.length===1&&w[0]==="year")return null;const W=n;return x.jsxs(JY,{ownerState:W,children:[x.jsxs(ZY,{role:"presentation",onClick:ie,ownerState:W,children:[x.jsx(XT,{reduceAnimations:y,transKey:O.format(r,"monthAndYear"),children:x.jsx(XY,{"aria-live":"polite",ownerState:W,children:O.format(r,"monthAndYear")})}),w.length>1&&!i&&x.jsx(QY,le({size:"small",as:e.SwitchViewButton,"aria-label":R(m)},M,{children:x.jsx(eJ,{as:e.SwitchViewIcon,ownerState:W})}))]}),x.jsx(oE,{in:m==="day",children:x.jsx(VT,{leftArrowButtonText:k,rightArrowButtonText:T,components:e,componentsProps:t,onLeftClick:D,onRightClick:L,isLeftDisabled:F,isRightDisabled:j})})]})}function rJ(n){return Or("PrivatePickersYear",n)}const AC=Cn("PrivatePickersYear",["root","modeMobile","modeDesktop","yearButton","disabled","selected"]),iJ=n=>{const{wrapperVariant:e,disabled:t,selected:r,classes:i}=n,o={root:["root",e&&`mode${mc(e)}`],yearButton:["yearButton",t&&"disabled",r&&"selected"]};return Lr(o,rJ,i)},oJ=Ve("div")(({ownerState:n})=>le({flexBasis:"33.3%",display:"flex",alignItems:"center",justifyContent:"center"},(n==null?void 0:n.wrapperVariant)==="desktop"&&{flexBasis:"25%"})),sJ=Ve("button")(({theme:n})=>le({color:"unset",backgroundColor:"transparent",border:0,outline:0},n.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:mf(n.palette.action.active,n.palette.action.hoverOpacity)},[`&.${AC.disabled}`]:{color:n.palette.text.secondary},[`&.${AC.selected}`]:{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.main,"&:focus, &:hover":{backgroundColor:n.palette.primary.dark}}})),aJ=v.forwardRef(function(e,t){const{autoFocus:r,className:i,children:o,disabled:s,onClick:a,onKeyDown:l,selected:c,value:f}=e,p=v.useRef(null),h=Lo(p,t),m=v.useContext(va),y=le({},e,{wrapperVariant:m}),b=iJ(y);return v.useEffect(()=>{r&&p.current.focus()},[r]),x.jsx(oJ,{className:Zn(b.root,i),ownerState:y,children:x.jsx(sJ,{ref:h,disabled:s,type:"button",tabIndex:c?0:-1,onClick:w=>a(w,f),onKeyDown:w=>l(w,f),className:b.yearButton,ownerState:y,children:o})})});function lJ(n){return Or("MuiYearPicker",n)}Cn("MuiYearPicker",["root"]);const uJ=n=>{const{classes:e}=n;return Lr({root:["root"]},lJ,e)},cJ=Ve("div",{name:"MuiYearPicker",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",margin:"0 4px"}),dJ=v.forwardRef(function(e,t){const r=Ac(),i=$l(),o=_n(),s=Kp(),a=Do({props:e,name:"MuiYearPicker"}),{autoFocus:l,className:c,date:f,disabled:p,disableFuture:h,disablePast:m,maxDate:y=s.maxDate,minDate:b=s.minDate,onChange:w,readOnly:S,shouldDisableYear:k}=a,T=a,R=uJ(T),O=f||r,M=o.getYear(O),L=v.useContext(va),D=v.useRef(null),[j,F]=v.useState(M),ie=v.useCallback(Z=>!!(m&&o.isBeforeYear(Z,r)||h&&o.isAfterYear(Z,r)||b&&o.isBeforeYear(Z,b)||y&&o.isAfterYear(Z,y)||k&&k(Z)),[h,m,y,b,r,k,o]),W=(Z,H,he="finish")=>{if(S)return;const _e=o.setYear(O,H);w(_e,he)},ne=v.useCallback(Z=>{ie(o.setYear(O,Z))||F(Z)},[O,ie,o]),z=L==="desktop"?4:3,X=(Z,H)=>{switch(Z.key){case"ArrowUp":ne(H-z),Z.preventDefault();break;case"ArrowDown":ne(H+z),Z.preventDefault();break;case"ArrowLeft":ne(H+(i.direction==="ltr"?-1:1)),Z.preventDefault();break;case"ArrowRight":ne(H+(i.direction==="ltr"?1:-1)),Z.preventDefault();break}};return x.jsx(cJ,{ref:t,className:Zn(R.root,c),ownerState:T,children:o.getYearRange(b,y).map(Z=>{const H=o.getYear(Z),he=H===M;return x.jsx(aJ,{selected:he,value:H,onClick:W,onKeyDown:X,autoFocus:l&&H===j,ref:he?D:void 0,disabled:p||ie(Z),children:o.format(Z,"year")},o.format(Z,"year"))})})}),fJ=typeof navigator<"u"&&/(android)/i.test(navigator.userAgent),pJ=n=>Or("MuiCalendarPicker",n);Cn("MuiCalendarPicker",["root","viewTransitionContainer"]);const hJ=["autoFocus","onViewChange","date","disableFuture","disablePast","defaultCalendarMonth","loading","onChange","onYearChange","onMonthChange","reduceAnimations","renderLoading","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate"],gJ=n=>{const{classes:e}=n;return Lr({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},pJ,e)},mJ=Ve(iy,{name:"MuiCalendarPicker",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexDirection:"column"}),vJ=Ve(XT,{name:"MuiCalendarPicker",slot:"ViewTransitionContainer",overridesResolver:(n,e)=>e.viewTransitionContainer})({overflowY:"auto"}),yJ=v.forwardRef(function(e,t){const r=_n(),i=Kp(),o=Do({props:e,name:"MuiCalendarPicker"}),{autoFocus:s,onViewChange:a,date:l,disableFuture:c,disablePast:f,defaultCalendarMonth:p,loading:h=!1,onChange:m,onYearChange:y,onMonthChange:b,reduceAnimations:w=fJ,renderLoading:S=()=>x.jsx("span",{children:"..."}),shouldDisableDate:k,shouldDisableMonth:T,shouldDisableYear:R,view:O,views:M=["year","day"],openTo:L="day",className:D,disabled:j,readOnly:F,minDate:ie=i.minDate,maxDate:W=i.maxDate}=o,ne=Pt(o,hJ),{openView:z,setOpenView:X,openNext:Z}=ny({view:O,views:M,openTo:L,onChange:m,onViewChange:a}),{calendarState:H,changeFocusedDay:he,changeMonth:_e,handleChangeMonth:pe,isDateDisabled:te,onMonthSwitchingAnimationEnd:ue}=AY({date:l,defaultCalendarMonth:p,reduceAnimations:w,onMonthChange:b,minDate:ie,maxDate:W,shouldDisableDate:k,disablePast:f,disableFuture:c}),ve=v.useCallback((Te,Le)=>{const Be=r.startOfMonth(Te),Fe=r.endOfMonth(Te),V=te(Te)?Fg({utils:r,date:Te,minDate:r.isBefore(ie,Be)?Be:ie,maxDate:r.isAfter(W,Fe)?Fe:W,disablePast:f,disableFuture:c,isDateDisabled:te}):Te;V?(m(V,Le),b==null||b(Be)):(Z(),_e(Be)),he(V)},[he,c,f,te,W,ie,m,b,_e,Z,r]),se=v.useCallback((Te,Le)=>{const Be=r.startOfYear(Te),Fe=r.endOfYear(Te),V=te(Te)?Fg({utils:r,date:Te,minDate:r.isBefore(ie,Be)?Be:ie,maxDate:r.isAfter(W,Fe)?Fe:W,disablePast:f,disableFuture:c,isDateDisabled:te}):Te;V?(m(V,Le),y==null||y(V)):(Z(),_e(Be)),he(V)},[he,c,f,te,W,ie,m,y,Z,r,_e]),A=v.useCallback((Te,Le)=>m(l&&Te?r.mergeDateAndTime(Te,l):Te,Le),[r,l,m]);v.useEffect(()=>{if(l&&te(l)){const Te=Fg({utils:r,date:l,minDate:ie,maxDate:W,disablePast:f,disableFuture:c,isDateDisabled:te});m(Te,"partial")}},[]),v.useEffect(()=>{l&&_e(l)},[l]);const N=o,q=gJ(N),J={disablePast:f,disableFuture:c,maxDate:W,minDate:ie},ee=j&&l||ie,Re=j&&l||W;return x.jsxs(mJ,{ref:t,className:Zn(q.root,D),ownerState:N,children:[x.jsx(nJ,le({},ne,{views:M,openView:z,currentMonth:H.currentMonth,onViewChange:X,onMonthChange:(Te,Le)=>pe({newMonth:Te,direction:Le}),minDate:ee,maxDate:Re,disabled:j,disablePast:f,disableFuture:c,reduceAnimations:w})),x.jsx(vJ,{reduceAnimations:w,className:q.viewTransitionContainer,transKey:z,ownerState:N,children:x.jsxs("div",{children:[z==="year"&&x.jsx(dJ,le({},ne,J,{autoFocus:s,date:l,onChange:se,shouldDisableYear:R,disabled:j,readOnly:F})),z==="month"&&x.jsx(kY,le({},J,{className:D,date:l,onChange:ve,disabled:j,readOnly:F,shouldDisableMonth:T})),z==="day"&&x.jsx(YY,le({},ne,H,J,{autoFocus:s,onMonthSwitchingAnimationEnd:ue,onFocusedDayChange:he,reduceAnimations:w,selectedDays:[l],onSelectedDaysChange:A,loading:h,renderLoading:S,disabled:j,readOnly:F,shouldDisableDate:k}))]})})]})}),bJ=n=>{const[,e]=v.useReducer(l=>l+1,0),t=v.useRef(null),{replace:r,append:i}=n,o=r?r(n.format(n.value)):n.format(n.value),s=v.useRef(!1),a=l=>{const c=l.target.value;t.current=[c,l.target,c.length>o.length,s.current,o===n.format(c)],e()};return v.useLayoutEffect(()=>{if(t.current==null)return;let[l,c,f,p,h]=t.current;t.current=null;const m=p&&h,b=l.slice(c.selectionStart).search(n.accept||/\d/g),w=b!==-1?b:0,S=M=>(M.match(n.accept||/\d/g)||[]).join(""),k=S(l.substr(0,c.selectionStart)),T=M=>{let L=0,D=0;for(let j=0;j!==k.length;++j){let F=M.indexOf(k[j],L)+1,ie=S(M).indexOf(k[j],D)+1;ie-D>1&&(F=L,ie=D),D=Math.max(ie,D),L=Math.max(L,F)}return L};if(n.mask===!0&&f&&!h){let M=T(l);const L=S(l.substr(M))[0];M=l.indexOf(L,M),l=`${l.substr(0,M)}${l.substr(M+1)}`}let R=n.format(l);i!=null&&c.selectionStart===l.length&&!h&&(f?R=i(R):S(R.slice(-1))===""&&(R=R.slice(0,-1)));const O=r?r(R):R;return o===O?e():n.onChange(O),()=>{let M=T(R);if(n.mask!=null&&(f||p&&!m))for(;R[M]&&S(R[M])==="";)M+=1;c.selectionStart=c.selectionEnd=M+(m?1+w:0)}}),v.useEffect(()=>{const l=f=>{f.code==="Delete"&&(s.current=!0)},c=f=>{f.code==="Delete"&&(s.current=!1)};return document.addEventListener("keydown",l),document.addEventListener("keyup",c),()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",c)}},[]),{value:t.current!=null?t.current[0]:o,onChange:a}},sv=(n,e,t)=>{const r=n.date(e);return e===null?"":n.isValid(r)?n.formatByString(r,t):""},Tf="_",rA="2019-11-21T22:30:00.000",iA="2019-01-01T09:00:00.000";function xJ(n,e,t,r){if(n)return n;const o=r.formatByString(r.date(iA),e).replace(t,Tf),s=r.formatByString(r.date(rA),e).replace(t,"_");return o===s?o:""}function wJ(n,e,t,r){if(!n)return!1;const o=r.formatByString(r.date(iA),e).replace(t,Tf),s=r.formatByString(r.date(rA),e).replace(t,"_"),a=s===o&&n===s;return!a&&r.lib,a}const CJ=(n,e)=>t=>{let r=0;return t.split("").map((i,o)=>{if(e.lastIndex=0,r>n.length-1)return"";const s=n[r],a=n[r+1],l=e.test(i)?i:"",c=s===Tf?l:s+l;return r+=c.length,o===t.length-1&&a&&a!==Tf?c?c+a:"":c}).join("")},SJ=({acceptRegex:n=/[\d]/gi,disabled:e,disableMaskedInput:t,ignoreInvalidInputs:r,inputFormat:i,inputProps:o,label:s,mask:a,onChange:l,rawValue:c,readOnly:f,rifmFormatter:p,TextFieldProps:h,validationError:m})=>{const y=_n(),b=y.getFormatHelperText(i),{shouldUseMaskedInput:w,maskToUse:S}=v.useMemo(()=>{if(t)return{shouldUseMaskedInput:!1,maskToUse:""};const W=xJ(a,i,n,y);return{shouldUseMaskedInput:wJ(W,i,n,y),maskToUse:W}},[n,t,i,a,y]),k=v.useMemo(()=>w&&S?CJ(S,n):W=>W,[n,S,w]),T=c===null?null:y.date(c),[R,O]=v.useState(T),[M,L]=v.useState(sv(y,c,i)),D=v.useRef();v.useEffect(()=>{const W=c!==D.current;if(D.current=c,!W)return;const ne=c===null?null:y.date(c);if(!(c===null||y.isValid(ne))||y.isEqual(R,ne))return;const X=sv(y,c,i);O(ne),L(X)},[y,c,i,R]);const j=W=>{const ne=W===""||W===a?"":W;L(ne);const z=ne===null?null:y.parse(ne,i);r&&!y.isValid(z)||(O(z),l(z,ne||void 0))},F=bJ({value:M,onChange:j,format:p||k});return le({label:s,disabled:e,error:m,inputProps:le({},w?F:{value:M,onChange:W=>{j(W.currentTarget.value)}},{disabled:e,placeholder:b,readOnly:f,type:w?"tel":"text"},o)},h)},kJ=["components","disableOpenPicker","getOpenDialogAriaText","InputAdornmentProps","InputProps","inputRef","openPicker","OpenPickerButtonProps","renderInput"],oy=v.forwardRef(function(e,t){const{components:r={},disableOpenPicker:i,getOpenDialogAriaText:o,InputAdornmentProps:s,InputProps:a,inputRef:l,openPicker:c,OpenPickerButtonProps:f,renderInput:p}=e,h=Pt(e,kJ),m=zl(),y=o??m.openDatePickerDialogue,b=_n(),w=SJ(h),S=(s==null?void 0:s.position)||"end",k=r.OpenPickerIcon||DT;return p(le({ref:t,inputRef:l},w,{InputProps:le({},a,{[`${S}Adornment`]:i?void 0:x.jsx(Ju,le({position:S},s,{children:x.jsx(vs,le({edge:S,disabled:h.disabled||h.readOnly,"aria-label":y(h.rawValue,b)},f,{onClick:c,children:x.jsx(k,{})}))}))})}))});function OC(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const MJ=(n,e)=>{const[t,r]=v.useState(OC);return a0(()=>{const o=()=>{r(OC())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),Bs(n,["hours","minutes","seconds"])?!1:(e||t)==="landscape"},EJ=["autoFocus","className","parsedValue","DateInputProps","isMobileKeyboardViewOpen","onDateChange","onViewChange","openTo","orientation","showToolbar","toggleMobileKeyboardView","ToolbarComponent","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],TJ=Ve("div")({padding:"16px 24px"}),AJ=Ve("div")(({ownerState:n})=>le({display:"flex",flexDirection:"column"},n.isLandscape&&{flexDirection:"row"})),OJ={fullWidth:!0},LC=n=>n==="year"||n==="month"||n==="day",RC=n=>n==="hours"||n==="minutes"||n==="seconds";function sy(n){const{autoFocus:e,parsedValue:t,DateInputProps:r,isMobileKeyboardViewOpen:i,onDateChange:o,onViewChange:s,openTo:a,orientation:l,showToolbar:c,toggleMobileKeyboardView:f,ToolbarComponent:p=()=>null,toolbarFormat:h,toolbarPlaceholder:m,toolbarTitle:y,views:b}=n,w=Pt(n,EJ),S=MJ(b,l),k=v.useContext(va),T=c??k!=="desktop",R=v.useCallback((j,F)=>{o(j,k,F)},[o,k]),O=v.useCallback(j=>{i&&f(),s&&s(j)},[i,s,f]),{openView:M,setOpenView:L,handleChangeAndOpenNext:D}=ny({view:void 0,views:b,openTo:a,onChange:R,onViewChange:O});return x.jsxs(AJ,{ownerState:{isLandscape:S},children:[T&&x.jsx(p,le({},w,{views:b,isLandscape:S,parsedValue:t,onChange:R,setOpenView:L,openView:M,toolbarTitle:y,toolbarFormat:h,toolbarPlaceholder:m,isMobileKeyboardViewOpen:i,toggleMobileKeyboardView:f})),x.jsx(iy,{children:i?x.jsx(TJ,{children:x.jsx(oy,le({},r,{ignoreInvalidInputs:!0,disableOpenPicker:!0,TextFieldProps:OJ}))}):x.jsxs(v.Fragment,{children:[LC(M)&&x.jsx(yJ,le({autoFocus:e,date:t,onViewChange:L,onChange:D,view:M,views:b.filter(LC)},w)),RC(M)&&x.jsx(mY,le({},w,{autoFocus:e,date:t,view:M,views:b.filter(RC),onChange:D,onViewChange:L,showViewSwitcher:k==="desktop"}))]})})]})}const LJ=({open:n,onOpen:e,onClose:t})=>{const r=v.useRef(typeof n=="boolean").current,[i,o]=v.useState(!1);v.useEffect(()=>{if(r){if(typeof n!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(n)}},[r,n]);const s=v.useCallback(a=>{r||o(a),a&&e&&e(),!a&&t&&t()},[r,e,t]);return{isOpen:i,setIsOpen:s}},ay=(n,e)=>{const{onAccept:t,onChange:r,value:i,closeOnSelect:o}=n,s=_n(),{isOpen:a,setIsOpen:l}=LJ(n),c=v.useMemo(()=>e.parseInput(s,i),[e,s,i]),[f,p]=v.useState(c),[h,m]=v.useState(()=>({committed:c,draft:c,resetFallback:c})),y=v.useCallback(M=>{m(L=>{switch(M.action){case"setAll":case"acceptAndClose":return{draft:M.value,committed:M.value,resetFallback:M.value};case"setCommitted":return le({},L,{draft:M.value,committed:M.value});case"setDraft":return le({},L,{draft:M.value});default:return L}}),!M.skipOnChangeCall&&!e.areValuesEqual(s,h.committed,M.value)&&r(M.value),M.action==="acceptAndClose"&&(l(!1),t&&!e.areValuesEqual(s,h.resetFallback,M.value)&&t(M.value))},[t,r,l,h,s,e]);v.useEffect(()=>{s.isValid(c)&&p(c)},[s,c]),v.useEffect(()=>{a&&y({action:"setAll",value:c,skipOnChangeCall:!0})},[a]),e.areValuesEqual(s,h.committed,c)||y({action:"setCommitted",value:c,skipOnChangeCall:!0});const b=v.useMemo(()=>({open:a,onClear:()=>{y({value:e.emptyValue,action:"acceptAndClose"})},onAccept:()=>{y({value:h.draft,action:"acceptAndClose"})},onDismiss:()=>{y({value:h.committed,action:"acceptAndClose"})},onCancel:()=>{y({value:h.resetFallback,action:"acceptAndClose"})},onSetToday:()=>{y({value:e.getTodayValue(s),action:"acceptAndClose"})}}),[y,a,s,h,e]),[w,S]=v.useState(!1),k=v.useMemo(()=>({parsedValue:h.draft,isMobileKeyboardViewOpen:w,toggleMobileKeyboardView:()=>S(!w),onDateChange:(M,L,D="partial")=>{switch(D){case"shallow":return y({action:"setDraft",value:M,skipOnChangeCall:!0});case"partial":return y({action:"setDraft",value:M});case"finish":return y(o??L==="desktop"?{value:M,action:"acceptAndClose"}:{value:M,action:"setCommitted"});default:throw new Error("MUI: Invalid selectionState passed to `onDateChange`")}}}),[y,w,h.draft,o]),T=v.useCallback((M,L)=>{const D=e.valueReducer?e.valueReducer(s,f,M):M;r(D,L)},[r,e,f,s]),R=v.useMemo(()=>({onChange:T,open:a,rawValue:i,openPicker:()=>l(!0)}),[T,a,i,l]),O={pickerProps:k,inputProps:R,wrapperProps:b};return v.useDebugValue(O,()=>({MuiPickerState:{dateState:h,other:O}})),O},RJ=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],PJ=v.forwardRef(function(e,t){const r=RK(e,"MuiDesktopDatePicker"),i=EY(r)!==null,{pickerProps:o,inputProps:s,wrapperProps:a}=ay(r,PK),{PopperProps:l,PaperProps:c,ToolbarComponent:f=Pq,TransitionComponent:p,components:h,componentsProps:m}=r,y=Pt(r,RJ),b=le({},s,y,{components:h,componentsProps:m,ref:t,validationError:i});return x.jsx(FT,le({},a,{DateInputProps:b,KeyboardDateInputComponent:oy,PopperProps:l,PaperProps:c,TransitionComponent:p,components:h,componentsProps:m,children:x.jsx(sy,le({},o,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:f,DateInputProps:b,components:h,componentsProps:m},y))}))}),IJ={"& .MuiPaper-root":{border:`2px solid ${K.newColors.grey2[100]}`,boxShadow:"0px 1px 5px rgba(26, 26, 26, 0.161)"},"& .MuiPickersDay-today":{color:`${K.newColors.realTeal[100]} !important`,border:"none !important",fontFamily:K.fontFamily,fontWeight:K.fontWeight.bold,backgroundColor:"transparent !important","&:hover":{color:K.newColors.realTeal[100],backgroundColor:`${K.colors.tealOpacity} !important`}},"& .MuiPickersDay-dayWithMargin":{color:K.newColors.almostBlack[100],fontFamily:K.fontFamily,"&:hover":{color:K.newColors.realTeal[100],backgroundColor:K.colors.tealOpacity,fontWeight:K.fontWeight.bold}},"& .MuiIconButton-edgeStart, .MuiIconButton-edgeEnd":{color:K.newColors.grey4[100]},"& .MuiPickersDay-root.Mui-selected":{backgroundColor:`${K.newColors.realTeal[100]} !important`,color:"#FFFF !important",fontWeight:K.fontWeight.bold,"&:hover":{color:"#FFFF !important",backgroundColor:`${K.newColors.realTeal[100]} !important`}},"& .MuiCalendarPicker-root > div:first-of-type":{marginBottom:"16px",paddingLeft:"16px",paddingRight:"16px"}},oA=ce.div`
	min-width: 0;

  	.MuiOutlinedInput-root {
		padding-right: 16px;

		& fieldset {
			border-radius: 0;
			border: ${({$isPickerOpen:n})=>n?`1px solid ${K.newColors.almostBlack[100]}`:K.borders.simplyGrey};
		}

		${({$disabled:n})=>n?`
			background-color: ${K.colors.disableBackground};
		`:`
			background-color: ${K.newColors.grey1[100]};
			&:hover {
				& fieldset {
					border-color: ${K.newColors.simplyGrey[100]};
				}
			}
		`}

		&.Mui-disabled fieldset.MuiOutlinedInput-notchedOutline{
			border-color: ${K.colors.disableBorder};
		}

		.MuiOutlinedInput-input {
			height: ${K.fieldSpecs.inputText.height};
			padding: ${K.fieldSpecs.inputText.padding};
		}

		&.Mui-focused fieldset {
			border-color: ${K.newColors.almostBlack[100]};
			border-width: 1px;
		}
  	}

	.MuiIconButton-root {
		color: ${({$isPickerOpen:n})=>n?K.newColors.almostBlack[100]:K.newColors.grey3[100]};
	}
`,DJ=ce(n0)`
	width: 100%;
`,_J=n=>{var h,m;const{fieldDef:e,onChange:t,value:r=null,onBlur:i,disabled:o,inputRef:s,id:a}=n,[l,c]=v.useState(!1),f=async()=>{c(!l),l&&i&&i()},p=y=>{var b;return x.jsx(DJ,{...y,id:a,onBlur:i,required:e.required,disabled:o,inputProps:{...y.inputProps,ref:s,placeholder:(b=e==null?void 0:e.inputSettings)==null?void 0:b.placeholder}})};return x.jsx(ET,{dateAdapter:ST,children:x.jsx(oA,{"data-testid":"date-picker-test-id",$isPickerOpen:l,$disabled:o,children:x.jsx(PJ,{renderInput:p,inputFormat:ml,value:r,onChange:t,onOpen:f,onClose:f,PopperProps:{sx:IJ},minDate:(h=e==null?void 0:e.inputSettings)==null?void 0:h.minDate,maxDate:(m=e==null?void 0:e.inputSettings)==null?void 0:m.maxDate,disabled:o})})})};function sA(n,e){var t;const r=Do({props:n,name:e}),i=_n(),o=(t=r.ampm)!=null?t:i.is12HourCycleInCurrentLocale(),a=zl().openTimePickerDialogue;return le({ampm:o,openTo:"hours",views:["hours","minutes"],acceptRegex:o?/[\dapAP]/gi:/\d/gi,disableMaskedInput:!1,getOpenDialogAriaText:a,inputFormat:o?i.formats.fullTime12h:i.formats.fullTime24h},r,{components:le({OpenPickerIcon:_T},r.components)})}const aA={emptyValue:null,parseInput:TT,getTodayValue:n=>n.date(),areValuesEqual:(n,e,t)=>n.isEqual(e,t),valueReducer:(n,e,t)=>!e||!n.isValid(t)?t:n.mergeDateAndTime(e,t)},$J=["className","selected","value"],lA=Cn("PrivatePickersToolbarText",["selected"]),NJ=Ve(fs)(({theme:n})=>({transition:n.transitions.create("color"),color:n.palette.text.secondary,[`&.${lA.selected}`]:{color:n.palette.text.primary}})),uA=v.forwardRef(function(e,t){const{className:r,selected:i,value:o}=e,s=Pt(e,$J);return x.jsx(NJ,le({ref:t,className:Zn(r,i&&lA.selected),component:"span"},s,{children:o}))}),FJ=["align","className","selected","typographyClassName","value","variant"],BJ=Ve(mu)({padding:0,minWidth:16,textTransform:"none"}),cu=v.forwardRef(function(e,t){const{align:r,className:i,selected:o,typographyClassName:s,value:a,variant:l}=e,c=Pt(e,FJ);return x.jsx(BJ,le({variant:"text",ref:t,className:i},c,{children:x.jsx(uA,{align:r,className:s,variant:l,value:a,selected:o})}))});function jJ(n){return Or("MuiTimePickerToolbar",n)}const zJ=Cn("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),HJ=["ampm","ampmInClock","parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","openView","setOpenView","toggleMobileKeyboardView","toolbarTitle","views","disabled","readOnly"],WJ=n=>{const{theme:e,isLandscape:t,classes:r}=n,i={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",t&&"hourMinuteLabelLandscape",e.direction==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",t&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return Lr(i,jJ,r)},UJ=Ve($T,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(n,e)=>e.root})({[`& .${bl.penIconButtonLandscape}`]:{marginTop:"auto"}}),VJ=Ve(uA,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(n,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),GJ=Ve("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(n,e)=>e.hourMinuteLabel})(({theme:n,ownerState:e})=>le({display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},e.isLandscape&&{marginTop:"auto"},n.direction==="rtl"&&{flexDirection:"row-reverse"})),KJ=Ve("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(n,e)=>e.ampmSelection})(({ownerState:n})=>le({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12},n.isLandscape&&{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},{[`& .${zJ.ampmLabel}`]:{fontSize:17}})),cA=n=>{const{ampm:e,ampmInClock:t,parsedValue:r,isLandscape:i,isMobileKeyboardViewOpen:o,onChange:s,openView:a,setOpenView:l,toggleMobileKeyboardView:c,toolbarTitle:f="Select time",views:p,disabled:h,readOnly:m}=n,y=Pt(n,HJ),b=_n(),w=$l(),S=!!(e&&!t),{meridiemMode:k,handleMeridiemChange:T}=KT(r,e,s),R=D=>e?b.format(D,"hours12h"):b.format(D,"hours24h"),O=n,M=WJ(le({},O,{theme:w})),L=x.jsx(VJ,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:M.separator});return x.jsxs(UJ,le({viewType:"clock",landscapeDirection:"row",toolbarTitle:f,isLandscape:i,isMobileKeyboardViewOpen:o,toggleMobileKeyboardView:c,ownerState:O,className:M.root},y,{children:[x.jsxs(GJ,{className:M.hourMinuteLabel,ownerState:O,children:[Bs(p,"hours")&&x.jsx(cu,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:a==="hours",value:r?R(r):"--"}),Bs(p,["hours","minutes"])&&L,Bs(p,"minutes")&&x.jsx(cu,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:a==="minutes",value:r?b.format(r,"minutes"):"--"}),Bs(p,["minutes","seconds"])&&L,Bs(p,"seconds")&&x.jsx(cu,{variant:"h3",onClick:()=>l("seconds"),selected:a==="seconds",value:r?b.format(r,"seconds"):"--"})]}),S&&x.jsxs(KJ,{className:M.ampmSelection,ownerState:O,children:[x.jsx(cu,{disableRipple:!0,variant:"subtitle2",selected:k==="am",typographyClassName:M.ampmLabel,value:b.getMeridiemText("am"),onClick:m?void 0:()=>T("am"),disabled:h}),x.jsx(cu,{disableRipple:!0,variant:"subtitle2",selected:k==="pm",typographyClassName:M.ampmLabel,value:b.getMeridiemText("pm"),onClick:m?void 0:()=>T("pm"),disabled:h})]})]}))},qJ=({adapter:n,value:e,props:t})=>{const{minTime:r,maxTime:i,minutesStep:o,shouldDisableTime:s,disableIgnoringDatePartForTimeValidation:a}=t,l=n.utils.date(e),c=GT(a,n.utils);if(e===null)return null;switch(!0){case!n.utils.isValid(e):return"invalidDate";case!!(r&&c(r,l)):return"minTime";case!!(i&&c(l,i)):return"maxTime";case!!(s&&s(n.utils.getHours(l),"hours")):return"shouldDisableTime-hours";case!!(s&&s(n.utils.getMinutes(l),"minutes")):return"shouldDisableTime-minutes";case!!(s&&s(n.utils.getSeconds(l),"seconds")):return"shouldDisableTime-seconds";case!!(o&&n.utils.getMinutes(l)%o!==0):return"minutesStep";default:return null}},YJ=(n,e)=>n===e,dA=n=>YT(n,qJ,YJ),JJ=["onChange","PaperProps","PopperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],ZJ=v.forwardRef(function(e,t){const r=sA(e,"MuiDesktopTimePicker"),i=dA(r)!==null,{pickerProps:o,inputProps:s,wrapperProps:a}=ay(r,aA),{PaperProps:l,PopperProps:c,ToolbarComponent:f=cA,TransitionComponent:p,components:h,componentsProps:m}=r,y=Pt(r,JJ),b=le({},s,y,{components:h,componentsProps:m,ref:t,validationError:i});return x.jsx(FT,le({},a,{DateInputProps:b,KeyboardDateInputComponent:oy,PopperProps:c,PaperProps:l,TransitionComponent:p,components:h,componentsProps:m,children:x.jsx(sy,le({},o,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:f,DateInputProps:b,components:h,componentsProps:m},y))}))}),XJ=Ve($F)({[`& .${sw.container}`]:{outline:0},[`& .${sw.paper}`]:{outline:0,minWidth:qT}}),QJ=Ve(NF)({"&:first-of-type":{padding:0}}),eZ=n=>{var e;const{children:t,DialogProps:r={},onAccept:i,onClear:o,onDismiss:s,onCancel:a,onSetToday:l,open:c,components:f,componentsProps:p}=n,h=(e=f==null?void 0:f.ActionBar)!=null?e:NT;return x.jsxs(XJ,le({open:c,onClose:s},r,{children:[x.jsx(QJ,{children:t}),x.jsx(h,le({onAccept:i,onClear:o,onCancel:a,onSetToday:l,actions:["cancel","accept"]},p==null?void 0:p.actionBar))]}))},tZ=["children","DateInputProps","DialogProps","onAccept","onClear","onDismiss","onCancel","onSetToday","open","PureDateInputComponent","components","componentsProps"];function nZ(n){const{children:e,DateInputProps:t,DialogProps:r,onAccept:i,onClear:o,onDismiss:s,onCancel:a,onSetToday:l,open:c,PureDateInputComponent:f,components:p,componentsProps:h}=n,m=Pt(n,tZ);return x.jsxs(va.Provider,{value:"mobile",children:[x.jsx(f,le({components:p},m,t)),x.jsx(eZ,{DialogProps:r,onAccept:i,onClear:o,onDismiss:s,onCancel:a,onSetToday:l,open:c,components:p,componentsProps:h,children:e})]})}const rZ=v.forwardRef(function(e,t){const{disabled:r,getOpenDialogAriaText:i,inputFormat:o,InputProps:s,inputRef:a,label:l,openPicker:c,rawValue:f,renderInput:p,TextFieldProps:h={},validationError:m}=e,y=zl(),b=i??y.openDatePickerDialogue,w=_n(),S=v.useMemo(()=>le({},s,{readOnly:!0}),[s]),k=sv(w,f,o);return p(le({label:l,disabled:r,ref:t,inputRef:a,error:m,InputProps:S,inputProps:le({disabled:r,readOnly:!0,"aria-readonly":!0,"aria-label":b(f,w),value:k},!e.readOnly&&{onClick:c},{onKeyDown:BT(c)})},h))}),iZ=["ToolbarComponent","value","onChange","components","componentsProps"],oZ=v.forwardRef(function(e,t){const r=sA(e,"MuiMobileTimePicker"),i=dA(r)!==null,{pickerProps:o,inputProps:s,wrapperProps:a}=ay(r,aA),{ToolbarComponent:l=cA,components:c,componentsProps:f}=r,p=Pt(r,iZ),h=le({},s,p,{components:c,componentsProps:f,ref:t,validationError:i});return x.jsx(nZ,le({},p,a,{DateInputProps:h,PureDateInputComponent:rZ,components:c,componentsProps:f,children:x.jsx(sy,le({},o,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:l,DateInputProps:h,components:c,componentsProps:f},p))}))}),sZ=["desktopModeMediaQuery","DialogProps","PopperProps","TransitionComponent"],aZ=v.forwardRef(function(e,t){const r=Do({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:i="@media (pointer: fine)",DialogProps:o,PopperProps:s,TransitionComponent:a}=r,l=Pt(r,sZ);return BF(i)?x.jsx(ZJ,le({ref:t,PopperProps:s,TransitionComponent:a},l)):x.jsx(oZ,le({ref:t,DialogProps:o},l))}),lZ=Z3({palette:{primary:{main:K.newColors.realTeal[100]}}}),fA=n=>{const{fieldDef:e,onChange:t,value:r=null,onBlur:i,disabled:o,inputRef:s,id:a}=n,[l,c]=v.useState(!1),f=v.useCallback(async()=>{c(h=>(h&&i&&i(),!h))},[i]),p=h=>{var m;return x.jsx(n0,{...h,id:a,onBlur:i,required:e.required,disabled:o,inputProps:{...h.inputProps,placeholder:(m=e==null?void 0:e.inputSettings)==null?void 0:m.placeholder,ref:s}})};return x.jsx(ET,{dateAdapter:ST,children:x.jsx(fB,{theme:lZ,children:x.jsx(oA,{$isPickerOpen:l,$disabled:o,children:x.jsx(aZ,{value:r,onChange:t,renderInput:p,onOpen:f,onClose:f,disabled:o})})})})},PC=ce.div`
	display: flex;
	flex-direction: column;
`,pA=ce.div`
	${({$hasTimeField:n})=>n&&`
		display: grid;
		grid-template-columns: repeat(1,minmax(0,1fr));
		gap: 24px 12px;

		${Rn("sm","FORM_COL")} {
			grid-template-columns: repeat(2,minmax(0,1fr));
		}
	`}
`;function uZ({showTime:n}){return x.jsxs(pA,{$hasTimeField:n,children:[x.jsx(kt,{variant:"rectangular",width:"100%",height:43}),n&&x.jsx(kt,{variant:"rectangular",width:"100%",height:43})]})}const cZ=n=>{const{fieldDef:e,onChange:t,value:r,onBlur:i,disabled:o,error:s,methods:a,inputRef:l,skeleton:c,id:f}=n,{inputSettings:{showTime:p,minDate:h,maxDate:m,defaultTime:y}={}}=e,b=v.useRef({date:!1,time:!1}),w=v.useRef(!1),S=v.useMemo(()=>r||{validDate:!1,validTime:!1},[r]),{addError:k,removeError:T}=yT({methods:a,name:e.name}),R=L=>async()=>{b.current[L]=!0,b.current.date&&(!p||b.current.time)&&i()},O=async(L,D)=>{const j=Wm(D,ml),F=L&&!D;if(p&&L&&!S.validTime?k(ja):T(ja),F||D&&j){T(Ig);const ie={...S,date:L,validDate:!0};if(!S.validTime&&y){T([vl,ja]);const W=Hm(new Date,v5(y));ie.time=W,ie.validTime=!0,w.current=!0}t(ie,{validate:!0})}else{D&&!j?k(Ig):T(Ig);const ie={...S,date:L,validDate:!1};w.current&&(ie.time=void 0,ie.validTime=!1),t(ie,{validate:!0})}},M=async(L,D)=>{const j=D!==void 0,F=Wm(D,fE);S.date&&!L?(T(vl),k(ja),t({...S,time:L,validTime:!1},{validate:!0})):j&&!F?(T(ja),k(vl),t({...S,time:L,validTime:!1},{validate:!0})):(w.current=!1,T([ja,vl]),t({...S,time:L,validTime:!!L},{validate:!0}))};return c?x.jsx(uZ,{showTime:p}):x.jsxs(pA,{$hasTimeField:p,children:[x.jsx(PC,{children:x.jsx(_J,{id:f,error:s,onChange:O,fieldDef:{name:e==null?void 0:e.name,label:"",type:"",inputSettings:{placeholder:cE,minDate:h,maxDate:m},required:e==null?void 0:e.required},value:S==null?void 0:S.date,onBlur:R("date"),disabled:o,inputRef:l})}),p&&x.jsx(PC,{children:x.jsx(fA,{id:`${e==null?void 0:e.name}-time`,error:s,onChange:M,fieldDef:{name:e==null?void 0:e.name,label:"",type:"timePicker",inputSettings:{placeholder:dE}},value:S==null?void 0:S.time,onBlur:R("time"),disabled:o})})]})},dZ=v.memo(cZ),fZ=n=>{const{fieldDef:e,onChange:t,value:r={validTime:!1},onBlur:i,disabled:o,error:s,methods:a,inputRef:l,id:c,skeleton:f}=n,{addError:p,removeError:h}=yT({methods:a,name:e.name}),m=async(y,b)=>{const w=b!==void 0,S=Wm(b,fE);if(w&&!S||!y){y&&p(vl),t({...r,time:y,validTime:!1});return}else h([vl]),t({...r,time:y,validTime:!0})};return f?x.jsx(kt,{variant:"rectangular",width:"100%",height:43}):x.jsx(fA,{id:c,error:s,onChange:m,fieldDef:{name:e==null?void 0:e.name,label:"",type:"timePicker",inputSettings:{placeholder:dE}},value:r==null?void 0:r.time,onBlur:i,disabled:o,inputRef:l})},pZ=v.memo(fZ);var hA={};(function(n){n.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},n.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},n.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},n.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},n.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},n.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},n.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},n.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},n.realToAlias=function(){var e=Object.prototype.hasOwnProperty,t=n.aliasToReal,r={};for(var i in t){var o=t[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),n.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},n.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},n.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(hA);var Bg,IC;function ly(){return IC||(IC=1,Bg={}),Bg}var Un=hA,hZ=ly(),DC=Array.prototype.push;function gZ(n,e){return e==2?function(t,r){return n.apply(void 0,arguments)}:function(t){return n.apply(void 0,arguments)}}function jg(n,e){return e==2?function(t,r){return n(t,r)}:function(t){return n(t)}}function _C(n){for(var e=n?n.length:0,t=Array(e);e--;)t[e]=n[e];return t}function mZ(n){return function(e){return n({},e)}}function vZ(n,e){return function(){for(var t=arguments.length,r=t-1,i=Array(t);t--;)i[t]=arguments[t];var o=i[e],s=i.slice(0,e);return o&&DC.apply(s,o),e!=r&&DC.apply(s,i.slice(e+1)),n.apply(this,s)}}function zg(n,e){return function(){var t=arguments.length;if(t){for(var r=Array(t);t--;)r[t]=arguments[t];var i=r[0]=e.apply(void 0,r);return n.apply(void 0,r),i}}}function av(n,e,t,r){var i=typeof e=="function",o=e===Object(e);if(o&&(r=t,t=e,e=void 0),t==null)throw new TypeError;r||(r={});var s={cap:"cap"in r?r.cap:!0,curry:"curry"in r?r.curry:!0,fixed:"fixed"in r?r.fixed:!0,immutable:"immutable"in r?r.immutable:!0,rearg:"rearg"in r?r.rearg:!0},a=i?t:hZ,l="curry"in r&&r.curry,c="fixed"in r&&r.fixed,f="rearg"in r&&r.rearg,p=i?t.runInContext():void 0,h=i?t:{ary:n.ary,assign:n.assign,clone:n.clone,curry:n.curry,forEach:n.forEach,isArray:n.isArray,isError:n.isError,isFunction:n.isFunction,isWeakMap:n.isWeakMap,iteratee:n.iteratee,keys:n.keys,rearg:n.rearg,toInteger:n.toInteger,toPath:n.toPath},m=h.ary,y=h.assign,b=h.clone,w=h.curry,S=h.forEach,k=h.isArray,T=h.isError,R=h.isFunction,O=h.isWeakMap,M=h.keys,L=h.rearg,D=h.toInteger,j=h.toPath,F=M(Un.aryMethod),ie={castArray:function(A){return function(){var N=arguments[0];return k(N)?A(_C(N)):A.apply(void 0,arguments)}},iteratee:function(A){return function(){var N=arguments[0],q=arguments[1],J=A(N,q),ee=J.length;return s.cap&&typeof q=="number"?(q=q>2?q-2:1,ee&&ee<=q?J:jg(J,q)):J}},mixin:function(A){return function(N){var q=this;if(!R(q))return A(q,Object(N));var J=[];return S(M(N),function(ee){R(N[ee])&&J.push([ee,q.prototype[ee]])}),A(q,Object(N)),S(J,function(ee){var Re=ee[1];R(Re)?q.prototype[ee[0]]=Re:delete q.prototype[ee[0]]}),q}},nthArg:function(A){return function(N){var q=N<0?1:D(N)+1;return w(A(N),q)}},rearg:function(A){return function(N,q){var J=q?q.length:0;return w(A(N,q),J)}},runInContext:function(A){return function(N){return av(n,A(N),r)}}};function W(A,N){if(s.cap){var q=Un.iterateeRearg[A];if(q)return pe(N,q);var J=!i&&Un.iterateeAry[A];if(J)return _e(N,J)}return N}function ne(A,N,q){return l||s.curry&&q>1?w(N,q):N}function z(A,N,q){if(s.fixed&&(c||!Un.skipFixed[A])){var J=Un.methodSpread[A],ee=J&&J.start;return ee===void 0?m(N,q):vZ(N,ee)}return N}function X(A,N,q){return s.rearg&&q>1&&(f||!Un.skipRearg[A])?L(N,Un.methodRearg[A]||Un.aryRearg[q]):N}function Z(A,N){N=j(N);for(var q=-1,J=N.length,ee=J-1,Re=b(Object(A)),Te=Re;Te!=null&&++q<J;){var Le=N[q],Be=Te[Le];Be!=null&&!(R(Be)||T(Be)||O(Be))&&(Te[Le]=b(q==ee?Be:Object(Be))),Te=Te[Le]}return Re}function H(A){return ve.runInContext.convert(A)(void 0)}function he(A,N){var q=Un.aliasToReal[A]||A,J=Un.remap[q]||q,ee=r;return function(Re){var Te=i?p:h,Le=i?p[J]:N,Be=y(y({},ee),Re);return av(Te,q,Le,Be)}}function _e(A,N){return te(A,function(q){return typeof q=="function"?jg(q,N):q})}function pe(A,N){return te(A,function(q){var J=N.length;return gZ(L(jg(q,J),N),J)})}function te(A,N){return function(){var q=arguments.length;if(!q)return A();for(var J=Array(q);q--;)J[q]=arguments[q];var ee=s.rearg?0:q-1;return J[ee]=N(J[ee]),A.apply(void 0,J)}}function ue(A,N,q){var J,ee=Un.aliasToReal[A]||A,Re=N,Te=ie[ee];return Te?Re=Te(N):s.immutable&&(Un.mutate.array[ee]?Re=zg(N,_C):Un.mutate.object[ee]?Re=zg(N,mZ(N)):Un.mutate.set[ee]&&(Re=zg(N,Z))),S(F,function(Le){return S(Un.aryMethod[Le],function(Be){if(ee==Be){var Fe=Un.methodSpread[ee],V=Fe&&Fe.afterRearg;return J=V?z(ee,X(ee,Re,Le),Le):X(ee,z(ee,Re,Le),Le),J=W(ee,J),J=ne(ee,J,Le),!1}}),!J}),J||(J=Re),J==N&&(J=l?w(J,1):function(){return N.apply(this,arguments)}),J.convert=he(ee,N),J.placeholder=N.placeholder=q,J}if(!o)return ue(e,t,a);var ve=t,se=[];return S(F,function(A){S(Un.aryMethod[A],function(N){var q=ve[Un.remap[N]||N];q&&se.push([N,ue(N,q,ve)])})}),S(M(ve),function(A){var N=ve[A];if(typeof N=="function"){for(var q=se.length;q--;)if(se[q][0]==A)return;N.convert=he(A,N),se.push([A,N])}}),S(se,function(A){ve[A[0]]=A[1]}),ve.convert=H,ve.placeholder=ve,S(M(ve),function(A){S(Un.realToAlias[A]||[],function(N){ve[N]=ve[A]})}),ve}var yZ=av,$C=E3,bZ=$C&&new $C,gA=bZ,xZ=KM,NC=gA,wZ=NC?function(n,e){return NC.set(n,e),n}:xZ,mA=wZ,CZ=Fp,SZ=Rp;function kZ(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=CZ(n.prototype),r=n.apply(t,e);return SZ(r)?r:t}}var qp=kZ,MZ=qp,EZ=yc,TZ=1;function AZ(n,e,t){var r=e&TZ,i=MZ(n);function o(){var s=this&&this!==EZ&&this instanceof o?i:n;return s.apply(r?t:this,arguments)}return o}var OZ=AZ,LZ=Math.max;function RZ(n,e,t,r){for(var i=-1,o=n.length,s=t.length,a=-1,l=e.length,c=LZ(o-s,0),f=Array(l+c),p=!r;++a<l;)f[a]=e[a];for(;++i<s;)(p||i<o)&&(f[t[i]]=n[i]);for(;c--;)f[a++]=n[i++];return f}var vA=RZ,PZ=Math.max;function IZ(n,e,t,r){for(var i=-1,o=n.length,s=-1,a=t.length,l=-1,c=e.length,f=PZ(o-a,0),p=Array(f+c),h=!r;++i<f;)p[i]=n[i];for(var m=i;++l<c;)p[m+l]=e[l];for(;++s<a;)(h||i<o)&&(p[m+t[s]]=n[i++]);return p}var yA=IZ;function DZ(n,e){for(var t=n.length,r=0;t--;)n[t]===e&&++r;return r}var _Z=DZ;function $Z(){}var uy=$Z,NZ=Fp,FZ=uy,BZ=4294967295;function Af(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=BZ,this.__views__=[]}Af.prototype=NZ(FZ.prototype);Af.prototype.constructor=Af;var cy=Af,FC=gA,jZ=T3,zZ=FC?function(n){return FC.get(n)}:jZ,bA=zZ,HZ={},WZ=HZ,BC=WZ,UZ=Object.prototype,VZ=UZ.hasOwnProperty;function GZ(n){for(var e=n.name+"",t=BC[e],r=VZ.call(BC,e)?t.length:0;r--;){var i=t[r],o=i.func;if(o==null||o==n)return i.name}return e}var KZ=GZ,qZ=Fp,YZ=uy;function Of(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}Of.prototype=qZ(YZ.prototype);Of.prototype.constructor=Of;var xA=Of,JZ=cy,ZZ=xA,XZ=Np;function QZ(n){if(n instanceof JZ)return n.clone();var e=new ZZ(n.__wrapped__,n.__chain__);return e.__actions__=XZ(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}var eX=QZ,tX=cy,jC=xA,nX=uy,rX=hc,iX=da,oX=eX,sX=Object.prototype,aX=sX.hasOwnProperty;function Lf(n){if(iX(n)&&!rX(n)&&!(n instanceof tX)){if(n instanceof jC)return n;if(aX.call(n,"__wrapped__"))return oX(n)}return new jC(n)}Lf.prototype=nX.prototype;Lf.prototype.constructor=Lf;var lX=Lf,uX=cy,cX=bA,dX=KZ,fX=lX;function pX(n){var e=dX(n),t=fX[e];if(typeof t!="function"||!(e in uX.prototype))return!1;if(n===t)return!0;var r=cX(t);return!!r&&n===r[0]}var hX=pX,gX=mA,mX=A3,vX=mX(gX),wA=vX,yX=/\{\n\/\* \[wrapped with (.+)\] \*/,bX=/,? & /;function xX(n){var e=n.match(yX);return e?e[1].split(bX):[]}var wX=xX,CX=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function SX(n,e){var t=e.length;if(!t)return n;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace(CX,`{
/* [wrapped with `+e+`] */
`)}var kX=SX,MX=S0,EX=O3,TX=1,AX=2,OX=8,LX=16,RX=32,PX=64,IX=128,DX=256,_X=512,$X=[["ary",IX],["bind",TX],["bindKey",AX],["curry",OX],["curryRight",LX],["flip",_X],["partial",RX],["partialRight",PX],["rearg",DX]];function NX(n,e){return MX($X,function(t){var r="_."+t[0];e&t[1]&&!EX(n,r)&&n.push(r)}),n.sort()}var FX=NX,BX=wX,jX=kX,zX=L3,HX=FX;function WX(n,e,t){var r=e+"";return zX(n,jX(r,HX(BX(r),t)))}var CA=WX,UX=hX,VX=wA,GX=CA,KX=1,qX=2,YX=4,JX=8,zC=32,HC=64;function ZX(n,e,t,r,i,o,s,a,l,c){var f=e&JX,p=f?s:void 0,h=f?void 0:s,m=f?o:void 0,y=f?void 0:o;e|=f?zC:HC,e&=~(f?HC:zC),e&YX||(e&=~(KX|qX));var b=[n,e,i,m,p,y,h,a,l,c],w=t.apply(void 0,b);return UX(n)&&VX(w,b),w.placeholder=r,GX(w,n,e)}var SA=ZX;function XX(n){var e=n;return e.placeholder}var kA=XX,QX=Np,eQ=R3,tQ=Math.min;function nQ(n,e){for(var t=n.length,r=tQ(e.length,t),i=QX(n);r--;){var o=e[r];n[r]=eQ(o,t)?i[o]:void 0}return n}var rQ=nQ,WC="__lodash_placeholder__";function iQ(n,e){for(var t=-1,r=n.length,i=0,o=[];++t<r;){var s=n[t];(s===e||s===WC)&&(n[t]=WC,o[i++]=t)}return o}var dy=iQ,oQ=vA,sQ=yA,aQ=_Z,UC=qp,lQ=SA,uQ=kA,cQ=rQ,dQ=dy,fQ=yc,pQ=1,hQ=2,gQ=8,mQ=16,vQ=128,yQ=512;function MA(n,e,t,r,i,o,s,a,l,c){var f=e&vQ,p=e&pQ,h=e&hQ,m=e&(gQ|mQ),y=e&yQ,b=h?void 0:UC(n);function w(){for(var S=arguments.length,k=Array(S),T=S;T--;)k[T]=arguments[T];if(m)var R=uQ(w),O=aQ(k,R);if(r&&(k=oQ(k,r,i,m)),o&&(k=sQ(k,o,s,m)),S-=O,m&&S<c){var M=dQ(k,R);return lQ(n,e,MA,w.placeholder,t,k,M,a,l,c-S)}var L=p?t:this,D=h?L[n]:n;return S=k.length,a?k=cQ(k,a):y&&S>1&&k.reverse(),f&&l<S&&(k.length=l),this&&this!==fQ&&this instanceof w&&(D=b||UC(D)),D.apply(L,k)}return w}var EA=MA,bQ=QM,xQ=qp,wQ=EA,CQ=SA,SQ=kA,kQ=dy,MQ=yc;function EQ(n,e,t){var r=xQ(n);function i(){for(var o=arguments.length,s=Array(o),a=o,l=SQ(i);a--;)s[a]=arguments[a];var c=o<3&&s[0]!==l&&s[o-1]!==l?[]:kQ(s,l);if(o-=c.length,o<t)return CQ(n,e,wQ,i.placeholder,void 0,s,c,void 0,void 0,t-o);var f=this&&this!==MQ&&this instanceof i?r:n;return bQ(f,this,s)}return i}var TQ=EQ,AQ=QM,OQ=qp,LQ=yc,RQ=1;function PQ(n,e,t,r){var i=e&RQ,o=OQ(n);function s(){for(var a=-1,l=arguments.length,c=-1,f=r.length,p=Array(f+l),h=this&&this!==LQ&&this instanceof s?o:n;++c<f;)p[c]=r[c];for(;l--;)p[c++]=arguments[++a];return AQ(h,i?t:this,p)}return s}var IQ=PQ,DQ=vA,_Q=yA,VC=dy,GC="__lodash_placeholder__",Hg=1,$Q=2,NQ=4,KC=8,du=128,qC=256,FQ=Math.min;function BQ(n,e){var t=n[1],r=e[1],i=t|r,o=i<(Hg|$Q|du),s=r==du&&t==KC||r==du&&t==qC&&n[7].length<=e[8]||r==(du|qC)&&e[7].length<=e[8]&&t==KC;if(!(o||s))return n;r&Hg&&(n[2]=e[2],i|=t&Hg?0:NQ);var a=e[3];if(a){var l=n[3];n[3]=l?DQ(l,a,e[4]):a,n[4]=l?VC(n[3],GC):e[4]}return a=e[5],a&&(l=n[5],n[5]=l?_Q(l,a,e[6]):a,n[6]=l?VC(n[5],GC):e[6]),a=e[7],a&&(n[7]=a),r&du&&(n[8]=n[8]==null?e[8]:FQ(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=i,n}var jQ=BQ,zQ=VF,YC=1/0,HQ=17976931348623157e292;function WQ(n){if(!n)return n===0?n:0;if(n=zQ(n),n===YC||n===-YC){var e=n<0?-1:1;return e*HQ}return n===n?n:0}var UQ=WQ,VQ=UQ;function GQ(n){var e=VQ(n),t=e%1;return e===e?t?e-t:e:0}var TA=GQ,KQ=mA,qQ=OZ,YQ=TQ,JQ=EA,ZQ=IQ,XQ=bA,QQ=jQ,eee=wA,tee=CA,JC=TA,nee="Expected a function",ZC=1,ree=2,Wg=8,Ug=16,Vg=32,XC=64,QC=Math.max;function iee(n,e,t,r,i,o,s,a){var l=e&ree;if(!l&&typeof n!="function")throw new TypeError(nee);var c=r?r.length:0;if(c||(e&=~(Vg|XC),r=i=void 0),s=s===void 0?s:QC(JC(s),0),a=a===void 0?a:JC(a),c-=i?i.length:0,e&XC){var f=r,p=i;r=i=void 0}var h=l?void 0:XQ(n),m=[n,e,t,r,i,f,p,o,s,a];if(h&&QQ(m,h),n=m[0],e=m[1],t=m[2],r=m[3],i=m[4],a=m[9]=m[9]===void 0?l?0:n.length:QC(m[9]-c,0),!a&&e&(Wg|Ug)&&(e&=~(Wg|Ug)),!e||e==ZC)var y=qQ(n,e,t);else e==Wg||e==Ug?y=YQ(n,e,a):(e==Vg||e==(ZC|Vg))&&!i.length?y=ZQ(n,e,t,r):y=JQ.apply(void 0,m);var b=h?KQ:eee;return tee(b(y,m),n,e)}var fy=iee,oee=fy,see=128;function aee(n,e,t){return e=t?void 0:e,e=n&&e==null?n.length:e,oee(n,see,void 0,void 0,void 0,void 0,e)}var lee=aee,uee=E0,cee=4;function dee(n){return uee(n,cee)}var fee=dee,pee=fy,hee=8;function py(n,e,t){e=t?void 0:e;var r=pee(n,hee,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=py.placeholder,r}py.placeholder={};var gee=py,mee=u0,vee=da,yee=PE,bee="[object DOMException]",xee="[object Error]";function wee(n){if(!vee(n))return!1;var e=mee(n);return e==xee||e==bee||typeof n.message=="string"&&typeof n.name=="string"&&!yee(n)}var Cee=wee,See=Ap,kee=da,Mee="[object WeakMap]";function Eee(n){return kee(n)&&See(n)==Mee}var Tee=Eee,Aee=E0,Oee=P3,Lee=1;function Ree(n){return Oee(typeof n=="function"?n:Aee(n,Lee))}var Pee=Ree,Iee=fy,Dee=EF,_ee=256,$ee=Dee(function(n,e){return Iee(n,_ee,void 0,void 0,void 0,e)}),Nee=$ee,Fee=I3,Bee=Np,jee=hc,zee=gF,Hee=D3,Wee=eE,Uee=_3;function Vee(n){return jee(n)?Fee(n,Wee):zee(n)?[n]:Bee(Hee(Uee(n)))}var Gee=Vee,Kee={ary:lee,assign:IE,clone:fee,curry:gee,forEach:S0,isArray:hc,isError:Cee,isFunction:$3,isWeakMap:Tee,iteratee:Pee,keys:N3,rearg:Nee,toInteger:TA,toPath:Gee},qee=yZ,Yee=Kee;function Jee(n,e,t){return qee(Yee,n,e,t)}var AA=Jee,Gg,eS;function Zee(){if(eS)return Gg;eS=1;var n=TF();function e(t,r,i){return t==null?t:n(t,r,i)}return Gg=e,Gg}var Xee=AA,OA=Xee("set",Zee());OA.placeholder=ly();var Qee=OA;const Zi=pc(Qee);var Kg,tS;function ete(){if(tS)return Kg;tS=1;function n(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+t];return s}return Kg=n,Kg}var qg,nS;function tte(){if(nS)return qg;nS=1;var n=F3,e=ete();function t(r,i){return i.length<2?r:n(r,e(i,0,-1))}return qg=t,qg}var Yg,rS;function nte(){if(rS)return Yg;rS=1;var n=B3,e=j3,t=tte(),r=eE;function i(o,s){return s=n(s,o),o=t(o,s),o==null||delete o[r(e(s))]}return Yg=i,Yg}var Jg,iS;function rte(){if(iS)return Jg;iS=1;var n=nte();function e(t,r){return t==null?!0:n(t,r)}return Jg=e,Jg}var ite=AA,LA=ite("unset",rte());LA.placeholder=ly();var ote=LA;const oS=pc(ote);function tc(){return{internalData:{},data:{},errors:{},disabled:!0,touched:{},submitWarning:{open:!1,lead:"",reasons:[]},waits:[],loadingInitial:!0}}function ste(){return{...tc(),initialData:{},fields:{},mounted:{},internalValidators:{},hasBlurred:{},hasSubmitted:!1,moveToError:!1,loadingInitial:!0}}function ate(n,e){switch(e.type){case"SET_FIELD_ERRORS":return{...n,errors:e.merge?{...n.errors,...e.errors}:e.errors};case"SET_FIELD_VALUES":return{...n,data:e.values,internalData:e.internalValues,touched:e.touched||n.touched,loadingInitial:e.loadingInitial!==void 0?e.loadingInitial:n.loadingInitial,disabled:e.disabled!==void 0?e.disabled:n.disabled};case"SET_FORM_WAITS":return{...n,waits:e.waits};case"RESET":return{...tc(),data:e.data,internalData:e.internalData,disabled:!1,loadingInitial:!1};case"FORM_DISABLE":return{...n,disabled:e.disabled,loadingInitial:e.loadingInitial!==void 0?e.loadingInitial:n.loadingInitial};case"FIELD_TOUCHED":return!!n.touched[e.name]===e.value?n:{...n,touched:{...n.touched,[e.name]:e.value}};case"FIELD_VALIDATE":return{...n,errors:{...n.errors,[e.name]:e.value}};case"FIELD_UNVALIDATE":return{...n,errors:{...n.errors,[e.name]:void 0}};case"FORM_START_DISABLE":return{...n,disabled:e.value};case"FORM_END_DISABLE":return{...n,disabled:e.value};case"FORM_RESET":return{...n,data:{},errors:{},disabled:!1};case"SET_SUBMIT_WARNING":return{...n,submitWarning:{...e}};default:return n}}function kl({stable:n,name:e,path:t}){let r=n;if(t){for(const i of t)if(r=r.fields[i],!r||!r.fields)throw new Error(`Field \`${e}\` is not registered with this form at path ${JSON.stringify(t)}.`)}if(!r.fields[e])throw new Error(`Field \`${e}\` is not registered with this form.`);return r.fields[e]}var re;(function(n){n.UK="UK",n.GB="GB",n.JE="JE",n.GG="GG",n.IM="IM",n.US="US",n.CA="CA",n.IE="IE",n.DE="DE",n.JP="JP",n.FR="FR",n.AU="AU",n.IT="IT",n.CH="CH",n.AT="AT",n.ES="ES",n.NL="NL",n.BE="BE",n.DK="DK",n.SE="SE",n.NO="NO",n.BR="BR",n.PT="PT",n.FI="FI",n.AX="AX",n.KR="KR",n.CN="CN",n.TW="TW",n.SG="SG",n.DZ="DZ",n.AD="AD",n.AR="AR",n.AM="AM",n.AZ="AZ",n.BH="BH",n.BD="BD",n.BB="BB",n.BY="BY",n.BM="BM",n.BA="BA",n.IO="IO",n.BN="BN",n.BG="BG",n.KH="KH",n.CV="CV",n.CL="CL",n.CR="CR",n.HR="HR",n.CY="CY",n.CZ="CZ",n.DO="DO",n.EC="EC",n.EG="EG",n.EE="EE",n.FO="FO",n.GE="GE",n.GR="GR",n.GL="GL",n.GT="GT",n.HT="HT",n.HN="HN",n.HU="HU",n.IS="IS",n.IN="IN",n.ID="ID",n.IL="IL",n.JO="JO",n.KZ="KZ",n.KE="KE",n.KW="KW",n.KY="KY",n.LA="LA",n.LV="LV",n.LB="LB",n.LI="LI",n.LT="LT",n.LU="LU",n.MK="MK",n.MY="MY",n.MV="MV",n.MT="MT",n.MU="MU",n.MX="MX",n.MD="MD",n.MC="MC",n.MA="MA",n.NP="NP",n.NZ="NZ",n.NI="NI",n.NG="NG",n.OM="OM",n.PA="PA",n.PK="PK",n.PY="PY",n.PH="PH",n.PL="PL",n.PR="PR",n.RO="RO",n.RU="RU",n.SM="SM",n.SA="SA",n.SN="SN",n.SK="SK",n.SI="SI",n.ZA="ZA",n.LK="LK",n.TJ="TJ",n.TH="TH",n.TN="TN",n.TR="TR",n.TM="TM",n.UA="UA",n.UY="UY",n.UZ="UZ",n.VA="VA",n.VE="VE",n.ZM="ZM",n.AS="AS",n.CC="CC",n.CK="CK",n.RS="RS",n.ME="ME",n.CS="CS",n.YU="YU",n.CX="CX",n.ET="ET",n.FK="FK",n.NF="NF",n.FM="FM",n.GF="GF",n.GN="GN",n.GP="GP",n.GS="GS",n.GU="GU",n.GW="GW",n.HM="HM",n.IQ="IQ",n.KG="KG",n.LR="LR",n.LS="LS",n.MG="MG",n.MH="MH",n.MN="MN",n.MP="MP",n.MQ="MQ",n.NC="NC",n.NE="NE",n.VI="VI",n.VN="VN",n.PF="PF",n.PG="PG",n.PM="PM",n.PN="PN",n.PW="PW",n.RE="RE",n.SH="SH",n.SJ="SJ",n.SO="SO",n.SZ="SZ",n.TC="TC",n.WF="WF",n.XK="XK",n.YT="YT",n.PE="PE",n.INTL="INTL",n.CO="CO"})(re||(re={}));const lv=new Map([[re.UK,/^([A-Z]){1}([0-9][0-9]|[0-9]|[A-Z][0-9][A-Z]|[A-Z][0-9][0-9]|[A-Z][0-9]|[0-9][A-Z]){1}([ ])?([0-9][A-z][A-z]){1}$/i],[re.GB,/^([A-Z]){1}([0-9][0-9]|[0-9]|[A-Z][0-9][A-Z]|[A-Z][0-9][0-9]|[A-Z][0-9]|[0-9][A-Z]){1}([ ])?([0-9][A-z][A-z]){1}$/i],[re.JE,/^JE\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[re.GG,/^GY\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[re.IM,/^IM\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[re.US,/^([0-9]{5})(?:-([0-9]{4}))?$/],[re.CA,/^([ABCEGHJKLMNPRSTVXY][0-9][ABCEGHJKLMNPRSTVWXYZ])\s*([0-9][ABCEGHJKLMNPRSTVWXYZ][0-9])$/i],[re.IE,/^([AC-FHKNPRTV-Y][0-9]{2}|D6W)[ -]?[0-9AC-FHKNPRTV-Y]{4}$/],[re.DE,/^\d{5}$/],[re.JP,/^\d{3}-\d{4}$/],[re.FR,/^\d{2}[ ]?\d{3}$/],[re.AU,/^\d{4}$/],[re.IT,/^\d{5}$/],[re.CH,/^\d{4}$/],[re.AT,/^(?!0)\d{4}$/],[re.ES,/^(?:0[1-9]|[1-4]\d|5[0-2])\d{3}$/],[re.NL,/^\d{4}[ ]?[A-Z]{2}$/],[re.BE,/^\d{4}$/],[re.DK,/^\d{4}$/],[re.SE,/^(SE-)?\d{3}[ ]?\d{2}$/],[re.NO,/^\d{4}$/],[re.BR,/^\d{5}[\-]?\d{3}$/],[re.PT,/^\d{4}([\-]\d{3})?$/],[re.FI,/^(FI-|AX-)?\d{5}$/],[re.AX,/^22\d{3}$/],[re.KR,/^\d{5}$/],[re.CN,/^\d{6}$/],[re.TW,/^\d{3}(\d{2,3})?$/],[re.SG,/^\d{6}$/],[re.DZ,/^\d{5}$/],[re.AD,/^AD\d{3}$/],[re.AR,/^([A-HJ-NP-Z])?\d{4}([A-Z]{3})?$/],[re.AM,/^(37)?\d{4}$/],[re.AZ,/^\d{4}$/],[re.BH,/^((1[0-2]|[2-9])\d{2})?$/],[re.BD,/^\d{4}$/],[re.BB,/^(BB\d{5})?$/],[re.BY,/^\d{6}$/],[re.BM,/^[A-Z]{2}[ ]?[A-Z0-9]{2}$/],[re.BA,/^\d{5}$/],[re.IO,/^BBND 1ZZ$/],[re.BN,/^[A-Z]{2}[ ]?\d{4}$/],[re.BG,/^\d{4}$/],[re.KH,/^\d{5}$/],[re.CV,/^\d{4}$/],[re.CL,/^\d{7}$/],[re.CR,/^(\d{4,5}|\d{3}-\d{4})$/],[re.HR,/^(HR-)?\d{5}$/],[re.CY,/^\d{4}$/],[re.CZ,/^\d{3}[ ]?\d{2}$/],[re.DO,/^\d{5}$/],[re.EC,/^([A-Z]\d{4}[A-Z]|(?:[A-Z]{2})?\d{6})?$/],[re.EG,/^\d{5}$/],[re.EE,/^\d{5}$/],[re.FO,/^\d{3}$/],[re.GE,/^\d{4}$/],[re.GR,/^\d{3}[ ]?\d{2}$/],[re.GL,/^39\d{2}$/],[re.GT,/^\d{5}$/],[re.HT,/^\d{4}$/],[re.HN,/^(?:\d{5})?$/],[re.HU,/^\d{4}$/],[re.IS,/^\d{3}$/],[re.IN,/^\d{6}$/],[re.ID,/^\d{5}$/],[re.IL,/^\d{5,7}$/],[re.JO,/^\d{5}$/],[re.KZ,/^\d{6}$/],[re.KE,/^\d{5}$/],[re.KW,/^\d{5}$/],[re.KY,/^KY[123]-\d{4}$/],[re.LA,/^\d{5}$/],[re.LV,/^(LV-)?\d{4}$/],[re.LB,/^(\d{4}([ ]?\d{4})?)?$/],[re.LI,/^(948[5-9])|(949[0-7])$/],[re.LT,/^(LT-)?\d{5}$/],[re.LU,/^(L-)?\d{4}$/],[re.MK,/^\d{4}$/],[re.MY,/^\d{5}$/],[re.MV,/^\d{5}$/],[re.MT,/^[A-Z]{3}[ ]?\d{2,4}$/],[re.MU,/^((\d|[A-Z])\d{4})?$/],[re.MX,/^\d{5}$/],[re.MD,/^\d{4}$/],[re.MC,/^980\d{2}$/],[re.MA,/^\d{5}$/],[re.NP,/^\d{5}$/],[re.NZ,/^\d{4}$/],[re.NI,/^((\d{4}-)?\d{3}-\d{3}(-\d{1})?)?$/],[re.NG,/^(\d{6})?$/],[re.OM,/^(PC )?\d{3}$/],[re.PA,/^\d{4}$/],[re.PK,/^\d{5}$/],[re.PY,/^\d{4}$/],[re.PH,/^\d{4}$/],[re.PL,/^\d{2}-\d{3}$/],[re.PR,/^00[679]\d{2}([ \-]\d{4})?$/],[re.RO,/^\d{6}$/],[re.RU,/^\d{6}$/],[re.SM,/^4789\d$/],[re.SA,/^\d{5}$/],[re.SN,/^\d{5}$/],[re.SK,/^\d{3}[ ]?\d{2}$/],[re.SI,/^(SI-)?\d{4}$/],[re.ZA,/^\d{4}$/],[re.LK,/^\d{5}$/],[re.TJ,/^\d{6}$/],[re.TH,/^\d{5}$/],[re.TN,/^\d{4}$/],[re.TR,/^\d{5}$/],[re.TM,/^\d{6}$/],[re.UA,/^\d{5}$/],[re.UY,/^\d{5}$/],[re.UZ,/^\d{6}$/],[re.VA,/^00120$/],[re.VE,/^\d{4}$/],[re.ZM,/^\d{5}$/],[re.AS,/^96799$/],[re.CC,/^6799$/],[re.CK,/^\d{4}$/],[re.RS,/^\d{5,6}$/],[re.ME,/^8\d{4}$/],[re.CS,/^\d{5}$/],[re.YU,/^\d{5}$/],[re.CX,/^6798$/],[re.ET,/^\d{4}$/],[re.FK,/^FIQQ 1ZZ$/],[re.NF,/^2899$/],[re.FM,/^(9694[1-4])([ \-]\d{4})?$/],[re.GF,/^9[78]3\d{2}$/],[re.GN,/^\d{3}$/],[re.GP,/^9[78][01]\d{2}$/],[re.GS,/^SIQQ 1ZZ$/],[re.GU,/^969[123]\d([ \-]\d{4})?$/],[re.GW,/^\d{4}$/],[re.HM,/^\d{4}$/],[re.IQ,/^\d{5}$/],[re.KG,/^\d{6}$/],[re.LR,/^\d{4}$/],[re.LS,/^\d{3}$/],[re.MG,/^\d{3}$/],[re.MH,/^969[67]\d([ \-]\d{4})?$/],[re.MN,/^\d{5}$/],[re.MP,/^9695[012]([ \-]\d{4})?$/],[re.MQ,/^9[78]2\d{2}$/],[re.NC,/^988\d{2}$/],[re.NE,/^\d{4}$/],[re.VI,/^008(([0-4]\d)|(5[01]))([ \-]\d{4})?$/],[re.VN,/^\d{6}$/],[re.PF,/^987\d{2}$/],[re.PG,/^\d{3}$/],[re.PM,/^9[78]5\d{2}$/],[re.PN,/^PCRN 1ZZ$/],[re.PW,/^96940$/],[re.RE,/^9[78]4\d{2}$/],[re.SH,/^(ASCN|STHL) 1ZZ$/],[re.SJ,/^\d{4}$/],[re.SO,/^\d{5}$/],[re.SZ,/^[HLMS]\d{3}$/],[re.TC,/^TKCA 1ZZ$/],[re.WF,/^986\d{2}$/],[re.XK,/^\d{5}$/],[re.YT,/^976\d{2}$/],[re.PE,/^[0-2]\d{4}$/],[re.INTL,/^(?:[A-Z0-9]+([- ]?[A-Z0-9]+)*)?$/i],[re.CO,/^(0[58]|1[135789]|2[0357]|4[147]|5[024]|6[368]|7[036]|8[1568]|9[4579])\d{4}$/]]),lte=(n,e)=>{if(!lv.has(e))throw Error(`Invalid country code: ${e}`);return lv.get(e).test(n)},ute=n=>lv.has(n);function cte(n){return!(n===null||typeof n!="object"||!("value"in n)||!("label"in n))}function RA(n,e=", ",t=" and "){if(n.length<3)return n.join(t);const r=n.slice(0,n.length-1).join(e),i=n[n.length-1];return`${r}${t}${i}`}const sS="Segmenter"in Intl&&new Intl.Segmenter("en",{granularity:"grapheme"});function hy(n){return sS?[...sS.segment(n)].length:Array.from(n).length}const PA=["https","http"];function aS(n,e=PA){if(!n)return"";const[t=""]=e;for(const r of e)if(n.substring(0,r.length+3)===`${r}://`)return n;return`${t}://${n}`}const dte=["address","article","aside","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","li","main","nav","noscript","ol","p","pre","section","table","tfoot","ul","video"];function Rf(n){return dte.includes(n.tagName.toLowerCase())}function IA(n){return n.nodeType===Node.TEXT_NODE}function Pf(n){return n.nodeType===Node.ELEMENT_NODE}function DA(n,e,t){const r=e&&Pf(e)&&Rf(e),i=t&&Pf(t)&&Rf(t),o=r&&i;return n.textContent&&!o}function gy(n,e){const t=Array.from(n.childNodes);t.forEach((r,i)=>{const o=Pf(r)?r:void 0,s=IA(r)?r:void 0;e({node:r,index:i,parent:n,elem:o,text:s,siblings:t}),o&&gy(o,e)})}function fte(n,e,t){const i=new DOMParser().parseFromString(n,"text/html");let o=t;return gy(i.body,s=>{const a=e(o,s);a!==void 0&&(o=a)}),o}function _A(n){return fte(n,(e,{index:t,parent:r,siblings:i,text:o,elem:s})=>{if(o&&DA(o,i[t-1],i[t+1])){const a=r.tagName.toLowerCase();if(a!=="script"&&a!=="style"){const l=document.createElement("div");l.appendChild(o.cloneNode());const c=l.innerHTML.replace(/\s+/g," ");return l.innerHTML=c,e+hy(l.textContent||"")}}if(s){const a=s.tagName.toLowerCase();if(a!=="script"&&a!=="style"&&s!==i[0])return e+(Rf(s)?1:0)}},0)}const bve="validateDateRange",xve="validateNumberRange";function pte(n){if(!(!n||n.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)))return"The value is not a valid email"}function hte(n){if(n)return new Promise(function(e){setTimeout(function(){return n.includes("test")?e("String cannot include test"):e(void 0)},1e3)})}function my(n){if(!(isFinite(n)&&Math.abs(n)<=90))return"Latitude should be between -90 and 90"}function vy(n){if(!(isFinite(n)&&Math.abs(n)<=180))return"Longitude should be between -180 and 180"}function gte(n){if(n===void 0||typeof n=="string"&&!n.trim().length||Array.isArray(n)&&!n.length||n===!1)return"This field is required, please fill it"}function mte(n){if(n&&!(!isNaN(Number(n))&&!isNaN(parseFloat(n))))return"The value is not a number"}function vte(n){if(!n)return;if(!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n))return"The value is not a valid URL"}async function yte(n,e,t){const r=e[t.startDateName]?e[t.startDateName]:n,i=e[t.endDateName]?e[t.endDateName]:n;if(!r||!i)return;const o=r===n?"Start date should happen before the end date":"End date should happen after the start date",s=new Date(r),a=new Date(i);if(s.getTime()>a.getTime())return o}function bte(n,e,{minName:t,maxName:r}){if(n===void 0)return;const i=t&&e[t],o=r&&e[r],s=Number(n);if(!(Number.isNaN(s)||!Number.isFinite(s))){if(i&&!o&&s<i)return`Number must be greater than or equal to ${i}`;if(!i&&o&&s>o)return`Number must be less than or equal to ${o}`;if(i&&o&&(s<i||s>o))return`Number must be between ${i} and ${o}`}}function xte(n,e,{min:t,max:r}){if(n instanceof Date){if(t&&!r&&n<t)return`Date must come on or after ${gl(t,ml)}`;if(!t&&r&&n>r)return`Date must come on or before ${gl(r,ml)}`;if(t&&r&&(n<t||n>r))return`Date must come between ${gl(t,ml)} and ${gl(r,ml)}`}}function wte(n,e,t){if(!t.max||typeof n!="string")return;const r="You have exceeded the maximum number of characters";if(t.ignoreHTML&&_A(n)>t.max||!t.ignoreHTML&&hy(n)>t.max)return r}function Cte(n){if(!(!n||n[0]!=="1"||n.length===11))return"Phone number must be exactly 10 numbers excluding the country code"}async function $A(n,e,{countryField:t}){if(!n)return;const r=e[t];if(!r)return;const i=cte(r)?r.value:r;if(!(!i||!ute(i))&&!lte(n,i))return"This is not a valid postal code in the selected country"}function Ste({internalData:n,data:e,errors:t,disabled:r,touched:i,submitWarning:o,waits:s,loadingInitial:a}){return{internalData:n,data:e,errors:t,disabled:r,touched:i,submitWarning:o,waits:s,loadingInitial:a}}async function kte(n,e,t){for(const r of n){const i=await r.fn(e,t,r.options);if(i)return{errorMessage:i,validator:r}}}function Mte(n){const e={required:gte,validateLatitude:my,validateLongitude:vy,validateDateRange:yte,validateMinDate:xte,validateNumberRange:bte,validateCharacterCount:wte,validateEmail:pte,validateNumber:mte,validateSlow:hte,validateURL:vte,validatePhoneNumber:Cte,validatePostcode:$A};return n.map(t=>typeof t=="string"?{fn:e[t],options:{}}:typeof t=="function"?{fn:t,options:{}}:{fn:e[t.fn],options:t.options})}function wu({name:n,path:e,stable:t}){const{mounted:r}=t;if(!r[n])return!1;const i=kl({name:n,path:e,stable:t}),o=Yd(i.disabled,Ste(t),!1);return!Jd(o)}async function Qd({names:n,path:e,deep:t,stable:r}){const i=await Promise.all(n.map(async a=>{const{name:l,include:c}=typeof a=="object"?a:{name:a,include:void 0},f=await NA({name:l,include:c,path:e,deep:t,stable:r});return[l,f]})),o=Object.fromEntries(i),s=Object.values(o).filter(Boolean).length;return{errors:o,count:s}}async function NA({name:n,include:e,path:t=[],deep:r,stable:i}){var h,m,y,b,w;const{data:o,internalValidators:s}=i,a=kl({name:n,path:t,stable:i});if(r&&"fields"in a&&a.fields){const S=[...t,n],k=Object.keys(a.fields).filter(O=>wu({name:O,stable:i,path:S})),{errors:T,count:R}=await Qd({names:k,path:S,deep:r,stable:i});return R?T:void 0}const l=a.required,c=a.validators||[];l&&c.unshift({fn:"required",options:{}}),a.type==="phone"&&c.push({fn:"validatePhoneNumber",options:{}}),((h=a.inputSettings)==null?void 0:h.maxCharacters)>0&&c.push({fn:"validateCharacterCount",options:{max:a.inputSettings.maxCharacters,ignoreHTML:a.type==="textEditor"}}),((m=a.inputSettings)!=null&&m.minDate||(y=a.inputSettings)!=null&&y.maxDate)&&c.push({fn:"validateMinDate",options:{min:(b=a.inputSettings)==null?void 0:b.minDate,max:(w=a.inputSettings)==null?void 0:w.maxDate}});const f=Mte([...s[n]||[],...c]).filter(S=>!e||e.includes(S.fn)),p=await kte(f,Ys(o,[...t,n]),t.length?Ys(o,t):o);if(p)return p.errorMessage}function uv(n,e){const t=Object.entries(e),r={};for(const[i,o]of t)n&&("fields"in o&&o.fields?r[i]=uv(n[i],o.fields):r[i]=o.getResolvedValue(n[i]).internalValue);return r}function FA({fields:n,sections:e,stable:t}){const r=e&&e.map(({fields:i})=>i).flat(3);return n.reduce((i,o,s)=>{const a=hR(o.type),l=o.getResolvedValue||a.getResolvedValue,c={...o,validateOn:o.validateOn||a.validate,getResolvedValue:f=>l(f,o),order:(r?r.indexOf(o.name):s)+1,fields:o.type==="group"?FA({fields:o.inputSettings.fields,stable:t}):void 0};return{...i,[o.name]:c}},{})}function lS({stable:n,path:e=[]}){let t=n.fields;for(const r of e)t=t[r].fields;return t}function BA({fields:n,path:e=[],value:t,current:r,stable:i}){const[o,...s]=n,a=kl({name:o,path:e,stable:i});if(typeof t=="function"&&(t=t(r.internalValues[o])),s.length){const l=BA({fields:s,path:[...e,o],value:t,stable:i,current:{values:r.values[o],internalValues:r.internalValues[o]}});return{internalValue:{...r.internalValues[o],[s[0]]:l.internalValue},value:a.getResolvedValue({...r.values[o],[s[0]]:l.value}).value}}return a.getResolvedValue(t)}function yy(n,e,{by:t=(r,i,o)=>o in i}={}){return Object.fromEntries(Object.entries(n).map(([r,i])=>t(n,e,r)?Vm(i)&&Vm(e[r])?[r,yy(i,e[r])]:[r,e[r]]:[r,i]))}function Yp(){const n=v.useRef(ste()),[e,t]=v.useReducer(ate,tc()),r=v.useCallback(async({name:k,validateLinkedFields:T,path:R=[]})=>{const O=kl({name:k,path:R,stable:n.current});if(wu({name:k,path:R,stable:n.current})){const M=await NA({name:k,path:R,deep:!0,stable:n.current});n.current.errors=Zi([...R,k],M,n.current.errors)}if(T&&O.validates){const M=O.validates.map(j=>typeof j=="object"?j:{name:j,include:void 0}).filter(({name:j})=>wu({name:j,path:R,stable:n.current})),{errors:L}=await Qd({names:M,path:R,stable:n.current}),D=R.length?Zi(R,L,{}):L;n.current.errors=yy(n.current.errors,D)}t({type:"SET_FIELD_ERRORS",errors:n.current.errors})},[]),i=v.useCallback(async({values:k={},path:T=[],initial:R,validate:O})=>{const M=uv(k,lS({stable:n.current,path:T}));if(n.current.data=T.length?Zi(T,k,n.current.data):k,n.current.internalData=T.length?Zi(T,M,n.current.internalData):M,R&&(n.current.initialData=T.length?Zi(T,k,n.current.initialData):k,n.current.disabled=!1),O){const L=Object.keys(lS({stable:n.current,path:T})),{errors:D}=await Qd({names:L,path:T,stable:n.current});n.current.errors=T.length?Zi(T,D,n.current.errors):D,t({type:"SET_FIELD_ERRORS",errors:n.current.errors})}return t({type:"SET_FIELD_VALUES",values:n.current.data,internalValues:n.current.internalData,...R?{disabled:!1,loadingInitial:!1}:{}})},[]),o=v.useCallback(({fields:k,sections:T})=>{n.current.fields=FA({fields:k,sections:T,stable:n.current})},[]),s=v.useCallback(()=>{const{initialData:k,fields:T}=n.current,R={...k},O=uv(k,T);n.current={...tc(),...n.current,hasBlurred:{},data:R,internalData:O,disabled:!1,loadingInitial:!1},t({type:"RESET",data:R,internalData:O})},[]),a=v.useCallback(({name:k,value:T,touched:R,validate:O,path:M=[]})=>{const L=[...M,k],D=kl({name:k,path:M,stable:n.current}),{errors:j,hasBlurred:F,hasSubmitted:ie}=n.current,{value:W,internalValue:ne}=BA({fields:L,value:T,stable:n.current,current:{values:n.current.data,internalValues:n.current.internalData}});n.current.data=Zi(L[0],W,n.current.data),n.current.internalData=Zi(L[0],ne,n.current.internalData),R&&(n.current.touched=Zi(L,!0,n.current.touched)),t({type:"SET_FIELD_VALUES",values:n.current.data,internalValues:n.current.internalData,touched:n.current.touched}),(O||D.validateOn==="onChange")&&r({name:k,validateLinkedFields:!0,path:M}),D.validateOn==="onBlurChange"&&(ie||Ys(F,L))&&r({name:k,validateLinkedFields:!0,path:M}),D.validateOn==="onBlurAmend"&&(ie||Ys(F,L))&&Ys(j,L)&&(n.current.hasBlurred=oS(L,n.current.hasBlurred),n.current.errors=oS(L,n.current.errors),t({type:"SET_FIELD_ERRORS",errors:n.current.errors}))},[r]),l=v.useCallback(({name:k,path:T=[]})=>{const R=kl({name:k,path:T,stable:n.current});n.current.hasBlurred=Zi([...T,k],!0,n.current.hasBlurred),(R.validateOn==="onBlur"||R.validateOn==="onBlurAmend"||R.validateOn==="onBlurChange")&&r({name:k,path:T,validateLinkedFields:!0})},[r]),c=v.useCallback(({disabled:k=!1,initial:T})=>{t({type:"FORM_DISABLE",disabled:k,loadingInitial:T})},[]),f=v.useCallback(k=>{t({type:"SET_SUBMIT_WARNING",...k})},[]),p=v.useCallback(async()=>{const{data:k,fields:T,waits:R}=n.current,O=Object.keys(T).filter(j=>wu({name:j,stable:n.current}));n.current.hasSubmitted=!0;const{count:M,errors:L}=await Qd({names:O,deep:!0,stable:n.current});if(M)return n.current.errors=L,n.current.moveToError=!0,t({type:"SET_FIELD_ERRORS",errors:L}),{valid:!1,data:null};if(R.length>0)return f({open:!0,lead:"The form cannot be submitted at this time:",reasons:R.map(({message:j})=>j)}),{valid:!1,data:null};const D=Object.keys(T).filter(j=>wu({name:j,stable:n.current}));return{valid:!0,data:k,activeFields:D}},[f]),h=v.useCallback(({names:k})=>{const{waits:T}=n.current,R=T.filter(({name:O})=>!k.includes(O));n.current.waits=R,t({type:"SET_FORM_WAITS",waits:R})},[]),m=v.useCallback(({name:k,message:T,disableForm:R=!1})=>{const{waits:O}=n.current,M=[...O,{name:k,message:T,disableForm:R}];return n.current.waits=M,t({type:"SET_FORM_WAITS",waits:M}),{remove:(L={})=>h({names:[k],...L})}},[h]),y=v.useCallback(({name:k,fieldRef:T,inputRef:R})=>(n.current.mounted[k]={fieldRef:T,inputRef:R},{unmount:()=>{n.current.mounted[k]=!1,t({type:"SET_FIELD_ERRORS",errors:{[k]:void 0},merge:!0})}}),[]),b=v.useCallback(({name:k,validator:T})=>{const R=n.current.internalValidators[k]||[];if(!R.includes(T))return n.current.internalValidators[k]=[...R,T],{remove:()=>{const O=n.current.internalValidators[k]||[];O.includes(T)&&(n.current.internalValidators[k]=O.filter(M=>M!==T))}}},[]),w=v.useMemo(()=>({setFormValues:i,setFieldValue:a,setFieldBlur:l,submitForm:p,disableForm:c,addWait:m,removeWait:h,mountField:y,addValidator:b,init:o,reset:s,setSubmitWarning:f}),[l,i,a,p,c,m,h,y,b,o,s,f]),S=v.useCallback((k,T)=>async()=>{const{data:R,activeFields:O,valid:M}=await p();if(!M){T&&T({data:R});return}k({data:R,activeFields:O})},[p]);return{state:e,stable:n.current,methods:w,handleSubmit:S}}function Ete(n,e){if(n===e||n===void 0&&Object.values(e).every(r=>r===void 0)||e===void 0&&Object.values(n).every(r=>r===void 0))return!0;if(!n||!e)return!1;const t=n.types===e.types||!ty(n.types||[],e.types||[]).length;return String(n.address1)===String(e.address1)&&String(n.address2)===String(e.address2)&&String(n.address3)===String(e.address3)&&String(n.city)===String(e.city)&&String(n.state)===String(e.state)&&String(n.postalCode)===String(e.postalCode)&&String(n.country)===String(e.country)&&t}const Tte=ce.div`
	display: flex;
	flex-direction: row;
	align-items: start;
	gap: 0 20px;
	min-width: 0;

	${Rn("lg","FORM")} {
		gap: 0 40px;
	}
`,Ate=ce.div`
	font-family: ${K.fontFamily};
	position: relative;
	min-width: 0;
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	align-items: start;

	${({$error:n,$spacing:e})=>n&&`
		background-color: ${K.newColors.darkRed[5]};
		margin: ${e==="compact"?"0 -8px -8px":"-4px -12px -8px"};
		padding: ${e==="compact"?"0 8px 8px":"4px 12px 8px"};
	`}
`,Ote=ce.div`
	max-width: 100%;

	${({$fullWidth:n})=>n&&`
		width: 100%;
	`}
`,Lte=ce.div`
	display: flex;
	flex-direction: column;
	align-items: stretch;
	max-width: 100%;

	${({$size:n})=>`
		width: ${n!=="full"?n:"100%"};
	`}
`,Rte=ce.div`
	display: flex;
	align-items: end;
	margin-bottom: 8px;
	font-family: ${K.fontFamily};
	gap: 8px;

	.MuiInputLabel-root {
		font-family: inherit;
		font-size: 16px;
		color:  ${K.newColors.almostBlack[100]};
		word-wrap: break-word;
		text-overflow: clip;
		white-space: normal;
	}
`,Pte=ce.div`
	font-family: inherit;
	font-size: 16px;
	color:  ${K.newColors.almostBlack[100]};
	word-wrap: break-word;
`,Ite=ce.div`
	color: ${({$invalid:n})=>n?K.newColors.darkRed[100]:K.newColors.grey3[100]};
	font-size: 12px;
	margin-left: auto;
`,Dte=ce(nE)`
	font-weight: ${K.fontWeight.semiBold} !important;
  	align-self: center;
	color: ${K.newColors.grey4[100]} !important;
`,_te=ce.span`
	color: ${K.newColors.darkRed[100]};
`,$te=ce.div`
  	${({$colsInRow:n=1})=>n===1&&`
		${Rn("sm","FORM_COL")} {
			display: none;
		}
	`}

	svg {
		vertical-align: middle;
	}
`,Nte=n=>{const{children:e,className:t,required:r,name:i,limit:o,instructionText:s,colsInRow:a,as:l="label"}=n,{anchorProps:c,tooltipProps:f}=i0();return x.jsxs(Rte,{className:t,children:[x.jsxs(Dte,{htmlFor:l==="label"&&i?`${i}-input`:void 0,as:l==="label"?nE:Pte,"data-testid":i&&`${oo.FORM_FIELD_LABEL}:${i}`,title:typeof e=="string"?e:void 0,children:[e,r&&x.jsx(_te,{children:"*"})]}),s&&x.jsxs($te,{$colsInRow:a,children:[x.jsx(KF,{...c}),x.jsx(o0,{...f,children:s})]}),o&&x.jsxs(Ite,{$invalid:o[0]>o[1],children:[o[0],"/",o[1]]})]})},Fte=ce.div`
  align-items: center;
  display: flex;
  flex-direction: row;
  margin-top: ${K.fieldSpecs.inputSpacing.helperText.marginTop};
`,Bte=ce(x0)`
  &.MuiSvgIcon-root {
    font-size: 16px;
    color: ${({$error:n})=>n?K.newColors.darkRed[100]:"transparent"};
	margin-right: 8px;
  }
`,uS=ce(tE)`
  &.MuiFormHelperText-root {
    color: ${K.newColors.grey3[100]};
    font-family: ${K.fontFamily};
    font-size: 12px;
    margin-top: ${K.fieldSpecs.inputSpacing.helperText.marginTop};
  }

  &.MuiFormHelperText-root.Mui-error {
    color: ${K.newColors.darkRed[100]};
    margin: 0;
  }
`,cv=({children:n,error:e=!1})=>e?x.jsxs(Fte,{children:[x.jsx(Bte,{$error:!!n,"data-testid":"error-icon-test-id"}),x.jsx(uS,{error:e,children:n})]}):x.jsx(uS,{error:e,children:n}),jte=ce.div`
	padding-left: 20px;
	border-left: 2px solid ${K.newColors.grey2[100]};
	flex: none;
	align-self: stretch;
	margin-left: auto;
	display: none;
	width: 180px;

	${({$colsInRow:n=1})=>n===1&&`
		${Rn("sm","FORM_COL")} {
			display: block;
		}

		${Rn("md","FORM_COL")} {
			width: 420px;
		}
	`}
`,zte=ce.p`
	color: ${K.newColors.grey3[100]};
	font-family: ${K.fontFamily};
	font-size: 14px;
	margin: 0;
`,jA=n=>{const{children:e,colsInRow:t}=n;return x.jsx(jte,{$colsInRow:t,children:x.jsx(zte,{children:e})})};jA.displayName="InstructionText";function zA(n){const{fieldDef:{name:e}={},skeleton:t,methods:{mountField:r}={},inputRef:i,fieldRef:o}=n;v.useEffect(()=>{if(!r||!e||t)return;const{unmount:s}=r({name:e,fieldRef:o==null?void 0:o.current,inputRef:i==null?void 0:i.current});return s},[r,e,i,t,o])}function Hte(n){if(!(!n||!n.inputSettings)){if(n.type==="text"||n.type==="textEditor")return n.inputSettings.maxCharacters;if(n.type==="advancedSelection")return n.inputSettings.selectLimit<2?void 0:n.inputSettings.selectLimit}}function Wte(n,e){return typeof n=="string"?e.type==="textEditor"?_A(n):hy(n):Array.isArray(n)?n.length:0}function Ute(n,e){return v.useMemo(()=>{const t=Hte(e);return t===void 0?void 0:[Wte(n,e),t]},[e,n])}const Vte=["color","date","dropdown","number","phone","text","textEditor","time"],Gte=n=>{var S;const{children:e,error:t,fieldDef:r,colsInRow:i,value:o,id:s,spacing:a,disabled:l,skeleton:c,useRealLabel:f}=n,p=v.useRef(),h=typeof t=="string"?(t==null?void 0:t.trim().length)>0:!1,m=h||h&&(r==null?void 0:r.required)||typeof t=="boolean"&&t===!0,y=Ute(o,r),b=(r==null?void 0:r.label)&&((S=r==null?void 0:r.label)==null?void 0:S.length)>0||y||(r==null?void 0:r.instructionText);zA({...n,fieldRef:p});const w=f||Vte.includes(r==null?void 0:r.type);return x.jsxs(Tte,{id:s,className:r==null?void 0:r.className,style:r==null?void 0:r.style,"data-testid":"field-test-id",ref:p,"aria-disabled":l,children:[x.jsxs(Ate,{$error:m,$spacing:a,children:[x.jsxs(Ote,{$fullWidth:(r==null?void 0:r.size)==="full",children:[b&&(c?x.jsx(kt,{width:92,height:28,sx:{marginBottom:"8px"}}):x.jsx(Nte,{required:r==null?void 0:r.required,limit:y,value:o,instructionText:r==null?void 0:r.instructionText,colsInRow:i,name:r.name,as:w?"label":"div",children:r==null?void 0:r.label})),x.jsx(Lte,{$size:r==null?void 0:r.size,children:e})]}),m?x.jsx(cv,{error:!!t,children:typeof t=="string"?t:void 0}):(r==null?void 0:r.helperText)&&x.jsx(cv,{children:r==null?void 0:r.helperText})]}),(r==null?void 0:r.instructionText)&&x.jsx(jA,{colsInRow:i,children:r.instructionText})]})},by=v.memo(Gte);function Kte({children:n,...e}){return zA(e),x.jsx(x.Fragment,{children:n})}const qte=v.memo(Kte);var as={},xy={},Yte="Expected a function",cS=NaN,Jte="[object Symbol]",Zte=/^\s+|\s+$/g,Xte=/^[-+]0x[0-9a-f]+$/i,Qte=/^0b[01]+$/i,ene=/^0o[0-7]+$/i,tne=parseInt,nne=typeof To=="object"&&To&&To.Object===Object&&To,rne=typeof self=="object"&&self&&self.Object===Object&&self,ine=nne||rne||Function("return this")(),one=Object.prototype,sne=one.toString,ane=Math.max,lne=Math.min,Zg=function(){return ine.Date.now()};function une(n,e,t){var r,i,o,s,a,l,c=0,f=!1,p=!1,h=!0;if(typeof n!="function")throw new TypeError(Yte);e=dS(e)||0,dv(t)&&(f=!!t.leading,p="maxWait"in t,o=p?ane(dS(t.maxWait)||0,e):o,h="trailing"in t?!!t.trailing:h);function m(M){var L=r,D=i;return r=i=void 0,c=M,s=n.apply(D,L),s}function y(M){return c=M,a=setTimeout(S,e),f?m(M):s}function b(M){var L=M-l,D=M-c,j=e-L;return p?lne(j,o-D):j}function w(M){var L=M-l,D=M-c;return l===void 0||L>=e||L<0||p&&D>=o}function S(){var M=Zg();if(w(M))return k(M);a=setTimeout(S,b(M))}function k(M){return a=void 0,h&&r?m(M):(r=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function R(){return a===void 0?s:k(Zg())}function O(){var M=Zg(),L=w(M);if(r=arguments,i=this,l=M,L){if(a===void 0)return y(l);if(p)return a=setTimeout(S,e),m(l)}return a===void 0&&(a=setTimeout(S,e)),s}return O.cancel=T,O.flush=R,O}function dv(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function cne(n){return!!n&&typeof n=="object"}function dne(n){return typeof n=="symbol"||cne(n)&&sne.call(n)==Jte}function dS(n){if(typeof n=="number")return n;if(dne(n))return cS;if(dv(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=dv(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(Zte,"");var t=Qte.test(n);return t||ene.test(n)?tne(n.slice(2),t?2:8):Xte.test(n)?cS:+n}var fne=une,Jp={};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.compose=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];t.forEach(function(a){return a&&a.apply(void 0,o)})}};Jp.pick=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce(function(o,s){return e&&e.hasOwnProperty(s)&&(o[s]=e[s]),o},{})};Object.defineProperty(xy,"__esModule",{value:!0});var Ha=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pne=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),hne=v,gne=wy(hne),mne=bE,Fn=wy(mne),vne=fne,yne=wy(vne),So=Jp;function wy(n){return n&&n.__esModule?n:{default:n}}function bne(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xne(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function wne(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Cne=function(e){return{mainText:e.main_text,secondaryText:e.secondary_text}},Cy=function(n){wne(e,n);function e(t){bne(this,e);var r=xne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.init=function(){if(!window.google)throw new Error("[react-places-autocomplete]: Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");if(!window.google.maps.places)throw new Error("[react-places-autocomplete]: Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");r.autocompleteService=new window.google.maps.places.AutocompleteService,r.autocompleteOK=window.google.maps.places.PlacesServiceStatus.OK,r.setState(function(i){return i.ready?null:{ready:!0}})},r.autocompleteCallback=function(i,o){if(r.setState({loading:!1}),o!==r.autocompleteOK){r.props.onError(o,r.clearSuggestions);return}var s=r.props.highlightFirstSuggestion;r.setState({suggestions:i.map(function(a,l){return{id:a.id,description:a.description,placeId:a.place_id,active:!!(s&&l===0),index:l,formattedSuggestion:Cne(a.structured_formatting),matchedSubstrings:a.matched_substrings,terms:a.terms,types:a.types}})})},r.fetchPredictions=function(){var i=r.props.value;i.length&&(r.setState({loading:!0}),r.autocompleteService.getPlacePredictions(Ha({},r.props.searchOptions,{input:i}),r.autocompleteCallback))},r.clearSuggestions=function(){r.setState({suggestions:[]})},r.clearActive=function(){r.setState({suggestions:r.state.suggestions.map(function(i){return Ha({},i,{active:!1})})})},r.handleSelect=function(i,o,s){r.clearSuggestions(),r.props.onSelect?r.props.onSelect(i,o,s):r.props.onChange(i)},r.getActiveSuggestion=function(){return r.state.suggestions.find(function(i){return i.active})},r.selectActiveAtIndex=function(i){var o=r.state.suggestions.find(function(s){return s.index===i}).description;r.setActiveAtIndex(i),r.props.onChange(o)},r.selectUserInputValue=function(){r.clearActive(),r.props.onChange(r.state.userInputValue)},r.handleEnterKey=function(){var i=r.getActiveSuggestion();i===void 0?r.handleSelect(r.props.value,null,null):r.handleSelect(i.description,i.placeId,i)},r.handleDownKey=function(){if(r.state.suggestions.length!==0){var i=r.getActiveSuggestion();i===void 0?r.selectActiveAtIndex(0):i.index===r.state.suggestions.length-1?r.selectUserInputValue():r.selectActiveAtIndex(i.index+1)}},r.handleUpKey=function(){if(r.state.suggestions.length!==0){var i=r.getActiveSuggestion();i===void 0?r.selectActiveAtIndex(r.state.suggestions.length-1):i.index===0?r.selectUserInputValue():r.selectActiveAtIndex(i.index-1)}},r.handleInputKeyDown=function(i){switch(i.key){case"Enter":i.preventDefault(),r.handleEnterKey();break;case"ArrowDown":i.preventDefault(),r.handleDownKey();break;case"ArrowUp":i.preventDefault(),r.handleUpKey();break;case"Escape":r.clearSuggestions();break}},r.setActiveAtIndex=function(i){r.setState({suggestions:r.state.suggestions.map(function(o,s){return s===i?Ha({},o,{active:!0}):Ha({},o,{active:!1})})})},r.handleInputChange=function(i){var o=i.target.value;if(r.props.onChange(o),r.setState({userInputValue:o}),!o){r.clearSuggestions();return}r.props.shouldFetchSuggestions&&r.debouncedFetchPredictions()},r.handleInputOnBlur=function(){r.mousedownOnSuggestion||r.clearSuggestions()},r.getActiveSuggestionId=function(){var i=r.getActiveSuggestion();return i?"PlacesAutocomplete__suggestion-"+i.placeId:void 0},r.getIsExpanded=function(){return r.state.suggestions.length>0},r.getInputProps=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(i.hasOwnProperty("value"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `value`. Use `value` prop instead");if(i.hasOwnProperty("onChange"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `onChange`. Use `onChange` prop instead");var o={type:"text",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-expanded":r.getIsExpanded(),"aria-activedescendant":r.getActiveSuggestionId(),disabled:!r.state.ready};return Ha({},o,i,{onKeyDown:(0,So.compose)(r.handleInputKeyDown,i.onKeyDown),onBlur:(0,So.compose)(r.handleInputOnBlur,i.onBlur),value:r.props.value,onChange:function(a){r.handleInputChange(a)}})},r.getSuggestionItemProps=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.handleSuggestionMouseEnter.bind(r,i.index),a=r.handleSuggestionClick.bind(r,i);return Ha({},o,{key:i.id,id:r.getActiveSuggestionId(),role:"option",onMouseEnter:(0,So.compose)(s,o.onMouseEnter),onMouseLeave:(0,So.compose)(r.handleSuggestionMouseLeave,o.onMouseLeave),onMouseDown:(0,So.compose)(r.handleSuggestionMouseDown,o.onMouseDown),onMouseUp:(0,So.compose)(r.handleSuggestionMouseUp,o.onMouseUp),onTouchStart:(0,So.compose)(r.handleSuggestionTouchStart,o.onTouchStart),onTouchEnd:(0,So.compose)(r.handleSuggestionMouseUp,o.onTouchEnd),onClick:(0,So.compose)(a,o.onClick)})},r.handleSuggestionMouseEnter=function(i){r.setActiveAtIndex(i)},r.handleSuggestionMouseLeave=function(){r.mousedownOnSuggestion=!1,r.clearActive()},r.handleSuggestionMouseDown=function(i){i.preventDefault(),r.mousedownOnSuggestion=!0},r.handleSuggestionTouchStart=function(){r.mousedownOnSuggestion=!0},r.handleSuggestionMouseUp=function(){r.mousedownOnSuggestion=!1},r.handleSuggestionClick=function(i,o){o&&o.preventDefault&&o.preventDefault();var s=i.description,a=i.placeId;r.handleSelect(s,a,i),setTimeout(function(){r.mousedownOnSuggestion=!1})},r.state={loading:!1,suggestions:[],userInputValue:t.value,ready:!t.googleCallbackName},r.debouncedFetchPredictions=(0,yne.default)(r.fetchPredictions,t.debounce),r}return pne(e,[{key:"componentDidMount",value:function(){var r=this.props.googleCallbackName;if(r){var i=window.google&&window.google.maps&&window.google.maps.places;i?this.init():window[r]=this.init}else this.init()}},{key:"componentWillUnmount",value:function(){var r=this.props.googleCallbackName;r&&window[r]&&delete window[r]}},{key:"render",value:function(){return this.props.children({getInputProps:this.getInputProps,getSuggestionItemProps:this.getSuggestionItemProps,loading:this.state.loading,suggestions:this.state.suggestions})}}]),e}(gne.default.Component);Cy.propTypes={onChange:Fn.default.func.isRequired,value:Fn.default.string.isRequired,children:Fn.default.func.isRequired,onError:Fn.default.func,onSelect:Fn.default.func,searchOptions:Fn.default.shape({bounds:Fn.default.object,componentRestrictions:Fn.default.object,location:Fn.default.object,offset:Fn.default.oneOfType([Fn.default.number,Fn.default.string]),radius:Fn.default.oneOfType([Fn.default.number,Fn.default.string]),types:Fn.default.array}),debounce:Fn.default.number,highlightFirstSuggestion:Fn.default.bool,shouldFetchSuggestions:Fn.default.bool,googleCallbackName:Fn.default.string};Cy.defaultProps={onError:function(e,t){return console.error(`[react-places-autocomplete]: error happened when fetching data from Google Maps API.
Please check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)
Status: `,e)},searchOptions:{},debounce:200,highlightFirstSuggestion:!1,shouldFetchSuggestions:!0};xy.default=Cy;var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.geocodeByAddress=function(e){var t=new window.google.maps.Geocoder,r=window.google.maps.GeocoderStatus.OK;return new Promise(function(i,o){t.geocode({address:e},function(s,a){a!==r&&o(a),i(s)})})};Oc.getLatLng=function(e){return new Promise(function(t,r){try{var i={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};t(i)}catch(o){r(o)}})};Oc.geocodeByPlaceId=function(e){var t=new window.google.maps.Geocoder,r=window.google.maps.GeocoderStatus.OK;return new Promise(function(i,o){t.geocode({placeId:e},function(s,a){a!==r&&o(a),i(s)})})};Object.defineProperty(as,"__esModule",{value:!0});var HA=as.getLatLng=as.geocodeByPlaceId=ky=as.geocodeByAddress=void 0,Sne=xy,kne=Mne(Sne),Sy=Oc;function Mne(n){return n&&n.__esModule?n:{default:n}}var ky=as.geocodeByAddress=Sy.geocodeByAddress;as.geocodeByPlaceId=Sy.geocodeByPlaceId;HA=as.getLatLng=Sy.getLatLng;var Ene=as.default=kne.default;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fv=function(n,e){return fv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},fv(n,e)};function en(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var st=function(){return st=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},st.apply(this,arguments)};function My(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Tne(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(p){s(p)}}function l(f){try{c(r.throw(f))}catch(p){s(p)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(n,[])).next())})}function Ane(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(f){c=[6,f],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function WA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var One=function(n,e,t,r,i,o,s,a){if(!n){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[t,r,i,o,s,a],f=0;l=new Error(e.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Lne=One,Dn=WA(Lne),mt=v.createContext(null);function UA(){Dn(!!v.useContext,"useGoogleMap is React hook and requires React version 16.8+");var n=v.useContext(mt);return Dn(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function Rne(n,e,t){return Object.keys(n).reduce(function(i,o){return e(i,n[o],o)},t)}function Pne(n,e){Object.keys(n).forEach(function(t){return e(n[t],t)})}function Ine(n,e,t,r){var i={},o=function(s,a){var l=t[a];l!==e[a]&&(i[a]=l,s(r,l))};return Pne(n,o),i}function Dne(n,e,t){var r=Rne(t,function(o,s,a){return typeof n[a]=="function"&&o.push(google.maps.event.addListener(e,s,n[a])),o},[]);return r}function _ne(n){google.maps.event.removeListener(n)}function Ot(n){n===void 0&&(n=[]),n.forEach(_ne)}function Mt(n){var e=n.updaterMap,t=n.eventMap,r=n.prevProps,i=n.nextProps,o=n.instance,s=Dne(i,o,t);return Ine(e,r,i,o),s}var fS={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},pS={extraMapTypes:function(n,e){e.forEach(function(r,i){n.mapTypes.set(String(i),r)})},center:function(n,e){n.setCenter(e)},clickableIcons:function(n,e){n.setClickableIcons(e)},heading:function(n,e){n.setHeading(e)},mapTypeId:function(n,e){n.setMapTypeId(e)},options:function(n,e){n.setOptions(e)},streetView:function(n,e){n.setStreetView(e)},tilt:function(n,e){n.setTilt(e)},zoom:function(n,e){n.setZoom(e)}};function $ne(n){var e=n.children,t=n.options,r=n.id,i=n.mapContainerStyle,o=n.mapContainerClassName,s=n.center,a=n.onClick,l=n.onDblClick,c=n.onDrag,f=n.onDragEnd,p=n.onDragStart,h=n.onMouseMove,m=n.onMouseOut,y=n.onMouseOver,b=n.onMouseDown,w=n.onMouseUp,S=n.onRightClick,k=n.onCenterChanged,T=n.onLoad,R=n.onUnmount,O=v.useState(null),M=O[0],L=O[1],D=v.useRef(null),j=v.useState(null),F=j[0],ie=j[1],W=v.useState(null),ne=W[0],z=W[1],X=v.useState(null),Z=X[0],H=X[1],he=v.useState(null),_e=he[0],pe=he[1],te=v.useState(null),ue=te[0],ve=te[1],se=v.useState(null),A=se[0],N=se[1],q=v.useState(null),J=q[0],ee=q[1],Re=v.useState(null),Te=Re[0],Le=Re[1],Be=v.useState(null),Fe=Be[0],V=Be[1],G=v.useState(null),ke=G[0],ae=G[1],xe=v.useState(null),Me=xe[0],Ae=xe[1],Ie=v.useState(null),Pe=Ie[0],Ee=Ie[1];return v.useEffect(function(){t&&M!==null&&M.setOptions(t)},[M,t]),v.useEffect(function(){M!==null&&typeof s<"u"&&M.setCenter(s)},[M,s]),v.useEffect(function(){M&&l&&(ne!==null&&google.maps.event.removeListener(ne),z(google.maps.event.addListener(M,"dblclick",l)))},[l]),v.useEffect(function(){M&&f&&(Z!==null&&google.maps.event.removeListener(Z),H(google.maps.event.addListener(M,"dragend",f)))},[f]),v.useEffect(function(){M&&p&&(_e!==null&&google.maps.event.removeListener(_e),pe(google.maps.event.addListener(M,"dragstart",p)))},[p]),v.useEffect(function(){M&&b&&(ue!==null&&google.maps.event.removeListener(ue),ve(google.maps.event.addListener(M,"mousedown",b)))},[b]),v.useEffect(function(){M&&h&&(A!==null&&google.maps.event.removeListener(A),N(google.maps.event.addListener(M,"mousemove",h)))},[h]),v.useEffect(function(){M&&m&&(J!==null&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(M,"mouseout",m)))},[m]),v.useEffect(function(){M&&y&&(Te!==null&&google.maps.event.removeListener(Te),Le(google.maps.event.addListener(M,"mouseover",y)))},[y]),v.useEffect(function(){M&&w&&(Fe!==null&&google.maps.event.removeListener(Fe),V(google.maps.event.addListener(M,"mouseup",w)))},[w]),v.useEffect(function(){M&&S&&(ke!==null&&google.maps.event.removeListener(ke),ae(google.maps.event.addListener(M,"rightclick",S)))},[S]),v.useEffect(function(){M&&a&&(Me!==null&&google.maps.event.removeListener(Me),Ae(google.maps.event.addListener(M,"click",a)))},[a]),v.useEffect(function(){M&&c&&(Pe!==null&&google.maps.event.removeListener(Pe),Ee(google.maps.event.addListener(M,"drag",c)))},[c]),v.useEffect(function(){M&&k&&(F!==null&&google.maps.event.removeListener(F),ie(google.maps.event.addListener(M,"center_changed",k)))},[a]),v.useEffect(function(){var Qe=D.current===null?null:new google.maps.Map(D.current,t);return L(Qe),Qe!==null&&T&&T(Qe),function(){Qe!==null&&R&&R(Qe)}},[]),x.jsx("div",{id:r,ref:D,style:i,className:o,children:x.jsx(mt.Provider,{value:M,children:M!==null?e:null})})}v.memo($ne);var Nne=function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={map:null},t.registeredEvents=[],t.mapRef=null,t.getInstance=function(){return t.mapRef===null?null:new google.maps.Map(t.mapRef,t.props.options)},t.panTo=function(r){var i=t.getInstance();i&&i.panTo(r)},t.setMapCallback=function(){t.state.map!==null&&t.props.onLoad&&t.props.onLoad(t.state.map)},t.getRef=function(r){t.mapRef=r},t}return e.prototype.componentDidMount=function(){var t=this.getInstance();this.registeredEvents=Mt({updaterMap:pS,eventMap:fS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)},e.prototype.componentDidUpdate=function(t){this.state.map!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:pS,eventMap:fS,prevProps:t,nextProps:this.props,instance:this.state.map}))},e.prototype.componentWillUnmount=function(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ot(this.registeredEvents))},e.prototype.render=function(){return x.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:x.jsx(mt.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})},e}(v.PureComponent),Hs=typeof document<"u";function VA(n){var e=n.url,t=n.id,r=n.nonce;return Hs?new Promise(function(o,s){var a=document.getElementById(t),l=window;if(a){var c=a.getAttribute("data-state");if(a.src===e&&c!=="error"){if(c==="ready")return o(t);var f=l.initMap,p=a.onerror;l.initMap=function(){f&&f(),o(t)},a.onerror=function(m){p&&p(m),s(m)};return}else a.remove()}var h=document.createElement("script");h.type="text/javascript",h.src=e,h.id=t,h.async=!0,h.nonce=r||"",h.onerror=function(y){h.setAttribute("data-state","error"),s(y)},l.initMap=function(){h.setAttribute("data-state","ready"),o(t)},document.head.appendChild(h)}).catch(function(i){throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function hS(n){var e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function GA(){var n=document.getElementsByTagName("head")[0];if(n){var e=n.insertBefore.bind(n);n.insertBefore=function(i,o){return hS(i)||Reflect.apply(e,n,[i,o]),i};var t=n.appendChild.bind(n);n.appendChild=function(i){return hS(i)||Reflect.apply(t,n,[i]),i}}}function KA(n){var e=n.googleMapsApiKey,t=n.googleMapsClientId,r=n.version,i=r===void 0?"weekly":r,o=n.language,s=n.region,a=n.libraries,l=n.channel,c=n.mapIds,f=n.authReferrerPolicy,p=[];return Dn(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):t&&p.push("client=".concat(t)),i&&p.push("v=".concat(i)),o&&p.push("language=".concat(o)),s&&p.push("region=".concat(s)),a&&a.length&&p.push("libraries=".concat(a.sort().join(","))),l&&p.push("channel=".concat(l)),c&&c.length&&p.push("map_ids=".concat(c.join(","))),f&&p.push("auth_referrer_policy=".concat(f)),p.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(p.join("&"))}var fu=!1;function qA(){return x.jsx("div",{children:"Loading..."})}var pv={id:"script-loader",version:"weekly"};(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.check=v.createRef(),t.state={loaded:!1},t.cleanupCallback=function(){delete window.google.maps,t.injectScript()},t.isCleaningUp=function(){return Tne(t,void 0,void 0,function(){function r(i){if(!fu)i();else if(Hs)var o=window.setInterval(function(){fu||(window.clearInterval(o),i())},1)}return Ane(this,function(i){return[2,new Promise(r)]})})},t.cleanup=function(){fu=!0;var r=document.getElementById(t.props.id);r&&r.parentNode&&r.parentNode.removeChild(r),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(o){return typeof o.src=="string"&&o.src.includes("maps.googleapis")}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(o){return o.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(o){return o.innerText!==void 0&&o.innerText.length>0&&o.innerText.includes(".gm-")}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)})},t.injectScript=function(){t.props.preventGoogleFontsLoading&&GA(),Dn(!!t.props.id,'LoadScript requires "id" prop to be a string: %s',t.props.id);var r={id:t.props.id,nonce:t.props.nonce,url:KA(t.props)};VA(r).then(function(){t.props.onLoad&&t.props.onLoad(),t.setState(function(){return{loaded:!0}})}).catch(function(i){t.props.onError&&t.props.onError(i),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(t.props.googleMapsApiKey||"-",") or Client ID (").concat(t.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})},t}return e.prototype.componentDidMount=function(){if(Hs){if(window.google&&window.google.maps&&!fu){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}},e.prototype.componentDidUpdate=function(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Hs&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))},e.prototype.componentWillUnmount=function(){var t=this;if(Hs){this.cleanup();var r=function(){t.check.current||(delete window.google,fu=!1)};window.setTimeout(r,1),this.props.onUnmount&&this.props.onUnmount()}},e.prototype.render=function(){return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||x.jsx(qA,{})]})},e.defaultProps=pv,e})(v.PureComponent);var gS;function Ey(n){var e=n.id,t=e===void 0?pv.id:e,r=n.version,i=r===void 0?pv.version:r,o=n.nonce,s=n.googleMapsApiKey,a=n.googleMapsClientId,l=n.language,c=n.region,f=n.libraries,p=n.preventGoogleFontsLoading,h=n.channel,m=n.mapIds,y=n.authReferrerPolicy,b=v.useRef(!1),w=v.useState(!1),S=w[0],k=w[1],T=v.useState(void 0),R=T[0],O=T[1];v.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]),v.useEffect(function(){Hs&&p&&GA()},[p]),v.useEffect(function(){S&&Dn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[S]);var M=KA({version:i,googleMapsApiKey:s,googleMapsClientId:a,language:l,region:c,libraries:f,channel:h,mapIds:m,authReferrerPolicy:y});v.useEffect(function(){if(!Hs)return;function j(){b.current&&(k(!0),gS=M)}if(window.google&&window.google.maps&&gS===M){j();return}VA({id:t,url:M,nonce:o}).then(j).catch(function(ie){b.current&&O(ie),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(ie)})},[t,M,o]);var L=v.useRef();return v.useEffect(function(){L.current&&f!==L.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),L.current=f},[f]),{isLoaded:S,loadError:R,url:M}}var Fne=x.jsx(qA,{});function Bne(n){var e=n.loadingElement,t=n.onLoad,r=n.onError,i=n.onUnmount,o=n.children,s=My(n,["loadingElement","onLoad","onError","onUnmount","children"]),a=Ey(s),l=a.isLoaded,c=a.loadError;return v.useEffect(function(){l&&typeof t=="function"&&t()},[l,t]),v.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),v.useEffect(function(){return function(){i&&i()}},[i]),l?o:e||Fne}v.memo(Bne);var mS;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(mS||(mS={}));var vS={},yS={options:function(n,e){n.setOptions(e)}};function jne(n){var e=n.options,t=n.onLoad,r=n.onUnmount,i=v.useContext(mt),o=v.useState(null),s=o[0],a=o[1];return v.useEffect(function(){s!==null&&s.setMap(i)},[i]),v.useEffect(function(){e&&s!==null&&s.setOptions(e)},[s,e]),v.useEffect(function(){var l=new google.maps.TrafficLayer(st(st({},e||{}),{map:i}));return a(l),t&&t(l),function(){s!==null&&(r&&r(s),s.setMap(null))}},[]),null}v.memo(jne);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={trafficLayer:null},t.setTrafficLayerCallback=function(){t.state.trafficLayer!==null&&t.props.onLoad&&t.props.onLoad(t.state.trafficLayer)},t.registeredEvents=[],t}return e.prototype.componentDidMount=function(){var t=new google.maps.TrafficLayer(st(st({},this.props.options||{}),{map:this.context}));this.registeredEvents=Mt({updaterMap:yS,eventMap:vS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)},e.prototype.componentDidUpdate=function(t){this.state.trafficLayer!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:yS,eventMap:vS,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))},e.prototype.componentWillUnmount=function(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ot(this.registeredEvents),this.state.trafficLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);function zne(n){var e=n.onLoad,t=n.onUnmount,r=v.useContext(mt),i=v.useState(null),o=i[0],s=i[1];return v.useEffect(function(){o!==null&&o.setMap(r)},[r]),v.useEffect(function(){var a=new google.maps.BicyclingLayer;return s(a),a.setMap(r),e&&e(a),function(){a!==null&&(t&&t(a),a.setMap(null))}},[]),null}v.memo(zne);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={bicyclingLayer:null},t.setBicyclingLayerCallback=function(){t.state.bicyclingLayer!==null&&(t.state.bicyclingLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.bicyclingLayer))},t}return e.prototype.componentDidMount=function(){var t=new google.maps.BicyclingLayer;this.setState(function(){return{bicyclingLayer:t}},this.setBicyclingLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);function Hne(n){var e=n.onLoad,t=n.onUnmount,r=v.useContext(mt),i=v.useState(null),o=i[0],s=i[1];return v.useEffect(function(){o!==null&&o.setMap(r)},[r]),v.useEffect(function(){var a=new google.maps.TransitLayer;return s(a),a.setMap(r),e&&e(a),function(){o!==null&&(t&&t(o),o.setMap(null))}},[]),null}v.memo(Hne);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={transitLayer:null},t.setTransitLayerCallback=function(){t.state.transitLayer!==null&&(t.state.transitLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.transitLayer))},t}return e.prototype.componentDidMount=function(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);var bS={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},xS={drawingMode:function(n,e){n.setDrawingMode(e)},options:function(n,e){n.setOptions(e)}};function Wne(n){var e=n.options,t=n.drawingMode,r=n.onCircleComplete,i=n.onMarkerComplete,o=n.onOverlayComplete,s=n.onPolygonComplete,a=n.onPolylineComplete,l=n.onRectangleComplete,c=n.onLoad,f=n.onUnmount,p=v.useContext(mt),h=v.useState(null),m=h[0],y=h[1],b=v.useState(null),w=b[0],S=b[1],k=v.useState(null),T=k[0],R=k[1],O=v.useState(null),M=O[0],L=O[1],D=v.useState(null),j=D[0],F=D[1],ie=v.useState(null),W=ie[0],ne=ie[1],z=v.useState(null),X=z[0],Z=z[1];return v.useEffect(function(){m!==null&&m.setMap(p)},[p]),v.useEffect(function(){e&&m!==null&&m.setOptions(e)},[m,e]),v.useEffect(function(){m!==null&&m.setDrawingMode(t??null)},[m,t]),v.useEffect(function(){m&&r&&(w!==null&&google.maps.event.removeListener(w),S(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),v.useEffect(function(){m&&i&&(T!==null&&google.maps.event.removeListener(T),R(google.maps.event.addListener(m,"markercomplete",i)))},[m,i]),v.useEffect(function(){m&&o&&(M!==null&&google.maps.event.removeListener(M),L(google.maps.event.addListener(m,"overlaycomplete",o)))},[m,o]),v.useEffect(function(){m&&s&&(j!==null&&google.maps.event.removeListener(j),F(google.maps.event.addListener(m,"polygoncomplete",s)))},[m,s]),v.useEffect(function(){m&&a&&(W!==null&&google.maps.event.removeListener(W),ne(google.maps.event.addListener(m,"polylinecomplete",a)))},[m,a]),v.useEffect(function(){m&&l&&(X!==null&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(m,"rectanglecomplete",l)))},[m,l]),v.useEffect(function(){Dn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var H=new google.maps.drawing.DrawingManager(st(st({},e||{}),{map:p}));return t&&H.setDrawingMode(t),r&&S(google.maps.event.addListener(H,"circlecomplete",r)),i&&R(google.maps.event.addListener(H,"markercomplete",i)),o&&L(google.maps.event.addListener(H,"overlaycomplete",o)),s&&F(google.maps.event.addListener(H,"polygoncomplete",s)),a&&ne(google.maps.event.addListener(H,"polylinecomplete",a)),l&&Z(google.maps.event.addListener(H,"rectanglecomplete",l)),y(H),c&&c(H),function(){m!==null&&(w&&google.maps.event.removeListener(w),T&&google.maps.event.removeListener(T),M&&google.maps.event.removeListener(M),j&&google.maps.event.removeListener(j),W&&google.maps.event.removeListener(W),X&&google.maps.event.removeListener(X),f&&f(m),m.setMap(null))}},[]),null}v.memo(Wne);(function(n){en(e,n);function e(t){var r=n.call(this,t)||this;return r.registeredEvents=[],r.state={drawingManager:null},r.setDrawingManagerCallback=function(){r.state.drawingManager!==null&&r.props.onLoad&&r.props.onLoad(r.state.drawingManager)},Dn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),r}return e.prototype.componentDidMount=function(){var t=new google.maps.drawing.DrawingManager(st(st({},this.props.options||{}),{map:this.context}));this.registeredEvents=Mt({updaterMap:xS,eventMap:bS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)},e.prototype.componentDidUpdate=function(t){this.state.drawingManager!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:xS,eventMap:bS,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))},e.prototype.componentWillUnmount=function(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ot(this.registeredEvents),this.state.drawingManager.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);var wS={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},CS={animation:function(n,e){n.setAnimation(e)},clickable:function(n,e){n.setClickable(e)},cursor:function(n,e){n.setCursor(e)},draggable:function(n,e){n.setDraggable(e)},icon:function(n,e){n.setIcon(e)},label:function(n,e){n.setLabel(e)},map:function(n,e){n.setMap(e)},opacity:function(n,e){n.setOpacity(e)},options:function(n,e){n.setOptions(e)},position:function(n,e){n.setPosition(e)},shape:function(n,e){n.setShape(e)},title:function(n,e){n.setTitle(e)},visible:function(n,e){n.setVisible(e)},zIndex:function(n,e){n.setZIndex(e)}},If={};function Une(n){var e=n.position,t=n.options,r=n.clusterer,i=n.noClustererRedraw,o=n.children,s=n.draggable,a=n.visible,l=n.animation,c=n.clickable,f=n.cursor,p=n.icon,h=n.label,m=n.opacity,y=n.shape,b=n.title,w=n.zIndex,S=n.onClick,k=n.onDblClick,T=n.onDrag,R=n.onDragEnd,O=n.onDragStart,M=n.onMouseOut,L=n.onMouseOver,D=n.onMouseUp,j=n.onMouseDown,F=n.onRightClick,ie=n.onClickableChanged,W=n.onCursorChanged,ne=n.onAnimationChanged,z=n.onDraggableChanged,X=n.onFlatChanged,Z=n.onIconChanged,H=n.onPositionChanged,he=n.onShapeChanged,_e=n.onTitleChanged,pe=n.onVisibleChanged,te=n.onZindexChanged,ue=n.onLoad,ve=n.onUnmount,se=v.useContext(mt),A=v.useState(null),N=A[0],q=A[1],J=v.useState(null),ee=J[0],Re=J[1],Te=v.useState(null),Le=Te[0],Be=Te[1],Fe=v.useState(null),V=Fe[0],G=Fe[1],ke=v.useState(null),ae=ke[0],xe=ke[1],Me=v.useState(null),Ae=Me[0],Ie=Me[1],Pe=v.useState(null),Ee=Pe[0],Qe=Pe[1],We=v.useState(null),Ge=We[0],ot=We[1],Ke=v.useState(null),Ct=Ke[0],cn=Ke[1],tn=v.useState(null),gn=tn[0],dn=tn[1],mn=v.useState(null),Lt=mn[0],jn=mn[1],mr=v.useState(null),vn=mr[0],Gn=mr[1],Sn=v.useState(null),er=Sn[0],vr=Sn[1],Rr=v.useState(null),Kn=Rr[0],qn=Rr[1],ai=v.useState(null),Pr=ai[0],Ir=ai[1],fn=v.useState(null),Kt=fn[0],Tn=fn[1],tr=v.useState(null),Dr=tr[0],Ai=tr[1],Oi=v.useState(null),$n=Oi[0],_r=Oi[1],yr=v.useState(null),br=yr[0],me=yr[1],fe=v.useState(null),ze=fe[0],$e=fe[1],at=v.useState(null),St=at[0],_=at[1],oe=v.useState(null),we=oe[0],De=oe[1];v.useEffect(function(){N!==null&&N.setMap(se)},[se]),v.useEffect(function(){typeof t<"u"&&N!==null&&N.setOptions(t)},[N,t]),v.useEffect(function(){typeof s<"u"&&N!==null&&N.setDraggable(s)},[N,s]),v.useEffect(function(){e&&N!==null&&N.setPosition(e)},[N,e]),v.useEffect(function(){typeof a<"u"&&N!==null&&N.setVisible(a)},[N,a]),v.useEffect(function(){N==null||N.setAnimation(l)},[N,l]),v.useEffect(function(){N&&c!==void 0&&N.setClickable(c)},[N,c]),v.useEffect(function(){N&&f!==void 0&&N.setCursor(f)},[N,f]),v.useEffect(function(){N&&p!==void 0&&N.setIcon(p)},[N,p]),v.useEffect(function(){N&&h!==void 0&&N.setLabel(h)},[N,h]),v.useEffect(function(){N&&m!==void 0&&N.setOpacity(m)},[N,m]),v.useEffect(function(){N&&y!==void 0&&N.setShape(y)},[N,y]),v.useEffect(function(){N&&b!==void 0&&N.setTitle(b)},[N,b]),v.useEffect(function(){N&&w!==void 0&&N.setZIndex(w)},[N,w]),v.useEffect(function(){N&&k&&(ee!==null&&google.maps.event.removeListener(ee),Re(google.maps.event.addListener(N,"dblclick",k)))},[k]),v.useEffect(function(){N&&R&&(Le!==null&&google.maps.event.removeListener(Le),Be(google.maps.event.addListener(N,"dragend",R)))},[R]),v.useEffect(function(){N&&O&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(N,"dragstart",O)))},[O]),v.useEffect(function(){N&&j&&(ae!==null&&google.maps.event.removeListener(ae),xe(google.maps.event.addListener(N,"mousedown",j)))},[j]),v.useEffect(function(){N&&M&&(Ae!==null&&google.maps.event.removeListener(Ae),Ie(google.maps.event.addListener(N,"mouseout",M)))},[M]),v.useEffect(function(){N&&L&&(Ee!==null&&google.maps.event.removeListener(Ee),Qe(google.maps.event.addListener(N,"mouseover",L)))},[L]),v.useEffect(function(){N&&D&&(Ge!==null&&google.maps.event.removeListener(Ge),ot(google.maps.event.addListener(N,"mouseup",D)))},[D]),v.useEffect(function(){N&&F&&(Ct!==null&&google.maps.event.removeListener(Ct),cn(google.maps.event.addListener(N,"rightclick",F)))},[F]),v.useEffect(function(){N&&S&&(gn!==null&&google.maps.event.removeListener(gn),dn(google.maps.event.addListener(N,"click",S)))},[S]),v.useEffect(function(){N&&T&&(Lt!==null&&google.maps.event.removeListener(Lt),jn(google.maps.event.addListener(N,"drag",T)))},[T]),v.useEffect(function(){N&&ie&&(vn!==null&&google.maps.event.removeListener(vn),Gn(google.maps.event.addListener(N,"clickable_changed",ie)))},[ie]),v.useEffect(function(){N&&W&&(er!==null&&google.maps.event.removeListener(er),vr(google.maps.event.addListener(N,"cursor_changed",W)))},[W]),v.useEffect(function(){N&&ne&&(Kn!==null&&google.maps.event.removeListener(Kn),qn(google.maps.event.addListener(N,"animation_changed",ne)))},[ne]),v.useEffect(function(){N&&z&&(Pr!==null&&google.maps.event.removeListener(Pr),Ir(google.maps.event.addListener(N,"draggable_changed",z)))},[z]),v.useEffect(function(){N&&X&&(Kt!==null&&google.maps.event.removeListener(Kt),Tn(google.maps.event.addListener(N,"flat_changed",X)))},[X]),v.useEffect(function(){N&&Z&&(Dr!==null&&google.maps.event.removeListener(Dr),Ai(google.maps.event.addListener(N,"icon_changed",Z)))},[Z]),v.useEffect(function(){N&&H&&($n!==null&&google.maps.event.removeListener($n),_r(google.maps.event.addListener(N,"position_changed",H)))},[H]),v.useEffect(function(){N&&he&&(br!==null&&google.maps.event.removeListener(br),me(google.maps.event.addListener(N,"shape_changed",he)))},[he]),v.useEffect(function(){N&&_e&&(ze!==null&&google.maps.event.removeListener(ze),$e(google.maps.event.addListener(N,"title_changed",_e)))},[_e]),v.useEffect(function(){N&&pe&&(St!==null&&google.maps.event.removeListener(St),_(google.maps.event.addListener(N,"visible_changed",pe)))},[pe]),v.useEffect(function(){N&&te&&(we!==null&&google.maps.event.removeListener(we),De(google.maps.event.addListener(N,"zindex_changed",te)))},[te]),v.useEffect(function(){var Xe=st(st(st({},t||If),r?If:{map:se}),{position:e}),Ne=new google.maps.Marker(Xe);return r?r.addMarker(Ne,!!i):Ne.setMap(se),e&&Ne.setPosition(e),typeof a<"u"&&Ne.setVisible(a),typeof s<"u"&&Ne.setDraggable(s),typeof c<"u"&&Ne.setClickable(c),typeof f=="string"&&Ne.setCursor(f),p&&Ne.setIcon(p),typeof h<"u"&&Ne.setLabel(h),typeof m<"u"&&Ne.setOpacity(m),y&&Ne.setShape(y),typeof b=="string"&&Ne.setTitle(b),typeof w=="number"&&Ne.setZIndex(w),k&&Re(google.maps.event.addListener(Ne,"dblclick",k)),R&&Be(google.maps.event.addListener(Ne,"dragend",R)),O&&G(google.maps.event.addListener(Ne,"dragstart",O)),j&&xe(google.maps.event.addListener(Ne,"mousedown",j)),M&&Ie(google.maps.event.addListener(Ne,"mouseout",M)),L&&Qe(google.maps.event.addListener(Ne,"mouseover",L)),D&&ot(google.maps.event.addListener(Ne,"mouseup",D)),F&&cn(google.maps.event.addListener(Ne,"rightclick",F)),S&&dn(google.maps.event.addListener(Ne,"click",S)),T&&jn(google.maps.event.addListener(Ne,"drag",T)),ie&&Gn(google.maps.event.addListener(Ne,"clickable_changed",ie)),W&&vr(google.maps.event.addListener(Ne,"cursor_changed",W)),ne&&qn(google.maps.event.addListener(Ne,"animation_changed",ne)),z&&Ir(google.maps.event.addListener(Ne,"draggable_changed",z)),X&&Tn(google.maps.event.addListener(Ne,"flat_changed",X)),Z&&Ai(google.maps.event.addListener(Ne,"icon_changed",Z)),H&&_r(google.maps.event.addListener(Ne,"position_changed",H)),he&&me(google.maps.event.addListener(Ne,"shape_changed",he)),_e&&$e(google.maps.event.addListener(Ne,"title_changed",_e)),pe&&_(google.maps.event.addListener(Ne,"visible_changed",pe)),te&&De(google.maps.event.addListener(Ne,"zindex_changed",te)),q(Ne),ue&&ue(Ne),function(){ee!==null&&google.maps.event.removeListener(ee),Le!==null&&google.maps.event.removeListener(Le),V!==null&&google.maps.event.removeListener(V),ae!==null&&google.maps.event.removeListener(ae),Ae!==null&&google.maps.event.removeListener(Ae),Ee!==null&&google.maps.event.removeListener(Ee),Ge!==null&&google.maps.event.removeListener(Ge),Ct!==null&&google.maps.event.removeListener(Ct),gn!==null&&google.maps.event.removeListener(gn),vn!==null&&google.maps.event.removeListener(vn),er!==null&&google.maps.event.removeListener(er),Kn!==null&&google.maps.event.removeListener(Kn),Pr!==null&&google.maps.event.removeListener(Pr),Kt!==null&&google.maps.event.removeListener(Kt),Dr!==null&&google.maps.event.removeListener(Dr),$n!==null&&google.maps.event.removeListener($n),ze!==null&&google.maps.event.removeListener(ze),St!==null&&google.maps.event.removeListener(St),we!==null&&google.maps.event.removeListener(we),ve&&ve(Ne),r?r.removeMarker(Ne,!!i):Ne&&Ne.setMap(null)}},[]);var et=v.useMemo(function(){return o?v.Children.map(o,function(Xe){if(!v.isValidElement(Xe))return Xe;var Ne=Xe;return v.cloneElement(Ne,{anchor:N})}):null},[o,N]);return x.jsx(x.Fragment,{children:et})||null}v.memo(Une);var Vne=function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t}return e.prototype.componentDidMount=function(){var t=st(st(st({},this.props.options||If),this.props.clusterer?If:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(t),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=Mt({updaterMap:CS,eventMap:wS,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},e.prototype.componentDidUpdate=function(t){this.marker&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:CS,eventMap:wS,prevProps:t,nextProps:this.props,instance:this.marker}))},e.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ot(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},e.prototype.render=function(){var t=this,r=null;return this.props.children&&(r=v.Children.map(this.props.children,function(i){if(!v.isValidElement(i))return i;var o=i;return v.cloneElement(o,{anchor:t.marker})})),r||null},e.contextType=mt,e}(v.PureComponent),Gne=function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var r=t.getMaxZoom(),i=this.cluster.getBounds(),o=t.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(i),this.timeOut=window.setTimeout(function(){var s=t.getMap();if(s!==null){"fitBounds"in s&&s.fitBounds(i);var a=s.getZoom()||0;r!==null&&a>r&&s.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,r,i,o,s;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),c=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt(((t=l[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),p=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(p!==null?"".concat(p.y,"px"):"0","; left: ").concat(p!==null?"".concat(p.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=a,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(f,"px, -").concat(c+this.width,"px, -").concat(f+this.height,", -").concat(c,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(m.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(m.innerHTML="".concat((s=this.sums)===null||s===void 0?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(m),this.div.title=a,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),r=t[Math.min(t.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n}(),Kne=function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Gne(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),r=0,i=t;r<i.length;r++){var o=i[r],s=o.getPosition();s&&e.extend(s)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var o=this.markers.length,s=this.markerClusterer.getMaxZoom(),a=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(s!==null&&typeof a<"u"&&a>s)e.getMap()!==this.map&&e.setMap(this.map);else if(o<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(o===this.minClusterSize)for(var l=0,c=this.markers;l<c.length;l++){var f=c[l];f.setMap(null)}else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n}();function qne(n,e){var t=n.length,r=t.toString().length,i=Math.min(r,e);return{text:t.toString(),index:i,title:""}}var Yne=2e3,Jne=500,Zne="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",Xne="png",Qne=[53,56,66,78,90],ere="cluster",YA=function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||Zne,this.imageExtension=r.imageExtension||Xne,this.imageSizes=r.imageSizes||Qne,this.calculator=r.calculator||qne,this.batchSize=r.batchSize||Yne,this.batchSizeIE=r.batchSizeIE||Jne,this.clusterClass=r.clusterClass||ere,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var r=t[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,o=this.clusters;i<o.length;i++){var s=o[i];s.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var c=l[a];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.getMap=function(){return null},n.prototype.getPanes=function(){return null},n.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},n.prototype.setMap=function(){},n.prototype.addListener=function(){return{remove:function(){}}},n.prototype.bindTo=function(){},n.prototype.get=function(){},n.prototype.notify=function(){},n.prototype.set=function(){},n.prototype.setValues=function(){},n.prototype.unbind=function(){},n.prototype.unbindAll=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var o=i[r],s=o.getPosition();s&&t.extend(s)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){t=r;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!t&&r&&this.repaint(),r},n.prototype.removeMarkers=function(e,t){for(var r=!1,i=0,o=e;i<o.length;i++){var s=o[i];r=r||this.removeMarker_(s)}return!t&&r&&this.repaint(),r},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var o=i[r];o.remove()}},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var o=t.fromDivPixelToLatLng(r);o!==null&&e.extend(o)}if(i!==null){var s=t.fromDivPixelToLatLng(i);s!==null&&e.extend(s)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0,r=this.clusters;t<r.length;t++){var i=r[t];i.remove()}this.clusters=[];for(var o=0,s=this.markers;o<s.length;o++){var a=s[o];a.isAdded=!1,e&&a.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var r=6371,i=(t.lat()-e.lat())*Math.PI/180,o=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return r*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},n.prototype.isMarkerInBounds=function(e,t){var r=e.getPosition();return r?t.contains(r):!1},n.prototype.addToClosestCluster=function(e){for(var t,r=4e4,i=null,o=0,s=this.clusters;o<s.length;o++){var a=s[o];t=a;var l=t.getCenter(),c=e.getPosition();if(l&&c){var f=this.distanceBetweenPoints(l,c);f<r&&(r=f,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(t=new Kne(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,o=(r==null?void 0:r.getZoom())||0,s=o>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(s),l=Math.min(e+this.batchSize,this.markers.length),c=e;c<l;c++){var f=this.markers[c];f&&!f.isAdded&&this.isMarkerInBounds(f,a)&&(!this.ignoreHidden||this.ignoreHidden&&f.getVisible())&&this.addToClosestCluster(f)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var p=0,h=this.clusters;p<h.length;p++){var m=h[p];m.updateIcon()}}}},n.prototype.extend=function(e,t){return(function(i){for(var o in i.prototype){var s=o;this.prototype[s]=i.prototype[s]}return this}).apply(e,[t])},n}(),wi={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},jt={averageCenter:function(n,e){n.setAverageCenter(e)},batchSizeIE:function(n,e){n.setBatchSizeIE(e)},calculator:function(n,e){n.setCalculator(e)},clusterClass:function(n,e){n.setClusterClass(e)},enableRetinaIcons:function(n,e){n.setEnableRetinaIcons(e)},gridSize:function(n,e){n.setGridSize(e)},ignoreHidden:function(n,e){n.setIgnoreHidden(e)},imageExtension:function(n,e){n.setImageExtension(e)},imagePath:function(n,e){n.setImagePath(e)},imageSizes:function(n,e){n.setImageSizes(e)},maxZoom:function(n,e){n.setMaxZoom(e)},minimumClusterSize:function(n,e){n.setMinimumClusterSize(e)},styles:function(n,e){n.setStyles(e)},title:function(n,e){n.setTitle(e)},zoomOnClick:function(n,e){n.setZoomOnClick(e)}},tre={};function nre(n){var e=n.children,t=n.options,r=n.averageCenter,i=n.batchSizeIE,o=n.calculator,s=n.clusterClass,a=n.enableRetinaIcons,l=n.gridSize,c=n.ignoreHidden,f=n.imageExtension,p=n.imagePath,h=n.imageSizes,m=n.maxZoom,y=n.minimumClusterSize,b=n.styles,w=n.title,S=n.zoomOnClick,k=n.onClick,T=n.onClusteringBegin,R=n.onClusteringEnd,O=n.onMouseOver,M=n.onMouseOut,L=n.onLoad,D=n.onUnmount,j=v.useState(null),F=j[0],ie=j[1],W=v.useContext(mt),ne=v.useState(null),z=ne[0],X=ne[1],Z=v.useState(null),H=Z[0],he=Z[1],_e=v.useState(null),pe=_e[0],te=_e[1],ue=v.useState(null),ve=ue[0],se=ue[1],A=v.useState(null),N=A[0],q=A[1];return v.useEffect(function(){F&&M&&(ve!==null&&google.maps.event.removeListener(ve),se(google.maps.event.addListener(F,wi.onMouseOut,M)))},[M]),v.useEffect(function(){F&&O&&(N!==null&&google.maps.event.removeListener(N),q(google.maps.event.addListener(F,wi.onMouseOver,O)))},[O]),v.useEffect(function(){F&&k&&(z!==null&&google.maps.event.removeListener(z),X(google.maps.event.addListener(F,wi.onClick,k)))},[k]),v.useEffect(function(){F&&T&&(H!==null&&google.maps.event.removeListener(H),he(google.maps.event.addListener(F,wi.onClusteringBegin,T)))},[T]),v.useEffect(function(){F&&R&&(pe!==null&&google.maps.event.removeListener(pe),he(google.maps.event.addListener(F,wi.onClusteringEnd,R)))},[R]),v.useEffect(function(){typeof r<"u"&&F!==null&&jt.averageCenter(F,r)},[F,r]),v.useEffect(function(){typeof i<"u"&&F!==null&&jt.batchSizeIE(F,i)},[F,i]),v.useEffect(function(){typeof o<"u"&&F!==null&&jt.calculator(F,o)},[F,o]),v.useEffect(function(){typeof s<"u"&&F!==null&&jt.clusterClass(F,s)},[F,s]),v.useEffect(function(){typeof a<"u"&&F!==null&&jt.enableRetinaIcons(F,a)},[F,a]),v.useEffect(function(){typeof l<"u"&&F!==null&&jt.gridSize(F,l)},[F,l]),v.useEffect(function(){typeof c<"u"&&F!==null&&jt.ignoreHidden(F,c)},[F,c]),v.useEffect(function(){typeof f<"u"&&F!==null&&jt.imageExtension(F,f)},[F,f]),v.useEffect(function(){typeof p<"u"&&F!==null&&jt.imagePath(F,p)},[F,p]),v.useEffect(function(){typeof h<"u"&&F!==null&&jt.imageSizes(F,h)},[F,h]),v.useEffect(function(){typeof m<"u"&&F!==null&&jt.maxZoom(F,m)},[F,m]),v.useEffect(function(){typeof y<"u"&&F!==null&&jt.minimumClusterSize(F,y)},[F,y]),v.useEffect(function(){typeof b<"u"&&F!==null&&jt.styles(F,b)},[F,b]),v.useEffect(function(){typeof w<"u"&&F!==null&&jt.title(F,w)},[F,w]),v.useEffect(function(){typeof S<"u"&&F!==null&&jt.zoomOnClick(F,S)},[F,S]),v.useEffect(function(){if(W){var J=st({},t||tre),ee=new YA(W,[],J);return r&&jt.averageCenter(ee,r),i&&jt.batchSizeIE(ee,i),o&&jt.calculator(ee,o),s&&jt.clusterClass(ee,s),a&&jt.enableRetinaIcons(ee,a),l&&jt.gridSize(ee,l),c&&jt.ignoreHidden(ee,c),f&&jt.imageExtension(ee,f),p&&jt.imagePath(ee,p),h&&jt.imageSizes(ee,h),m&&jt.maxZoom(ee,m),y&&jt.minimumClusterSize(ee,y),b&&jt.styles(ee,b),w&&jt.title(ee,w),S&&jt.zoomOnClick(ee,S),M&&se(google.maps.event.addListener(ee,wi.onMouseOut,M)),O&&q(google.maps.event.addListener(ee,wi.onMouseOver,O)),k&&X(google.maps.event.addListener(ee,wi.onClick,k)),T&&he(google.maps.event.addListener(ee,wi.onClusteringBegin,T)),R&&te(google.maps.event.addListener(ee,wi.onClusteringEnd,R)),ie(ee),L&&L(ee),function(){ve!==null&&google.maps.event.removeListener(ve),N!==null&&google.maps.event.removeListener(N),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),pe!==null&&google.maps.event.removeListener(pe),D&&D(ee)}}},[]),F!==null&&e(F)||null}v.memo(nre);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={markerClusterer:null},t.setClustererCallback=function(){t.state.markerClusterer!==null&&t.props.onLoad&&t.props.onLoad(t.state.markerClusterer)},t}return e.prototype.componentDidMount=function(){if(this.context){var t=new YA(this.context,[],this.props.options);this.registeredEvents=Mt({updaterMap:jt,eventMap:wi,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{markerClusterer:t}},this.setClustererCallback)}},e.prototype.componentDidUpdate=function(t){this.state.markerClusterer&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:jt,eventMap:wi,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))},e.prototype.componentWillUnmount=function(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ot(this.registeredEvents),this.state.markerClusterer.setMap(null))},e.prototype.render=function(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null},e.contextType=mt,e})(v.PureComponent);function SS(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var JA=function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),e.enableEventPropagation||SS(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],s=0,a=o;s<a.length;s++){var l=a[s];this.eventListeners.push(google.maps.event.addListener(this.div,l,SS))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var r=0,i=0,o=t.getBounds();o&&!o.contains(this.position)&&t.setCenter(this.position);var s=t.getDiv(),a=s.offsetWidth,l=s.offsetHeight,c=this.pixelOffset.width,f=this.pixelOffset.height,p=this.div.offsetWidth,h=this.div.offsetHeight,m=this.infoBoxClearance.width,y=this.infoBoxClearance.height,b=this.getProjection(),w=b.fromLatLngToContainerPixel(this.position);w!==null&&(w.x<-c+m?r=w.x+c-m:w.x+p+c+m>a&&(r=w.x+p+c+m-a),this.alignBottom?w.y<-f+y+h?i=w.y+f-y-h:w.y+f+y>l&&(i=w.y+f+y-l):w.y<-f+y?i=w.y+f-y:w.y+h+f+y>l&&(i=w.y+h+f+y-l)),r===0&&i===0||t.panBy(r,i)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,r=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var r=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var i=t.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){r.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var r=t[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return(function(i){for(var o in i.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=i.prototype[o]);return this}).apply(e,[t])},n}(),kS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},MS={options:function(n,e){n.setOptions(e)},position:function(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible:function(n,e){n.setVisible(e)},zIndex:function(n,e){n.setZIndex(e)}},rre={};function ire(n){var e=n.children,t=n.anchor,r=n.options,i=n.position,o=n.zIndex,s=n.onCloseClick,a=n.onDomReady,l=n.onContentChanged,c=n.onPositionChanged,f=n.onZindexChanged,p=n.onLoad,h=n.onUnmount,m=v.useContext(mt),y=v.useState(null),b=y[0],w=y[1],S=v.useState(null),k=S[0],T=S[1],R=v.useState(null),O=R[0],M=R[1],L=v.useState(null),D=L[0],j=L[1],F=v.useState(null),ie=F[0],W=F[1],ne=v.useState(null),z=ne[0],X=ne[1],Z=v.useRef(null);return v.useEffect(function(){m&&b!==null&&(b.close(),t?b.open(m,t):b.getPosition()&&b.open(m))},[m,b,t]),v.useEffect(function(){r&&b!==null&&b.setOptions(r)},[b,r]),v.useEffect(function(){if(i&&b!==null){var H=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);b.setPosition(H)}},[i]),v.useEffect(function(){typeof o=="number"&&b!==null&&b.setZIndex(o)},[o]),v.useEffect(function(){b&&s&&(k!==null&&google.maps.event.removeListener(k),T(google.maps.event.addListener(b,"closeclick",s)))},[s]),v.useEffect(function(){b&&a&&(O!==null&&google.maps.event.removeListener(O),M(google.maps.event.addListener(b,"domready",a)))},[a]),v.useEffect(function(){b&&l&&(D!==null&&google.maps.event.removeListener(D),j(google.maps.event.addListener(b,"content_changed",l)))},[l]),v.useEffect(function(){b&&c&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(b,"position_changed",c)))},[c]),v.useEffect(function(){b&&f&&(z!==null&&google.maps.event.removeListener(z),X(google.maps.event.addListener(b,"zindex_changed",f)))},[f]),v.useEffect(function(){if(m){var H=r||rre,he=H.position,_e=My(H,["position"]),pe=void 0;he&&!(he instanceof google.maps.LatLng)&&(pe=new google.maps.LatLng(he.lat,he.lng));var te=new JA(st(st({},_e),pe?{position:pe}:{}));Z.current=document.createElement("div"),w(te),s&&T(google.maps.event.addListener(te,"closeclick",s)),a&&M(google.maps.event.addListener(te,"domready",a)),l&&j(google.maps.event.addListener(te,"content_changed",l)),c&&W(google.maps.event.addListener(te,"position_changed",c)),f&&X(google.maps.event.addListener(te,"zindex_changed",f)),te.setContent(Z.current),t?te.open(m,t):te.getPosition()?te.open(m):Dn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(te)}return function(){b!==null&&(k&&google.maps.event.removeListener(k),D&&google.maps.event.removeListener(D),O&&google.maps.event.removeListener(O),ie&&google.maps.event.removeListener(ie),z&&google.maps.event.removeListener(z),h&&h(b),b.close())}},[]),Z.current?ys.createPortal(v.Children.only(e),Z.current):null}v.memo(ire);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoBox:null},t.open=function(r,i){i?t.context!==null&&r.open(t.context,i):r.getPosition()?t.context!==null&&r.open(t.context):Dn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},t.setInfoBoxCallback=function(){t.state.infoBox!==null&&t.containerElement!==null&&(t.state.infoBox.setContent(t.containerElement),t.open(t.state.infoBox,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoBox))},t}return e.prototype.componentDidMount=function(){var t=this.props.options||{},r=t.position,i=My(t,["position"]),o;r&&!(r instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(r.lat,r.lng));var s=new JA(st(st({},i),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Mt({updaterMap:MS,eventMap:kS,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)},e.prototype.componentDidUpdate=function(t){var r=this.state.infoBox;r!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:MS,eventMap:kS,prevProps:t,nextProps:this.props,instance:r}))},e.prototype.componentWillUnmount=function(){var t=this.props.onUnmount,r=this.state.infoBox;r!==null&&(t&&t(r),Ot(this.registeredEvents),r.close())},e.prototype.render=function(){return this.containerElement?ys.createPortal(v.Children.only(this.props.children),this.containerElement):null},e.contextType=mt,e})(v.PureComponent);var ore=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t},ES=WA(ore);const TS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Xg=1,pu=8;class Ty{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,r]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==Xg)throw new Error(`Got v${i} data when expected v${Xg}.`);const o=TS[r&15];if(!o)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Ty(a,s,o,e)}constructor(e,t=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=TS.indexOf(this.ArrayType),s=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,pu,e),this.coords=new this.ArrayType(this.data,pu+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(pu+s+a+l),this.ids=new this.IndexArrayType(this.data,pu,e),this.coords=new this.ArrayType(this.data,pu+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Xg<<4)+o]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return hv(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:a}=this,l=[0,o.length-1,0],c=[];for(;l.length;){const f=l.pop()||0,p=l.pop()||0,h=l.pop()||0;if(p-h<=a){for(let w=h;w<=p;w++){const S=s[2*w],k=s[2*w+1];S>=e&&S<=r&&k>=t&&k<=i&&c.push(o[w])}continue}const m=h+p>>1,y=s[2*m],b=s[2*m+1];y>=e&&y<=r&&b>=t&&b<=i&&c.push(o[m]),(f===0?e<=y:t<=b)&&(l.push(h),l.push(m-1),l.push(1-f)),(f===0?r>=y:i>=b)&&(l.push(m+1),l.push(p),l.push(1-f))}return c}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],l=[],c=r*r;for(;a.length;){const f=a.pop()||0,p=a.pop()||0,h=a.pop()||0;if(p-h<=s){for(let w=h;w<=p;w++)AS(o[2*w],o[2*w+1],e,t)<=c&&l.push(i[w]);continue}const m=h+p>>1,y=o[2*m],b=o[2*m+1];AS(y,b,e,t)<=c&&l.push(i[m]),(f===0?e-r<=y:t-r<=b)&&(a.push(h),a.push(m-1),a.push(1-f)),(f===0?e+r>=y:t+r>=b)&&(a.push(m+1),a.push(p),a.push(1-f))}return l}}function hv(n,e,t,r,i,o){if(i-r<=t)return;const s=r+i>>1;ZA(n,e,s,r,i,o),hv(n,e,t,r,s-1,1-o),hv(n,e,t,s+1,i,1-o)}function ZA(n,e,t,r,i,o){for(;i>r;){if(i-r>600){const c=i-r+1,f=t-r+1,p=Math.log(c),h=.5*Math.exp(2*p/3),m=.5*Math.sqrt(p*h*(c-h)/c)*(f-c/2<0?-1:1),y=Math.max(r,Math.floor(t-f*h/c+m)),b=Math.min(i,Math.floor(t+(c-f)*h/c+m));ZA(n,e,t,y,b,o)}const s=e[2*t+o];let a=r,l=i;for(hu(n,e,r,t),e[2*i+o]>s&&hu(n,e,r,i);a<l;){for(hu(n,e,a,l),a++,l--;e[2*a+o]<s;)a++;for(;e[2*l+o]>s;)l--}e[2*r+o]===s?hu(n,e,r,l):(l++,hu(n,e,l,i)),l<=t&&(r=l+1),t<=l&&(i=l-1)}}function hu(n,e,t,r){Qg(n,t,r),Qg(e,2*t,2*r),Qg(e,2*t+1,2*r+1)}function Qg(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function AS(n,e,t,r){const i=n-t,o=e-r;return i*i+o*o}const sre={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},OS=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),_s=2,Xo=3,em=4,Yo=5,XA=6;class are{constructor(e){this.options=Object.assign(Object.create(sre),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:r,maxZoom:i}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;const s=[];for(let l=0;l<e.length;l++){const c=e[l];if(!c.geometry)continue;const[f,p]=c.geometry.coordinates,h=OS(Nd(f)),m=OS(Fd(p));s.push(h,m,1/0,l,-1,1),this.options.reduce&&s.push(0)}let a=this.trees[i+1]=this._createTree(s);t&&console.timeEnd(o);for(let l=i;l>=r;l--){const c=+Date.now();a=this.trees[l]=this._createTree(this._cluster(a,l)),t&&console.log("z%d: %d clusters in %dms",l,a.numItems,+Date.now()-c)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let o=e[2]===180?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){const p=this.getClusters([r,i,180,s],t),h=this.getClusters([-180,i,o,s],t);return p.concat(h)}const a=this.trees[this._limitZoom(t)],l=a.range(Nd(r),Fd(s),Nd(o),Fd(i)),c=a.data,f=[];for(const p of l){const h=this.stride*p;f.push(c[h+Yo]>1?LS(c,h,this.clusterProps):this.points[c[h+Xo]])}return f}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(i);const s=o.data;if(t*this.stride>=s.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=s[t*this.stride],c=s[t*this.stride+1],f=o.within(l,c,a),p=[];for(const h of f){const m=h*this.stride;s[m+em]===e&&p.push(s[m+Yo]>1?LS(s,m,this.clusterProps):this.points[s[m+Xo]])}if(p.length===0)throw new Error(i);return p}getLeaves(e,t,r){t=t||10,r=r||0;const i=[];return this._appendLeaves(i,e,t,r,0),i}getTile(e,t,r){const i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:s,radius:a}=this.options,l=a/s,c=(r-l)/o,f=(r+1+l)/o,p={features:[]};return this._addTileFeatures(i.range((t-l)/o,c,(t+1+l)/o,f),i.data,t,r,o,p),t===0&&this._addTileFeatures(i.range(1-l/o,c,1,f),i.data,o,r,o,p),t===o-1&&this._addTileFeatures(i.range(0,c,l/o,f),i.data,-1,r,o,p),p.features.length?p:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,r.length!==1)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,i,o){const s=this.getChildren(t);for(const a of s){const l=a.properties;if(l&&l.cluster?o+l.point_count<=i?o+=l.point_count:o=this._appendLeaves(e,l.cluster_id,r,i,o):o<i?o++:e.push(a),e.length===r)break}return o}_createTree(e){const t=new Ty(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,i,o,s){for(const a of e){const l=a*this.stride,c=t[l+Yo]>1;let f,p,h;if(c)f=QA(t,l,this.clusterProps),p=t[l],h=t[l+1];else{const b=this.points[t[l+Xo]];f=b.properties;const[w,S]=b.geometry.coordinates;p=Nd(w),h=Fd(S)}const m={type:1,geometry:[[Math.round(this.options.extent*(p*o-r)),Math.round(this.options.extent*(h*o-i))]],tags:f};let y;c||this.options.generateId?y=t[l+Xo]:y=this.points[t[l+Xo]].id,y!==void 0&&(m.id=y),s.features.push(m)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:r,extent:i,reduce:o,minPoints:s}=this.options,a=r/(i*Math.pow(2,t)),l=e.data,c=[],f=this.stride;for(let p=0;p<l.length;p+=f){if(l[p+_s]<=t)continue;l[p+_s]=t;const h=l[p],m=l[p+1],y=e.within(l[p],l[p+1],a),b=l[p+Yo];let w=b;for(const S of y){const k=S*f;l[k+_s]>t&&(w+=l[k+Yo])}if(w>b&&w>=s){let S=h*b,k=m*b,T,R=-1;const O=((p/f|0)<<5)+(t+1)+this.points.length;for(const M of y){const L=M*f;if(l[L+_s]<=t)continue;l[L+_s]=t;const D=l[L+Yo];S+=l[L]*D,k+=l[L+1]*D,l[L+em]=O,o&&(T||(T=this._map(l,p,!0),R=this.clusterProps.length,this.clusterProps.push(T)),o(T,this._map(l,L)))}l[p+em]=O,c.push(S/w,k/w,1/0,O,-1,w),o&&c.push(R)}else{for(let S=0;S<f;S++)c.push(l[p+S]);if(w>1)for(const S of y){const k=S*f;if(!(l[k+_s]<=t)){l[k+_s]=t;for(let T=0;T<f;T++)c.push(l[k+T])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+Yo]>1){const s=this.clusterProps[e[t+XA]];return r?Object.assign({},s):s}const i=this.points[e[t+Xo]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}function LS(n,e,t){return{type:"Feature",id:n[e+Xo],properties:QA(n,e,t),geometry:{type:"Point",coordinates:[lre(n[e]),ure(n[e+1])]}}}function QA(n,e,t){const r=n[e+Yo],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,o=n[e+XA],s=o===-1?{}:Object.assign({},t[o]);return Object.assign(s,{cluster:!0,cluster_id:n[e+Xo],point_count:r,point_count_abbreviated:i})}function Nd(n){return n/360+.5}function Fd(n){const e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function lre(n){return(n-.5)*360}function ure(n){const e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function cre(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}class ei{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class gv{constructor({markers:e,position:t}){this.markers=e,t&&(t instanceof google.maps.LatLng?this._position=t:this._position=new google.maps.LatLng(t))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(ei.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>ei.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(ei.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class dre{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return fre(e)}}const fre=n=>n.map(t=>new gv({position:ei.getPosition(t),markers:[t]}));class pre extends dre{constructor(e){var{maxZoom:t,radius:r=60}=e,i=cre(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new are(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let t=!1;const r={zoom:e.map.getZoom()};if(!ES(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=ei.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return t||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(t=!ES(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(t=>this.transformCluster(t))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){if(r.cluster)return new gv({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:t,lng:e}});const i=r.marker;return new gv({markers:[i],position:ei.getPosition(i)})}}class hre{constructor(e,t){this.markers={sum:e.length};const r=t.map(o=>o.count),i=r.reduce((o,s)=>o+s,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class gre{render({count:e,position:t},r,i){const s=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,l=Number(google.maps.Marker.MAX_ZINDEX)+e;if(ei.isAdvancedMarkerAvailable(i)){const p=new DOMParser().parseFromString(s,"image/svg+xml").documentElement;p.setAttribute("transform","translate(0 25)");const h={map:i,position:t,zIndex:l,title:a,content:p};return new google.maps.marker.AdvancedMarkerElement(h)}const c={position:t,zIndex:l,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}function mre(n,e){for(let t in e.prototype)n.prototype[t]=e.prototype[t]}class Ay{constructor(){mre(Ay,google.maps.OverlayView)}}var Bu;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(Bu||(Bu={}));const vre=(n,e,t)=>{t.fitBounds(e.bounds)};class yre extends Ay{constructor({map:e,markers:t=[],algorithmOptions:r={},algorithm:i=new pre(r),renderer:o=new gre,onClusterClick:s=vre}){super(),this.markers=[...t],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){const r=this.markers.indexOf(e);return r===-1?!1:(ei.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Bu.CLUSTERING_BEGIN,this);const{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const s of t)s.markers.length==1&&i.add(s.markers[0]);const o=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||ei.setMap(s.marker,null):o.push(s.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>o.forEach(s=>ei.setMap(s,null)))}google.maps.event.trigger(this,Bu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>ei.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new hre(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,t),r.markers.forEach(i=>ei.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Bu.CLUSTER_CLICK,r),this.onClusterClick(i,r,t)})),ei.setMap(r.marker,t)})}}function bre(n){var e=UA(),t=v.useState(null),r=t[0],i=t[1];return v.useEffect(function(){if(e&&r===null){var o=new yre(st(st({},n),{map:e}));i(o)}},[e]),r}function xre(n){var e=n.children,t=n.options,r=bre(t);return r!==null?e(r):null}v.memo(xre);var RS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},PS={options:function(n,e){n.setOptions(e)},position:function(n,e){n.setPosition(e)},zIndex:function(n,e){n.setZIndex(e)}};function wre(n){var e=n.children,t=n.anchor,r=n.options,i=n.position,o=n.zIndex,s=n.onCloseClick,a=n.onDomReady,l=n.onContentChanged,c=n.onPositionChanged,f=n.onZindexChanged,p=n.onLoad,h=n.onUnmount,m=v.useContext(mt),y=v.useState(null),b=y[0],w=y[1],S=v.useState(null),k=S[0],T=S[1],R=v.useState(null),O=R[0],M=R[1],L=v.useState(null),D=L[0],j=L[1],F=v.useState(null),ie=F[0],W=F[1],ne=v.useState(null),z=ne[0],X=ne[1],Z=v.useRef(null);return v.useEffect(function(){b!==null&&(b.close(),t?b.open(m,t):b.getPosition()&&b.open(m))},[m,b,t]),v.useEffect(function(){r&&b!==null&&b.setOptions(r)},[b,r]),v.useEffect(function(){i&&b!==null&&b.setPosition(i)},[i]),v.useEffect(function(){typeof o=="number"&&b!==null&&b.setZIndex(o)},[o]),v.useEffect(function(){b&&s&&(k!==null&&google.maps.event.removeListener(k),T(google.maps.event.addListener(b,"closeclick",s)))},[s]),v.useEffect(function(){b&&a&&(O!==null&&google.maps.event.removeListener(O),M(google.maps.event.addListener(b,"domready",a)))},[a]),v.useEffect(function(){b&&l&&(D!==null&&google.maps.event.removeListener(D),j(google.maps.event.addListener(b,"content_changed",l)))},[l]),v.useEffect(function(){b&&c&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(b,"position_changed",c)))},[c]),v.useEffect(function(){b&&f&&(z!==null&&google.maps.event.removeListener(z),X(google.maps.event.addListener(b,"zindex_changed",f)))},[f]),v.useEffect(function(){var H=new google.maps.InfoWindow(st({},r||{}));return w(H),Z.current=document.createElement("div"),s&&T(google.maps.event.addListener(H,"closeclick",s)),a&&M(google.maps.event.addListener(H,"domready",a)),l&&j(google.maps.event.addListener(H,"content_changed",l)),c&&W(google.maps.event.addListener(H,"position_changed",c)),f&&X(google.maps.event.addListener(H,"zindex_changed",f)),H.setContent(Z.current),i&&H.setPosition(i),o&&H.setZIndex(o),t?H.open(m,t):H.getPosition()?H.open(m):Dn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(H),function(){k&&google.maps.event.removeListener(k),D&&google.maps.event.removeListener(D),O&&google.maps.event.removeListener(O),ie&&google.maps.event.removeListener(ie),z&&google.maps.event.removeListener(z),h&&h(H),H.close()}},[]),Z.current?ys.createPortal(v.Children.only(e),Z.current):null}v.memo(wre);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoWindow:null},t.open=function(r,i){i?r.open(t.context,i):r.getPosition()?r.open(t.context):Dn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},t.setInfoWindowCallback=function(){t.state.infoWindow!==null&&t.containerElement!==null&&(t.state.infoWindow.setContent(t.containerElement),t.open(t.state.infoWindow,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoWindow))},t}return e.prototype.componentDidMount=function(){var t=new google.maps.InfoWindow(st({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=Mt({updaterMap:PS,eventMap:RS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{infoWindow:t}},this.setInfoWindowCallback)},e.prototype.componentDidUpdate=function(t){this.state.infoWindow!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:PS,eventMap:RS,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))},e.prototype.componentWillUnmount=function(){this.state.infoWindow!==null&&(Ot(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},e.prototype.render=function(){return this.containerElement?ys.createPortal(v.Children.only(this.props.children),this.containerElement):null},e.contextType=mt,e})(v.PureComponent);var IS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},DS={draggable:function(n,e){n.setDraggable(e)},editable:function(n,e){n.setEditable(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)},path:function(n,e){n.setPath(e)},visible:function(n,e){n.setVisible(e)}},Cre={};function Sre(n){var e=n.options,t=n.draggable,r=n.editable,i=n.visible,o=n.path,s=n.onDblClick,a=n.onDragEnd,l=n.onDragStart,c=n.onMouseDown,f=n.onMouseMove,p=n.onMouseOut,h=n.onMouseOver,m=n.onMouseUp,y=n.onRightClick,b=n.onClick,w=n.onDrag,S=n.onLoad,k=n.onUnmount,T=v.useContext(mt),R=v.useState(null),O=R[0],M=R[1],L=v.useState(null),D=L[0],j=L[1],F=v.useState(null),ie=F[0],W=F[1],ne=v.useState(null),z=ne[0],X=ne[1],Z=v.useState(null),H=Z[0],he=Z[1],_e=v.useState(null),pe=_e[0],te=_e[1],ue=v.useState(null),ve=ue[0],se=ue[1],A=v.useState(null),N=A[0],q=A[1],J=v.useState(null),ee=J[0],Re=J[1],Te=v.useState(null),Le=Te[0],Be=Te[1],Fe=v.useState(null),V=Fe[0],G=Fe[1],ke=v.useState(null),ae=ke[0],xe=ke[1];return v.useEffect(function(){O!==null&&O.setMap(T)},[T]),v.useEffect(function(){typeof e<"u"&&O!==null&&O.setOptions(e)},[O,e]),v.useEffect(function(){typeof t<"u"&&O!==null&&O.setDraggable(t)},[O,t]),v.useEffect(function(){typeof r<"u"&&O!==null&&O.setEditable(r)},[O,r]),v.useEffect(function(){typeof i<"u"&&O!==null&&O.setVisible(i)},[O,i]),v.useEffect(function(){typeof o<"u"&&O!==null&&O.setPath(o)},[O,o]),v.useEffect(function(){O&&s&&(D!==null&&google.maps.event.removeListener(D),j(google.maps.event.addListener(O,"dblclick",s)))},[s]),v.useEffect(function(){O&&a&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(O,"dragend",a)))},[a]),v.useEffect(function(){O&&l&&(z!==null&&google.maps.event.removeListener(z),X(google.maps.event.addListener(O,"dragstart",l)))},[l]),v.useEffect(function(){O&&c&&(H!==null&&google.maps.event.removeListener(H),he(google.maps.event.addListener(O,"mousedown",c)))},[c]),v.useEffect(function(){O&&f&&(pe!==null&&google.maps.event.removeListener(pe),te(google.maps.event.addListener(O,"mousemove",f)))},[f]),v.useEffect(function(){O&&p&&(ve!==null&&google.maps.event.removeListener(ve),se(google.maps.event.addListener(O,"mouseout",p)))},[p]),v.useEffect(function(){O&&h&&(N!==null&&google.maps.event.removeListener(N),q(google.maps.event.addListener(O,"mouseover",h)))},[h]),v.useEffect(function(){O&&m&&(ee!==null&&google.maps.event.removeListener(ee),Re(google.maps.event.addListener(O,"mouseup",m)))},[m]),v.useEffect(function(){O&&y&&(Le!==null&&google.maps.event.removeListener(Le),Be(google.maps.event.addListener(O,"rightclick",y)))},[y]),v.useEffect(function(){O&&b&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(O,"click",b)))},[b]),v.useEffect(function(){O&&w&&(ae!==null&&google.maps.event.removeListener(ae),xe(google.maps.event.addListener(O,"drag",w)))},[w]),v.useEffect(function(){var Me=new google.maps.Polyline(st(st({},e||Cre),{map:T}));return o&&Me.setPath(o),typeof i<"u"&&Me.setVisible(i),typeof r<"u"&&Me.setEditable(r),typeof t<"u"&&Me.setDraggable(t),s&&j(google.maps.event.addListener(Me,"dblclick",s)),a&&W(google.maps.event.addListener(Me,"dragend",a)),l&&X(google.maps.event.addListener(Me,"dragstart",l)),c&&he(google.maps.event.addListener(Me,"mousedown",c)),f&&te(google.maps.event.addListener(Me,"mousemove",f)),p&&se(google.maps.event.addListener(Me,"mouseout",p)),h&&q(google.maps.event.addListener(Me,"mouseover",h)),m&&Re(google.maps.event.addListener(Me,"mouseup",m)),y&&Be(google.maps.event.addListener(Me,"rightclick",y)),b&&G(google.maps.event.addListener(Me,"click",b)),w&&xe(google.maps.event.addListener(Me,"drag",w)),M(Me),S&&S(Me),function(){D!==null&&google.maps.event.removeListener(D),ie!==null&&google.maps.event.removeListener(ie),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),pe!==null&&google.maps.event.removeListener(pe),ve!==null&&google.maps.event.removeListener(ve),N!==null&&google.maps.event.removeListener(N),ee!==null&&google.maps.event.removeListener(ee),Le!==null&&google.maps.event.removeListener(Le),V!==null&&google.maps.event.removeListener(V),k&&k(Me),Me.setMap(null)}},[]),null}v.memo(Sre);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polyline:null},t.setPolylineCallback=function(){t.state.polyline!==null&&t.props.onLoad&&t.props.onLoad(t.state.polyline)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.Polyline(st(st({},this.props.options||{}),{map:this.context}));this.registeredEvents=Mt({updaterMap:DS,eventMap:IS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)},e.prototype.componentDidUpdate=function(t){this.state.polyline!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:DS,eventMap:IS,prevProps:t,nextProps:this.props,instance:this.state.polyline}))},e.prototype.componentWillUnmount=function(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ot(this.registeredEvents),this.state.polyline.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);var _S={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},$S={draggable:function(n,e){n.setDraggable(e)},editable:function(n,e){n.setEditable(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)},path:function(n,e){n.setPath(e)},paths:function(n,e){n.setPaths(e)},visible:function(n,e){n.setVisible(e)}};function kre(n){var e=n.options,t=n.draggable,r=n.editable,i=n.visible,o=n.path,s=n.paths,a=n.onDblClick,l=n.onDragEnd,c=n.onDragStart,f=n.onMouseDown,p=n.onMouseMove,h=n.onMouseOut,m=n.onMouseOver,y=n.onMouseUp,b=n.onRightClick,w=n.onClick,S=n.onDrag,k=n.onLoad,T=n.onUnmount,R=n.onEdit,O=v.useContext(mt),M=v.useState(null),L=M[0],D=M[1],j=v.useState(null),F=j[0],ie=j[1],W=v.useState(null),ne=W[0],z=W[1],X=v.useState(null),Z=X[0],H=X[1],he=v.useState(null),_e=he[0],pe=he[1],te=v.useState(null),ue=te[0],ve=te[1],se=v.useState(null),A=se[0],N=se[1],q=v.useState(null),J=q[0],ee=q[1],Re=v.useState(null),Te=Re[0],Le=Re[1],Be=v.useState(null),Fe=Be[0],V=Be[1],G=v.useState(null),ke=G[0],ae=G[1],xe=v.useState(null),Me=xe[0],Ae=xe[1];return v.useEffect(function(){L!==null&&L.setMap(O)},[O]),v.useEffect(function(){typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),v.useEffect(function(){typeof t<"u"&&L!==null&&L.setDraggable(t)},[L,t]),v.useEffect(function(){typeof r<"u"&&L!==null&&L.setEditable(r)},[L,r]),v.useEffect(function(){typeof i<"u"&&L!==null&&L.setVisible(i)},[L,i]),v.useEffect(function(){typeof o<"u"&&L!==null&&L.setPath(o)},[L,o]),v.useEffect(function(){typeof s<"u"&&L!==null&&L.setPaths(s)},[L,s]),v.useEffect(function(){L&&a&&(F!==null&&google.maps.event.removeListener(F),ie(google.maps.event.addListener(L,"dblclick",a)))},[a]),v.useEffect(function(){L&&(google.maps.event.addListener(L.getPath(),"insert_at",function(){R==null||R(L)}),google.maps.event.addListener(L.getPath(),"set_at",function(){R==null||R(L)}))},[L,R]),v.useEffect(function(){L&&l&&(ne!==null&&google.maps.event.removeListener(ne),z(google.maps.event.addListener(L,"dragend",l)))},[l]),v.useEffect(function(){L&&c&&(Z!==null&&google.maps.event.removeListener(Z),H(google.maps.event.addListener(L,"dragstart",c)))},[c]),v.useEffect(function(){L&&f&&(_e!==null&&google.maps.event.removeListener(_e),pe(google.maps.event.addListener(L,"mousedown",f)))},[f]),v.useEffect(function(){L&&p&&(ue!==null&&google.maps.event.removeListener(ue),ve(google.maps.event.addListener(L,"mousemove",p)))},[p]),v.useEffect(function(){L&&h&&(A!==null&&google.maps.event.removeListener(A),N(google.maps.event.addListener(L,"mouseout",h)))},[h]),v.useEffect(function(){L&&m&&(J!==null&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(L,"mouseover",m)))},[m]),v.useEffect(function(){L&&y&&(Te!==null&&google.maps.event.removeListener(Te),Le(google.maps.event.addListener(L,"mouseup",y)))},[y]),v.useEffect(function(){L&&b&&(Fe!==null&&google.maps.event.removeListener(Fe),V(google.maps.event.addListener(L,"rightclick",b)))},[b]),v.useEffect(function(){L&&w&&(ke!==null&&google.maps.event.removeListener(ke),ae(google.maps.event.addListener(L,"click",w)))},[w]),v.useEffect(function(){L&&S&&(Me!==null&&google.maps.event.removeListener(Me),Ae(google.maps.event.addListener(L,"drag",S)))},[S]),v.useEffect(function(){var Ie=new google.maps.Polygon(st(st({},e||{}),{map:O}));return o&&Ie.setPath(o),s&&Ie.setPaths(s),typeof i<"u"&&Ie.setVisible(i),typeof r<"u"&&Ie.setEditable(r),typeof t<"u"&&Ie.setDraggable(t),a&&ie(google.maps.event.addListener(Ie,"dblclick",a)),l&&z(google.maps.event.addListener(Ie,"dragend",l)),c&&H(google.maps.event.addListener(Ie,"dragstart",c)),f&&pe(google.maps.event.addListener(Ie,"mousedown",f)),p&&ve(google.maps.event.addListener(Ie,"mousemove",p)),h&&N(google.maps.event.addListener(Ie,"mouseout",h)),m&&ee(google.maps.event.addListener(Ie,"mouseover",m)),y&&Le(google.maps.event.addListener(Ie,"mouseup",y)),b&&V(google.maps.event.addListener(Ie,"rightclick",b)),w&&ae(google.maps.event.addListener(Ie,"click",w)),S&&Ae(google.maps.event.addListener(Ie,"drag",S)),D(Ie),k&&k(Ie),function(){F!==null&&google.maps.event.removeListener(F),ne!==null&&google.maps.event.removeListener(ne),Z!==null&&google.maps.event.removeListener(Z),_e!==null&&google.maps.event.removeListener(_e),ue!==null&&google.maps.event.removeListener(ue),A!==null&&google.maps.event.removeListener(A),J!==null&&google.maps.event.removeListener(J),Te!==null&&google.maps.event.removeListener(Te),Fe!==null&&google.maps.event.removeListener(Fe),ke!==null&&google.maps.event.removeListener(ke),T&&T(Ie),Ie.setMap(null)}},[]),null}v.memo(kre);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polygon:null},t.setPolygonCallback=function(){t.state.polygon!==null&&t.props.onLoad&&t.props.onLoad(t.state.polygon)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.Polygon(st(st({},this.props.options||{}),{map:this.context}));this.registeredEvents=Mt({updaterMap:$S,eventMap:_S,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polygon:t}},this.setPolygonCallback)},e.prototype.componentDidUpdate=function(t){this.state.polygon!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:$S,eventMap:_S,prevProps:t,nextProps:this.props,instance:this.state.polygon}))},e.prototype.componentWillUnmount=function(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),Ot(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);var NS={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},FS={bounds:function(n,e){n.setBounds(e)},draggable:function(n,e){n.setDraggable(e)},editable:function(n,e){n.setEditable(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)},visible:function(n,e){n.setVisible(e)}};function Mre(n){var e=n.options,t=n.bounds,r=n.draggable,i=n.editable,o=n.visible,s=n.onDblClick,a=n.onDragEnd,l=n.onDragStart,c=n.onMouseDown,f=n.onMouseMove,p=n.onMouseOut,h=n.onMouseOver,m=n.onMouseUp,y=n.onRightClick,b=n.onClick,w=n.onDrag,S=n.onBoundsChanged,k=n.onLoad,T=n.onUnmount,R=v.useContext(mt),O=v.useState(null),M=O[0],L=O[1],D=v.useState(null),j=D[0],F=D[1],ie=v.useState(null),W=ie[0],ne=ie[1],z=v.useState(null),X=z[0],Z=z[1],H=v.useState(null),he=H[0],_e=H[1],pe=v.useState(null),te=pe[0],ue=pe[1],ve=v.useState(null),se=ve[0],A=ve[1],N=v.useState(null),q=N[0],J=N[1],ee=v.useState(null),Re=ee[0],Te=ee[1],Le=v.useState(null),Be=Le[0],Fe=Le[1],V=v.useState(null),G=V[0],ke=V[1],ae=v.useState(null),xe=ae[0],Me=ae[1],Ae=v.useState(null),Ie=Ae[0],Pe=Ae[1];return v.useEffect(function(){M!==null&&M.setMap(R)},[R]),v.useEffect(function(){typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),v.useEffect(function(){typeof r<"u"&&M!==null&&M.setDraggable(r)},[M,r]),v.useEffect(function(){typeof i<"u"&&M!==null&&M.setEditable(i)},[M,i]),v.useEffect(function(){typeof o<"u"&&M!==null&&M.setVisible(o)},[M,o]),v.useEffect(function(){typeof t<"u"&&M!==null&&M.setBounds(t)},[M,t]),v.useEffect(function(){M&&s&&(j!==null&&google.maps.event.removeListener(j),F(google.maps.event.addListener(M,"dblclick",s)))},[s]),v.useEffect(function(){M&&a&&(W!==null&&google.maps.event.removeListener(W),ne(google.maps.event.addListener(M,"dragend",a)))},[a]),v.useEffect(function(){M&&l&&(X!==null&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(M,"dragstart",l)))},[l]),v.useEffect(function(){M&&c&&(he!==null&&google.maps.event.removeListener(he),_e(google.maps.event.addListener(M,"mousedown",c)))},[c]),v.useEffect(function(){M&&f&&(te!==null&&google.maps.event.removeListener(te),ue(google.maps.event.addListener(M,"mousemove",f)))},[f]),v.useEffect(function(){M&&p&&(se!==null&&google.maps.event.removeListener(se),A(google.maps.event.addListener(M,"mouseout",p)))},[p]),v.useEffect(function(){M&&h&&(q!==null&&google.maps.event.removeListener(q),J(google.maps.event.addListener(M,"mouseover",h)))},[h]),v.useEffect(function(){M&&m&&(Re!==null&&google.maps.event.removeListener(Re),Te(google.maps.event.addListener(M,"mouseup",m)))},[m]),v.useEffect(function(){M&&y&&(Be!==null&&google.maps.event.removeListener(Be),Fe(google.maps.event.addListener(M,"rightclick",y)))},[y]),v.useEffect(function(){M&&b&&(G!==null&&google.maps.event.removeListener(G),ke(google.maps.event.addListener(M,"click",b)))},[b]),v.useEffect(function(){M&&w&&(xe!==null&&google.maps.event.removeListener(xe),Me(google.maps.event.addListener(M,"drag",w)))},[w]),v.useEffect(function(){M&&S&&(Ie!==null&&google.maps.event.removeListener(Ie),Pe(google.maps.event.addListener(M,"bounds_changed",S)))},[S]),v.useEffect(function(){var Ee=new google.maps.Rectangle(st(st({},e||{}),{map:R}));return typeof o<"u"&&Ee.setVisible(o),typeof i<"u"&&Ee.setEditable(i),typeof r<"u"&&Ee.setDraggable(r),typeof t<"u"&&Ee.setBounds(t),s&&F(google.maps.event.addListener(Ee,"dblclick",s)),a&&ne(google.maps.event.addListener(Ee,"dragend",a)),l&&Z(google.maps.event.addListener(Ee,"dragstart",l)),c&&_e(google.maps.event.addListener(Ee,"mousedown",c)),f&&ue(google.maps.event.addListener(Ee,"mousemove",f)),p&&A(google.maps.event.addListener(Ee,"mouseout",p)),h&&J(google.maps.event.addListener(Ee,"mouseover",h)),m&&Te(google.maps.event.addListener(Ee,"mouseup",m)),y&&Fe(google.maps.event.addListener(Ee,"rightclick",y)),b&&ke(google.maps.event.addListener(Ee,"click",b)),w&&Me(google.maps.event.addListener(Ee,"drag",w)),S&&Pe(google.maps.event.addListener(Ee,"bounds_changed",S)),L(Ee),k&&k(Ee),function(){j!==null&&google.maps.event.removeListener(j),W!==null&&google.maps.event.removeListener(W),X!==null&&google.maps.event.removeListener(X),he!==null&&google.maps.event.removeListener(he),te!==null&&google.maps.event.removeListener(te),se!==null&&google.maps.event.removeListener(se),q!==null&&google.maps.event.removeListener(q),Re!==null&&google.maps.event.removeListener(Re),Be!==null&&google.maps.event.removeListener(Be),G!==null&&google.maps.event.removeListener(G),xe!==null&&google.maps.event.removeListener(xe),Ie!==null&&google.maps.event.removeListener(Ie),T&&T(Ee),Ee.setMap(null)}},[]),null}v.memo(Mre);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={rectangle:null},t.setRectangleCallback=function(){t.state.rectangle!==null&&t.props.onLoad&&t.props.onLoad(t.state.rectangle)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.Rectangle(st(st({},this.props.options||{}),{map:this.context}));this.registeredEvents=Mt({updaterMap:FS,eventMap:NS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)},e.prototype.componentDidUpdate=function(t){this.state.rectangle!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:FS,eventMap:NS,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))},e.prototype.componentWillUnmount=function(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ot(this.registeredEvents),this.state.rectangle.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);var BS={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},jS={center:function(n,e){n.setCenter(e)},draggable:function(n,e){n.setDraggable(e)},editable:function(n,e){n.setEditable(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)},radius:function(n,e){n.setRadius(e)},visible:function(n,e){n.setVisible(e)}},Ere={};function Tre(n){var e=n.options,t=n.center,r=n.radius,i=n.draggable,o=n.editable,s=n.visible,a=n.onDblClick,l=n.onDragEnd,c=n.onDragStart,f=n.onMouseDown,p=n.onMouseMove,h=n.onMouseOut,m=n.onMouseOver,y=n.onMouseUp,b=n.onRightClick,w=n.onClick,S=n.onDrag,k=n.onCenterChanged,T=n.onRadiusChanged,R=n.onLoad,O=n.onUnmount,M=v.useContext(mt),L=v.useState(null),D=L[0],j=L[1],F=v.useState(null),ie=F[0],W=F[1],ne=v.useState(null),z=ne[0],X=ne[1],Z=v.useState(null),H=Z[0],he=Z[1],_e=v.useState(null),pe=_e[0],te=_e[1],ue=v.useState(null),ve=ue[0],se=ue[1],A=v.useState(null),N=A[0],q=A[1],J=v.useState(null),ee=J[0],Re=J[1],Te=v.useState(null),Le=Te[0],Be=Te[1],Fe=v.useState(null),V=Fe[0],G=Fe[1],ke=v.useState(null),ae=ke[0],xe=ke[1],Me=v.useState(null),Ae=Me[0],Ie=Me[1],Pe=v.useState(null),Ee=Pe[0],Qe=Pe[1],We=v.useState(null),Ge=We[0],ot=We[1];return v.useEffect(function(){D!==null&&D.setMap(M)},[M]),v.useEffect(function(){typeof e<"u"&&D!==null&&D.setOptions(e)},[D,e]),v.useEffect(function(){typeof i<"u"&&D!==null&&D.setDraggable(i)},[D,i]),v.useEffect(function(){typeof o<"u"&&D!==null&&D.setEditable(o)},[D,o]),v.useEffect(function(){typeof s<"u"&&D!==null&&D.setVisible(s)},[D,s]),v.useEffect(function(){typeof r=="number"&&D!==null&&D.setRadius(r)},[D,r]),v.useEffect(function(){typeof t<"u"&&D!==null&&D.setCenter(t)},[D,t]),v.useEffect(function(){D&&a&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(D,"dblclick",a)))},[a]),v.useEffect(function(){D&&l&&(z!==null&&google.maps.event.removeListener(z),X(google.maps.event.addListener(D,"dragend",l)))},[l]),v.useEffect(function(){D&&c&&(H!==null&&google.maps.event.removeListener(H),he(google.maps.event.addListener(D,"dragstart",c)))},[c]),v.useEffect(function(){D&&f&&(pe!==null&&google.maps.event.removeListener(pe),te(google.maps.event.addListener(D,"mousedown",f)))},[f]),v.useEffect(function(){D&&p&&(ve!==null&&google.maps.event.removeListener(ve),se(google.maps.event.addListener(D,"mousemove",p)))},[p]),v.useEffect(function(){D&&h&&(N!==null&&google.maps.event.removeListener(N),q(google.maps.event.addListener(D,"mouseout",h)))},[h]),v.useEffect(function(){D&&m&&(ee!==null&&google.maps.event.removeListener(ee),Re(google.maps.event.addListener(D,"mouseover",m)))},[m]),v.useEffect(function(){D&&y&&(Le!==null&&google.maps.event.removeListener(Le),Be(google.maps.event.addListener(D,"mouseup",y)))},[y]),v.useEffect(function(){D&&b&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(D,"rightclick",b)))},[b]),v.useEffect(function(){D&&w&&(ae!==null&&google.maps.event.removeListener(ae),xe(google.maps.event.addListener(D,"click",w)))},[w]),v.useEffect(function(){D&&S&&(Ae!==null&&google.maps.event.removeListener(Ae),Ie(google.maps.event.addListener(D,"drag",S)))},[S]),v.useEffect(function(){D&&k&&(Ee!==null&&google.maps.event.removeListener(Ee),Qe(google.maps.event.addListener(D,"center_changed",k)))},[w]),v.useEffect(function(){D&&T&&(Ge!==null&&google.maps.event.removeListener(Ge),ot(google.maps.event.addListener(D,"radius_changed",T)))},[T]),v.useEffect(function(){var Ke=new google.maps.Circle(st(st({},e||Ere),{map:M}));return typeof r=="number"&&Ke.setRadius(r),typeof t<"u"&&Ke.setCenter(t),typeof r=="number"&&Ke.setRadius(r),typeof s<"u"&&Ke.setVisible(s),typeof o<"u"&&Ke.setEditable(o),typeof i<"u"&&Ke.setDraggable(i),a&&W(google.maps.event.addListener(Ke,"dblclick",a)),l&&X(google.maps.event.addListener(Ke,"dragend",l)),c&&he(google.maps.event.addListener(Ke,"dragstart",c)),f&&te(google.maps.event.addListener(Ke,"mousedown",f)),p&&se(google.maps.event.addListener(Ke,"mousemove",p)),h&&q(google.maps.event.addListener(Ke,"mouseout",h)),m&&Re(google.maps.event.addListener(Ke,"mouseover",m)),y&&Be(google.maps.event.addListener(Ke,"mouseup",y)),b&&G(google.maps.event.addListener(Ke,"rightclick",b)),w&&xe(google.maps.event.addListener(Ke,"click",w)),S&&Ie(google.maps.event.addListener(Ke,"drag",S)),k&&Qe(google.maps.event.addListener(Ke,"center_changed",k)),T&&ot(google.maps.event.addListener(Ke,"radius_changed",T)),j(Ke),R&&R(Ke),function(){ie!==null&&google.maps.event.removeListener(ie),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),pe!==null&&google.maps.event.removeListener(pe),ve!==null&&google.maps.event.removeListener(ve),N!==null&&google.maps.event.removeListener(N),ee!==null&&google.maps.event.removeListener(ee),Le!==null&&google.maps.event.removeListener(Le),V!==null&&google.maps.event.removeListener(V),ae!==null&&google.maps.event.removeListener(ae),Ee!==null&&google.maps.event.removeListener(Ee),Ge!==null&&google.maps.event.removeListener(Ge),O&&O(Ke),Ke.setMap(null)}},[]),null}v.memo(Tre);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={circle:null},t.setCircleCallback=function(){t.state.circle!==null&&t.props.onLoad&&t.props.onLoad(t.state.circle)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.Circle(st(st({},this.props.options||{}),{map:this.context}));this.registeredEvents=Mt({updaterMap:jS,eventMap:BS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)},e.prototype.componentDidUpdate=function(t){this.state.circle!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:jS,eventMap:BS,prevProps:t,nextProps:this.props,instance:this.state.circle}))},e.prototype.componentWillUnmount=function(){var t;this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ot(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);var zS={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},HS={add:function(n,e){n.add(e)},addgeojson:function(n,e,t){n.addGeoJson(e,t)},contains:function(n,e){n.contains(e)},foreach:function(n,e){n.forEach(e)},loadgeojson:function(n,e,t,r){n.loadGeoJson(e,t,r)},overridestyle:function(n,e,t){n.overrideStyle(e,t)},remove:function(n,e){n.remove(e)},revertstyle:function(n,e){n.revertStyle(e)},controlposition:function(n,e){n.setControlPosition(e)},controls:function(n,e){n.setControls(e)},drawingmode:function(n,e){n.setDrawingMode(e)},map:function(n,e){n.setMap(e)},style:function(n,e){n.setStyle(e)},togeojson:function(n,e){n.toGeoJson(e)}};function Are(n){var e=n.options,t=n.onClick,r=n.onDblClick,i=n.onMouseDown,o=n.onMouseMove,s=n.onMouseOut,a=n.onMouseOver,l=n.onMouseUp,c=n.onRightClick,f=n.onAddFeature,p=n.onRemoveFeature,h=n.onRemoveProperty,m=n.onSetGeometry,y=n.onSetProperty,b=n.onLoad,w=n.onUnmount,S=v.useContext(mt),k=v.useState(null),T=k[0],R=k[1],O=v.useState(null),M=O[0],L=O[1],D=v.useState(null),j=D[0],F=D[1],ie=v.useState(null),W=ie[0],ne=ie[1],z=v.useState(null),X=z[0],Z=z[1],H=v.useState(null),he=H[0],_e=H[1],pe=v.useState(null),te=pe[0],ue=pe[1],ve=v.useState(null),se=ve[0],A=ve[1],N=v.useState(null),q=N[0],J=N[1],ee=v.useState(null),Re=ee[0],Te=ee[1],Le=v.useState(null),Be=Le[0],Fe=Le[1],V=v.useState(null),G=V[0],ke=V[1],ae=v.useState(null),xe=ae[0],Me=ae[1],Ae=v.useState(null),Ie=Ae[0],Pe=Ae[1];return v.useEffect(function(){T!==null&&T.setMap(S)},[S]),v.useEffect(function(){T&&r&&(M!==null&&google.maps.event.removeListener(M),L(google.maps.event.addListener(T,"dblclick",r)))},[r]),v.useEffect(function(){T&&i&&(j!==null&&google.maps.event.removeListener(j),F(google.maps.event.addListener(T,"mousedown",i)))},[i]),v.useEffect(function(){T&&o&&(W!==null&&google.maps.event.removeListener(W),ne(google.maps.event.addListener(T,"mousemove",o)))},[o]),v.useEffect(function(){T&&s&&(X!==null&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(T,"mouseout",s)))},[s]),v.useEffect(function(){T&&a&&(he!==null&&google.maps.event.removeListener(he),_e(google.maps.event.addListener(T,"mouseover",a)))},[a]),v.useEffect(function(){T&&l&&(te!==null&&google.maps.event.removeListener(te),ue(google.maps.event.addListener(T,"mouseup",l)))},[l]),v.useEffect(function(){T&&c&&(se!==null&&google.maps.event.removeListener(se),A(google.maps.event.addListener(T,"rightclick",c)))},[c]),v.useEffect(function(){T&&t&&(q!==null&&google.maps.event.removeListener(q),J(google.maps.event.addListener(T,"click",t)))},[t]),v.useEffect(function(){T&&f&&(Re!==null&&google.maps.event.removeListener(Re),Te(google.maps.event.addListener(T,"addfeature",f)))},[f]),v.useEffect(function(){T&&p&&(Be!==null&&google.maps.event.removeListener(Be),Fe(google.maps.event.addListener(T,"removefeature",p)))},[p]),v.useEffect(function(){T&&h&&(G!==null&&google.maps.event.removeListener(G),ke(google.maps.event.addListener(T,"removeproperty",h)))},[h]),v.useEffect(function(){T&&m&&(xe!==null&&google.maps.event.removeListener(xe),Me(google.maps.event.addListener(T,"setgeometry",m)))},[m]),v.useEffect(function(){T&&y&&(Ie!==null&&google.maps.event.removeListener(Ie),Pe(google.maps.event.addListener(T,"setproperty",y)))},[y]),v.useEffect(function(){if(S!==null){var Ee=new google.maps.Data(st(st({},e||{}),{map:S}));r&&L(google.maps.event.addListener(Ee,"dblclick",r)),i&&F(google.maps.event.addListener(Ee,"mousedown",i)),o&&ne(google.maps.event.addListener(Ee,"mousemove",o)),s&&Z(google.maps.event.addListener(Ee,"mouseout",s)),a&&_e(google.maps.event.addListener(Ee,"mouseover",a)),l&&ue(google.maps.event.addListener(Ee,"mouseup",l)),c&&A(google.maps.event.addListener(Ee,"rightclick",c)),t&&J(google.maps.event.addListener(Ee,"click",t)),f&&Te(google.maps.event.addListener(Ee,"addfeature",f)),p&&Fe(google.maps.event.addListener(Ee,"removefeature",p)),h&&ke(google.maps.event.addListener(Ee,"removeproperty",h)),m&&Me(google.maps.event.addListener(Ee,"setgeometry",m)),y&&Pe(google.maps.event.addListener(Ee,"setproperty",y)),R(Ee),b&&b(Ee)}return function(){T&&(M!==null&&google.maps.event.removeListener(M),j!==null&&google.maps.event.removeListener(j),W!==null&&google.maps.event.removeListener(W),X!==null&&google.maps.event.removeListener(X),he!==null&&google.maps.event.removeListener(he),te!==null&&google.maps.event.removeListener(te),se!==null&&google.maps.event.removeListener(se),q!==null&&google.maps.event.removeListener(q),Re!==null&&google.maps.event.removeListener(Re),Be!==null&&google.maps.event.removeListener(Be),G!==null&&google.maps.event.removeListener(G),xe!==null&&google.maps.event.removeListener(xe),Ie!==null&&google.maps.event.removeListener(Ie),w&&w(T),T.setMap(null))}},[]),null}v.memo(Are);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={data:null},t.setDataCallback=function(){t.state.data!==null&&t.props.onLoad&&t.props.onLoad(t.state.data)},t}return e.prototype.componentDidMount=function(){if(this.context!==null){var t=new google.maps.Data(st(st({},this.props.options||{}),{map:this.context}));this.registeredEvents=Mt({updaterMap:HS,eventMap:zS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{data:t}},this.setDataCallback)}},e.prototype.componentDidUpdate=function(t){this.state.data!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:HS,eventMap:zS,prevProps:t,nextProps:this.props,instance:this.state.data}))},e.prototype.componentWillUnmount=function(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ot(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);var WS={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},US={options:function(n,e){n.setOptions(e)},url:function(n,e){n.setUrl(e)},zIndex:function(n,e){n.setZIndex(e)}};(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={kmlLayer:null},t.setKmlLayerCallback=function(){t.state.kmlLayer!==null&&t.props.onLoad&&t.props.onLoad(t.state.kmlLayer)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.KmlLayer(st(st({},this.props.options),{map:this.context}));this.registeredEvents=Mt({updaterMap:US,eventMap:WS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)},e.prototype.componentDidUpdate=function(t){this.state.kmlLayer!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:US,eventMap:WS,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))},e.prototype.componentWillUnmount=function(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ot(this.registeredEvents),this.state.kmlLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);function e2(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function Ore(n,e){return new e(n.lat,n.lng)}function Lre(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function Rre(n,e,t){return n instanceof e?n:t(n,e)}function Pre(n,e,t){return n instanceof e?n:t(n,e)}function Ire(n,e,t){var r=n&&n.fromLatLngToDivPixel(t.getNorthEast()),i=n&&n.fromLatLngToDivPixel(t.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function Dre(n,e,t){var r=n&&n.fromLatLngToDivPixel(t);if(r){var i=r.x,o=r.y;return{left:"".concat(i+e.x,"px"),top:"".concat(o+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function t2(n,e,t,r){return t!==void 0?Ire(n,e,Pre(t,google.maps.LatLngBounds,Lre)):Dre(n,e,Rre(r,google.maps.LatLng,Ore))}function _re(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function $re(n,e,t,r,i){var o=function(s){en(a,s);function a(l,c,f,p){var h=s.call(this)||this;return h.container=l,h.pane=c,h.position=f,h.bounds=p,h}return a.prototype.onAdd=function(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)},a.prototype.draw=function(){for(var l=this.getProjection(),c=st({},this.container?e2(this.container,i):{x:0,y:0}),f=t2(l,c,this.bounds,this.position),p=0,h=Object.entries(f);p<h.length;p++){var m=h[p],y=m[0],b=m[1];this.container.style[y]=b}},a.prototype.onRemove=function(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)},a}(google.maps.OverlayView);return new o(n,e,t,r)}function VS(n){if(!n)return"";var e=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);return e+""}function GS(n){if(!n)return"";var e=n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west));return e+""}function Nre(n){var e=n.position,t=n.bounds,r=n.mapPaneName,i=n.zIndex,o=n.onLoad,s=n.onUnmount,a=n.getPixelPositionOffset,l=n.children,c=v.useContext(mt),f=v.useMemo(function(){var h=document.createElement("div");return h.style.position="absolute",h},[]),p=v.useMemo(function(){return $re(f,r,e,t,a)},[f,r,e,t]);return v.useEffect(function(){return o==null||o(p),p==null||p.setMap(c),function(){s==null||s(p),p==null||p.setMap(null)}},[c,p]),v.useEffect(function(){f.style.zIndex="".concat(i)},[i,f]),ys.createPortal(l,f)}v.memo(Nre);(function(n){en(e,n);function e(t){var r=n.call(this,t)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var o=r.props.mapPaneName,s=r.overlayView.getPanes();Dn(!!o,"OverlayView requires props.mapPaneName but got %s",o),s?r.setState({paneEl:s[o]}):r.setState({paneEl:null})},r.onAdd=function(){var o,s;r.updatePane(),(s=(o=r.props).onLoad)===null||s===void 0||s.call(o,r.overlayView)},r.onPositionElement=function(){var o=r.overlayView.getProjection(),s=st({x:0,y:0},r.containerRef.current?e2(r.containerRef.current,r.props.getPixelPositionOffset):{}),a=t2(o,s,r.props.bounds,r.props.position),l=r.state.containerStyle,c=l.left,f=l.top,p=l.width,h=l.height;_re(a,{left:c,top:f,width:p,height:h})||r.setState({containerStyle:{top:a.top||0,left:a.left||0,width:a.width||0,height:a.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var o,s;r.setState(function(){return{paneEl:null}}),(s=(o=r.props).onUnmount)===null||s===void 0||s.call(o,r.overlayView)},r.containerRef=v.createRef();var i=new google.maps.OverlayView;return i.onAdd=r.onAdd,i.draw=r.draw,i.onRemove=r.onRemove,r.overlayView=i,r}return e.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},e.prototype.componentDidUpdate=function(t){var r=VS(t.position),i=VS(this.props.position),o=GS(t.bounds),s=GS(this.props.bounds);(r!==i||o!==s)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()},e.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},e.prototype.render=function(){var t=this.state.paneEl;return t?ys.createPortal(x.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:v.Children.only(this.props.children)}),t):null},e.FLOAT_PANE="floatPane",e.MAP_PANE="mapPane",e.MARKER_LAYER="markerLayer",e.OVERLAY_LAYER="overlayLayer",e.OVERLAY_MOUSE_TARGET="overlayMouseTarget",e.contextType=mt,e})(v.PureComponent);function Fre(){}var KS={onDblClick:"dblclick",onClick:"click"},qS={opacity:function(n,e){n.setOpacity(e)}};function Bre(n){var e=n.url,t=n.bounds,r=n.options,i=n.visible,o=v.useContext(mt),s=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),a=v.useMemo(function(){var l=new google.maps.GroundOverlay(e,s,st({},r));return l},[]);return v.useEffect(function(){a!==null&&a.setMap(o)},[o]),v.useEffect(function(){typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(o))},[a,e]),v.useEffect(function(){typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),v.useEffect(function(){var l=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&a!==null&&(a.set("bounds",l),a.setMap(o))},[a,t]),null}v.memo(Bre);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={groundOverlay:null},t.setGroundOverlayCallback=function(){t.state.groundOverlay!==null&&t.props.onLoad&&t.props.onLoad(t.state.groundOverlay)},t}return e.prototype.componentDidMount=function(){Dn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,st(st({},this.props.options),{map:this.context}));this.registeredEvents=Mt({updaterMap:qS,eventMap:KS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)},e.prototype.componentDidUpdate=function(t){this.state.groundOverlay!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:qS,eventMap:KS,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))},e.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},e.prototype.render=function(){return null},e.defaultProps={onLoad:Fre},e.contextType=mt,e})(v.PureComponent);var YS={},JS={data:function(n,e){n.setData(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)}};function jre(n){var e=n.data,t=n.onLoad,r=n.onUnmount,i=n.options,o=v.useContext(mt),s=v.useState(null),a=s[0],l=s[1];return v.useEffect(function(){google.maps.visualization||Dn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),v.useEffect(function(){Dn(!!e,"data property is required in HeatmapLayer %s",e)},[e]),v.useEffect(function(){a!==null&&a.setMap(o)},[o]),v.useEffect(function(){i&&a!==null&&a.setOptions(i)},[a,i]),v.useEffect(function(){var c=new google.maps.visualization.HeatmapLayer(st(st({},i||{}),{data:e,map:o}));return l(c),t&&t(c),function(){a!==null&&(r&&r(a),a.setMap(null))}},[]),null}v.memo(jre);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={heatmapLayer:null},t.setHeatmapLayerCallback=function(){t.state.heatmapLayer!==null&&t.props.onLoad&&t.props.onLoad(t.state.heatmapLayer)},t}return e.prototype.componentDidMount=function(){Dn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Dn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(st(st({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=Mt({updaterMap:JS,eventMap:YS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)},e.prototype.componentDidUpdate=function(t){Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:JS,eventMap:YS,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})},e.prototype.componentWillUnmount=function(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ot(this.registeredEvents),this.state.heatmapLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);var ZS={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},XS={register:function(n,e,t){n.registerPanoProvider(e,t)},links:function(n,e){n.setLinks(e)},motionTracking:function(n,e){n.setMotionTracking(e)},options:function(n,e){n.setOptions(e)},pano:function(n,e){n.setPano(e)},position:function(n,e){n.setPosition(e)},pov:function(n,e){n.setPov(e)},visible:function(n,e){n.setVisible(e)},zoom:function(n,e){n.setZoom(e)}};(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={streetViewPanorama:null},t.setStreetViewPanoramaCallback=function(){t.state.streetViewPanorama!==null&&t.props.onLoad&&t.props.onLoad(t.state.streetViewPanorama)},t}return e.prototype.componentDidMount=function(){var t,r,i=(r=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&r!==void 0?r:null;this.registeredEvents=Mt({updaterMap:XS,eventMap:ZS,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{streetViewPanorama:i}},this.setStreetViewPanoramaCallback)},e.prototype.componentDidUpdate=function(t){this.state.streetViewPanorama!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:XS,eventMap:ZS,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))},e.prototype.componentWillUnmount=function(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ot(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={streetViewService:null},t.setStreetViewServiceCallback=function(){t.state.streetViewService!==null&&t.props.onLoad&&t.props.onLoad(t.state.streetViewService)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)},e.prototype.componentWillUnmount=function(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},e.prototype.render=function(){return null},e.contextType=mt,e})(v.PureComponent);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={directionsService:null},t.setDirectionsServiceCallback=function(){t.state.directionsService!==null&&t.props.onLoad&&t.props.onLoad(t.state.directionsService)},t}return e.prototype.componentDidMount=function(){Dn(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var t=new google.maps.DirectionsService;this.setState(function(){return{directionsService:t}},this.setDirectionsServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},e.prototype.render=function(){return null},e})(v.PureComponent);var QS={onDirectionsChanged:"directions_changed"},ek={directions:function(n,e){n.setDirections(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)},panel:function(n,e){n.setPanel(e)},routeIndex:function(n,e){n.setRouteIndex(e)}};(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={directionsRenderer:null},t.setDirectionsRendererCallback=function(){t.state.directionsRenderer!==null&&(t.state.directionsRenderer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.directionsRenderer))},t}return e.prototype.componentDidMount=function(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Mt({updaterMap:ek,eventMap:QS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)},e.prototype.componentDidUpdate=function(t){this.state.directionsRenderer!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:ek,eventMap:QS,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))},e.prototype.componentWillUnmount=function(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ot(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},e.prototype.render=function(){return x.jsx(x.Fragment,{})},e.contextType=mt,e})(v.PureComponent);(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={distanceMatrixService:null},t.setDistanceMatrixServiceCallback=function(){t.state.distanceMatrixService!==null&&t.props.onLoad&&t.props.onLoad(t.state.distanceMatrixService)},t}return e.prototype.componentDidMount=function(){Dn(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var t=new google.maps.DistanceMatrixService;this.setState(function(){return{distanceMatrixService:t}},this.setDistanceMatrixServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.distanceMatrixService!==null&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.distanceMatrixService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},e.prototype.render=function(){return null},e})(v.PureComponent);var tk={onPlacesChanged:"places_changed"},nk={bounds:function(n,e){n.setBounds(e)}};(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=v.createRef(),t.state={searchBox:null},t.setSearchBoxCallback=function(){t.state.searchBox!==null&&t.props.onLoad&&t.props.onLoad(t.state.searchBox)},t}return e.prototype.componentDidMount=function(){if(Dn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var r=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=Mt({updaterMap:nk,eventMap:tk,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}},e.prototype.componentDidUpdate=function(t){this.state.searchBox!==null&&(Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:nk,eventMap:tk,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))},e.prototype.componentWillUnmount=function(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ot(this.registeredEvents))},e.prototype.render=function(){return x.jsx("div",{ref:this.containerElement,children:v.Children.only(this.props.children)})},e.contextType=mt,e})(v.PureComponent);var rk={onPlaceChanged:"place_changed"},ik={bounds:function(n,e){n.setBounds(e)},restrictions:function(n,e){n.setComponentRestrictions(e)},fields:function(n,e){n.setFields(e)},options:function(n,e){n.setOptions(e)},types:function(n,e){n.setTypes(e)}};(function(n){en(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=v.createRef(),t.state={autocomplete:null},t.setAutocompleteCallback=function(){t.state.autocomplete!==null&&t.props.onLoad&&t.props.onLoad(t.state.autocomplete)},t}return e.prototype.componentDidMount=function(){var t;Dn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(r){var i=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=Mt({updaterMap:ik,eventMap:rk,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{autocomplete:i}},this.setAutocompleteCallback)}},e.prototype.componentDidUpdate=function(t){Ot(this.registeredEvents),this.registeredEvents=Mt({updaterMap:ik,eventMap:rk,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})},e.prototype.componentWillUnmount=function(){this.state.autocomplete!==null&&Ot(this.registeredEvents)},e.prototype.render=function(){return x.jsx("div",{ref:this.containerElement,className:this.props.className,children:v.Children.only(this.props.children)})},e.defaultProps={className:""},e.contextType=mt,e})(v.PureComponent);const n2=["places"],Oy={lat:0,lng:0};async function zre(n){const e=n.getBounds();if(e)return e;let t;return new Promise(r=>{t=google.maps.event.addListener(n,"bounds_changed",()=>{r(n.getBounds()),google.maps.event.removeListener(t)})})}function Al(n){return!(!n||n.lat===void 0||n.lng===void 0||Number.isNaN(n.lat)||Number.isNaN(n.lng)||typeof my(n.lat)=="string"||typeof vy(n.lng)=="string")}function Hre(n){return n?/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/.test(n):!1}function ok(n,e){return n===e||n&&e&&n.lat===e.lat&&n.lng===e.lng}const Wre=ce.div`
	&.mapCoordinates {
		margin-bottom: 8px;
	}
`,sk=ce(Op)`
  min-width: 684px;

  &.MuiTextField-root {
    display: flex;
  }
`,Ure=ce(rE)`
  cursor: pointer;
  color: ${K.newColors.almostBlack[100]};
`,Vre=ce.div`
  background-color: white;
  border: ${K.borders.fieldGray};
  border-top: 0;
  font-family: ${K.fontFamily};
  padding: 8px 0;
  box-shadow: 0 1px 3px rgba(0,0,0,.05);
`,Gre=ce.div`
  	background-color: ${({$isSuggestionActive:n})=>n?K.colors.gray200:"white"};
  	cursor: pointer;
	padding: 6px 16px;
	width: 100%;
`,Kre=ce.p`
  font-size: 14px;
  margin: 0;

  &:active {
    color: ${K.colors.gray800};
    font-weight: ${K.fontWeight.bold};
  }
`,qre=n=>{const{className:e,value:t,onChange:r,onBlur:i,onSelect:o,textField:s,placeholder:a,googleMapsApiKey:l,disabled:c,id:f}=n,[p,h]=$.useState(null),{isLoaded:m,loadError:y}=Ey({googleMapsApiKey:l,libraries:n2}),b=k=>{h(k.target)},w=()=>{h(null),i&&i()},S={...s,inputProps:{"data-testid":"location-search-input"},variant:"outlined",value:t,onFocus:b,onBlur:w};return!m||y?x.jsx(sk,{...S,fieldSize:"lg",onChange:({target:{value:k}})=>r(k),disabled:c,id:f}):x.jsx(Wre,{className:e,children:x.jsx(Ene,{value:t,onChange:r,onSelect:o,children:({getInputProps:k,suggestions:T,getSuggestionItemProps:R})=>x.jsxs("div",{style:{position:"relative"},children:[x.jsx(sk,{...S,...k({placeholder:a}),fieldSize:"",onFocus:b,onBlur:w,disabled:c,id:f}),x.jsx(eF,{open:!!p&&(T==null?void 0:T.length)>0,anchorEl:p,onClose:w,anchorOrigin:{vertical:"bottom",horizontal:"left"},disableAutoFocus:!0,disableEnforceFocus:!0,children:x.jsx(Vre,{children:T==null?void 0:T.map(O=>v.createElement(Gre,{...R(O),key:O==null?void 0:O.placeId,$isSuggestionActive:O==null?void 0:O.active},x.jsx(Kre,{children:O==null?void 0:O.description})))})})]})})})},r2=v.memo(qre),Xi={no:"street_number",street:"route",neighborhood:"neighborhood",locality:"locality",town:"postal_town",area1:"administrative_area_level_1",area2:"administrative_area_level_2",country:"country",postcode:"postal_code"};function yi(n){return function(){throw new Error(n)}}const Hl=v.createContext({state:tc(),methods:{addValidator:yi("addValidator requires a FormContext provider"),addWait:yi("addWait requires a FormContext provider"),disableForm:yi("disableForm requires a FormContext provider"),init:yi("init requires a FormContext provider"),mountField:yi("mountField requires a FormContext provider"),removeWait:yi("removeWait requires a FormContext provider"),reset:yi("reset requires a FormContext provider"),setFieldBlur:yi("setFieldBlur requires a FormContext provider"),setFieldValue:yi("setFieldValue requires a FormContext provider"),setFormValues:yi("setFormValues requires a FormContext provider"),setSubmitWarning:yi("setSubmitWarning requires a FormContext provider"),submitForm:yi("submitForm requires a FormContext provider")}});function Yre(n){const{fieldDef:e,path:t,skeleton:r}=n,{inputSettings:i}=e,{getOptionsCountries:o,getOptionsStates:s,googleMapsApiKey:a}=i,{methods:l}=v.useContext(Hl),{setFormValues:c}=l,[f,p]=v.useState(""),[h,m]=v.useState(!1),y=v.useCallback(async b=>{const[w]=await ky(b),S=w.address_components,k=ne=>{const z=S.find(({types:X})=>X.includes(ne));return!z||!z.long_name?"":z.long_name},T=!!k(Xi.town),R=[{label:"Address 1",value:[k(Xi.no),k(Xi.street)].filter(Boolean).join(" "),dataKey:"address1",emptyWarning:!0},{label:"Address 2",value:T?k(Xi.locality):"",dataKey:"address2"},{label:"City",value:k(T?Xi.town:Xi.locality),dataKey:"city",emptyWarning:!0},{label:"Postal Code",value:k(Xi.postcode),dataKey:"postalCode",emptyWarning:!0}],O=await o(),M=k(Xi.country),L=O.find(({label:ne})=>ne.toLowerCase().includes(M.toLowerCase()));R.push({label:"Country",value:L||"",dataKey:"country",emptyWarning:!0});const D=L?await s(L.value):[],j=k(T?Xi.area2:Xi.area1),F=D.find(({label:ne})=>ne.toLowerCase().includes(j.toLowerCase()));R.push({label:"State",value:F||"",dataKey:"state",emptyWarning:!0});const ie=R.reduce((ne,z)=>({...ne,[z.dataKey]:z.value}),{}),W=R.filter(({emptyWarning:ne,value:z})=>ne&&!z);c({values:ie,path:t,validate:!0}),W.length&&(console.warn("Some components could not be resolved.",`

Components received:
`,S,`

By type they are:
`,S.map(({types:[ne],long_name:z})=>`${ne}: ${z}`).join(`
`),`

Mosaic Result:
`,R),p(W.map(({label:ne})=>ne).join(", ")),m(!0))},[o,s,t,c]);return x.jsxs(x.Fragment,{children:[x.jsx(by,{error:n.error,id:e.name,fieldDef:{name:e.name,type:"autocomplete",label:e.label,required:e.required,size:Qt.lg},methods:n.methods,disabled:n.disabled,useRealLabel:!0,skeleton:r,children:r?x.jsx(kt,{variant:"rectangular",width:"100%",height:43}):x.jsx(r2,{onChange:b=>n.onChange(b),onBlur:n.onBlur,value:n.value??"",onSelect:y,googleMapsApiKey:a,disabled:n.disabled,id:`${e.name}-input`})}),ys.createPortal(x.jsx(p0,{autoHideDuration:4e3,label:`The following fields could not be autocompleted: ${f}.`,open:h,onClose:()=>m(!1)}),document.body)]})}const Jre=v.memo(Yre);var Df={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Df.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",p=1,h=2,m=4,y=1,b=2,w=1,S=2,k=4,T=8,R=16,O=32,M=64,L=128,D=256,j=512,F=30,ie="...",W=800,ne=16,z=1,X=2,Z=3,H=1/0,he=9007199254740991,_e=17976931348623157e292,pe=NaN,te=4294967295,ue=te-1,ve=te>>>1,se=[["ary",L],["bind",w],["bindKey",S],["curry",T],["curryRight",R],["flip",j],["partial",O],["partialRight",M],["rearg",D]],A="[object Arguments]",N="[object Array]",q="[object AsyncFunction]",J="[object Boolean]",ee="[object Date]",Re="[object DOMException]",Te="[object Error]",Le="[object Function]",Be="[object GeneratorFunction]",Fe="[object Map]",V="[object Number]",G="[object Null]",ke="[object Object]",ae="[object Promise]",xe="[object Proxy]",Me="[object RegExp]",Ae="[object Set]",Ie="[object String]",Pe="[object Symbol]",Ee="[object Undefined]",Qe="[object WeakMap]",We="[object WeakSet]",Ge="[object ArrayBuffer]",ot="[object DataView]",Ke="[object Float32Array]",Ct="[object Float64Array]",cn="[object Int8Array]",tn="[object Int16Array]",gn="[object Int32Array]",dn="[object Uint8Array]",mn="[object Uint8ClampedArray]",Lt="[object Uint16Array]",jn="[object Uint32Array]",mr=/\b__p \+= '';/g,vn=/\b(__p \+=) '' \+/g,Gn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sn=/&(?:amp|lt|gt|quot|#39);/g,er=/[&<>"']/g,vr=RegExp(Sn.source),Rr=RegExp(er.source),Kn=/<%-([\s\S]+?)%>/g,qn=/<%([\s\S]+?)%>/g,ai=/<%=([\s\S]+?)%>/g,Pr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ir=/^\w*$/,fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kt=/[\\^$.*+?()[\]{}|]/g,Tn=RegExp(Kt.source),tr=/^\s+/,Dr=/\s/,Ai=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Oi=/\{\n\/\* \[wrapped with (.+)\] \*/,$n=/,? & /,_r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yr=/[()=,{}\[\]\/\s]/,br=/\\(\\)?/g,me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,St=/^0o[0-7]+$/i,_=/^(?:0|[1-9]\d*)$/,oe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,De=/['\n\r\u2028\u2029\\]/g,et="\\ud800-\\udfff",Xe="\\u0300-\\u036f",Ne="\\ufe20-\\ufe2f",Zt="\\u20d0-\\u20ff",Yt=Xe+Ne+Zt,zt="\\u2700-\\u27bf",It="a-z\\xdf-\\xf6\\xf8-\\xff",$r="\\xac\\xb1\\xd7\\xf7",zn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",An="\\u2000-\\u206f",Nn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nr="A-Z\\xc0-\\xd6\\xd8-\\xde",uo="\\ufe0e\\ufe0f",Li=$r+zn+An+Nn,xa="[']",$c="["+et+"]",Nc="["+Li+"]",wa="["+Yt+"]",Vt="\\d+",Ht="["+zt+"]",Ca="["+It+"]",Ki="[^"+et+Li+Vt+zt+It+Nr+"]",No="\\ud83c[\\udffb-\\udfff]",xr="(?:"+wa+"|"+No+")",li="[^"+et+"]",ui="(?:\\ud83c[\\udde6-\\uddff]){2}",co="[\\ud800-\\udbff][\\udc00-\\udfff]",Ri="["+Nr+"]",fo="\\u200d",Pi="(?:"+Ca+"|"+Ki+")",Fc="(?:"+Ri+"|"+Ki+")",Cs="(?:"+xa+"(?:d|ll|m|re|s|t|ve))?",Sa="(?:"+xa+"(?:D|LL|M|RE|S|T|VE))?",Ss=xr+"?",ks="["+uo+"]?",Bc="(?:"+fo+"(?:"+[li,ui,co].join("|")+")"+ks+Ss+")*",ka="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ma="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Kb=ks+Ss+Bc,vR="(?:"+[Ht,ui,co].join("|")+")"+Kb,yR="(?:"+[li+wa+"?",wa,ui,co,$c].join("|")+")",bR=RegExp(xa,"g"),xR=RegExp(wa,"g"),ph=RegExp(No+"(?="+No+")|"+yR+Kb,"g"),wR=RegExp([Ri+"?"+Ca+"+"+Cs+"(?="+[Nc,Ri,"$"].join("|")+")",Fc+"+"+Sa+"(?="+[Nc,Ri+Pi,"$"].join("|")+")",Ri+"?"+Pi+"+"+Cs,Ri+"+"+Sa,Ma,ka,Vt,vR].join("|"),"g"),CR=RegExp("["+fo+et+Yt+uo+"]"),SR=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kR=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],MR=-1,on={};on[Ke]=on[Ct]=on[cn]=on[tn]=on[gn]=on[dn]=on[mn]=on[Lt]=on[jn]=!0,on[A]=on[N]=on[Ge]=on[J]=on[ot]=on[ee]=on[Te]=on[Le]=on[Fe]=on[V]=on[ke]=on[Me]=on[Ae]=on[Ie]=on[Qe]=!1;var nn={};nn[A]=nn[N]=nn[Ge]=nn[ot]=nn[J]=nn[ee]=nn[Ke]=nn[Ct]=nn[cn]=nn[tn]=nn[gn]=nn[Fe]=nn[V]=nn[ke]=nn[Me]=nn[Ae]=nn[Ie]=nn[Pe]=nn[dn]=nn[mn]=nn[Lt]=nn[jn]=!0,nn[Te]=nn[Le]=nn[Qe]=!1;var ER={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},TR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},AR={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},OR={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},LR=parseFloat,RR=parseInt,qb=typeof To=="object"&&To&&To.Object===Object&&To,PR=typeof self=="object"&&self&&self.Object===Object&&self,nr=qb||PR||Function("return this")(),hh=e&&!e.nodeType&&e,Ms=hh&&!0&&n&&!n.nodeType&&n,Yb=Ms&&Ms.exports===hh,gh=Yb&&qb.process,ci=function(){try{var Y=Ms&&Ms.require&&Ms.require("util").types;return Y||gh&&gh.binding&&gh.binding("util")}catch{}}(),Jb=ci&&ci.isArrayBuffer,Zb=ci&&ci.isDate,Xb=ci&&ci.isMap,Qb=ci&&ci.isRegExp,e1=ci&&ci.isSet,t1=ci&&ci.isTypedArray;function Kr(Y,ye,de){switch(de.length){case 0:return Y.call(ye);case 1:return Y.call(ye,de[0]);case 2:return Y.call(ye,de[0],de[1]);case 3:return Y.call(ye,de[0],de[1],de[2])}return Y.apply(ye,de)}function IR(Y,ye,de,Ye){for(var pt=-1,Wt=Y==null?0:Y.length;++pt<Wt;){var Hn=Y[pt];ye(Ye,Hn,de(Hn),Y)}return Ye}function di(Y,ye){for(var de=-1,Ye=Y==null?0:Y.length;++de<Ye&&ye(Y[de],de,Y)!==!1;);return Y}function DR(Y,ye){for(var de=Y==null?0:Y.length;de--&&ye(Y[de],de,Y)!==!1;);return Y}function n1(Y,ye){for(var de=-1,Ye=Y==null?0:Y.length;++de<Ye;)if(!ye(Y[de],de,Y))return!1;return!0}function Fo(Y,ye){for(var de=-1,Ye=Y==null?0:Y.length,pt=0,Wt=[];++de<Ye;){var Hn=Y[de];ye(Hn,de,Y)&&(Wt[pt++]=Hn)}return Wt}function jc(Y,ye){var de=Y==null?0:Y.length;return!!de&&Ea(Y,ye,0)>-1}function mh(Y,ye,de){for(var Ye=-1,pt=Y==null?0:Y.length;++Ye<pt;)if(de(ye,Y[Ye]))return!0;return!1}function pn(Y,ye){for(var de=-1,Ye=Y==null?0:Y.length,pt=Array(Ye);++de<Ye;)pt[de]=ye(Y[de],de,Y);return pt}function Bo(Y,ye){for(var de=-1,Ye=ye.length,pt=Y.length;++de<Ye;)Y[pt+de]=ye[de];return Y}function vh(Y,ye,de,Ye){var pt=-1,Wt=Y==null?0:Y.length;for(Ye&&Wt&&(de=Y[++pt]);++pt<Wt;)de=ye(de,Y[pt],pt,Y);return de}function _R(Y,ye,de,Ye){var pt=Y==null?0:Y.length;for(Ye&&pt&&(de=Y[--pt]);pt--;)de=ye(de,Y[pt],pt,Y);return de}function yh(Y,ye){for(var de=-1,Ye=Y==null?0:Y.length;++de<Ye;)if(ye(Y[de],de,Y))return!0;return!1}var $R=bh("length");function NR(Y){return Y.split("")}function FR(Y){return Y.match(_r)||[]}function r1(Y,ye,de){var Ye;return de(Y,function(pt,Wt,Hn){if(ye(pt,Wt,Hn))return Ye=Wt,!1}),Ye}function zc(Y,ye,de,Ye){for(var pt=Y.length,Wt=de+(Ye?1:-1);Ye?Wt--:++Wt<pt;)if(ye(Y[Wt],Wt,Y))return Wt;return-1}function Ea(Y,ye,de){return ye===ye?JR(Y,ye,de):zc(Y,i1,de)}function BR(Y,ye,de,Ye){for(var pt=de-1,Wt=Y.length;++pt<Wt;)if(Ye(Y[pt],ye))return pt;return-1}function i1(Y){return Y!==Y}function o1(Y,ye){var de=Y==null?0:Y.length;return de?wh(Y,ye)/de:pe}function bh(Y){return function(ye){return ye==null?t:ye[Y]}}function xh(Y){return function(ye){return Y==null?t:Y[ye]}}function s1(Y,ye,de,Ye,pt){return pt(Y,function(Wt,Hn,Xt){de=Ye?(Ye=!1,Wt):ye(de,Wt,Hn,Xt)}),de}function jR(Y,ye){var de=Y.length;for(Y.sort(ye);de--;)Y[de]=Y[de].value;return Y}function wh(Y,ye){for(var de,Ye=-1,pt=Y.length;++Ye<pt;){var Wt=ye(Y[Ye]);Wt!==t&&(de=de===t?Wt:de+Wt)}return de}function Ch(Y,ye){for(var de=-1,Ye=Array(Y);++de<Y;)Ye[de]=ye(de);return Ye}function zR(Y,ye){return pn(ye,function(de){return[de,Y[de]]})}function a1(Y){return Y&&Y.slice(0,d1(Y)+1).replace(tr,"")}function qr(Y){return function(ye){return Y(ye)}}function Sh(Y,ye){return pn(ye,function(de){return Y[de]})}function Ul(Y,ye){return Y.has(ye)}function l1(Y,ye){for(var de=-1,Ye=Y.length;++de<Ye&&Ea(ye,Y[de],0)>-1;);return de}function u1(Y,ye){for(var de=Y.length;de--&&Ea(ye,Y[de],0)>-1;);return de}function HR(Y,ye){for(var de=Y.length,Ye=0;de--;)Y[de]===ye&&++Ye;return Ye}var WR=xh(ER),UR=xh(TR);function VR(Y){return"\\"+OR[Y]}function GR(Y,ye){return Y==null?t:Y[ye]}function Ta(Y){return CR.test(Y)}function KR(Y){return SR.test(Y)}function qR(Y){for(var ye,de=[];!(ye=Y.next()).done;)de.push(ye.value);return de}function kh(Y){var ye=-1,de=Array(Y.size);return Y.forEach(function(Ye,pt){de[++ye]=[pt,Ye]}),de}function c1(Y,ye){return function(de){return Y(ye(de))}}function jo(Y,ye){for(var de=-1,Ye=Y.length,pt=0,Wt=[];++de<Ye;){var Hn=Y[de];(Hn===ye||Hn===f)&&(Y[de]=f,Wt[pt++]=de)}return Wt}function Hc(Y){var ye=-1,de=Array(Y.size);return Y.forEach(function(Ye){de[++ye]=Ye}),de}function YR(Y){var ye=-1,de=Array(Y.size);return Y.forEach(function(Ye){de[++ye]=[Ye,Ye]}),de}function JR(Y,ye,de){for(var Ye=de-1,pt=Y.length;++Ye<pt;)if(Y[Ye]===ye)return Ye;return-1}function ZR(Y,ye,de){for(var Ye=de+1;Ye--;)if(Y[Ye]===ye)return Ye;return Ye}function Aa(Y){return Ta(Y)?QR(Y):$R(Y)}function Ii(Y){return Ta(Y)?eP(Y):NR(Y)}function d1(Y){for(var ye=Y.length;ye--&&Dr.test(Y.charAt(ye)););return ye}var XR=xh(AR);function QR(Y){for(var ye=ph.lastIndex=0;ph.test(Y);)++ye;return ye}function eP(Y){return Y.match(ph)||[]}function tP(Y){return Y.match(wR)||[]}var nP=function Y(ye){ye=ye==null?nr:Oa.defaults(nr.Object(),ye,Oa.pick(nr,kR));var de=ye.Array,Ye=ye.Date,pt=ye.Error,Wt=ye.Function,Hn=ye.Math,Xt=ye.Object,Mh=ye.RegExp,rP=ye.String,fi=ye.TypeError,Wc=de.prototype,iP=Wt.prototype,La=Xt.prototype,Uc=ye["__core-js_shared__"],Vc=iP.toString,qt=La.hasOwnProperty,oP=0,f1=function(){var u=/[^.]+$/.exec(Uc&&Uc.keys&&Uc.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Gc=La.toString,sP=Vc.call(Xt),aP=nr._,lP=Mh("^"+Vc.call(qt).replace(Kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kc=Yb?ye.Buffer:t,zo=ye.Symbol,qc=ye.Uint8Array,p1=Kc?Kc.allocUnsafe:t,Yc=c1(Xt.getPrototypeOf,Xt),h1=Xt.create,g1=La.propertyIsEnumerable,Jc=Wc.splice,m1=zo?zo.isConcatSpreadable:t,Vl=zo?zo.iterator:t,Es=zo?zo.toStringTag:t,Zc=function(){try{var u=Rs(Xt,"defineProperty");return u({},"",{}),u}catch{}}(),uP=ye.clearTimeout!==nr.clearTimeout&&ye.clearTimeout,cP=Ye&&Ye.now!==nr.Date.now&&Ye.now,dP=ye.setTimeout!==nr.setTimeout&&ye.setTimeout,Xc=Hn.ceil,Qc=Hn.floor,Eh=Xt.getOwnPropertySymbols,fP=Kc?Kc.isBuffer:t,v1=ye.isFinite,pP=Wc.join,hP=c1(Xt.keys,Xt),Wn=Hn.max,lr=Hn.min,gP=Ye.now,mP=ye.parseInt,y1=Hn.random,vP=Wc.reverse,Th=Rs(ye,"DataView"),Gl=Rs(ye,"Map"),Ah=Rs(ye,"Promise"),Ra=Rs(ye,"Set"),Kl=Rs(ye,"WeakMap"),ql=Rs(Xt,"create"),ed=Kl&&new Kl,Pa={},yP=Ps(Th),bP=Ps(Gl),xP=Ps(Ah),wP=Ps(Ra),CP=Ps(Kl),td=zo?zo.prototype:t,Yl=td?td.valueOf:t,b1=td?td.toString:t;function P(u){if(kn(u)&&!ht(u)&&!(u instanceof Rt)){if(u instanceof pi)return u;if(qt.call(u,"__wrapped__"))return xx(u)}return new pi(u)}var Ia=function(){function u(){}return function(d){if(!yn(d))return{};if(h1)return h1(d);u.prototype=d;var g=new u;return u.prototype=t,g}}();function nd(){}function pi(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}P.templateSettings={escape:Kn,evaluate:qn,interpolate:ai,variable:"",imports:{_:P}},P.prototype=nd.prototype,P.prototype.constructor=P,pi.prototype=Ia(nd.prototype),pi.prototype.constructor=pi;function Rt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function SP(){var u=new Rt(this.__wrapped__);return u.__actions__=Fr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Fr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Fr(this.__views__),u}function kP(){if(this.__filtered__){var u=new Rt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function MP(){var u=this.__wrapped__.value(),d=this.__dir__,g=ht(u),C=d<0,E=g?u.length:0,I=NI(0,E,this.__views__),B=I.start,U=I.end,Q=U-B,Ce=C?U:B-1,Se=this.__iteratees__,Oe=Se.length,Ue=0,nt=lr(Q,this.__takeCount__);if(!g||!C&&E==Q&&nt==Q)return W1(u,this.__actions__);var ut=[];e:for(;Q--&&Ue<nt;){Ce+=d;for(var vt=-1,ct=u[Ce];++vt<Oe;){var Et=Se[vt],Dt=Et.iteratee,Zr=Et.type,Sr=Dt(ct);if(Zr==X)ct=Sr;else if(!Sr){if(Zr==z)continue e;break e}}ut[Ue++]=ct}return ut}Rt.prototype=Ia(nd.prototype),Rt.prototype.constructor=Rt;function Ts(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var C=u[d];this.set(C[0],C[1])}}function EP(){this.__data__=ql?ql(null):{},this.size=0}function TP(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function AP(u){var d=this.__data__;if(ql){var g=d[u];return g===l?t:g}return qt.call(d,u)?d[u]:t}function OP(u){var d=this.__data__;return ql?d[u]!==t:qt.call(d,u)}function LP(u,d){var g=this.__data__;return this.size+=this.has(u)?0:1,g[u]=ql&&d===t?l:d,this}Ts.prototype.clear=EP,Ts.prototype.delete=TP,Ts.prototype.get=AP,Ts.prototype.has=OP,Ts.prototype.set=LP;function po(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var C=u[d];this.set(C[0],C[1])}}function RP(){this.__data__=[],this.size=0}function PP(u){var d=this.__data__,g=rd(d,u);if(g<0)return!1;var C=d.length-1;return g==C?d.pop():Jc.call(d,g,1),--this.size,!0}function IP(u){var d=this.__data__,g=rd(d,u);return g<0?t:d[g][1]}function DP(u){return rd(this.__data__,u)>-1}function _P(u,d){var g=this.__data__,C=rd(g,u);return C<0?(++this.size,g.push([u,d])):g[C][1]=d,this}po.prototype.clear=RP,po.prototype.delete=PP,po.prototype.get=IP,po.prototype.has=DP,po.prototype.set=_P;function ho(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var C=u[d];this.set(C[0],C[1])}}function $P(){this.size=0,this.__data__={hash:new Ts,map:new(Gl||po),string:new Ts}}function NP(u){var d=gd(this,u).delete(u);return this.size-=d?1:0,d}function FP(u){return gd(this,u).get(u)}function BP(u){return gd(this,u).has(u)}function jP(u,d){var g=gd(this,u),C=g.size;return g.set(u,d),this.size+=g.size==C?0:1,this}ho.prototype.clear=$P,ho.prototype.delete=NP,ho.prototype.get=FP,ho.prototype.has=BP,ho.prototype.set=jP;function As(u){var d=-1,g=u==null?0:u.length;for(this.__data__=new ho;++d<g;)this.add(u[d])}function zP(u){return this.__data__.set(u,l),this}function HP(u){return this.__data__.has(u)}As.prototype.add=As.prototype.push=zP,As.prototype.has=HP;function Di(u){var d=this.__data__=new po(u);this.size=d.size}function WP(){this.__data__=new po,this.size=0}function UP(u){var d=this.__data__,g=d.delete(u);return this.size=d.size,g}function VP(u){return this.__data__.get(u)}function GP(u){return this.__data__.has(u)}function KP(u,d){var g=this.__data__;if(g instanceof po){var C=g.__data__;if(!Gl||C.length<i-1)return C.push([u,d]),this.size=++g.size,this;g=this.__data__=new ho(C)}return g.set(u,d),this.size=g.size,this}Di.prototype.clear=WP,Di.prototype.delete=UP,Di.prototype.get=VP,Di.prototype.has=GP,Di.prototype.set=KP;function x1(u,d){var g=ht(u),C=!g&&Is(u),E=!g&&!C&&Go(u),I=!g&&!C&&!E&&Na(u),B=g||C||E||I,U=B?Ch(u.length,rP):[],Q=U.length;for(var Ce in u)(d||qt.call(u,Ce))&&!(B&&(Ce=="length"||E&&(Ce=="offset"||Ce=="parent")||I&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||yo(Ce,Q)))&&U.push(Ce);return U}function w1(u){var d=u.length;return d?u[Bh(0,d-1)]:t}function qP(u,d){return md(Fr(u),Os(d,0,u.length))}function YP(u){return md(Fr(u))}function Oh(u,d,g){(g!==t&&!_i(u[d],g)||g===t&&!(d in u))&&go(u,d,g)}function Jl(u,d,g){var C=u[d];(!(qt.call(u,d)&&_i(C,g))||g===t&&!(d in u))&&go(u,d,g)}function rd(u,d){for(var g=u.length;g--;)if(_i(u[g][0],d))return g;return-1}function JP(u,d,g,C){return Ho(u,function(E,I,B){d(C,E,g(E),B)}),C}function C1(u,d){return u&&Yi(d,Yn(d),u)}function ZP(u,d){return u&&Yi(d,jr(d),u)}function go(u,d,g){d=="__proto__"&&Zc?Zc(u,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):u[d]=g}function Lh(u,d){for(var g=-1,C=d.length,E=de(C),I=u==null;++g<C;)E[g]=I?t:cg(u,d[g]);return E}function Os(u,d,g){return u===u&&(g!==t&&(u=u<=g?u:g),d!==t&&(u=u>=d?u:d)),u}function hi(u,d,g,C,E,I){var B,U=d&p,Q=d&h,Ce=d&m;if(g&&(B=E?g(u,C,E,I):g(u)),B!==t)return B;if(!yn(u))return u;var Se=ht(u);if(Se){if(B=BI(u),!U)return Fr(u,B)}else{var Oe=ur(u),Ue=Oe==Le||Oe==Be;if(Go(u))return G1(u,U);if(Oe==ke||Oe==A||Ue&&!E){if(B=Q||Ue?{}:dx(u),!U)return Q?AI(u,ZP(B,u)):TI(u,C1(B,u))}else{if(!nn[Oe])return E?u:{};B=jI(u,Oe,U)}}I||(I=new Di);var nt=I.get(u);if(nt)return nt;I.set(u,B),jx(u)?u.forEach(function(ct){B.add(hi(ct,d,g,ct,u,I))}):Fx(u)&&u.forEach(function(ct,Et){B.set(Et,hi(ct,d,g,Et,u,I))});var ut=Ce?Q?Jh:Yh:Q?jr:Yn,vt=Se?t:ut(u);return di(vt||u,function(ct,Et){vt&&(Et=ct,ct=u[Et]),Jl(B,Et,hi(ct,d,g,Et,u,I))}),B}function XP(u){var d=Yn(u);return function(g){return S1(g,u,d)}}function S1(u,d,g){var C=g.length;if(u==null)return!C;for(u=Xt(u);C--;){var E=g[C],I=d[E],B=u[E];if(B===t&&!(E in u)||!I(B))return!1}return!0}function k1(u,d,g){if(typeof u!="function")throw new fi(s);return ru(function(){u.apply(t,g)},d)}function Zl(u,d,g,C){var E=-1,I=jc,B=!0,U=u.length,Q=[],Ce=d.length;if(!U)return Q;g&&(d=pn(d,qr(g))),C?(I=mh,B=!1):d.length>=i&&(I=Ul,B=!1,d=new As(d));e:for(;++E<U;){var Se=u[E],Oe=g==null?Se:g(Se);if(Se=C||Se!==0?Se:0,B&&Oe===Oe){for(var Ue=Ce;Ue--;)if(d[Ue]===Oe)continue e;Q.push(Se)}else I(d,Oe,C)||Q.push(Se)}return Q}var Ho=Z1(qi),M1=Z1(Ph,!0);function QP(u,d){var g=!0;return Ho(u,function(C,E,I){return g=!!d(C,E,I),g}),g}function id(u,d,g){for(var C=-1,E=u.length;++C<E;){var I=u[C],B=d(I);if(B!=null&&(U===t?B===B&&!Jr(B):g(B,U)))var U=B,Q=I}return Q}function eI(u,d,g,C){var E=u.length;for(g=gt(g),g<0&&(g=-g>E?0:E+g),C=C===t||C>E?E:gt(C),C<0&&(C+=E),C=g>C?0:Hx(C);g<C;)u[g++]=d;return u}function E1(u,d){var g=[];return Ho(u,function(C,E,I){d(C,E,I)&&g.push(C)}),g}function rr(u,d,g,C,E){var I=-1,B=u.length;for(g||(g=HI),E||(E=[]);++I<B;){var U=u[I];d>0&&g(U)?d>1?rr(U,d-1,g,C,E):Bo(E,U):C||(E[E.length]=U)}return E}var Rh=X1(),T1=X1(!0);function qi(u,d){return u&&Rh(u,d,Yn)}function Ph(u,d){return u&&T1(u,d,Yn)}function od(u,d){return Fo(d,function(g){return bo(u[g])})}function Ls(u,d){d=Uo(d,u);for(var g=0,C=d.length;u!=null&&g<C;)u=u[Ji(d[g++])];return g&&g==C?u:t}function A1(u,d,g){var C=d(u);return ht(u)?C:Bo(C,g(u))}function wr(u){return u==null?u===t?Ee:G:Es&&Es in Xt(u)?$I(u):YI(u)}function Ih(u,d){return u>d}function tI(u,d){return u!=null&&qt.call(u,d)}function nI(u,d){return u!=null&&d in Xt(u)}function rI(u,d,g){return u>=lr(d,g)&&u<Wn(d,g)}function Dh(u,d,g){for(var C=g?mh:jc,E=u[0].length,I=u.length,B=I,U=de(I),Q=1/0,Ce=[];B--;){var Se=u[B];B&&d&&(Se=pn(Se,qr(d))),Q=lr(Se.length,Q),U[B]=!g&&(d||E>=120&&Se.length>=120)?new As(B&&Se):t}Se=u[0];var Oe=-1,Ue=U[0];e:for(;++Oe<E&&Ce.length<Q;){var nt=Se[Oe],ut=d?d(nt):nt;if(nt=g||nt!==0?nt:0,!(Ue?Ul(Ue,ut):C(Ce,ut,g))){for(B=I;--B;){var vt=U[B];if(!(vt?Ul(vt,ut):C(u[B],ut,g)))continue e}Ue&&Ue.push(ut),Ce.push(nt)}}return Ce}function iI(u,d,g,C){return qi(u,function(E,I,B){d(C,g(E),I,B)}),C}function Xl(u,d,g){d=Uo(d,u),u=gx(u,d);var C=u==null?u:u[Ji(mi(d))];return C==null?t:Kr(C,u,g)}function O1(u){return kn(u)&&wr(u)==A}function oI(u){return kn(u)&&wr(u)==Ge}function sI(u){return kn(u)&&wr(u)==ee}function Ql(u,d,g,C,E){return u===d?!0:u==null||d==null||!kn(u)&&!kn(d)?u!==u&&d!==d:aI(u,d,g,C,Ql,E)}function aI(u,d,g,C,E,I){var B=ht(u),U=ht(d),Q=B?N:ur(u),Ce=U?N:ur(d);Q=Q==A?ke:Q,Ce=Ce==A?ke:Ce;var Se=Q==ke,Oe=Ce==ke,Ue=Q==Ce;if(Ue&&Go(u)){if(!Go(d))return!1;B=!0,Se=!1}if(Ue&&!Se)return I||(I=new Di),B||Na(u)?lx(u,d,g,C,E,I):DI(u,d,Q,g,C,E,I);if(!(g&y)){var nt=Se&&qt.call(u,"__wrapped__"),ut=Oe&&qt.call(d,"__wrapped__");if(nt||ut){var vt=nt?u.value():u,ct=ut?d.value():d;return I||(I=new Di),E(vt,ct,g,C,I)}}return Ue?(I||(I=new Di),_I(u,d,g,C,E,I)):!1}function lI(u){return kn(u)&&ur(u)==Fe}function _h(u,d,g,C){var E=g.length,I=E,B=!C;if(u==null)return!I;for(u=Xt(u);E--;){var U=g[E];if(B&&U[2]?U[1]!==u[U[0]]:!(U[0]in u))return!1}for(;++E<I;){U=g[E];var Q=U[0],Ce=u[Q],Se=U[1];if(B&&U[2]){if(Ce===t&&!(Q in u))return!1}else{var Oe=new Di;if(C)var Ue=C(Ce,Se,Q,u,d,Oe);if(!(Ue===t?Ql(Se,Ce,y|b,C,Oe):Ue))return!1}}return!0}function L1(u){if(!yn(u)||UI(u))return!1;var d=bo(u)?lP:at;return d.test(Ps(u))}function uI(u){return kn(u)&&wr(u)==Me}function cI(u){return kn(u)&&ur(u)==Ae}function dI(u){return kn(u)&&Cd(u.length)&&!!on[wr(u)]}function R1(u){return typeof u=="function"?u:u==null?zr:typeof u=="object"?ht(u)?D1(u[0],u[1]):I1(u):Qx(u)}function $h(u){if(!nu(u))return hP(u);var d=[];for(var g in Xt(u))qt.call(u,g)&&g!="constructor"&&d.push(g);return d}function fI(u){if(!yn(u))return qI(u);var d=nu(u),g=[];for(var C in u)C=="constructor"&&(d||!qt.call(u,C))||g.push(C);return g}function Nh(u,d){return u<d}function P1(u,d){var g=-1,C=Br(u)?de(u.length):[];return Ho(u,function(E,I,B){C[++g]=d(E,I,B)}),C}function I1(u){var d=Xh(u);return d.length==1&&d[0][2]?px(d[0][0],d[0][1]):function(g){return g===u||_h(g,u,d)}}function D1(u,d){return eg(u)&&fx(d)?px(Ji(u),d):function(g){var C=cg(g,u);return C===t&&C===d?dg(g,u):Ql(d,C,y|b)}}function sd(u,d,g,C,E){u!==d&&Rh(d,function(I,B){if(E||(E=new Di),yn(I))pI(u,d,B,g,sd,C,E);else{var U=C?C(ng(u,B),I,B+"",u,d,E):t;U===t&&(U=I),Oh(u,B,U)}},jr)}function pI(u,d,g,C,E,I,B){var U=ng(u,g),Q=ng(d,g),Ce=B.get(Q);if(Ce){Oh(u,g,Ce);return}var Se=I?I(U,Q,g+"",u,d,B):t,Oe=Se===t;if(Oe){var Ue=ht(Q),nt=!Ue&&Go(Q),ut=!Ue&&!nt&&Na(Q);Se=Q,Ue||nt||ut?ht(U)?Se=U:On(U)?Se=Fr(U):nt?(Oe=!1,Se=G1(Q,!0)):ut?(Oe=!1,Se=K1(Q,!0)):Se=[]:iu(Q)||Is(Q)?(Se=U,Is(U)?Se=Wx(U):(!yn(U)||bo(U))&&(Se=dx(Q))):Oe=!1}Oe&&(B.set(Q,Se),E(Se,Q,C,I,B),B.delete(Q)),Oh(u,g,Se)}function _1(u,d){var g=u.length;if(g)return d+=d<0?g:0,yo(d,g)?u[d]:t}function $1(u,d,g){d.length?d=pn(d,function(I){return ht(I)?function(B){return Ls(B,I.length===1?I[0]:I)}:I}):d=[zr];var C=-1;d=pn(d,qr(lt()));var E=P1(u,function(I,B,U){var Q=pn(d,function(Ce){return Ce(I)});return{criteria:Q,index:++C,value:I}});return jR(E,function(I,B){return EI(I,B,g)})}function hI(u,d){return N1(u,d,function(g,C){return dg(u,C)})}function N1(u,d,g){for(var C=-1,E=d.length,I={};++C<E;){var B=d[C],U=Ls(u,B);g(U,B)&&eu(I,Uo(B,u),U)}return I}function gI(u){return function(d){return Ls(d,u)}}function Fh(u,d,g,C){var E=C?BR:Ea,I=-1,B=d.length,U=u;for(u===d&&(d=Fr(d)),g&&(U=pn(u,qr(g)));++I<B;)for(var Q=0,Ce=d[I],Se=g?g(Ce):Ce;(Q=E(U,Se,Q,C))>-1;)U!==u&&Jc.call(U,Q,1),Jc.call(u,Q,1);return u}function F1(u,d){for(var g=u?d.length:0,C=g-1;g--;){var E=d[g];if(g==C||E!==I){var I=E;yo(E)?Jc.call(u,E,1):Hh(u,E)}}return u}function Bh(u,d){return u+Qc(y1()*(d-u+1))}function mI(u,d,g,C){for(var E=-1,I=Wn(Xc((d-u)/(g||1)),0),B=de(I);I--;)B[C?I:++E]=u,u+=g;return B}function jh(u,d){var g="";if(!u||d<1||d>he)return g;do d%2&&(g+=u),d=Qc(d/2),d&&(u+=u);while(d);return g}function xt(u,d){return rg(hx(u,d,zr),u+"")}function vI(u){return w1(Fa(u))}function yI(u,d){var g=Fa(u);return md(g,Os(d,0,g.length))}function eu(u,d,g,C){if(!yn(u))return u;d=Uo(d,u);for(var E=-1,I=d.length,B=I-1,U=u;U!=null&&++E<I;){var Q=Ji(d[E]),Ce=g;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return u;if(E!=B){var Se=U[Q];Ce=C?C(Se,Q,U):t,Ce===t&&(Ce=yn(Se)?Se:yo(d[E+1])?[]:{})}Jl(U,Q,Ce),U=U[Q]}return u}var B1=ed?function(u,d){return ed.set(u,d),u}:zr,bI=Zc?function(u,d){return Zc(u,"toString",{configurable:!0,enumerable:!1,value:pg(d),writable:!0})}:zr;function xI(u){return md(Fa(u))}function gi(u,d,g){var C=-1,E=u.length;d<0&&(d=-d>E?0:E+d),g=g>E?E:g,g<0&&(g+=E),E=d>g?0:g-d>>>0,d>>>=0;for(var I=de(E);++C<E;)I[C]=u[C+d];return I}function wI(u,d){var g;return Ho(u,function(C,E,I){return g=d(C,E,I),!g}),!!g}function ad(u,d,g){var C=0,E=u==null?C:u.length;if(typeof d=="number"&&d===d&&E<=ve){for(;C<E;){var I=C+E>>>1,B=u[I];B!==null&&!Jr(B)&&(g?B<=d:B<d)?C=I+1:E=I}return E}return zh(u,d,zr,g)}function zh(u,d,g,C){var E=0,I=u==null?0:u.length;if(I===0)return 0;d=g(d);for(var B=d!==d,U=d===null,Q=Jr(d),Ce=d===t;E<I;){var Se=Qc((E+I)/2),Oe=g(u[Se]),Ue=Oe!==t,nt=Oe===null,ut=Oe===Oe,vt=Jr(Oe);if(B)var ct=C||ut;else Ce?ct=ut&&(C||Ue):U?ct=ut&&Ue&&(C||!nt):Q?ct=ut&&Ue&&!nt&&(C||!vt):nt||vt?ct=!1:ct=C?Oe<=d:Oe<d;ct?E=Se+1:I=Se}return lr(I,ue)}function j1(u,d){for(var g=-1,C=u.length,E=0,I=[];++g<C;){var B=u[g],U=d?d(B):B;if(!g||!_i(U,Q)){var Q=U;I[E++]=B===0?0:B}}return I}function z1(u){return typeof u=="number"?u:Jr(u)?pe:+u}function Yr(u){if(typeof u=="string")return u;if(ht(u))return pn(u,Yr)+"";if(Jr(u))return b1?b1.call(u):"";var d=u+"";return d=="0"&&1/u==-H?"-0":d}function Wo(u,d,g){var C=-1,E=jc,I=u.length,B=!0,U=[],Q=U;if(g)B=!1,E=mh;else if(I>=i){var Ce=d?null:PI(u);if(Ce)return Hc(Ce);B=!1,E=Ul,Q=new As}else Q=d?[]:U;e:for(;++C<I;){var Se=u[C],Oe=d?d(Se):Se;if(Se=g||Se!==0?Se:0,B&&Oe===Oe){for(var Ue=Q.length;Ue--;)if(Q[Ue]===Oe)continue e;d&&Q.push(Oe),U.push(Se)}else E(Q,Oe,g)||(Q!==U&&Q.push(Oe),U.push(Se))}return U}function Hh(u,d){return d=Uo(d,u),u=gx(u,d),u==null||delete u[Ji(mi(d))]}function H1(u,d,g,C){return eu(u,d,g(Ls(u,d)),C)}function ld(u,d,g,C){for(var E=u.length,I=C?E:-1;(C?I--:++I<E)&&d(u[I],I,u););return g?gi(u,C?0:I,C?I+1:E):gi(u,C?I+1:0,C?E:I)}function W1(u,d){var g=u;return g instanceof Rt&&(g=g.value()),vh(d,function(C,E){return E.func.apply(E.thisArg,Bo([C],E.args))},g)}function Wh(u,d,g){var C=u.length;if(C<2)return C?Wo(u[0]):[];for(var E=-1,I=de(C);++E<C;)for(var B=u[E],U=-1;++U<C;)U!=E&&(I[E]=Zl(I[E]||B,u[U],d,g));return Wo(rr(I,1),d,g)}function U1(u,d,g){for(var C=-1,E=u.length,I=d.length,B={};++C<E;){var U=C<I?d[C]:t;g(B,u[C],U)}return B}function Uh(u){return On(u)?u:[]}function Vh(u){return typeof u=="function"?u:zr}function Uo(u,d){return ht(u)?u:eg(u,d)?[u]:bx(Gt(u))}var CI=xt;function Vo(u,d,g){var C=u.length;return g=g===t?C:g,!d&&g>=C?u:gi(u,d,g)}var V1=uP||function(u){return nr.clearTimeout(u)};function G1(u,d){if(d)return u.slice();var g=u.length,C=p1?p1(g):new u.constructor(g);return u.copy(C),C}function Gh(u){var d=new u.constructor(u.byteLength);return new qc(d).set(new qc(u)),d}function SI(u,d){var g=d?Gh(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.byteLength)}function kI(u){var d=new u.constructor(u.source,fe.exec(u));return d.lastIndex=u.lastIndex,d}function MI(u){return Yl?Xt(Yl.call(u)):{}}function K1(u,d){var g=d?Gh(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.length)}function q1(u,d){if(u!==d){var g=u!==t,C=u===null,E=u===u,I=Jr(u),B=d!==t,U=d===null,Q=d===d,Ce=Jr(d);if(!U&&!Ce&&!I&&u>d||I&&B&&Q&&!U&&!Ce||C&&B&&Q||!g&&Q||!E)return 1;if(!C&&!I&&!Ce&&u<d||Ce&&g&&E&&!C&&!I||U&&g&&E||!B&&E||!Q)return-1}return 0}function EI(u,d,g){for(var C=-1,E=u.criteria,I=d.criteria,B=E.length,U=g.length;++C<B;){var Q=q1(E[C],I[C]);if(Q){if(C>=U)return Q;var Ce=g[C];return Q*(Ce=="desc"?-1:1)}}return u.index-d.index}function Y1(u,d,g,C){for(var E=-1,I=u.length,B=g.length,U=-1,Q=d.length,Ce=Wn(I-B,0),Se=de(Q+Ce),Oe=!C;++U<Q;)Se[U]=d[U];for(;++E<B;)(Oe||E<I)&&(Se[g[E]]=u[E]);for(;Ce--;)Se[U++]=u[E++];return Se}function J1(u,d,g,C){for(var E=-1,I=u.length,B=-1,U=g.length,Q=-1,Ce=d.length,Se=Wn(I-U,0),Oe=de(Se+Ce),Ue=!C;++E<Se;)Oe[E]=u[E];for(var nt=E;++Q<Ce;)Oe[nt+Q]=d[Q];for(;++B<U;)(Ue||E<I)&&(Oe[nt+g[B]]=u[E++]);return Oe}function Fr(u,d){var g=-1,C=u.length;for(d||(d=de(C));++g<C;)d[g]=u[g];return d}function Yi(u,d,g,C){var E=!g;g||(g={});for(var I=-1,B=d.length;++I<B;){var U=d[I],Q=C?C(g[U],u[U],U,g,u):t;Q===t&&(Q=u[U]),E?go(g,U,Q):Jl(g,U,Q)}return g}function TI(u,d){return Yi(u,Qh(u),d)}function AI(u,d){return Yi(u,ux(u),d)}function ud(u,d){return function(g,C){var E=ht(g)?IR:JP,I=d?d():{};return E(g,u,lt(C,2),I)}}function Da(u){return xt(function(d,g){var C=-1,E=g.length,I=E>1?g[E-1]:t,B=E>2?g[2]:t;for(I=u.length>3&&typeof I=="function"?(E--,I):t,B&&Cr(g[0],g[1],B)&&(I=E<3?t:I,E=1),d=Xt(d);++C<E;){var U=g[C];U&&u(d,U,C,I)}return d})}function Z1(u,d){return function(g,C){if(g==null)return g;if(!Br(g))return u(g,C);for(var E=g.length,I=d?E:-1,B=Xt(g);(d?I--:++I<E)&&C(B[I],I,B)!==!1;);return g}}function X1(u){return function(d,g,C){for(var E=-1,I=Xt(d),B=C(d),U=B.length;U--;){var Q=B[u?U:++E];if(g(I[Q],Q,I)===!1)break}return d}}function OI(u,d,g){var C=d&w,E=tu(u);function I(){var B=this&&this!==nr&&this instanceof I?E:u;return B.apply(C?g:this,arguments)}return I}function Q1(u){return function(d){d=Gt(d);var g=Ta(d)?Ii(d):t,C=g?g[0]:d.charAt(0),E=g?Vo(g,1).join(""):d.slice(1);return C[u]()+E}}function _a(u){return function(d){return vh(Zx(Jx(d).replace(bR,"")),u,"")}}function tu(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=Ia(u.prototype),C=u.apply(g,d);return yn(C)?C:g}}function LI(u,d,g){var C=tu(u);function E(){for(var I=arguments.length,B=de(I),U=I,Q=$a(E);U--;)B[U]=arguments[U];var Ce=I<3&&B[0]!==Q&&B[I-1]!==Q?[]:jo(B,Q);if(I-=Ce.length,I<g)return ix(u,d,cd,E.placeholder,t,B,Ce,t,t,g-I);var Se=this&&this!==nr&&this instanceof E?C:u;return Kr(Se,this,B)}return E}function ex(u){return function(d,g,C){var E=Xt(d);if(!Br(d)){var I=lt(g,3);d=Yn(d),g=function(U){return I(E[U],U,E)}}var B=u(d,g,C);return B>-1?E[I?d[B]:B]:t}}function tx(u){return vo(function(d){var g=d.length,C=g,E=pi.prototype.thru;for(u&&d.reverse();C--;){var I=d[C];if(typeof I!="function")throw new fi(s);if(E&&!B&&hd(I)=="wrapper")var B=new pi([],!0)}for(C=B?C:g;++C<g;){I=d[C];var U=hd(I),Q=U=="wrapper"?Zh(I):t;Q&&tg(Q[0])&&Q[1]==(L|T|O|D)&&!Q[4].length&&Q[9]==1?B=B[hd(Q[0])].apply(B,Q[3]):B=I.length==1&&tg(I)?B[U]():B.thru(I)}return function(){var Ce=arguments,Se=Ce[0];if(B&&Ce.length==1&&ht(Se))return B.plant(Se).value();for(var Oe=0,Ue=g?d[Oe].apply(this,Ce):Se;++Oe<g;)Ue=d[Oe].call(this,Ue);return Ue}})}function cd(u,d,g,C,E,I,B,U,Q,Ce){var Se=d&L,Oe=d&w,Ue=d&S,nt=d&(T|R),ut=d&j,vt=Ue?t:tu(u);function ct(){for(var Et=arguments.length,Dt=de(Et),Zr=Et;Zr--;)Dt[Zr]=arguments[Zr];if(nt)var Sr=$a(ct),Xr=HR(Dt,Sr);if(C&&(Dt=Y1(Dt,C,E,nt)),I&&(Dt=J1(Dt,I,B,nt)),Et-=Xr,nt&&Et<Ce){var Ln=jo(Dt,Sr);return ix(u,d,cd,ct.placeholder,g,Dt,Ln,U,Q,Ce-Et)}var $i=Oe?g:this,wo=Ue?$i[u]:u;return Et=Dt.length,U?Dt=JI(Dt,U):ut&&Et>1&&Dt.reverse(),Se&&Q<Et&&(Dt.length=Q),this&&this!==nr&&this instanceof ct&&(wo=vt||tu(wo)),wo.apply($i,Dt)}return ct}function nx(u,d){return function(g,C){return iI(g,u,d(C),{})}}function dd(u,d){return function(g,C){var E;if(g===t&&C===t)return d;if(g!==t&&(E=g),C!==t){if(E===t)return C;typeof g=="string"||typeof C=="string"?(g=Yr(g),C=Yr(C)):(g=z1(g),C=z1(C)),E=u(g,C)}return E}}function Kh(u){return vo(function(d){return d=pn(d,qr(lt())),xt(function(g){var C=this;return u(d,function(E){return Kr(E,C,g)})})})}function fd(u,d){d=d===t?" ":Yr(d);var g=d.length;if(g<2)return g?jh(d,u):d;var C=jh(d,Xc(u/Aa(d)));return Ta(d)?Vo(Ii(C),0,u).join(""):C.slice(0,u)}function RI(u,d,g,C){var E=d&w,I=tu(u);function B(){for(var U=-1,Q=arguments.length,Ce=-1,Se=C.length,Oe=de(Se+Q),Ue=this&&this!==nr&&this instanceof B?I:u;++Ce<Se;)Oe[Ce]=C[Ce];for(;Q--;)Oe[Ce++]=arguments[++U];return Kr(Ue,E?g:this,Oe)}return B}function rx(u){return function(d,g,C){return C&&typeof C!="number"&&Cr(d,g,C)&&(g=C=t),d=xo(d),g===t?(g=d,d=0):g=xo(g),C=C===t?d<g?1:-1:xo(C),mI(d,g,C,u)}}function pd(u){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=vi(d),g=vi(g)),u(d,g)}}function ix(u,d,g,C,E,I,B,U,Q,Ce){var Se=d&T,Oe=Se?B:t,Ue=Se?t:B,nt=Se?I:t,ut=Se?t:I;d|=Se?O:M,d&=~(Se?M:O),d&k||(d&=~(w|S));var vt=[u,d,E,nt,Oe,ut,Ue,U,Q,Ce],ct=g.apply(t,vt);return tg(u)&&mx(ct,vt),ct.placeholder=C,vx(ct,u,d)}function qh(u){var d=Hn[u];return function(g,C){if(g=vi(g),C=C==null?0:lr(gt(C),292),C&&v1(g)){var E=(Gt(g)+"e").split("e"),I=d(E[0]+"e"+(+E[1]+C));return E=(Gt(I)+"e").split("e"),+(E[0]+"e"+(+E[1]-C))}return d(g)}}var PI=Ra&&1/Hc(new Ra([,-0]))[1]==H?function(u){return new Ra(u)}:mg;function ox(u){return function(d){var g=ur(d);return g==Fe?kh(d):g==Ae?YR(d):zR(d,u(d))}}function mo(u,d,g,C,E,I,B,U){var Q=d&S;if(!Q&&typeof u!="function")throw new fi(s);var Ce=C?C.length:0;if(Ce||(d&=~(O|M),C=E=t),B=B===t?B:Wn(gt(B),0),U=U===t?U:gt(U),Ce-=E?E.length:0,d&M){var Se=C,Oe=E;C=E=t}var Ue=Q?t:Zh(u),nt=[u,d,g,C,E,Se,Oe,I,B,U];if(Ue&&KI(nt,Ue),u=nt[0],d=nt[1],g=nt[2],C=nt[3],E=nt[4],U=nt[9]=nt[9]===t?Q?0:u.length:Wn(nt[9]-Ce,0),!U&&d&(T|R)&&(d&=~(T|R)),!d||d==w)var ut=OI(u,d,g);else d==T||d==R?ut=LI(u,d,U):(d==O||d==(w|O))&&!E.length?ut=RI(u,d,g,C):ut=cd.apply(t,nt);var vt=Ue?B1:mx;return vx(vt(ut,nt),u,d)}function sx(u,d,g,C){return u===t||_i(u,La[g])&&!qt.call(C,g)?d:u}function ax(u,d,g,C,E,I){return yn(u)&&yn(d)&&(I.set(d,u),sd(u,d,t,ax,I),I.delete(d)),u}function II(u){return iu(u)?t:u}function lx(u,d,g,C,E,I){var B=g&y,U=u.length,Q=d.length;if(U!=Q&&!(B&&Q>U))return!1;var Ce=I.get(u),Se=I.get(d);if(Ce&&Se)return Ce==d&&Se==u;var Oe=-1,Ue=!0,nt=g&b?new As:t;for(I.set(u,d),I.set(d,u);++Oe<U;){var ut=u[Oe],vt=d[Oe];if(C)var ct=B?C(vt,ut,Oe,d,u,I):C(ut,vt,Oe,u,d,I);if(ct!==t){if(ct)continue;Ue=!1;break}if(nt){if(!yh(d,function(Et,Dt){if(!Ul(nt,Dt)&&(ut===Et||E(ut,Et,g,C,I)))return nt.push(Dt)})){Ue=!1;break}}else if(!(ut===vt||E(ut,vt,g,C,I))){Ue=!1;break}}return I.delete(u),I.delete(d),Ue}function DI(u,d,g,C,E,I,B){switch(g){case ot:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case Ge:return!(u.byteLength!=d.byteLength||!I(new qc(u),new qc(d)));case J:case ee:case V:return _i(+u,+d);case Te:return u.name==d.name&&u.message==d.message;case Me:case Ie:return u==d+"";case Fe:var U=kh;case Ae:var Q=C&y;if(U||(U=Hc),u.size!=d.size&&!Q)return!1;var Ce=B.get(u);if(Ce)return Ce==d;C|=b,B.set(u,d);var Se=lx(U(u),U(d),C,E,I,B);return B.delete(u),Se;case Pe:if(Yl)return Yl.call(u)==Yl.call(d)}return!1}function _I(u,d,g,C,E,I){var B=g&y,U=Yh(u),Q=U.length,Ce=Yh(d),Se=Ce.length;if(Q!=Se&&!B)return!1;for(var Oe=Q;Oe--;){var Ue=U[Oe];if(!(B?Ue in d:qt.call(d,Ue)))return!1}var nt=I.get(u),ut=I.get(d);if(nt&&ut)return nt==d&&ut==u;var vt=!0;I.set(u,d),I.set(d,u);for(var ct=B;++Oe<Q;){Ue=U[Oe];var Et=u[Ue],Dt=d[Ue];if(C)var Zr=B?C(Dt,Et,Ue,d,u,I):C(Et,Dt,Ue,u,d,I);if(!(Zr===t?Et===Dt||E(Et,Dt,g,C,I):Zr)){vt=!1;break}ct||(ct=Ue=="constructor")}if(vt&&!ct){var Sr=u.constructor,Xr=d.constructor;Sr!=Xr&&"constructor"in u&&"constructor"in d&&!(typeof Sr=="function"&&Sr instanceof Sr&&typeof Xr=="function"&&Xr instanceof Xr)&&(vt=!1)}return I.delete(u),I.delete(d),vt}function vo(u){return rg(hx(u,t,Sx),u+"")}function Yh(u){return A1(u,Yn,Qh)}function Jh(u){return A1(u,jr,ux)}var Zh=ed?function(u){return ed.get(u)}:mg;function hd(u){for(var d=u.name+"",g=Pa[d],C=qt.call(Pa,d)?g.length:0;C--;){var E=g[C],I=E.func;if(I==null||I==u)return E.name}return d}function $a(u){var d=qt.call(P,"placeholder")?P:u;return d.placeholder}function lt(){var u=P.iteratee||hg;return u=u===hg?R1:u,arguments.length?u(arguments[0],arguments[1]):u}function gd(u,d){var g=u.__data__;return WI(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Xh(u){for(var d=Yn(u),g=d.length;g--;){var C=d[g],E=u[C];d[g]=[C,E,fx(E)]}return d}function Rs(u,d){var g=GR(u,d);return L1(g)?g:t}function $I(u){var d=qt.call(u,Es),g=u[Es];try{u[Es]=t;var C=!0}catch{}var E=Gc.call(u);return C&&(d?u[Es]=g:delete u[Es]),E}var Qh=Eh?function(u){return u==null?[]:(u=Xt(u),Fo(Eh(u),function(d){return g1.call(u,d)}))}:vg,ux=Eh?function(u){for(var d=[];u;)Bo(d,Qh(u)),u=Yc(u);return d}:vg,ur=wr;(Th&&ur(new Th(new ArrayBuffer(1)))!=ot||Gl&&ur(new Gl)!=Fe||Ah&&ur(Ah.resolve())!=ae||Ra&&ur(new Ra)!=Ae||Kl&&ur(new Kl)!=Qe)&&(ur=function(u){var d=wr(u),g=d==ke?u.constructor:t,C=g?Ps(g):"";if(C)switch(C){case yP:return ot;case bP:return Fe;case xP:return ae;case wP:return Ae;case CP:return Qe}return d});function NI(u,d,g){for(var C=-1,E=g.length;++C<E;){var I=g[C],B=I.size;switch(I.type){case"drop":u+=B;break;case"dropRight":d-=B;break;case"take":d=lr(d,u+B);break;case"takeRight":u=Wn(u,d-B);break}}return{start:u,end:d}}function FI(u){var d=u.match(Oi);return d?d[1].split($n):[]}function cx(u,d,g){d=Uo(d,u);for(var C=-1,E=d.length,I=!1;++C<E;){var B=Ji(d[C]);if(!(I=u!=null&&g(u,B)))break;u=u[B]}return I||++C!=E?I:(E=u==null?0:u.length,!!E&&Cd(E)&&yo(B,E)&&(ht(u)||Is(u)))}function BI(u){var d=u.length,g=new u.constructor(d);return d&&typeof u[0]=="string"&&qt.call(u,"index")&&(g.index=u.index,g.input=u.input),g}function dx(u){return typeof u.constructor=="function"&&!nu(u)?Ia(Yc(u)):{}}function jI(u,d,g){var C=u.constructor;switch(d){case Ge:return Gh(u);case J:case ee:return new C(+u);case ot:return SI(u,g);case Ke:case Ct:case cn:case tn:case gn:case dn:case mn:case Lt:case jn:return K1(u,g);case Fe:return new C;case V:case Ie:return new C(u);case Me:return kI(u);case Ae:return new C;case Pe:return MI(u)}}function zI(u,d){var g=d.length;if(!g)return u;var C=g-1;return d[C]=(g>1?"& ":"")+d[C],d=d.join(g>2?", ":" "),u.replace(Ai,`{
/* [wrapped with `+d+`] */
`)}function HI(u){return ht(u)||Is(u)||!!(m1&&u&&u[m1])}function yo(u,d){var g=typeof u;return d=d??he,!!d&&(g=="number"||g!="symbol"&&_.test(u))&&u>-1&&u%1==0&&u<d}function Cr(u,d,g){if(!yn(g))return!1;var C=typeof d;return(C=="number"?Br(g)&&yo(d,g.length):C=="string"&&d in g)?_i(g[d],u):!1}function eg(u,d){if(ht(u))return!1;var g=typeof u;return g=="number"||g=="symbol"||g=="boolean"||u==null||Jr(u)?!0:Ir.test(u)||!Pr.test(u)||d!=null&&u in Xt(d)}function WI(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function tg(u){var d=hd(u),g=P[d];if(typeof g!="function"||!(d in Rt.prototype))return!1;if(u===g)return!0;var C=Zh(g);return!!C&&u===C[0]}function UI(u){return!!f1&&f1 in u}var VI=Uc?bo:yg;function nu(u){var d=u&&u.constructor,g=typeof d=="function"&&d.prototype||La;return u===g}function fx(u){return u===u&&!yn(u)}function px(u,d){return function(g){return g==null?!1:g[u]===d&&(d!==t||u in Xt(g))}}function GI(u){var d=xd(u,function(C){return g.size===c&&g.clear(),C}),g=d.cache;return d}function KI(u,d){var g=u[1],C=d[1],E=g|C,I=E<(w|S|L),B=C==L&&g==T||C==L&&g==D&&u[7].length<=d[8]||C==(L|D)&&d[7].length<=d[8]&&g==T;if(!(I||B))return u;C&w&&(u[2]=d[2],E|=g&w?0:k);var U=d[3];if(U){var Q=u[3];u[3]=Q?Y1(Q,U,d[4]):U,u[4]=Q?jo(u[3],f):d[4]}return U=d[5],U&&(Q=u[5],u[5]=Q?J1(Q,U,d[6]):U,u[6]=Q?jo(u[5],f):d[6]),U=d[7],U&&(u[7]=U),C&L&&(u[8]=u[8]==null?d[8]:lr(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=E,u}function qI(u){var d=[];if(u!=null)for(var g in Xt(u))d.push(g);return d}function YI(u){return Gc.call(u)}function hx(u,d,g){return d=Wn(d===t?u.length-1:d,0),function(){for(var C=arguments,E=-1,I=Wn(C.length-d,0),B=de(I);++E<I;)B[E]=C[d+E];E=-1;for(var U=de(d+1);++E<d;)U[E]=C[E];return U[d]=g(B),Kr(u,this,U)}}function gx(u,d){return d.length<2?u:Ls(u,gi(d,0,-1))}function JI(u,d){for(var g=u.length,C=lr(d.length,g),E=Fr(u);C--;){var I=d[C];u[C]=yo(I,g)?E[I]:t}return u}function ng(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var mx=yx(B1),ru=dP||function(u,d){return nr.setTimeout(u,d)},rg=yx(bI);function vx(u,d,g){var C=d+"";return rg(u,zI(C,ZI(FI(C),g)))}function yx(u){var d=0,g=0;return function(){var C=gP(),E=ne-(C-g);if(g=C,E>0){if(++d>=W)return arguments[0]}else d=0;return u.apply(t,arguments)}}function md(u,d){var g=-1,C=u.length,E=C-1;for(d=d===t?C:d;++g<d;){var I=Bh(g,E),B=u[I];u[I]=u[g],u[g]=B}return u.length=d,u}var bx=GI(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(fn,function(g,C,E,I){d.push(E?I.replace(br,"$1"):C||g)}),d});function Ji(u){if(typeof u=="string"||Jr(u))return u;var d=u+"";return d=="0"&&1/u==-H?"-0":d}function Ps(u){if(u!=null){try{return Vc.call(u)}catch{}try{return u+""}catch{}}return""}function ZI(u,d){return di(se,function(g){var C="_."+g[0];d&g[1]&&!jc(u,C)&&u.push(C)}),u.sort()}function xx(u){if(u instanceof Rt)return u.clone();var d=new pi(u.__wrapped__,u.__chain__);return d.__actions__=Fr(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function XI(u,d,g){(g?Cr(u,d,g):d===t)?d=1:d=Wn(gt(d),0);var C=u==null?0:u.length;if(!C||d<1)return[];for(var E=0,I=0,B=de(Xc(C/d));E<C;)B[I++]=gi(u,E,E+=d);return B}function QI(u){for(var d=-1,g=u==null?0:u.length,C=0,E=[];++d<g;){var I=u[d];I&&(E[C++]=I)}return E}function eD(){var u=arguments.length;if(!u)return[];for(var d=de(u-1),g=arguments[0],C=u;C--;)d[C-1]=arguments[C];return Bo(ht(g)?Fr(g):[g],rr(d,1))}var tD=xt(function(u,d){return On(u)?Zl(u,rr(d,1,On,!0)):[]}),nD=xt(function(u,d){var g=mi(d);return On(g)&&(g=t),On(u)?Zl(u,rr(d,1,On,!0),lt(g,2)):[]}),rD=xt(function(u,d){var g=mi(d);return On(g)&&(g=t),On(u)?Zl(u,rr(d,1,On,!0),t,g):[]});function iD(u,d,g){var C=u==null?0:u.length;return C?(d=g||d===t?1:gt(d),gi(u,d<0?0:d,C)):[]}function oD(u,d,g){var C=u==null?0:u.length;return C?(d=g||d===t?1:gt(d),d=C-d,gi(u,0,d<0?0:d)):[]}function sD(u,d){return u&&u.length?ld(u,lt(d,3),!0,!0):[]}function aD(u,d){return u&&u.length?ld(u,lt(d,3),!0):[]}function lD(u,d,g,C){var E=u==null?0:u.length;return E?(g&&typeof g!="number"&&Cr(u,d,g)&&(g=0,C=E),eI(u,d,g,C)):[]}function wx(u,d,g){var C=u==null?0:u.length;if(!C)return-1;var E=g==null?0:gt(g);return E<0&&(E=Wn(C+E,0)),zc(u,lt(d,3),E)}function Cx(u,d,g){var C=u==null?0:u.length;if(!C)return-1;var E=C-1;return g!==t&&(E=gt(g),E=g<0?Wn(C+E,0):lr(E,C-1)),zc(u,lt(d,3),E,!0)}function Sx(u){var d=u==null?0:u.length;return d?rr(u,1):[]}function uD(u){var d=u==null?0:u.length;return d?rr(u,H):[]}function cD(u,d){var g=u==null?0:u.length;return g?(d=d===t?1:gt(d),rr(u,d)):[]}function dD(u){for(var d=-1,g=u==null?0:u.length,C={};++d<g;){var E=u[d];C[E[0]]=E[1]}return C}function kx(u){return u&&u.length?u[0]:t}function fD(u,d,g){var C=u==null?0:u.length;if(!C)return-1;var E=g==null?0:gt(g);return E<0&&(E=Wn(C+E,0)),Ea(u,d,E)}function pD(u){var d=u==null?0:u.length;return d?gi(u,0,-1):[]}var hD=xt(function(u){var d=pn(u,Uh);return d.length&&d[0]===u[0]?Dh(d):[]}),gD=xt(function(u){var d=mi(u),g=pn(u,Uh);return d===mi(g)?d=t:g.pop(),g.length&&g[0]===u[0]?Dh(g,lt(d,2)):[]}),mD=xt(function(u){var d=mi(u),g=pn(u,Uh);return d=typeof d=="function"?d:t,d&&g.pop(),g.length&&g[0]===u[0]?Dh(g,t,d):[]});function vD(u,d){return u==null?"":pP.call(u,d)}function mi(u){var d=u==null?0:u.length;return d?u[d-1]:t}function yD(u,d,g){var C=u==null?0:u.length;if(!C)return-1;var E=C;return g!==t&&(E=gt(g),E=E<0?Wn(C+E,0):lr(E,C-1)),d===d?ZR(u,d,E):zc(u,i1,E,!0)}function bD(u,d){return u&&u.length?_1(u,gt(d)):t}var xD=xt(Mx);function Mx(u,d){return u&&u.length&&d&&d.length?Fh(u,d):u}function wD(u,d,g){return u&&u.length&&d&&d.length?Fh(u,d,lt(g,2)):u}function CD(u,d,g){return u&&u.length&&d&&d.length?Fh(u,d,t,g):u}var SD=vo(function(u,d){var g=u==null?0:u.length,C=Lh(u,d);return F1(u,pn(d,function(E){return yo(E,g)?+E:E}).sort(q1)),C});function kD(u,d){var g=[];if(!(u&&u.length))return g;var C=-1,E=[],I=u.length;for(d=lt(d,3);++C<I;){var B=u[C];d(B,C,u)&&(g.push(B),E.push(C))}return F1(u,E),g}function ig(u){return u==null?u:vP.call(u)}function MD(u,d,g){var C=u==null?0:u.length;return C?(g&&typeof g!="number"&&Cr(u,d,g)?(d=0,g=C):(d=d==null?0:gt(d),g=g===t?C:gt(g)),gi(u,d,g)):[]}function ED(u,d){return ad(u,d)}function TD(u,d,g){return zh(u,d,lt(g,2))}function AD(u,d){var g=u==null?0:u.length;if(g){var C=ad(u,d);if(C<g&&_i(u[C],d))return C}return-1}function OD(u,d){return ad(u,d,!0)}function LD(u,d,g){return zh(u,d,lt(g,2),!0)}function RD(u,d){var g=u==null?0:u.length;if(g){var C=ad(u,d,!0)-1;if(_i(u[C],d))return C}return-1}function PD(u){return u&&u.length?j1(u):[]}function ID(u,d){return u&&u.length?j1(u,lt(d,2)):[]}function DD(u){var d=u==null?0:u.length;return d?gi(u,1,d):[]}function _D(u,d,g){return u&&u.length?(d=g||d===t?1:gt(d),gi(u,0,d<0?0:d)):[]}function $D(u,d,g){var C=u==null?0:u.length;return C?(d=g||d===t?1:gt(d),d=C-d,gi(u,d<0?0:d,C)):[]}function ND(u,d){return u&&u.length?ld(u,lt(d,3),!1,!0):[]}function FD(u,d){return u&&u.length?ld(u,lt(d,3)):[]}var BD=xt(function(u){return Wo(rr(u,1,On,!0))}),jD=xt(function(u){var d=mi(u);return On(d)&&(d=t),Wo(rr(u,1,On,!0),lt(d,2))}),zD=xt(function(u){var d=mi(u);return d=typeof d=="function"?d:t,Wo(rr(u,1,On,!0),t,d)});function HD(u){return u&&u.length?Wo(u):[]}function WD(u,d){return u&&u.length?Wo(u,lt(d,2)):[]}function UD(u,d){return d=typeof d=="function"?d:t,u&&u.length?Wo(u,t,d):[]}function og(u){if(!(u&&u.length))return[];var d=0;return u=Fo(u,function(g){if(On(g))return d=Wn(g.length,d),!0}),Ch(d,function(g){return pn(u,bh(g))})}function Ex(u,d){if(!(u&&u.length))return[];var g=og(u);return d==null?g:pn(g,function(C){return Kr(d,t,C)})}var VD=xt(function(u,d){return On(u)?Zl(u,d):[]}),GD=xt(function(u){return Wh(Fo(u,On))}),KD=xt(function(u){var d=mi(u);return On(d)&&(d=t),Wh(Fo(u,On),lt(d,2))}),qD=xt(function(u){var d=mi(u);return d=typeof d=="function"?d:t,Wh(Fo(u,On),t,d)}),YD=xt(og);function JD(u,d){return U1(u||[],d||[],Jl)}function ZD(u,d){return U1(u||[],d||[],eu)}var XD=xt(function(u){var d=u.length,g=d>1?u[d-1]:t;return g=typeof g=="function"?(u.pop(),g):t,Ex(u,g)});function Tx(u){var d=P(u);return d.__chain__=!0,d}function QD(u,d){return d(u),u}function vd(u,d){return d(u)}var e_=vo(function(u){var d=u.length,g=d?u[0]:0,C=this.__wrapped__,E=function(I){return Lh(I,u)};return d>1||this.__actions__.length||!(C instanceof Rt)||!yo(g)?this.thru(E):(C=C.slice(g,+g+(d?1:0)),C.__actions__.push({func:vd,args:[E],thisArg:t}),new pi(C,this.__chain__).thru(function(I){return d&&!I.length&&I.push(t),I}))});function t_(){return Tx(this)}function n_(){return new pi(this.value(),this.__chain__)}function r_(){this.__values__===t&&(this.__values__=zx(this.value()));var u=this.__index__>=this.__values__.length,d=u?t:this.__values__[this.__index__++];return{done:u,value:d}}function i_(){return this}function o_(u){for(var d,g=this;g instanceof nd;){var C=xx(g);C.__index__=0,C.__values__=t,d?E.__wrapped__=C:d=C;var E=C;g=g.__wrapped__}return E.__wrapped__=u,d}function s_(){var u=this.__wrapped__;if(u instanceof Rt){var d=u;return this.__actions__.length&&(d=new Rt(this)),d=d.reverse(),d.__actions__.push({func:vd,args:[ig],thisArg:t}),new pi(d,this.__chain__)}return this.thru(ig)}function a_(){return W1(this.__wrapped__,this.__actions__)}var l_=ud(function(u,d,g){qt.call(u,g)?++u[g]:go(u,g,1)});function u_(u,d,g){var C=ht(u)?n1:QP;return g&&Cr(u,d,g)&&(d=t),C(u,lt(d,3))}function c_(u,d){var g=ht(u)?Fo:E1;return g(u,lt(d,3))}var d_=ex(wx),f_=ex(Cx);function p_(u,d){return rr(yd(u,d),1)}function h_(u,d){return rr(yd(u,d),H)}function g_(u,d,g){return g=g===t?1:gt(g),rr(yd(u,d),g)}function Ax(u,d){var g=ht(u)?di:Ho;return g(u,lt(d,3))}function Ox(u,d){var g=ht(u)?DR:M1;return g(u,lt(d,3))}var m_=ud(function(u,d,g){qt.call(u,g)?u[g].push(d):go(u,g,[d])});function v_(u,d,g,C){u=Br(u)?u:Fa(u),g=g&&!C?gt(g):0;var E=u.length;return g<0&&(g=Wn(E+g,0)),Sd(u)?g<=E&&u.indexOf(d,g)>-1:!!E&&Ea(u,d,g)>-1}var y_=xt(function(u,d,g){var C=-1,E=typeof d=="function",I=Br(u)?de(u.length):[];return Ho(u,function(B){I[++C]=E?Kr(d,B,g):Xl(B,d,g)}),I}),b_=ud(function(u,d,g){go(u,g,d)});function yd(u,d){var g=ht(u)?pn:P1;return g(u,lt(d,3))}function x_(u,d,g,C){return u==null?[]:(ht(d)||(d=d==null?[]:[d]),g=C?t:g,ht(g)||(g=g==null?[]:[g]),$1(u,d,g))}var w_=ud(function(u,d,g){u[g?0:1].push(d)},function(){return[[],[]]});function C_(u,d,g){var C=ht(u)?vh:s1,E=arguments.length<3;return C(u,lt(d,4),g,E,Ho)}function S_(u,d,g){var C=ht(u)?_R:s1,E=arguments.length<3;return C(u,lt(d,4),g,E,M1)}function k_(u,d){var g=ht(u)?Fo:E1;return g(u,wd(lt(d,3)))}function M_(u){var d=ht(u)?w1:vI;return d(u)}function E_(u,d,g){(g?Cr(u,d,g):d===t)?d=1:d=gt(d);var C=ht(u)?qP:yI;return C(u,d)}function T_(u){var d=ht(u)?YP:xI;return d(u)}function A_(u){if(u==null)return 0;if(Br(u))return Sd(u)?Aa(u):u.length;var d=ur(u);return d==Fe||d==Ae?u.size:$h(u).length}function O_(u,d,g){var C=ht(u)?yh:wI;return g&&Cr(u,d,g)&&(d=t),C(u,lt(d,3))}var L_=xt(function(u,d){if(u==null)return[];var g=d.length;return g>1&&Cr(u,d[0],d[1])?d=[]:g>2&&Cr(d[0],d[1],d[2])&&(d=[d[0]]),$1(u,rr(d,1),[])}),bd=cP||function(){return nr.Date.now()};function R_(u,d){if(typeof d!="function")throw new fi(s);return u=gt(u),function(){if(--u<1)return d.apply(this,arguments)}}function Lx(u,d,g){return d=g?t:d,d=u&&d==null?u.length:d,mo(u,L,t,t,t,t,d)}function Rx(u,d){var g;if(typeof d!="function")throw new fi(s);return u=gt(u),function(){return--u>0&&(g=d.apply(this,arguments)),u<=1&&(d=t),g}}var sg=xt(function(u,d,g){var C=w;if(g.length){var E=jo(g,$a(sg));C|=O}return mo(u,C,d,g,E)}),Px=xt(function(u,d,g){var C=w|S;if(g.length){var E=jo(g,$a(Px));C|=O}return mo(d,C,u,g,E)});function Ix(u,d,g){d=g?t:d;var C=mo(u,T,t,t,t,t,t,d);return C.placeholder=Ix.placeholder,C}function Dx(u,d,g){d=g?t:d;var C=mo(u,R,t,t,t,t,t,d);return C.placeholder=Dx.placeholder,C}function _x(u,d,g){var C,E,I,B,U,Q,Ce=0,Se=!1,Oe=!1,Ue=!0;if(typeof u!="function")throw new fi(s);d=vi(d)||0,yn(g)&&(Se=!!g.leading,Oe="maxWait"in g,I=Oe?Wn(vi(g.maxWait)||0,d):I,Ue="trailing"in g?!!g.trailing:Ue);function nt(Ln){var $i=C,wo=E;return C=E=t,Ce=Ln,B=u.apply(wo,$i),B}function ut(Ln){return Ce=Ln,U=ru(Et,d),Se?nt(Ln):B}function vt(Ln){var $i=Ln-Q,wo=Ln-Ce,ew=d-$i;return Oe?lr(ew,I-wo):ew}function ct(Ln){var $i=Ln-Q,wo=Ln-Ce;return Q===t||$i>=d||$i<0||Oe&&wo>=I}function Et(){var Ln=bd();if(ct(Ln))return Dt(Ln);U=ru(Et,vt(Ln))}function Dt(Ln){return U=t,Ue&&C?nt(Ln):(C=E=t,B)}function Zr(){U!==t&&V1(U),Ce=0,C=Q=E=U=t}function Sr(){return U===t?B:Dt(bd())}function Xr(){var Ln=bd(),$i=ct(Ln);if(C=arguments,E=this,Q=Ln,$i){if(U===t)return ut(Q);if(Oe)return V1(U),U=ru(Et,d),nt(Q)}return U===t&&(U=ru(Et,d)),B}return Xr.cancel=Zr,Xr.flush=Sr,Xr}var P_=xt(function(u,d){return k1(u,1,d)}),I_=xt(function(u,d,g){return k1(u,vi(d)||0,g)});function D_(u){return mo(u,j)}function xd(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new fi(s);var g=function(){var C=arguments,E=d?d.apply(this,C):C[0],I=g.cache;if(I.has(E))return I.get(E);var B=u.apply(this,C);return g.cache=I.set(E,B)||I,B};return g.cache=new(xd.Cache||ho),g}xd.Cache=ho;function wd(u){if(typeof u!="function")throw new fi(s);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function __(u){return Rx(2,u)}var $_=CI(function(u,d){d=d.length==1&&ht(d[0])?pn(d[0],qr(lt())):pn(rr(d,1),qr(lt()));var g=d.length;return xt(function(C){for(var E=-1,I=lr(C.length,g);++E<I;)C[E]=d[E].call(this,C[E]);return Kr(u,this,C)})}),ag=xt(function(u,d){var g=jo(d,$a(ag));return mo(u,O,t,d,g)}),$x=xt(function(u,d){var g=jo(d,$a($x));return mo(u,M,t,d,g)}),N_=vo(function(u,d){return mo(u,D,t,t,t,d)});function F_(u,d){if(typeof u!="function")throw new fi(s);return d=d===t?d:gt(d),xt(u,d)}function B_(u,d){if(typeof u!="function")throw new fi(s);return d=d==null?0:Wn(gt(d),0),xt(function(g){var C=g[d],E=Vo(g,0,d);return C&&Bo(E,C),Kr(u,this,E)})}function j_(u,d,g){var C=!0,E=!0;if(typeof u!="function")throw new fi(s);return yn(g)&&(C="leading"in g?!!g.leading:C,E="trailing"in g?!!g.trailing:E),_x(u,d,{leading:C,maxWait:d,trailing:E})}function z_(u){return Lx(u,1)}function H_(u,d){return ag(Vh(d),u)}function W_(){if(!arguments.length)return[];var u=arguments[0];return ht(u)?u:[u]}function U_(u){return hi(u,m)}function V_(u,d){return d=typeof d=="function"?d:t,hi(u,m,d)}function G_(u){return hi(u,p|m)}function K_(u,d){return d=typeof d=="function"?d:t,hi(u,p|m,d)}function q_(u,d){return d==null||S1(u,d,Yn(d))}function _i(u,d){return u===d||u!==u&&d!==d}var Y_=pd(Ih),J_=pd(function(u,d){return u>=d}),Is=O1(function(){return arguments}())?O1:function(u){return kn(u)&&qt.call(u,"callee")&&!g1.call(u,"callee")},ht=de.isArray,Z_=Jb?qr(Jb):oI;function Br(u){return u!=null&&Cd(u.length)&&!bo(u)}function On(u){return kn(u)&&Br(u)}function X_(u){return u===!0||u===!1||kn(u)&&wr(u)==J}var Go=fP||yg,Q_=Zb?qr(Zb):sI;function e$(u){return kn(u)&&u.nodeType===1&&!iu(u)}function t$(u){if(u==null)return!0;if(Br(u)&&(ht(u)||typeof u=="string"||typeof u.splice=="function"||Go(u)||Na(u)||Is(u)))return!u.length;var d=ur(u);if(d==Fe||d==Ae)return!u.size;if(nu(u))return!$h(u).length;for(var g in u)if(qt.call(u,g))return!1;return!0}function n$(u,d){return Ql(u,d)}function r$(u,d,g){g=typeof g=="function"?g:t;var C=g?g(u,d):t;return C===t?Ql(u,d,t,g):!!C}function lg(u){if(!kn(u))return!1;var d=wr(u);return d==Te||d==Re||typeof u.message=="string"&&typeof u.name=="string"&&!iu(u)}function i$(u){return typeof u=="number"&&v1(u)}function bo(u){if(!yn(u))return!1;var d=wr(u);return d==Le||d==Be||d==q||d==xe}function Nx(u){return typeof u=="number"&&u==gt(u)}function Cd(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=he}function yn(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function kn(u){return u!=null&&typeof u=="object"}var Fx=Xb?qr(Xb):lI;function o$(u,d){return u===d||_h(u,d,Xh(d))}function s$(u,d,g){return g=typeof g=="function"?g:t,_h(u,d,Xh(d),g)}function a$(u){return Bx(u)&&u!=+u}function l$(u){if(VI(u))throw new pt(o);return L1(u)}function u$(u){return u===null}function c$(u){return u==null}function Bx(u){return typeof u=="number"||kn(u)&&wr(u)==V}function iu(u){if(!kn(u)||wr(u)!=ke)return!1;var d=Yc(u);if(d===null)return!0;var g=qt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&Vc.call(g)==sP}var ug=Qb?qr(Qb):uI;function d$(u){return Nx(u)&&u>=-he&&u<=he}var jx=e1?qr(e1):cI;function Sd(u){return typeof u=="string"||!ht(u)&&kn(u)&&wr(u)==Ie}function Jr(u){return typeof u=="symbol"||kn(u)&&wr(u)==Pe}var Na=t1?qr(t1):dI;function f$(u){return u===t}function p$(u){return kn(u)&&ur(u)==Qe}function h$(u){return kn(u)&&wr(u)==We}var g$=pd(Nh),m$=pd(function(u,d){return u<=d});function zx(u){if(!u)return[];if(Br(u))return Sd(u)?Ii(u):Fr(u);if(Vl&&u[Vl])return qR(u[Vl]());var d=ur(u),g=d==Fe?kh:d==Ae?Hc:Fa;return g(u)}function xo(u){if(!u)return u===0?u:0;if(u=vi(u),u===H||u===-H){var d=u<0?-1:1;return d*_e}return u===u?u:0}function gt(u){var d=xo(u),g=d%1;return d===d?g?d-g:d:0}function Hx(u){return u?Os(gt(u),0,te):0}function vi(u){if(typeof u=="number")return u;if(Jr(u))return pe;if(yn(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=yn(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=a1(u);var g=$e.test(u);return g||St.test(u)?RR(u.slice(2),g?2:8):ze.test(u)?pe:+u}function Wx(u){return Yi(u,jr(u))}function v$(u){return u?Os(gt(u),-he,he):u===0?u:0}function Gt(u){return u==null?"":Yr(u)}var y$=Da(function(u,d){if(nu(d)||Br(d)){Yi(d,Yn(d),u);return}for(var g in d)qt.call(d,g)&&Jl(u,g,d[g])}),Ux=Da(function(u,d){Yi(d,jr(d),u)}),kd=Da(function(u,d,g,C){Yi(d,jr(d),u,C)}),b$=Da(function(u,d,g,C){Yi(d,Yn(d),u,C)}),x$=vo(Lh);function w$(u,d){var g=Ia(u);return d==null?g:C1(g,d)}var C$=xt(function(u,d){u=Xt(u);var g=-1,C=d.length,E=C>2?d[2]:t;for(E&&Cr(d[0],d[1],E)&&(C=1);++g<C;)for(var I=d[g],B=jr(I),U=-1,Q=B.length;++U<Q;){var Ce=B[U],Se=u[Ce];(Se===t||_i(Se,La[Ce])&&!qt.call(u,Ce))&&(u[Ce]=I[Ce])}return u}),S$=xt(function(u){return u.push(t,ax),Kr(Vx,t,u)});function k$(u,d){return r1(u,lt(d,3),qi)}function M$(u,d){return r1(u,lt(d,3),Ph)}function E$(u,d){return u==null?u:Rh(u,lt(d,3),jr)}function T$(u,d){return u==null?u:T1(u,lt(d,3),jr)}function A$(u,d){return u&&qi(u,lt(d,3))}function O$(u,d){return u&&Ph(u,lt(d,3))}function L$(u){return u==null?[]:od(u,Yn(u))}function R$(u){return u==null?[]:od(u,jr(u))}function cg(u,d,g){var C=u==null?t:Ls(u,d);return C===t?g:C}function P$(u,d){return u!=null&&cx(u,d,tI)}function dg(u,d){return u!=null&&cx(u,d,nI)}var I$=nx(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=Gc.call(d)),u[d]=g},pg(zr)),D$=nx(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=Gc.call(d)),qt.call(u,d)?u[d].push(g):u[d]=[g]},lt),_$=xt(Xl);function Yn(u){return Br(u)?x1(u):$h(u)}function jr(u){return Br(u)?x1(u,!0):fI(u)}function $$(u,d){var g={};return d=lt(d,3),qi(u,function(C,E,I){go(g,d(C,E,I),C)}),g}function N$(u,d){var g={};return d=lt(d,3),qi(u,function(C,E,I){go(g,E,d(C,E,I))}),g}var F$=Da(function(u,d,g){sd(u,d,g)}),Vx=Da(function(u,d,g,C){sd(u,d,g,C)}),B$=vo(function(u,d){var g={};if(u==null)return g;var C=!1;d=pn(d,function(I){return I=Uo(I,u),C||(C=I.length>1),I}),Yi(u,Jh(u),g),C&&(g=hi(g,p|h|m,II));for(var E=d.length;E--;)Hh(g,d[E]);return g});function j$(u,d){return Gx(u,wd(lt(d)))}var z$=vo(function(u,d){return u==null?{}:hI(u,d)});function Gx(u,d){if(u==null)return{};var g=pn(Jh(u),function(C){return[C]});return d=lt(d),N1(u,g,function(C,E){return d(C,E[0])})}function H$(u,d,g){d=Uo(d,u);var C=-1,E=d.length;for(E||(E=1,u=t);++C<E;){var I=u==null?t:u[Ji(d[C])];I===t&&(C=E,I=g),u=bo(I)?I.call(u):I}return u}function W$(u,d,g){return u==null?u:eu(u,d,g)}function U$(u,d,g,C){return C=typeof C=="function"?C:t,u==null?u:eu(u,d,g,C)}var Kx=ox(Yn),qx=ox(jr);function V$(u,d,g){var C=ht(u),E=C||Go(u)||Na(u);if(d=lt(d,4),g==null){var I=u&&u.constructor;E?g=C?new I:[]:yn(u)?g=bo(I)?Ia(Yc(u)):{}:g={}}return(E?di:qi)(u,function(B,U,Q){return d(g,B,U,Q)}),g}function G$(u,d){return u==null?!0:Hh(u,d)}function K$(u,d,g){return u==null?u:H1(u,d,Vh(g))}function q$(u,d,g,C){return C=typeof C=="function"?C:t,u==null?u:H1(u,d,Vh(g),C)}function Fa(u){return u==null?[]:Sh(u,Yn(u))}function Y$(u){return u==null?[]:Sh(u,jr(u))}function J$(u,d,g){return g===t&&(g=d,d=t),g!==t&&(g=vi(g),g=g===g?g:0),d!==t&&(d=vi(d),d=d===d?d:0),Os(vi(u),d,g)}function Z$(u,d,g){return d=xo(d),g===t?(g=d,d=0):g=xo(g),u=vi(u),rI(u,d,g)}function X$(u,d,g){if(g&&typeof g!="boolean"&&Cr(u,d,g)&&(d=g=t),g===t&&(typeof d=="boolean"?(g=d,d=t):typeof u=="boolean"&&(g=u,u=t)),u===t&&d===t?(u=0,d=1):(u=xo(u),d===t?(d=u,u=0):d=xo(d)),u>d){var C=u;u=d,d=C}if(g||u%1||d%1){var E=y1();return lr(u+E*(d-u+LR("1e-"+((E+"").length-1))),d)}return Bh(u,d)}var Q$=_a(function(u,d,g){return d=d.toLowerCase(),u+(g?Yx(d):d)});function Yx(u){return fg(Gt(u).toLowerCase())}function Jx(u){return u=Gt(u),u&&u.replace(oe,WR).replace(xR,"")}function eN(u,d,g){u=Gt(u),d=Yr(d);var C=u.length;g=g===t?C:Os(gt(g),0,C);var E=g;return g-=d.length,g>=0&&u.slice(g,E)==d}function tN(u){return u=Gt(u),u&&Rr.test(u)?u.replace(er,UR):u}function nN(u){return u=Gt(u),u&&Tn.test(u)?u.replace(Kt,"\\$&"):u}var rN=_a(function(u,d,g){return u+(g?"-":"")+d.toLowerCase()}),iN=_a(function(u,d,g){return u+(g?" ":"")+d.toLowerCase()}),oN=Q1("toLowerCase");function sN(u,d,g){u=Gt(u),d=gt(d);var C=d?Aa(u):0;if(!d||C>=d)return u;var E=(d-C)/2;return fd(Qc(E),g)+u+fd(Xc(E),g)}function aN(u,d,g){u=Gt(u),d=gt(d);var C=d?Aa(u):0;return d&&C<d?u+fd(d-C,g):u}function lN(u,d,g){u=Gt(u),d=gt(d);var C=d?Aa(u):0;return d&&C<d?fd(d-C,g)+u:u}function uN(u,d,g){return g||d==null?d=0:d&&(d=+d),mP(Gt(u).replace(tr,""),d||0)}function cN(u,d,g){return(g?Cr(u,d,g):d===t)?d=1:d=gt(d),jh(Gt(u),d)}function dN(){var u=arguments,d=Gt(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var fN=_a(function(u,d,g){return u+(g?"_":"")+d.toLowerCase()});function pN(u,d,g){return g&&typeof g!="number"&&Cr(u,d,g)&&(d=g=t),g=g===t?te:g>>>0,g?(u=Gt(u),u&&(typeof d=="string"||d!=null&&!ug(d))&&(d=Yr(d),!d&&Ta(u))?Vo(Ii(u),0,g):u.split(d,g)):[]}var hN=_a(function(u,d,g){return u+(g?" ":"")+fg(d)});function gN(u,d,g){return u=Gt(u),g=g==null?0:Os(gt(g),0,u.length),d=Yr(d),u.slice(g,g+d.length)==d}function mN(u,d,g){var C=P.templateSettings;g&&Cr(u,d,g)&&(d=t),u=Gt(u),d=kd({},d,C,sx);var E=kd({},d.imports,C.imports,sx),I=Yn(E),B=Sh(E,I),U,Q,Ce=0,Se=d.interpolate||we,Oe="__p += '",Ue=Mh((d.escape||we).source+"|"+Se.source+"|"+(Se===ai?me:we).source+"|"+(d.evaluate||we).source+"|$","g"),nt="//# sourceURL="+(qt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++MR+"]")+`
`;u.replace(Ue,function(ct,Et,Dt,Zr,Sr,Xr){return Dt||(Dt=Zr),Oe+=u.slice(Ce,Xr).replace(De,VR),Et&&(U=!0,Oe+=`' +
__e(`+Et+`) +
'`),Sr&&(Q=!0,Oe+=`';
`+Sr+`;
__p += '`),Dt&&(Oe+=`' +
((__t = (`+Dt+`)) == null ? '' : __t) +
'`),Ce=Xr+ct.length,ct}),Oe+=`';
`;var ut=qt.call(d,"variable")&&d.variable;if(!ut)Oe=`with (obj) {
`+Oe+`
}
`;else if(yr.test(ut))throw new pt(a);Oe=(Q?Oe.replace(mr,""):Oe).replace(vn,"$1").replace(Gn,"$1;"),Oe="function("+(ut||"obj")+`) {
`+(ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Oe+`return __p
}`;var vt=Xx(function(){return Wt(I,nt+"return "+Oe).apply(t,B)});if(vt.source=Oe,lg(vt))throw vt;return vt}function vN(u){return Gt(u).toLowerCase()}function yN(u){return Gt(u).toUpperCase()}function bN(u,d,g){if(u=Gt(u),u&&(g||d===t))return a1(u);if(!u||!(d=Yr(d)))return u;var C=Ii(u),E=Ii(d),I=l1(C,E),B=u1(C,E)+1;return Vo(C,I,B).join("")}function xN(u,d,g){if(u=Gt(u),u&&(g||d===t))return u.slice(0,d1(u)+1);if(!u||!(d=Yr(d)))return u;var C=Ii(u),E=u1(C,Ii(d))+1;return Vo(C,0,E).join("")}function wN(u,d,g){if(u=Gt(u),u&&(g||d===t))return u.replace(tr,"");if(!u||!(d=Yr(d)))return u;var C=Ii(u),E=l1(C,Ii(d));return Vo(C,E).join("")}function CN(u,d){var g=F,C=ie;if(yn(d)){var E="separator"in d?d.separator:E;g="length"in d?gt(d.length):g,C="omission"in d?Yr(d.omission):C}u=Gt(u);var I=u.length;if(Ta(u)){var B=Ii(u);I=B.length}if(g>=I)return u;var U=g-Aa(C);if(U<1)return C;var Q=B?Vo(B,0,U).join(""):u.slice(0,U);if(E===t)return Q+C;if(B&&(U+=Q.length-U),ug(E)){if(u.slice(U).search(E)){var Ce,Se=Q;for(E.global||(E=Mh(E.source,Gt(fe.exec(E))+"g")),E.lastIndex=0;Ce=E.exec(Se);)var Oe=Ce.index;Q=Q.slice(0,Oe===t?U:Oe)}}else if(u.indexOf(Yr(E),U)!=U){var Ue=Q.lastIndexOf(E);Ue>-1&&(Q=Q.slice(0,Ue))}return Q+C}function SN(u){return u=Gt(u),u&&vr.test(u)?u.replace(Sn,XR):u}var kN=_a(function(u,d,g){return u+(g?" ":"")+d.toUpperCase()}),fg=Q1("toUpperCase");function Zx(u,d,g){return u=Gt(u),d=g?t:d,d===t?KR(u)?tP(u):FR(u):u.match(d)||[]}var Xx=xt(function(u,d){try{return Kr(u,t,d)}catch(g){return lg(g)?g:new pt(g)}}),MN=vo(function(u,d){return di(d,function(g){g=Ji(g),go(u,g,sg(u[g],u))}),u});function EN(u){var d=u==null?0:u.length,g=lt();return u=d?pn(u,function(C){if(typeof C[1]!="function")throw new fi(s);return[g(C[0]),C[1]]}):[],xt(function(C){for(var E=-1;++E<d;){var I=u[E];if(Kr(I[0],this,C))return Kr(I[1],this,C)}})}function TN(u){return XP(hi(u,p))}function pg(u){return function(){return u}}function AN(u,d){return u==null||u!==u?d:u}var ON=tx(),LN=tx(!0);function zr(u){return u}function hg(u){return R1(typeof u=="function"?u:hi(u,p))}function RN(u){return I1(hi(u,p))}function PN(u,d){return D1(u,hi(d,p))}var IN=xt(function(u,d){return function(g){return Xl(g,u,d)}}),DN=xt(function(u,d){return function(g){return Xl(u,g,d)}});function gg(u,d,g){var C=Yn(d),E=od(d,C);g==null&&!(yn(d)&&(E.length||!C.length))&&(g=d,d=u,u=this,E=od(d,Yn(d)));var I=!(yn(g)&&"chain"in g)||!!g.chain,B=bo(u);return di(E,function(U){var Q=d[U];u[U]=Q,B&&(u.prototype[U]=function(){var Ce=this.__chain__;if(I||Ce){var Se=u(this.__wrapped__),Oe=Se.__actions__=Fr(this.__actions__);return Oe.push({func:Q,args:arguments,thisArg:u}),Se.__chain__=Ce,Se}return Q.apply(u,Bo([this.value()],arguments))})}),u}function _N(){return nr._===this&&(nr._=aP),this}function mg(){}function $N(u){return u=gt(u),xt(function(d){return _1(d,u)})}var NN=Kh(pn),FN=Kh(n1),BN=Kh(yh);function Qx(u){return eg(u)?bh(Ji(u)):gI(u)}function jN(u){return function(d){return u==null?t:Ls(u,d)}}var zN=rx(),HN=rx(!0);function vg(){return[]}function yg(){return!1}function WN(){return{}}function UN(){return""}function VN(){return!0}function GN(u,d){if(u=gt(u),u<1||u>he)return[];var g=te,C=lr(u,te);d=lt(d),u-=te;for(var E=Ch(C,d);++g<u;)d(g);return E}function KN(u){return ht(u)?pn(u,Ji):Jr(u)?[u]:Fr(bx(Gt(u)))}function qN(u){var d=++oP;return Gt(u)+d}var YN=dd(function(u,d){return u+d},0),JN=qh("ceil"),ZN=dd(function(u,d){return u/d},1),XN=qh("floor");function QN(u){return u&&u.length?id(u,zr,Ih):t}function e3(u,d){return u&&u.length?id(u,lt(d,2),Ih):t}function t3(u){return o1(u,zr)}function n3(u,d){return o1(u,lt(d,2))}function r3(u){return u&&u.length?id(u,zr,Nh):t}function i3(u,d){return u&&u.length?id(u,lt(d,2),Nh):t}var o3=dd(function(u,d){return u*d},1),s3=qh("round"),a3=dd(function(u,d){return u-d},0);function l3(u){return u&&u.length?wh(u,zr):0}function u3(u,d){return u&&u.length?wh(u,lt(d,2)):0}return P.after=R_,P.ary=Lx,P.assign=y$,P.assignIn=Ux,P.assignInWith=kd,P.assignWith=b$,P.at=x$,P.before=Rx,P.bind=sg,P.bindAll=MN,P.bindKey=Px,P.castArray=W_,P.chain=Tx,P.chunk=XI,P.compact=QI,P.concat=eD,P.cond=EN,P.conforms=TN,P.constant=pg,P.countBy=l_,P.create=w$,P.curry=Ix,P.curryRight=Dx,P.debounce=_x,P.defaults=C$,P.defaultsDeep=S$,P.defer=P_,P.delay=I_,P.difference=tD,P.differenceBy=nD,P.differenceWith=rD,P.drop=iD,P.dropRight=oD,P.dropRightWhile=sD,P.dropWhile=aD,P.fill=lD,P.filter=c_,P.flatMap=p_,P.flatMapDeep=h_,P.flatMapDepth=g_,P.flatten=Sx,P.flattenDeep=uD,P.flattenDepth=cD,P.flip=D_,P.flow=ON,P.flowRight=LN,P.fromPairs=dD,P.functions=L$,P.functionsIn=R$,P.groupBy=m_,P.initial=pD,P.intersection=hD,P.intersectionBy=gD,P.intersectionWith=mD,P.invert=I$,P.invertBy=D$,P.invokeMap=y_,P.iteratee=hg,P.keyBy=b_,P.keys=Yn,P.keysIn=jr,P.map=yd,P.mapKeys=$$,P.mapValues=N$,P.matches=RN,P.matchesProperty=PN,P.memoize=xd,P.merge=F$,P.mergeWith=Vx,P.method=IN,P.methodOf=DN,P.mixin=gg,P.negate=wd,P.nthArg=$N,P.omit=B$,P.omitBy=j$,P.once=__,P.orderBy=x_,P.over=NN,P.overArgs=$_,P.overEvery=FN,P.overSome=BN,P.partial=ag,P.partialRight=$x,P.partition=w_,P.pick=z$,P.pickBy=Gx,P.property=Qx,P.propertyOf=jN,P.pull=xD,P.pullAll=Mx,P.pullAllBy=wD,P.pullAllWith=CD,P.pullAt=SD,P.range=zN,P.rangeRight=HN,P.rearg=N_,P.reject=k_,P.remove=kD,P.rest=F_,P.reverse=ig,P.sampleSize=E_,P.set=W$,P.setWith=U$,P.shuffle=T_,P.slice=MD,P.sortBy=L_,P.sortedUniq=PD,P.sortedUniqBy=ID,P.split=pN,P.spread=B_,P.tail=DD,P.take=_D,P.takeRight=$D,P.takeRightWhile=ND,P.takeWhile=FD,P.tap=QD,P.throttle=j_,P.thru=vd,P.toArray=zx,P.toPairs=Kx,P.toPairsIn=qx,P.toPath=KN,P.toPlainObject=Wx,P.transform=V$,P.unary=z_,P.union=BD,P.unionBy=jD,P.unionWith=zD,P.uniq=HD,P.uniqBy=WD,P.uniqWith=UD,P.unset=G$,P.unzip=og,P.unzipWith=Ex,P.update=K$,P.updateWith=q$,P.values=Fa,P.valuesIn=Y$,P.without=VD,P.words=Zx,P.wrap=H_,P.xor=GD,P.xorBy=KD,P.xorWith=qD,P.zip=YD,P.zipObject=JD,P.zipObjectDeep=ZD,P.zipWith=XD,P.entries=Kx,P.entriesIn=qx,P.extend=Ux,P.extendWith=kd,gg(P,P),P.add=YN,P.attempt=Xx,P.camelCase=Q$,P.capitalize=Yx,P.ceil=JN,P.clamp=J$,P.clone=U_,P.cloneDeep=G_,P.cloneDeepWith=K_,P.cloneWith=V_,P.conformsTo=q_,P.deburr=Jx,P.defaultTo=AN,P.divide=ZN,P.endsWith=eN,P.eq=_i,P.escape=tN,P.escapeRegExp=nN,P.every=u_,P.find=d_,P.findIndex=wx,P.findKey=k$,P.findLast=f_,P.findLastIndex=Cx,P.findLastKey=M$,P.floor=XN,P.forEach=Ax,P.forEachRight=Ox,P.forIn=E$,P.forInRight=T$,P.forOwn=A$,P.forOwnRight=O$,P.get=cg,P.gt=Y_,P.gte=J_,P.has=P$,P.hasIn=dg,P.head=kx,P.identity=zr,P.includes=v_,P.indexOf=fD,P.inRange=Z$,P.invoke=_$,P.isArguments=Is,P.isArray=ht,P.isArrayBuffer=Z_,P.isArrayLike=Br,P.isArrayLikeObject=On,P.isBoolean=X_,P.isBuffer=Go,P.isDate=Q_,P.isElement=e$,P.isEmpty=t$,P.isEqual=n$,P.isEqualWith=r$,P.isError=lg,P.isFinite=i$,P.isFunction=bo,P.isInteger=Nx,P.isLength=Cd,P.isMap=Fx,P.isMatch=o$,P.isMatchWith=s$,P.isNaN=a$,P.isNative=l$,P.isNil=c$,P.isNull=u$,P.isNumber=Bx,P.isObject=yn,P.isObjectLike=kn,P.isPlainObject=iu,P.isRegExp=ug,P.isSafeInteger=d$,P.isSet=jx,P.isString=Sd,P.isSymbol=Jr,P.isTypedArray=Na,P.isUndefined=f$,P.isWeakMap=p$,P.isWeakSet=h$,P.join=vD,P.kebabCase=rN,P.last=mi,P.lastIndexOf=yD,P.lowerCase=iN,P.lowerFirst=oN,P.lt=g$,P.lte=m$,P.max=QN,P.maxBy=e3,P.mean=t3,P.meanBy=n3,P.min=r3,P.minBy=i3,P.stubArray=vg,P.stubFalse=yg,P.stubObject=WN,P.stubString=UN,P.stubTrue=VN,P.multiply=o3,P.nth=bD,P.noConflict=_N,P.noop=mg,P.now=bd,P.pad=sN,P.padEnd=aN,P.padStart=lN,P.parseInt=uN,P.random=X$,P.reduce=C_,P.reduceRight=S_,P.repeat=cN,P.replace=dN,P.result=H$,P.round=s3,P.runInContext=Y,P.sample=M_,P.size=A_,P.snakeCase=fN,P.some=O_,P.sortedIndex=ED,P.sortedIndexBy=TD,P.sortedIndexOf=AD,P.sortedLastIndex=OD,P.sortedLastIndexBy=LD,P.sortedLastIndexOf=RD,P.startCase=hN,P.startsWith=gN,P.subtract=a3,P.sum=l3,P.sumBy=u3,P.template=mN,P.times=GN,P.toFinite=xo,P.toInteger=gt,P.toLength=Hx,P.toLower=vN,P.toNumber=vi,P.toSafeInteger=v$,P.toString=Gt,P.toUpper=yN,P.trim=bN,P.trimEnd=xN,P.trimStart=wN,P.truncate=CN,P.unescape=SN,P.uniqueId=qN,P.upperCase=kN,P.upperFirst=fg,P.each=Ax,P.eachRight=Ox,P.first=kx,gg(P,function(){var u={};return qi(P,function(d,g){qt.call(P.prototype,g)||(u[g]=d)}),u}(),{chain:!1}),P.VERSION=r,di(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){P[u].placeholder=P}),di(["drop","take"],function(u,d){Rt.prototype[u]=function(g){g=g===t?1:Wn(gt(g),0);var C=this.__filtered__&&!d?new Rt(this):this.clone();return C.__filtered__?C.__takeCount__=lr(g,C.__takeCount__):C.__views__.push({size:lr(g,te),type:u+(C.__dir__<0?"Right":"")}),C},Rt.prototype[u+"Right"]=function(g){return this.reverse()[u](g).reverse()}}),di(["filter","map","takeWhile"],function(u,d){var g=d+1,C=g==z||g==Z;Rt.prototype[u]=function(E){var I=this.clone();return I.__iteratees__.push({iteratee:lt(E,3),type:g}),I.__filtered__=I.__filtered__||C,I}}),di(["head","last"],function(u,d){var g="take"+(d?"Right":"");Rt.prototype[u]=function(){return this[g](1).value()[0]}}),di(["initial","tail"],function(u,d){var g="drop"+(d?"":"Right");Rt.prototype[u]=function(){return this.__filtered__?new Rt(this):this[g](1)}}),Rt.prototype.compact=function(){return this.filter(zr)},Rt.prototype.find=function(u){return this.filter(u).head()},Rt.prototype.findLast=function(u){return this.reverse().find(u)},Rt.prototype.invokeMap=xt(function(u,d){return typeof u=="function"?new Rt(this):this.map(function(g){return Xl(g,u,d)})}),Rt.prototype.reject=function(u){return this.filter(wd(lt(u)))},Rt.prototype.slice=function(u,d){u=gt(u);var g=this;return g.__filtered__&&(u>0||d<0)?new Rt(g):(u<0?g=g.takeRight(-u):u&&(g=g.drop(u)),d!==t&&(d=gt(d),g=d<0?g.dropRight(-d):g.take(d-u)),g)},Rt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Rt.prototype.toArray=function(){return this.take(te)},qi(Rt.prototype,function(u,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),C=/^(?:head|last)$/.test(d),E=P[C?"take"+(d=="last"?"Right":""):d],I=C||/^find/.test(d);E&&(P.prototype[d]=function(){var B=this.__wrapped__,U=C?[1]:arguments,Q=B instanceof Rt,Ce=U[0],Se=Q||ht(B),Oe=function(Et){var Dt=E.apply(P,Bo([Et],U));return C&&Ue?Dt[0]:Dt};Se&&g&&typeof Ce=="function"&&Ce.length!=1&&(Q=Se=!1);var Ue=this.__chain__,nt=!!this.__actions__.length,ut=I&&!Ue,vt=Q&&!nt;if(!I&&Se){B=vt?B:new Rt(this);var ct=u.apply(B,U);return ct.__actions__.push({func:vd,args:[Oe],thisArg:t}),new pi(ct,Ue)}return ut&&vt?u.apply(this,U):(ct=this.thru(Oe),ut?C?ct.value()[0]:ct.value():ct)})}),di(["pop","push","shift","sort","splice","unshift"],function(u){var d=Wc[u],g=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",C=/^(?:pop|shift)$/.test(u);P.prototype[u]=function(){var E=arguments;if(C&&!this.__chain__){var I=this.value();return d.apply(ht(I)?I:[],E)}return this[g](function(B){return d.apply(ht(B)?B:[],E)})}}),qi(Rt.prototype,function(u,d){var g=P[d];if(g){var C=g.name+"";qt.call(Pa,C)||(Pa[C]=[]),Pa[C].push({name:d,func:g})}}),Pa[cd(t,S).name]=[{name:"wrapper",func:t}],Rt.prototype.clone=SP,Rt.prototype.reverse=kP,Rt.prototype.value=MP,P.prototype.at=e_,P.prototype.chain=t_,P.prototype.commit=n_,P.prototype.next=r_,P.prototype.plant=o_,P.prototype.reverse=s_,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=a_,P.prototype.first=P.prototype.head,Vl&&(P.prototype[Vl]=i_),P},Oa=nP();Ms?((Ms.exports=Oa)._=Oa,hh._=Oa):nr._=Oa}).call(To)})(Df,Df.exports);var Zre=Df.exports;function Xre(n){const{fieldDef:e,path:t,value:r}=n,{inputSettings:i}=e,{getOptionsStates:o}=i,{state:s,methods:a}=v.useContext(Hl),{setFieldValue:l}=a,c=v.useMemo(()=>Zre.get(s.data,[...t||[],"country"]),[s,t]),f=v.useCallback(async()=>c?o(c.value):[],[c,o]);return v.useEffect(()=>{if(!r)return;(async()=>{if(!c){l({name:"state",path:t,value:void 0});return}(await o(c.value)).find(({label:y})=>y.toLowerCase().includes(r.label.toLowerCase()))||l({name:"state",path:t,value:void 0})})()},[c,t,o,l,r]),x.jsx(by,{error:n.error,id:e.name,fieldDef:{name:e.name,type:"addressState",label:e.label,required:e.required,size:e.size},methods:n.methods,disabled:n.disabled,useRealLabel:!0,skeleton:n.skeleton,children:x.jsx(LE,{...n,fieldDef:{...e,inputSettings:{...i,getOptions:f}}})})}const Qre=v.memo(Xre),ak={address1:["country","city","state","postalCode"],address2:["address1"],address3:["address2"],state:["country","postalCode"],city:["country","state","postalCode"]};function eie(n){const e=[],t=n.map(r=>typeof r=="string"?r:r.name);for(const r of t)if(ak[r])for(const i of ak[r])t.includes(i)||e.push(`The "${r}" sub field requires the ${i} to also be included.`);return e.join(`
`)}function i2({getOptionsCountries:n,getOptionsStates:e,googleMapsApiKey:t,required:r,disabled:i,include:o}){const s=o&&eie(o);if(s)throw new Error(s);const a={address1:{name:"address1",required:r,disabled:i,label:"Address",size:"lg",...t?{type:Jre,inputSettings:{getOptionsCountries:n,getOptionsStates:e,googleMapsApiKey:t}}:{type:"text"}},address2:{name:"address2",type:"text",label:void 0,size:"lg",disabled:i},address3:{name:"address3",type:"text",label:void 0,size:"lg",disabled:i},country:{name:"country",type:"dropdown",label:"Country",size:"sm",required:r,disabled:i,inputSettings:{getOptions:n},validates:[{name:"postalCode",include:[$A]}]},city:{name:"city",type:"text",label:"City",size:"sm",required:r,disabled:i},state:{name:"state",type:Qre,label:"State",size:"sm",disabled:i,inputSettings:{getOptionsStates:e}},postalCode:{name:"postalCode",type:"text",label:"Postal Code",size:"sm",required:r,disabled:i,inputSettings:{type:"string"},validators:[{fn:"validatePostcode",options:{countryField:"country"}}]}};return o?o.map(l=>typeof l=="string"?a[l]:yy(a[l.name],l)):Object.values(a)}const tie=n=>{const{onSave:e,addressToEdit:t,handleClose:r,handleUnsavedChanges:i,dialogOpen:o,handleDialogClose:s,addressTypes:a,getOptionsCountries:l,getOptionsStates:c,googleMapsApiKey:f}=n,p=Yp(),{state:h,handleSubmit:m}=p;v.useEffect(()=>{i&&i(!Ete(t,h.data))},[t,h.data]);const y=m(v.useCallback(async()=>{e({...t||{},address1:h.data.address1,address2:h.data.address2,address3:h.data.address3,city:h.data.city,state:h.data.state,postalCode:h.data.postalCode,country:h.data.country,types:h.data.types}),r(!0)},[r,e,t,h.data.address1,h.data.address2,h.data.address3,h.data.city,h.data.state,h.data.postalCode,h.data.country,h.data.types])),b=v.useMemo(()=>[{fields:[[["address1"]],[["address2"]],[["address3"]],[["country"]],[["city"],["state"],["postalCode"]],...a?[[["types"]]]:[]]}],[a]),w=v.useMemo(()=>a?[{name:"types",type:"checkbox",label:"Type",size:"sm",required:!0,inputSettings:{options:[...a,...t?t.types.filter(R=>!a.find(({value:O})=>O===R.value)):[]]}}]:[],[a,t]),S=v.useMemo(()=>[...i2({getOptionsCountries:l,getOptionsStates:c,googleMapsApiKey:f,required:!0}),...w],[l,c,f,w]),k=v.useCallback(async()=>{if(!t)return{};const R={address1:t.address1,address2:t.address2,address3:t.address3,city:t.city,state:t.state,postalCode:t.postalCode,country:t.country};return a&&(R.types=t.types),R},[t,a]),T=v.useMemo(()=>[{label:"Cancel",onClick:()=>r(),color:"gray",variant:"outlined"},{label:"Save",onClick:y,color:"yellow",variant:"contained",type:"submit"}],[r,y]);return x.jsx(h0,{className:"address",children:x.jsx(fh,{...p,onBack:r,backLabel:"Cancel address entry",title:"Address Information",buttons:T,"data-testid":"address-testid",sections:b,fields:S,dialogOpen:o,handleDialogClose:s,getFormValues:k})})},nie=ce.div`
  display: flex;
  flex-direction: column;
  color: ${K.newColors.almostBlack[100]};
  background-color: ${K.newColors.grey1[100]};
  font-family: ${K.fontFamily};
  height: 204px;
  padding: 24px 16px 16px 24px;
  width: 300px;

  & span {
    font-size: 14px;
    margin: 0;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
	line-height: 20px;
  }
`,rie=ce.span`
  font-weight: ${K.fontWeight.semiBold};
  margin-bottom: 12px !important;
`,iie=ce(gc)`
  align-self: flex-end;
  margin-top: auto;
`,oie=n=>{var s,a;const{address:e,onEdit:t,onRemoveAddress:r,disabled:i}=n,o=(e.types||[]).map(l=>l.label);return x.jsxs(nie,{"data-testid":"address-card-test",children:[x.jsx(rie,{children:`${RA(o)} Address`}),x.jsx("span",{children:e==null?void 0:e.address1}),(e==null?void 0:e.address2)&&x.jsx("span",{children:e==null?void 0:e.address2}),(e==null?void 0:e.address3)&&x.jsx("span",{children:e==null?void 0:e.address3}),x.jsx("span",{children:`${e==null?void 0:e.city}, ${(s=e==null?void 0:e.state)!=null&&s.label?e.state.label:""} ${e==null?void 0:e.postalCode}`}),x.jsx("span",{children:(a=e==null?void 0:e.country)==null?void 0:a.label}),x.jsxs(iie,{separator:!0,children:[x.jsx(ar,{label:"Edit",color:"teal",variant:"text",disabled:i,onClick:()=>t(e)}),x.jsx(ar,{color:"red",variant:"text",disabled:i,label:"Remove",onClick:()=>r(e)})]})]})},sie=v.memo(oie);ce.div`
  align-items: center;
  background-color: ${K.newColors.grey2[100]};
  display: flex;
  justify-content: center;
  min-height: 204px;
  width: 300px;
`;const aie=ce.div`
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
`,lie=ce.div`
  margin-bottom: 16px;
`,uie=ce.div`
  display: flex;
  gap: 16px;
`;function cie(){return x.jsxs("div",{children:[x.jsx(kt,{variant:"rectangular",width:143,height:36,sx:{marginBottom:2}}),x.jsxs(uie,{children:[x.jsx(kt,{variant:"rectangular",width:300,height:204}),x.jsx(kt,{variant:"rectangular",width:300,height:204})]})]})}const tm=[{label:"Physical",value:"physical",inputSettingsKey:"amountPhysical"},{label:"Billing",value:"billing",inputSettingsKey:"amountBilling"},{label:"Shipping",value:"shipping",inputSettingsKey:"amountShipping"}],die=n=>{var j,F,ie;const{disabled:e,value:t,onBlur:r,onChange:i,fieldDef:o,skeleton:s}=n,[a,l]=v.useState(!1),c=v.useMemo(()=>!t||Array.isArray(t)?t:[t],[t]),[f,p]=v.useState(!1),[h,m]=v.useState(!1),[y,b]=v.useState(null),{singleType:w,limits:S}=v.useMemo(()=>{var H,he;const ne=tm.map(_e=>{var pe;return{..._e,limit:(pe=o==null?void 0:o.inputSettings)==null?void 0:pe[_e.inputSettingsKey]}}).filter(_e=>_e.limit!==void 0),z=ne.length===1&&((H=o==null?void 0:o.inputSettings)==null?void 0:H.amountPerType)===void 0?ne[0]:!1,X=((he=o==null?void 0:o.inputSettings)==null?void 0:he.amountPerType)??+!ne.length;return{limits:tm.reduce((_e,pe)=>{var te;return{..._e,[pe.value]:((te=o==null?void 0:o.inputSettings)==null?void 0:te[pe.inputSettingsKey])??X}},{}),singleType:z}},[o==null?void 0:o.inputSettings]),k=v.useMemo(()=>tm.filter(ne=>{const z=(c||[]).filter(X=>{var Z;return(Z=X==null?void 0:X.types)==null?void 0:Z.map(({value:H})=>H).includes(ne.value)});return!(S[ne.value]>-1&&z.length>=S[ne.value])}),[S,c]),T=()=>{l(!0)},R=v.useCallback(async W=>{i((c||[]).filter(ne=>ne!==W)),await r()},[r,i,c]),O=async(W=!1)=>{typeof W=="boolean"&&W?(l(!1),r&&await r()):f?m(!0):(l(!1),r&&await r())},M=async W=>{W&&l(!1),m(!1)},L=W=>{const ne=[...c||[]],z={...W,types:w?[{value:w.value,label:w.label}]:W.types};if(typeof a=="object"){const X=c.findIndex(Z=>Z===a);ne.splice(X,1,z)}else ne.push(z);i(ne)},D=v.useMemo(()=>[{label:"No, keep it",onClick:()=>b(void 0),color:"gray",variant:"outlined"},{label:"Yes, remove it",onClick:()=>{R(y),b(void 0)},color:"yellow",variant:"contained"}],[R,y]);return s?x.jsx(cie,{}):x.jsxs(x.Fragment,{children:[k.length>0&&x.jsx(lie,{children:x.jsx(ar,{disabled:e,color:"gray",variant:"outlined",label:"ADD ADDRESS",onClick:T})}),!!c&&x.jsx(aie,{children:c.map((W,ne)=>x.jsx(sie,{address:W,onEdit:l,disabled:e,onRemoveAddress:b},`${ne}`))}),x.jsx(d0,{open:!!a,onClose:O,children:x.jsx(tie,{googleMapsApiKey:(j=o==null?void 0:o.inputSettings)==null?void 0:j.googleMapsApiKey,handleClose:O,addressToEdit:typeof a=="object"?a:void 0,handleUnsavedChanges:W=>p(W),dialogOpen:h,handleDialogClose:M,addressTypes:w?void 0:k,getOptionsCountries:(F=o==null?void 0:o.inputSettings)==null?void 0:F.getOptionsCountries,getOptionsStates:(ie=o==null?void 0:o.inputSettings)==null?void 0:ie.getOptionsStates,onSave:L})}),x.jsx(f0,{buttons:D,dialogTitle:"Are you sure you want to remove this address?",open:!!y,children:"All data for this address will be lost. This action is irreversible."})]})},fie=v.memo(die);function ir(n){this.content=n}ir.prototype={constructor:ir,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new ir(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new ir(t)},addToStart:function(n,e){return new ir([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new ir(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new ir(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=ir.from(n),n.size?new ir(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=ir.from(n),n.size?new ir(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=ir.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};ir.from=function(n){if(n instanceof ir)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new ir(e)};function o2(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)t++;return t}if(i.content.size||o.content.size){let s=o2(i.content,o.content,t+1);if(s!=null)return s}t+=i.nodeSize}}function s2(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let s=n.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){t-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:t,b:r};if(s.isText&&s.text!=a.text){let c=0,f=Math.min(s.text.length,a.text.length);for(;c<f&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(s.content.size||a.content.size){let c=s2(s.content,a.content,t-1,r-1);if(c)return c}t-=l,r-=l}}class ge{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let s=0,a=0;a<t;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let f=a+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,t-f),r,i+f)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",s=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new ge(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,s=0;s<t;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,t-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,t-s-1))),r.push(a),i+=a.nodeSize),s=l}return new ge(r,i)}cutByIndex(e,t){return e==t?ge.empty:e==0&&t==this.content.length?this:new ge(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new ge(i,o)}addToStart(e){return new ge([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ge(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return o2(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return s2(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Bd(0,e);if(e==this.size)return Bd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||t>0?Bd(r+1,s):Bd(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ge.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ge(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ge.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new ge(t||e,r)}static from(e){if(!e)return ge.empty;if(e instanceof ge)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ge([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ge.empty=new ge([],0);const nm={index:0,offset:0};function Bd(n,e){return nm.index=n,nm.offset=e,nm}function _f(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!_f(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!_f(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Jt=class mv{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&_f(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return mv.none;if(e instanceof mv)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};Jt.none=[];class Ol extends Error{}class be{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=l2(this.content,e+this.openStart,t);return r&&new be(r,this.openStart,this.openEnd)}removeBetween(e,t){return new be(a2(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return be.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new be(ge.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new be(e,r,i)}}be.empty=new be(ge.empty,0,0);function a2(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:s,offset:a}=n.findIndex(t);if(i==e||o.isText){if(a!=t&&!n.child(s).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=s)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(a2(o.content,e-i-1,t-i-1)))}function l2(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),s=n.maybeChild(i);if(o==e||s.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=l2(s.content,e-o-1,t);return a&&n.replaceChild(i,s.copy(a))}function pie(n,e,t){if(t.openStart>n.depth)throw new Ol("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Ol("Inconsistent open depths");return u2(n,e,t,0)}function u2(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let s=u2(n,e,t,r+1);return o.copy(o.content.replaceChild(i,s))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let s=n.parent,a=s.content;return Zs(s,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=hie(t,n);return Zs(o,d2(n,s,a,e,r))}else return Zs(o,$f(n,e,r))}function c2(n,e){if(!e.type.compatibleContent(n.type))throw new Ol("Cannot join "+e.type.name+" onto "+n.type.name)}function vv(n,e,t){let r=n.node(t);return c2(r,e.node(t)),r}function Js(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function ju(n,e,t,r){let i=(e||n).node(t),o=0,s=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(Js(n.nodeAfter,r),o++));for(let a=o;a<s;a++)Js(i.child(a),r);e&&e.depth==t&&e.textOffset&&Js(e.nodeBefore,r)}function Zs(n,e){return n.type.checkContent(e),n.copy(e)}function d2(n,e,t,r,i){let o=n.depth>i&&vv(n,e,i+1),s=r.depth>i&&vv(t,r,i+1),a=[];return ju(null,n,i,a),o&&s&&e.index(i)==t.index(i)?(c2(o,s),Js(Zs(o,d2(n,e,t,r,i+1)),a)):(o&&Js(Zs(o,$f(n,e,i+1)),a),ju(e,t,i,a),s&&Js(Zs(s,$f(t,r,i+1)),a)),ju(r,null,i,a),new ge(a)}function $f(n,e,t){let r=[];if(ju(null,n,t,r),n.depth>t){let i=vv(n,e,t+1);Js(Zs(i,$f(n,e,t+1)),r)}return ju(e,null,t,r),new ge(r)}function hie(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(ge.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class nc{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Jt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Nf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new nc(t,r,o)}static resolveCached(e,t){let r=lk.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==t)return s}else lk.set(e,r=new gie);let i=r.elts[r.i]=nc.resolve(e,t);return r.i=(r.i+1)%mie,i}}class gie{constructor(){this.elts=[],this.i=0}}const mie=12,lk=new WeakMap;class Nf{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const vie=Object.create(null);let Xs=class yv{constructor(e,t,r,i=Jt.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||ge.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&_f(this.attrs,t||e.defaultAttrs||vie)&&Jt.sameSet(this.marks,r||Jt.none)}copy(e=null){return e==this.content?this:new yv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new yv(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return be.empty;let i=this.resolve(e),o=this.resolve(t),s=r?0:i.sharedDepth(t),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new be(c,i.depth-s,o.depth-s)}replace(e,t,r){return pie(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return nc.resolveCached(this,e)}resolveNoCache(e){return nc.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),f2(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ge.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,t);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Jt.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Jt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=ge.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Xs.prototype.text=void 0;class Ff extends Xs{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):f2(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ff(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ff(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function f2(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class ra{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new yie(e,t);if(r.next==null)return ra.empty;let i=p2(r);r.next&&r.err("Unexpected trailing text");let o=Mie(kie(i));return Eie(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!t||l.validEnd))return ge.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:f,next:p}=s.next[c];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let h=o(p,a.concat(f));if(h)return h}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}ra.empty=new ra(!0);class yie{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function p2(n){let e=[];do e.push(bie(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function bie(n){let e=[];do e.push(xie(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function xie(n){let e=Sie(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=wie(n,e);else break;return e}function uk(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function wie(n,e){let t=uk(n),r=t;return n.eat(",")&&(n.next!="}"?r=uk(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function Cie(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let s=t[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function Sie(n){if(n.eat("(")){let e=p2(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=Cie(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function kie(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=t())}else if(s.type=="star"){let l=t();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=t();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let f=t();i(o(s.expr,l),f),l=f}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let f=t();r(l,f),i(o(s.expr,l),f),l=f}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function h2(n,e){return e-n}function ck(n,e){let t=[];return r(e),t.sort(h2);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&t.indexOf(l)==-1&&r(l)}}}function Mie(n){let e=Object.create(null);return t(ck(n,0));function t(r){let i=[];r.forEach(s=>{n[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let f=0;f<i.length;f++)i[f][0]==a&&(c=i[f][1]);ck(n,l).forEach(f=>{c||i.push([a,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let o=e[r.join(",")]=new ra(r.indexOf(n.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(h2);o.next.push({type:i[s][0],next:e[a.join(",")]||t(a)})}return o}}function Eie(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function g2(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function m2(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function v2(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(e[i])}}function y2(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new Aie(n,r,e[r]);return t}let dk=class b2{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=y2(e,r.attrs),this.defaultAttrs=g2(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ra.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:m2(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Xs(this,this.computeAttrs(e),ge.from(t),Jt.setFrom(r))}createChecked(e=null,t,r){return t=ge.from(t),this.checkContent(t),new Xs(this,this.computeAttrs(e),t,Jt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ge.from(t),t.size){let s=this.contentMatch.fillBefore(t);if(!s)return null;t=s.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(ge.empty,!0);return o?new Xs(this,e,t.append(o),Jt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){v2(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Jt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,s)=>r[o]=new b2(o,t,s));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Tie(n,e,t){let r=t.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class Aie{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Tie(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Lc{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=y2(e,i.attrs),this.excluded=null;let o=g2(this.attrs);this.instance=o?new Jt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Jt(this,m2(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Lc(o,i++,t,s)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){v2(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class x2{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=ir.from(e.nodes),t.marks=ir.from(e.marks||{}),this.nodes=dk.compile(this.spec.nodes,this),this.marks=Lc.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=ra.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?fk(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:fk(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof dk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Ff(r,r.defaultAttrs,e,Jt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Xs.fromJSON(this,e)}markFromJSON(e){return Jt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function fk(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],s=o;if(o)t.push(o);else for(let a in n.marks){let l=n.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function Oie(n){return n.tag!=null}function Lie(n){return n.style!=null}let zu=class bv{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(Oie(i))this.tags.push(i);else if(Lie(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new hk(this,t,!1);return r.addAll(e,Jt.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new hk(this,t,!0);return r.addAll(e,Jt.none,t.from,t.to),be.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Iie(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(s.getAttrs){let l=s.getAttrs(t);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<t.length;s++){let a=t[s];if((a.priority==null?50:a.priority)<o)break}t.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=gk(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=gk(s)),s.node||s.ignore||s.mark||(s.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new bv(e,bv.schemaRules(e)))}};const w2={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Rie={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},C2={ol:!0,ul:!0},Bf=1,jf=2,Hu=4;function pk(n,e,t){return e!=null?(e?Bf:0)|(e==="full"?jf:0):n&&n.whitespace=="pre"?Bf|jf:t&~Hu}class jd{constructor(e,t,r,i,o,s){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Jt.none,this.match=o||(s&Hu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ge.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Bf)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=ge.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ge.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!w2.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class hk{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0;let i=t.topNode,o,s=pk(null,t.preserveWhitespace,0)|(r?Hu:0);i?o=new jd(i.type,i.attrs,Jt.none,!0,t.topMatch||i.type.contentMatch,s):r?o=new jd(null,null,Jt.none,!0,null,s):o=new jd(e.schema.topNodeType,null,Jt.none,!0,null,s),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top;if(i.options&jf||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&Bf)i.options&jf?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=e.nodeName.toLowerCase(),o;C2.hasOwnProperty(i)&&this.parser.normalizeLists&&Pie(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(s?s.ignore:Rie.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,l=this.top,c=this.needsBlock;if(w2.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);return}let f=s&&s.skip?t:this.readStyles(e,t);f&&this.addAll(e,f),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,t);a&&this.addElementByRule(e,s,a,s.consuming===!1?o:void 0)}}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,r,i){let o,s;if(t.node)if(s=this.parser.schema.nodes[t.node],s.isLeaf)this.insertNode(s.create(t.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,t.attrs||null,r,t.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[t.mark];r=r.concat(l.create(t.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,r)}o&&this.sync(a)&&this.open--}addAll(e,t,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,t);this.findAtPoint(e,o)}findPlace(e,t){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)t=this.enterInner(r[o],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(t=this.enterInner(i,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Jt.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):mk(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let o=this.findPlace(e.create(t),r);return o&&(o=this.enterInner(e,t,r,!0,i)),o}enterInner(e,t,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=pk(e,o,s.options);s.options&Hu&&s.content.length==0&&(a|=Hu);let l=Jt.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):mk(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new jd(e,t,l,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let f=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!f||f.name!=c&&f.groups.indexOf(c)==-1)return!1;l--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Pie(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&C2.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Iie(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function gk(n){let e={};for(let t in n)e[t]=n[t];return e}function mk(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:f}=a.edge(l);if(c==e||o.indexOf(f)<0&&s(f))return!0}};if(s(i.contentMatch))return!0}}class ya{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=rm(t).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],f=this.serializeMark(c,s.isInline,t);f&&(o.push([c,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(s,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=ef(rm(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&ef(rm(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return ef(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ya(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=vk(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return vk(e.marks)}}function vk(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function rm(n){return n.document||window.document}const yk=new WeakMap;function Die(n){let e=yk.get(n);return e===void 0&&yk.set(n,e=_ie(n)),e}function _ie(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function ef(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=Die(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(t=i.slice(0,s),i=i.slice(s+1));let a,l=t?n.createElementNS(t,i):n.createElement(i),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let p in c)if(c[p]!=null){let h=p.indexOf(" ");h>0?l.setAttributeNS(p.slice(0,h),p.slice(h+1),c[p]):l.setAttribute(p,c[p])}}for(let p=f;p<e.length;p++){let h=e[p];if(h===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:m,contentDOM:y}=ef(n,h,t,r);if(l.appendChild(m),y){if(a)throw new RangeError("Multiple content holes");a=y}}}return{dom:l,contentDOM:a}}const S2=65535,k2=Math.pow(2,16);function $ie(n,e){return n+e*k2}function bk(n){return n&S2}function Nie(n){return(n-(n&S2))/k2}const M2=1,E2=2,tf=4,T2=8;let xv=class{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&T2)>0}get deletedBefore(){return(this.delInfo&(M2|tf))>0}get deletedAfter(){return(this.delInfo&(E2|tf))>0}get deletedAcross(){return(this.delInfo&tf)>0}},ia=class cl{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&cl.empty)return cl.empty}recover(e){let t=0,r=bk(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+Nie(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],f=this.ranges[a+s],p=l+c;if(e<=p){let h=c?e==l?-1:e==p?1:t:t,m=l+i+(h<0?0:f);if(r)return m;let y=e==(t<0?l:p)?null:$ie(a/3,e-l),b=e==l?E2:e==p?M2:tf;return(t<0?e!=l:e!=p)&&(b|=T2),new xv(m,b,y)}i+=f-c}return r?e+i:new xv(e+i,0,null)}touches(e,t){let r=0,i=bk(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],f=l+c;if(e<=f&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+t],f=this.ranges[i+r];e(a,a+c,l,l+f),o+=f-c}}invert(){return new cl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?cl.empty:new cl(e<0?[0,-e,0]:[0,0,e])}};ia.empty=new ia([]);let A2=class nf{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new nf(this.maps,this.mirror,e,t)}copy(){return new nf(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new nf;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new xv(e,i,null)}};const im=Object.create(null);let fr=class{getMap(){return ia.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=im[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in im)throw new RangeError("Duplicate use of step JSON ID "+e);return im[e]=t,t.prototype.jsonID=e,t}},kr=class Cu{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Cu(e,null)}static fail(e){return new Cu(null,e)}static fromReplace(e,t,r,i){try{return Cu.ok(e.replace(t,r,i))}catch(o){if(o instanceof Ol)return Cu.fail(o.message);throw o}}};function Ly(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(Ly(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return ge.fromArray(r)}let Ry=class Su extends fr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new be(Ly(t.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return kr.fromReplace(e,this.from,this.to,o)}invert(){return new Rc(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Su(t.pos,r.pos,this.mark)}merge(e){return e instanceof Su&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Su(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Su(t.from,t.to,e.markFromJSON(t.mark))}};fr.jsonID("addMark",Ry);let Rc=class ku extends fr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new be(Ly(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return kr.fromReplace(e,this.from,this.to,r)}invert(){return new Ry(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ku(t.pos,r.pos,this.mark)}merge(e){return e instanceof ku&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ku(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ku(t.from,t.to,e.markFromJSON(t.mark))}};fr.jsonID("removeMark",Rc);let Py=class Mu extends fr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return kr.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return kr.fromReplace(e,this.pos,this.pos+1,new be(ge.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Mu(this.pos,t.marks[i]);return new Mu(this.pos,this.mark)}}return new Iy(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Mu(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Mu(t.pos,e.markFromJSON(t.mark))}};fr.jsonID("addNodeMark",Py);let Iy=class wv extends fr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return kr.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return kr.fromReplace(e,this.pos,this.pos+1,new be(ge.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Py(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new wv(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new wv(t.pos,e.markFromJSON(t.mark))}};fr.jsonID("removeNodeMark",Iy);let Ro=class Ns extends fr{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Cv(e,this.from,this.to)?kr.fail("Structure replace would overwrite content"):kr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ia([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ns(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Ns(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Ns)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?be.empty:new be(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ns(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?be.empty:new be(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ns(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ns(t.from,t.to,be.fromJSON(e,t.slice),!!t.structure)}};fr.jsonID("replace",Ro);let Gi=class rf extends fr{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Cv(e,this.from,this.gapFrom)||Cv(e,this.gapTo,this.to)))return kr.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return kr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?kr.fromReplace(e,this.from,this.to,r):kr.fail("Content does not fit in gap")}getMap(){return new ia([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new rf(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new rf(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new rf(t.from,t.to,t.gapFrom,t.gapTo,be.fromJSON(e,t.slice),t.insert,!!t.structure)}};fr.jsonID("replaceAround",Gi);function Cv(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Fie(n,e,t,r){let i=[],o=[],s,a;n.doc.nodesBetween(e,t,(l,c,f)=>{if(!l.isInline)return;let p=l.marks;if(!r.isInSet(p)&&f.type.allowsMarkType(r.type)){let h=Math.max(c,e),m=Math.min(c+l.nodeSize,t),y=r.addToSet(p);for(let b=0;b<p.length;b++)p[b].isInSet(y)||(s&&s.to==h&&s.mark.eq(p[b])?s.to=m:i.push(s=new Rc(h,m,p[b])));a&&a.to==h?a.to=m:o.push(a=new Ry(h,m,r))}}),i.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function Bie(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof Lc){let c=s.marks,f;for(;f=r.isInSet(c);)(l||(l=[])).push(f),c=f.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,t);for(let f=0;f<l.length;f++){let p=l[f],h;for(let m=0;m<i.length;m++){let y=i[m];y.step==o-1&&p.eq(i[m].style)&&(h=y)}h?(h.to=c,h.step=o):i.push({style:p,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>n.step(new Rc(s.from,s.to,s.style)))}function O2(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),f=a+c.nodeSize,p=r.matchType(c.type);if(!p)s.push(new Ro(a,f,be.empty));else{r=p;for(let h=0;h<c.marks.length;h++)t.allowsMarkType(c.marks[h].type)||n.step(new Rc(a,f,c.marks[h]));if(i&&c.isText&&t.whitespace!="pre"){let h,m=/\r?\n|\r/g,y;for(;h=m.exec(c.text);)y||(y=new be(ge.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),s.push(new Ro(a+h.index,a+h.index+h[0].length,y))}}a=f}if(!r.validEnd){let l=r.fillBefore(ge.empty,!0);n.replace(a,a,new be(l,0,0))}for(let l=s.length-1;l>=0;l--)n.step(s[l])}function jie(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function zie(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(r==0||i.type.spec.isolating||!jie(i,o,s))break}return null}function Hie(n,e,t){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,f=ge.empty,p=0;for(let y=o,b=!1;y>t;y--)b||r.index(y)>0?(b=!0,f=ge.from(r.node(y).copy(f)),p++):l--;let h=ge.empty,m=0;for(let y=o,b=!1;y>t;y--)b||i.after(y+1)<i.end(y)?(b=!0,h=ge.from(i.node(y).copy(h)),m++):c++;n.step(new Gi(l,c,s,a,new be(f.append(h),p,m),f.size-p,!0))}function Wie(n,e,t=null,r=n){let i=Uie(n,e),o=i&&Vie(r,e);return o?i.map(xk).concat({type:e,attrs:t}).concat(o.map(xk)):null}function xk(n){return{type:n,attrs:null}}function Uie(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(r,i,s)?o:null}function Vie(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:s}function Gie(n,e,t){let r=ge.empty;for(let s=t.length-1;s>=0;s--){if(r.size){let a=t[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ge.from(t[s].type.create(t[s].attrs,r))}let i=e.start,o=e.end;n.step(new Gi(i,o,i,o,new be(r,0,0),t.length,!0))}function Kie(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&Jie(n.doc,n.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!y?c=!1:!m&&y&&(c=!0)}c===!1&&Yie(n,s,a,o),O2(n,n.mapping.slice(o).map(a,1),r,void 0,c===null);let f=n.mapping.slice(o),p=f.map(a,1),h=f.map(a+s.nodeSize,1);return n.step(new Gi(p,h,p+1,h-1,new be(ge.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&qie(n,s,a,o),!1}})}function qie(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+o+s.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Yie(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=n.mapping.slice(r).map(t+1+o);n.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function Jie(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function Zie(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let s=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Gi(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new be(ge.from(s),0,0),1,!0))}function Xie(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let l=i.depth-1,c=t-2;l>o;l--,c--){let f=i.node(l),p=i.index(l);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(p,f.childCount),m=f;if(!f.canReplace(p+1,f.childCount)||!m.type.validContent(h))return!1}let a=i.indexAfter(o);return i.node(o).canReplaceWith(a,a,i.node(o+1).type)}function Qie(n,e,t=1,r){let i=n.doc.resolve(e),o=ge.empty,s=ge.empty;for(let a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){o=ge.from(i.node(a).copy(o));let f=r&&r[c];s=ge.from(f?f.type.create(f.attrs,s):i.node(a).copy(s))}n.step(new Ro(e,e,new be(o.append(s),t,t),!0))}function eoe(n,e){let t=n.resolve(e),r=t.index();return toe(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function toe(n,e){return!!(n&&e&&!n.isLeaf&&n.canAppend(e))}function noe(n,e,t){let r=new Ro(e-t,e+t,be.empty,!0);n.step(r)}function roe(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function L2(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),f=!1;if(o==1)f=c.canReplace(l,l,i);else{let p=c.contentMatchAt(l).findWrapping(i.firstChild.type);f=p&&c.canReplaceWith(l,l,p[0])}if(f)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function ioe(n,e,t=e,r=be.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return R2(i,o,r)?new Ro(e,t,r):new ooe(i,o,r).fit()}function R2(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}let ooe=class{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ge.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ge.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new be(o,s,a);return e>-1?new Gi(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new Ro(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=om(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],f,p=null;if(t==1&&(s?c.matchType(s.type)||(p=c.fillBefore(ge.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:p};if(t==2&&s&&(f=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:f};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=om(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new be(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=om(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new be(Eu(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new be(Eu(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let b=0;b<o.length;b++)this.openFrontierNode(o[b]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,f=[],{match:p,type:h}=this.frontier[t];if(i){for(let b=0;b<i.childCount;b++)f.push(i.child(b));p=p.matchFragment(i)}let m=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let b=a.child(c),w=p.matchType(b.type);if(!w)break;c++,(c>1||l==0||b.content.size)&&(p=w,f.push(P2(b.mark(h.allowedMarks(b.marks)),c==1?l:0,c==a.childCount?m:-1)))}let y=c==a.childCount;y||(m=-1),this.placed=Tu(this.placed,t,ge.from(f)),this.frontier[t].match=p,y&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,w=a;b<m;b++){let S=w.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),w=S.content}this.unplaced=y?e==0?be.empty:new be(Eu(s.content,e-1,1),e-1,m<0?s.openEnd:e-1):new be(Eu(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!sm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=sm(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],f=sm(e,a,c,l,!0);if(!f||f.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Tu(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Tu(this.placed,this.depth,ge.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ge.empty,!0);t.childCount&&(this.placed=Tu(this.placed,this.frontier.length,t))}};function Eu(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Eu(n.firstChild.content,e-1,t)))}function Tu(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Tu(n.lastChild.content,e-1,t)))}function om(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function P2(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,P2(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ge.empty,!0)))),n.copy(r)}function sm(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!soe(t,o.content,s)?a:null}function soe(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function aoe(n){return n.spec.defining||n.spec.definingForContent}function loe(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(R2(i,o,r))return n.step(new Ro(e,t,r));let s=D2(i,n.doc.resolve(t));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let h=i.depth,m=i.pos-1;h>0;h--,m--){let y=i.node(h).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;s.indexOf(h)>-1?a=h:i.before(h)==m&&s.splice(1,0,-h)}let l=s.indexOf(a),c=[],f=r.openStart;for(let h=r.content,m=0;;m++){let y=h.firstChild;if(c.push(y),m==r.openStart)break;h=y.content}for(let h=f-1;h>=0;h--){let m=c[h],y=aoe(m.type);if(y&&!m.sameMarkup(i.node(Math.abs(a)-1)))f=h;else if(y||!m.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let m=(h+f+1)%(r.openStart+1),y=c[m];if(y)for(let b=0;b<s.length;b++){let w=s[(b+l)%s.length],S=!0;w<0&&(S=!1,w=-w);let k=i.node(w-1),T=i.index(w-1);if(k.canReplaceWith(T,T,y.type,y.marks))return n.replace(i.before(w),S?o.after(w):t,new be(I2(r.content,0,r.openStart,m),m,r.openEnd))}}let p=n.steps.length;for(let h=s.length-1;h>=0&&(n.replace(e,t,r),!(n.steps.length>p));h--){let m=s[h];m<0||(e=i.before(m),t=o.after(m))}}function I2(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(I2(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore(ge.empty,!0))}return n}function uoe(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=roe(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new be(ge.from(r),0,0))}function coe(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=D2(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&t>r.end(s)&&i.end(s)-t!=i.depth-s)return n.delete(r.before(s),t);n.delete(e,t)}function D2(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}let _2=class of extends fr{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return kr.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return kr.fromReplace(e,this.pos,this.pos+1,new be(ge.from(i),0,t.isLeaf?0:1))}getMap(){return ia.empty}invert(e){return new of(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new of(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new of(t.pos,t.attr,t.value)}};fr.jsonID("attr",_2);let $2=class Sv extends fr{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return kr.ok(r)}getMap(){return ia.empty}invert(e){return new Sv(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Sv(t.attr,t.value)}};fr.jsonID("docAttr",$2);let Ll=class extends Error{};Ll=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Ll.prototype=Object.create(Error.prototype);Ll.prototype.constructor=Ll;Ll.prototype.name="TransformError";let doe=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new A2}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Ll(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=be.empty){let i=ioe(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new be(ge.from(r),0,0))}delete(e,t){return this.replace(e,t,be.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return loe(this,e,t,r),this}replaceRangeWith(e,t,r){return uoe(this,e,t,r),this}deleteRange(e,t){return coe(this,e,t),this}lift(e,t){return Hie(this,e,t),this}join(e,t=1){return noe(this,e,t),this}wrap(e,t){return Gie(this,e,t),this}setBlockType(e,t=e,r,i=null){return Kie(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return Zie(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new _2(e,t,r)),this}setDocAttribute(e,t){return this.step(new $2(e,t)),this}addNodeMark(e,t){return this.step(new Py(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Jt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new Iy(e,t)),this}split(e,t=1,r){return Qie(this,e,t,r),this}addMark(e,t,r){return Fie(this,e,t,r),this}removeMark(e,t,r){return Bie(this,e,t,r),this}clearIncompatible(e,t,r){return O2(this,e,t,r),this}};const am=Object.create(null);class At{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new foe(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=be.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],f=e.mapping.slice(o);e.replaceRange(f.map(l.pos),f.map(c.pos),a?be.empty:t),a==0&&Sk(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),f=l.map(a.pos);o?e.deleteRange(c,f):(e.replaceRangeWith(c,f,t),Sk(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new wt(e):dl(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=t<0?dl(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):dl(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Wi(e.node(0))}static atStart(e){return dl(e,e,0,0,1)||new Wi(e)}static atEnd(e){return dl(e,e,e.content.size,e.childCount,-1)||new Wi(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=am[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in am)throw new RangeError("Duplicate use of selection JSON ID "+e);return am[e]=t,t.prototype.jsonID=e,t}getBookmark(){return wt.between(this.$anchor,this.$head).getBookmark()}}At.prototype.visible=!0;class foe{constructor(e,t){this.$from=e,this.$to=t}}let wk=!1;function Ck(n){!wk&&!n.parent.inlineContent&&(wk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class wt extends At{constructor(e,t=e){Ck(e),Ck(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return At.near(r);let i=e.resolve(t.map(this.anchor));return new wt(i.parent.inlineContent?i:r,r)}replace(e,t=be.empty){if(super.replace(e,t),t==be.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof wt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Zp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new wt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=At.findFrom(t,r,!0)||At.findFrom(t,-r,!0);if(o)t=o.$head;else return At.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(At.findFrom(e,-r,!0)||At.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new wt(e,t)}}At.jsonID("text",wt);class Zp{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Zp(e.map(this.anchor),e.map(this.head))}resolve(e){return wt.between(e.resolve(this.anchor),e.resolve(this.head))}}class dt extends At{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?At.near(o):new dt(o)}content(){return new be(ge.from(this.node),0,0)}eq(e){return e instanceof dt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Dy(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new dt(e.resolve(t.anchor))}static create(e,t){return new dt(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}dt.prototype.visible=!1;At.jsonID("node",dt);class Dy{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Zp(r,r):new Dy(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&dt.isSelectable(r)?new dt(t):At.near(t)}}class Wi extends At{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=be.empty){if(t==be.empty){e.delete(0,e.doc.content.size);let r=At.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Wi(e)}map(e){return new Wi(e)}eq(e){return e instanceof Wi}getBookmark(){return poe}}At.jsonID("all",Wi);const poe={map(){return this},resolve(n){return new Wi(n)}};function dl(n,e,t,r,i,o=!1){if(e.inlineContent)return wt.create(n,t);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&dt.isSelectable(a))return dt.create(n,t-(i<0?a.nodeSize:0))}else{let l=dl(n,a,t+i,i<0?a.childCount:0,i,o);if(l)return l}t+=a.nodeSize*i}return null}function Sk(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Ro||i instanceof Gi))return;let o=n.mapping.maps[r],s;o.forEach((a,l,c,f)=>{s==null&&(s=f)}),n.setSelection(At.near(n.doc.resolve(s),t))}const kk=1,zd=2,Mk=4;class hoe extends doe{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|kk)&~zd,this.storedMarks=null,this}get selectionSet(){return(this.updated&kk)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=zd,this}ensureMarks(e){return Jt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&zd)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~zd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Jt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(t);o=r==t?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),this.selection.empty||this.setSelection(At.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Mk,this}get scrolledIntoView(){return(this.updated&Mk)>0}}function Ek(n,e){return!e||!n?n:n.bind(e)}class Au{constructor(e,t,r){this.name=e,this.init=Ek(t.init,r),this.apply=Ek(t.apply,r)}}const goe=[new Au("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Au("selection",{init(n,e){return n.selection||At.atStart(e.doc)},apply(n){return n.selection}}),new Au("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Au("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class lm{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=goe.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Au(r.key,r.spec.state,r))})}}class xl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,f=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,r);if(f&&r.filterTransaction(f,s)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<s?{state:r,n:t.length}:{state:this,n:0})}t.push(f),r=r.applyInner(f),o=!0}i&&(i[s]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new xl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new hoe(this)}static create(e){let t=new lm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new xl(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new lm(this.schema,e.plugins),r=t.fields,i=new xl(t);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new lm(e.schema,e.plugins),o=new xl(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Xs.fromJSON(e.schema,t.doc);else if(s.name=="selection")o.selection=At.fromJSON(o.doc,t.selection);else if(s.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){o[s.name]=c.fromJSON.call(l,e,t[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function N2(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=N2(i,e,{})),t[r]=i}return t}class pr{constructor(e){this.spec=e,this.props={},e.props&&N2(e.props,this,this.props),this.key=e.key?e.key.key:F2("plugin")}getState(e){return e[this.key]}}const um=Object.create(null);function F2(n){return n in um?n+"$"+ ++um[n]:(um[n]=0,n+"$")}class oi{constructor(e="key"){this.key=F2(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const or=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},rc=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let kv=null;const Eo=function(n,e,t){let r=kv||(kv=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},moe=function(){kv=null},oa=function(n,e,t,r){return t&&(Tk(n,e,t,r,-1)||Tk(n,e,t,r,1))},voe=/^(img|br|input|textarea|hr)$/i;function Tk(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Mi(n))){let o=n.parentNode;if(!o||o.nodeType!=1||Pc(n)||voe.test(n.nodeName)||n.contentEditable=="false")return!1;e=or(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?Mi(n):0}else return!1}}function Mi(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function yoe(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Mi(n)}else if(n.parentNode&&!Pc(n))e=or(n),n=n.parentNode;else return null}}function boe(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Pc(n))e=or(n)+1,n=n.parentNode;else return null}}function xoe(n,e,t){for(let r=e==0,i=e==Mi(n);r||i;){if(n==t)return!0;let o=or(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==Mi(n)}}function Pc(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Xp=function(n){return n.focusNode&&oa(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function js(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function woe(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Coe(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Mi(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Mi(r.startContainer),r.startOffset)}}}const ao=typeof navigator<"u"?navigator:null,Ak=typeof document<"u"?document:null,xs=ao&&ao.userAgent||"",Mv=/Edge\/(\d+)/.exec(xs),B2=/MSIE \d/.exec(xs),Ev=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xs),Wr=!!(B2||Ev||Mv),ls=B2?document.documentMode:Ev?+Ev[1]:Mv?+Mv[1]:0,Ui=!Wr&&/gecko\/(\d+)/i.test(xs);Ui&&+(/Firefox\/(\d+)/.exec(xs)||[0,0])[1];const Tv=!Wr&&/Chrome\/(\d+)/.exec(xs),dr=!!Tv,j2=Tv?+Tv[1]:0,Er=!Wr&&!!ao&&/Apple Computer/.test(ao.vendor),Rl=Er&&(/Mobile\/\w+/.test(xs)||!!ao&&ao.maxTouchPoints>2),Ci=Rl||(ao?/Mac/.test(ao.platform):!1),Soe=ao?/Win/.test(ao.platform):!1,Fi=/Android \d/.test(xs),Ic=!!Ak&&"webkitFontSmoothing"in Ak.documentElement.style,koe=Ic?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Moe(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function ko(n,e){return typeof n=="number"?n:n[e]}function Eoe(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function Ok(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let s=t||n.dom;s;s=rc(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?Moe(o):Eoe(a),f=0,p=0;if(e.top<c.top+ko(r,"top")?p=-(c.top-e.top+ko(i,"top")):e.bottom>c.bottom-ko(r,"bottom")&&(p=e.bottom-e.top>c.bottom-c.top?e.top+ko(i,"top")-c.top:e.bottom-c.bottom+ko(i,"bottom")),e.left<c.left+ko(r,"left")?f=-(c.left-e.left+ko(i,"left")):e.right>c.right-ko(r,"right")&&(f=e.right-c.right+ko(i,"right")),f||p)if(l)o.defaultView.scrollBy(f,p);else{let h=a.scrollLeft,m=a.scrollTop;p&&(a.scrollTop+=p),f&&(a.scrollLeft+=f);let y=a.scrollLeft-h,b=a.scrollTop-m;e={left:e.left-y,top:e.top-b,right:e.right-y,bottom:e.bottom-b}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function Toe(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=t+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=n.root.elementFromPoint(o,s);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:z2(n.dom)}}function z2(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=rc(r));return e}function Aoe({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;H2(t,r==0?0:r-e)}function H2(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Wa=null;function Ooe(n){if(n.setActive)return n.setActive();if(Wa)return n.focus(Wa);let e=z2(n);n.focus(Wa==null?{get preventScroll(){return Wa={preventScroll:!0},!0}}:void 0),Wa||(Wa=!1,H2(e,0))}function W2(n,e){let t,r=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let f=n.firstChild,p=0;f;f=f.nextSibling,p++){let h;if(f.nodeType==1)h=f.getClientRects();else if(f.nodeType==3)h=Eo(f).getClientRects();else continue;for(let m=0;m<h.length;m++){let y=h[m];if(y.top<=s&&y.bottom>=a){s=Math.max(y.bottom,s),a=Math.min(y.top,a);let b=y.left>e.left?y.left-e.left:y.right<e.left?e.left-y.right:0;if(b<r){t=f,r=b,i=b&&t.nodeType==3?{left:y.right<e.left?y.right:y.left,top:e.top}:e,f.nodeType==1&&b&&(o=p+(e.left>=(y.left+y.right)/2?1:0));continue}}else y.top>e.top&&!l&&y.left<=e.left&&y.right>=e.left&&(l=f,c={left:Math.max(y.left,Math.min(y.right,e.left)),top:y.top});!t&&(e.left>=y.right&&e.top>=y.top||e.left>=y.left&&e.top>=y.bottom)&&(o=p+1)}}return!t&&l&&(t=l,i=c,r=0),t&&t.nodeType==3?Loe(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:W2(t,i)}function Loe(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=Jo(r,1);if(o.top!=o.bottom&&_y(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function _y(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Roe(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Poe(n,e,t){let{node:r,offset:i}=W2(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&t.left>(s.left+s.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function Ioe(n,e,t,r){let i=-1;for(let o=e,s=!1;o!=n.dom;){let a=n.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function U2(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let s=n.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(_y(e,c))return U2(s,e,c)}}if((o=(o+1)%r)==i)break}return n}function Doe(n,e){let t=n.dom.ownerDocument,r,i=0,o=Coe(t,e.left,e.top);o&&({node:r,offset:i}=o);let s=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!s||!n.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=n.dom.getBoundingClientRect();if(!_y(e,c)||(s=U2(n.dom,e,c),!s))return null}if(Er)for(let c=s;r&&c;c=rc(c))c.draggable&&(r=void 0);if(s=Roe(s,e),r){if(Ui&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let c;Ic&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Ioe(n,r,i,e))}a==null&&(a=Poe(n,s,e));let l=n.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Lk(n){return n.top<n.bottom||n.left<n.right}function Jo(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(Lk(r))return r}return Array.prototype.find.call(t,Lk)||n.getBoundingClientRect()}const _oe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function V2(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),s=Ic||Ui;if(r.nodeType==3)if(s&&(_oe.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let l=Jo(Eo(r,i,i),t);if(Ui&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Jo(Eo(r,i-1,i-1),-1);if(c.top==l.top){let f=Jo(Eo(r,i,i+1),-1);if(f.top!=l.top)return gu(f,f.left<c.left)}}return l}else{let l=i,c=i,f=t<0?1:-1;return t<0&&!i?(c++,f=-1):t>=0&&i==r.nodeValue.length?(l--,f=1):t<0?l--:c++,gu(Jo(Eo(r,l,c),f),f<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==Mi(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return cm(l.getBoundingClientRect(),!1)}if(o==null&&i<Mi(r)){let l=r.childNodes[i];if(l.nodeType==1)return cm(l.getBoundingClientRect(),!0)}return cm(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==Mi(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Eo(l,Mi(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return gu(Jo(c,1),!1)}if(o==null&&i<Mi(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Eo(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return gu(Jo(c,-1),!0)}return gu(Jo(r.nodeType==3?Eo(r):r,-t),t>=0)}function gu(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function cm(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function G2(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function $oe(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return G2(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=V2(n,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Eo(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let f=l[c];if(f.bottom>f.top+1&&(t=="up"?s.top-f.top>(f.bottom-s.top)*2:f.bottom-s.bottom>(s.bottom-f.top)*2))return!1}}return!0})}const Noe=/[\u0590-\u08ac]/;function Foe(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=n.domSelection();return a?!Noe.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?o:s:G2(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:f,anchorOffset:p}=n.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",t,"character");let m=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:y,focusOffset:b}=n.domSelectionRange(),w=y&&!m.contains(y.nodeType==1?y:y.parentNode)||l==y&&c==b;try{a.collapse(f,p),l&&(l!=f||c!=p)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),w}):r.pos==r.start()||r.pos==r.end()}let Rk=null,Pk=null,Ik=!1;function Boe(n,e,t){return Rk==e&&Pk==t?Ik:(Rk=e,Pk=t,Ik=t=="up"||t=="down"?$oe(n,e,t):Foe(n,e,t))}const Ei=0,Dk=1,Ws=2,lo=3;class Dc{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Ei,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>or(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!t||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof q2){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof K2&&o.side>=0;r--);if(t<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&t&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?or(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?or(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let f=s+l.border;if(e>=f&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,f);e=s;for(let p=a;p>0;p--){let h=this.children[p-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=or(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(let f=a+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){o=or(p.dom);break}t+=p.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),s=Math.max(e,t);for(let h=0,m=0;h<this.children.length;h++){let y=this.children[h],b=m+y.size;if(o>m&&s<b)return y.setSelection(e-m-y.border,t-m-y.border,r,i);m=b}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=r.getSelection(),f=!1;if((Ui||Er)&&e==t){let{node:h,offset:m}=a;if(h.nodeType==3){if(f=!!(m&&h.nodeValue[m-1]==`
`),f&&m==h.nodeValue.length)for(let y=h,b;y;y=y.parentNode){if(b=y.nextSibling){b.nodeName=="BR"&&(a=l={node:b.parentNode,offset:or(b)+1});break}let w=y.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let y=h.childNodes[m-1];f=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(Ui&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||f&&Er)&&oa(a.node,a.offset,c.anchorNode,c.anchorOffset)&&oa(l.node,l.offset,c.focusNode,c.focusOffset))return;let p=!1;if((c.extend||e==t)&&!f){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>t){let m=a;a=l,l=m}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&t>=r:e<s&&t>r){let a=r+o.border,l=s-o.border;if(e>=a&&t<=l){this.dirty=e==r||t==s?Ws:Dk,e==a&&t==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=lo:o.markDirty(e-a,t-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ws:lo}r=s}this.dirty=Ws}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Ws:Dk;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class K2 extends Dc{constructor(e,t,r,i){let o,s=t.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==Ei&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class joe extends Dc{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class sa extends Dc{constructor(e,t,r,i){super(e,[],r,i),this.mark=t}static create(e,t,r,i){let o=i.nodeViews[t.type.name],s=o&&o(t,i,r);return(!s||!s.dom)&&(s=ya.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new sa(e,t,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&lo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=lo&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Ei){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ei}}slice(e,t,r){let i=sa.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;t<s&&(o=Ov(o,t,s,r)),e>0&&(o=Ov(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class us extends Dc{constructor(e,t,r,i,o,s,a,l,c){super(e,[],o,s),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,o,s){let a=o.nodeViews[t.type.name],l,c=a&&a(t,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),f=c&&c.dom,p=c&&c.contentDOM;if(t.isText){if(!f)f=document.createTextNode(t.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=ya.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!p&&!t.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),t.type.spec.draggable&&(f.draggable=!0));let h=f;return f=Z2(f,r,t),c?l=new zoe(e,t,r,i,f,p||null,h,c,o,s+1):t.isText?new Qp(e,t,r,i,f,h,o):new us(e,t,r,i,f,p||null,h,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ge.empty)}return e}matchesNode(e,t,r){return this.dirty==Ei&&e.eq(this.node)&&zf(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Woe(this,s&&s.node,e);Goe(this.node,this.innerDeco,(c,f,p)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!p&&l.syncToMarks(f==this.node.childCount?Jt.none:this.node.child(f).marks,r,e),l.placeWidget(c,e,i)},(c,f,p,h)=>{l.syncToMarks(c.marks,r,e);let m;l.findNodeMatch(c,f,p,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(m=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,f,p,m,e)||l.updateNextNode(c,f,p,e,h,i)||l.addNode(c,f,p,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ws)&&(s&&this.protectLocalComposition(e,s),Y2(this.contentDOM,this.children,e),Rl&&Koe(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof wt)||r<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=qoe(this.node.content,s,r-t,i-t);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new joe(this,o,t,i);e.input.compositionNodes.push(s),this.children=Ov(this.children,r,r+i.length,e,s)}update(e,t,r,i){return this.dirty==lo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ei}updateOuterDeco(e){if(zf(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=J2(this.dom,this.nodeDOM,Av(this.outerDeco,this.node,t),Av(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function _k(n,e,t,r,i){Z2(r,e,n);let o=new us(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Qp extends us{constructor(e,t,r,i,o,s,a){super(e,t,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==lo||this.dirty!=Ei&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Ei||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ei,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new Qp(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=lo)}get domAtom(){return!1}isText(e){return this.node.text==e}}class q2 extends Dc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ei&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class zoe extends us{constructor(e,t,r,i,o,s,a,l,c,f){super(e,t,r,i,o,s,a,c,f),this.spec=l}update(e,t,r,i){if(this.dirty==lo)return!1;if(this.spec.update){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Y2(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==n){for(;a!=r;)r=$k(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(s instanceof sa){let l=r?r.previousSibling:n.lastChild;Y2(s.contentDOM,s.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=$k(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Wu=function(n){n&&(this.nodeName=n)};Wu.prototype=Object.create(null);const Us=[new Wu];function Av(n,e,t){if(n.length==0)return Us;let r=t?Us[0]:new Wu,i=[r];for(let o=0;o<n.length;o++){let s=n[o].type.attrs;if(s){s.nodeName&&i.push(r=new Wu(s.nodeName));for(let a in s){let l=s[a];l!=null&&(t&&i.length==1&&i.push(r=new Wu(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function J2(n,e,t,r){if(t==Us&&r==Us)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Us[0]),i=l}Hoe(i,a||Us[0],s)}return i}function Hoe(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function Z2(n,e,t){return J2(n,n,Us,Av(e,t,n.nodeType!=1))}function zf(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function $k(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Woe{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Uoe(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Ei,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=sa.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let s=this.top.children[i];return s.dirty==lo&&s.dom==s.contentDOM&&(s.dirty=Ws),s.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof us){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let f=l.dom,p,h=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=lo&&zf(t,l.outerDeco));if(!h&&l.update(e,t,r,i))return this.destroyBetween(this.index,a),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!h&&(p=this.recreateWrapper(l,e,t,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Ws,p.updateChildren(i,s+1),p.dirty=Ei),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,s){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!zf(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=us.create(this.top,t,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,r,i,o){let s=us.create(this.top,e,t,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new K2(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof sa;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Qp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Er||dr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new q2(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Uoe(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=t.children[r-1];if(c instanceof sa)t=c,r=c.children.length;else{a=c,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function Voe(n,e){return n.type.side-e.type.side}function Goe(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let c=0;c<n.childCount;c++){let f=n.child(c);r(f,i,e.forChild(o,f),c),o+=f.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let f,p;for(;s<i.length&&i[s].to==o;){let w=i[s++];w.widget&&(f?(p||(p=[f])).push(w):f=w)}if(f)if(p){p.sort(Voe);for(let w=0;w<p.length;w++)t(p[w],c,!!l)}else t(f,c,!!l);let h,m;if(l)m=-1,h=l,l=null;else if(c<n.childCount)m=c,h=n.child(c++);else break;for(let w=0;w<a.length;w++)a[w].to<=o&&a.splice(w--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let y=o+h.nodeSize;if(h.isText){let w=y;s<i.length&&i[s].from<w&&(w=i[s].from);for(let S=0;S<a.length;S++)a[S].to<w&&(w=a[S].to);w<y&&(l=h.cut(w-o),h=h.cut(0,w-o),y=w,m=-1)}else for(;s<i.length&&i[s].to<y;)s++;let b=h.isInline&&!h.isLeaf?a.filter(w=>!w.inline):a.slice();r(h,b,e.forChild(o,h),m),o=y}}function Koe(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function qoe(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let s=n.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<n.childCount;){let c=n.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=t){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Ov(n,e,t,r,i){let o=[];for(let s=0,a=0;s<n.length;s++){let l=n[s],c=a,f=a+=l.size;c>=t||f<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),f>t&&o.push(l.slice(t-c,l.size,r)))}return o}function $y(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,s=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(Xp(t)){for(l=s;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&dt.isSelectable(p)&&i.parent&&!(p.isInline&&xoe(t.focusNode,t.focusOffset,i.dom))){let h=i.posBefore;c=new dt(s==h?a:r.resolve(h))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let p=s,h=s;for(let m=0;m<t.rangeCount;m++){let y=t.getRangeAt(m);p=Math.min(p,n.docView.posFromDOM(y.startContainer,y.startOffset,1)),h=Math.max(h,n.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(p<0)return null;[l,s]=h==n.state.selection.anchor?[h,p]:[p,h],a=r.resolve(s)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let f=r.resolve(l);if(!c){let p=e=="pointer"||n.state.selection.head<a.pos&&!o?1:-1;c=Ny(n,f,a,p)}return c}function X2(n){return n.editable?n.hasFocus():eO(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Oo(n,e=!1){let t=n.state.selection;if(Q2(n,t),!!X2(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&dr){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&oa(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Joe(n);else{let{anchor:r,head:i}=t,o,s;Nk&&!(t instanceof wt)&&(t.$from.parent.inlineContent||(o=Fk(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(s=Fk(n,t.to))),n.docView.setSelection(r,i,n.root,e),Nk&&(o&&Bk(o),s&&Bk(s)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Yoe(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Nk=Er||dr&&j2<63;function Fk(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(Er&&i&&i.contentEditable=="false")return dm(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return dm(i);if(o)return dm(o)}}function dm(n){return n.contentEditable="true",Er&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Bk(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Yoe(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!X2(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Joe(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,or(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Wr&&ls<=11&&(r.disabled=!0,r.disabled=!1)}function Q2(n,e){if(e instanceof dt){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(jk(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else jk(n)}function jk(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Ny(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||wt.between(e,t,r)}function zk(n){return n.editable&&!n.hasFocus()?!1:eO(n)}function eO(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Zoe(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return oa(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Lv(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&At.findFrom(o,e)}function Qo(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Hk(n,e,t){let r=n.state.selection;if(r instanceof wt)if(t.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=n.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Qo(n,new wt(r.$anchor,s))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=Lv(n.state,e);return i&&i instanceof dt?Qo(n,i):!1}else if(!(Ci&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=n.docView.descAt(a))&&!s.contentDOM?dt.isSelectable(o)?Qo(n,new dt(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):Ic?Qo(n,new wt(n.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof dt&&r.node.isInline)return Qo(n,new wt(e>0?r.$to:r.$from));{let i=Lv(n.state,e);return i?Qo(n,i):!1}}}function Hf(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Uu(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Ua(n,e){return e<0?Xoe(n):Qoe(n)}function Xoe(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,s=!1;for(Ui&&t.nodeType==1&&r<Hf(t)&&Uu(t.childNodes[r],-1)&&(s=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(Uu(a,-1))i=t,o=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(tO(t))break;{let a=t.previousSibling;for(;a&&Uu(a,-1);)i=t.parentNode,o=or(a),a=a.previousSibling;if(a)t=a,r=Hf(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}s?Rv(n,t,r):i&&Rv(n,i,o)}function Qoe(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Hf(t),o,s;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(Uu(a,1))o=t,s=++r;else break}else{if(tO(t))break;{let a=t.nextSibling;for(;a&&Uu(a,1);)o=a.parentNode,s=or(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=Hf(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&Rv(n,o,s)}function tO(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function ese(n,e){for(;n&&e==n.childNodes.length&&!Pc(n);)e=or(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function tse(n,e){for(;n&&!e&&!Pc(n);)e=or(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Rv(n,e,t){if(e.nodeType!=3){let o,s;(s=ese(e,t))?(e=s,t=0):(o=tse(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Xp(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Oo(n)},50)}function Wk(n,e){let t=n.state.doc.resolve(e);if(!(dr||Soe)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Uk(n,e,t){let r=n.state.selection;if(r instanceof wt&&!r.empty||t.indexOf("s")>-1||Ci&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let s=Lv(n.state,e);if(s&&s instanceof dt)return Qo(n,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof Wi?At.near(s,e):At.findFrom(s,e);return a?Qo(n,a):!1}return!1}function Vk(n,e){if(!(n.state.selection instanceof wt))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let s=n.state.tr;return e<0?s.delete(t.pos-o.nodeSize,t.pos):s.delete(t.pos,t.pos+o.nodeSize),n.dispatch(s),!0}return!1}function Gk(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function nse(n){if(!Er||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Gk(n,r,"true"),setTimeout(()=>Gk(n,r,"false"),20)}return!1}function rse(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function ise(n,e){let t=e.keyCode,r=rse(e);if(t==8||Ci&&t==72&&r=="c")return Vk(n,-1)||Ua(n,-1);if(t==46&&!e.shiftKey||Ci&&t==68&&r=="c")return Vk(n,1)||Ua(n,1);if(t==13||t==27)return!0;if(t==37||Ci&&t==66&&r=="c"){let i=t==37?Wk(n,n.state.selection.from)=="ltr"?-1:1:-1;return Hk(n,i,r)||Ua(n,i)}else if(t==39||Ci&&t==70&&r=="c"){let i=t==39?Wk(n,n.state.selection.from)=="ltr"?1:-1:1;return Hk(n,i,r)||Ua(n,i)}else{if(t==38||Ci&&t==80&&r=="c")return Uk(n,-1,r)||Ua(n,-1);if(t==40||Ci&&t==78&&r=="c")return nse(n)||Uk(n,1,r)||Ua(n,1);if(r==(Ci?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function nO(n,e){n.someProp("transformCopied",m=>{e=m(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let m=r.firstChild;t.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let s=n.someProp("clipboardSerializer")||ya.fromSchema(n.state.schema),a=lO(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,f,p=0;for(;c&&c.nodeType==1&&(f=aO[c.nodeName.toLowerCase()]);){for(let m=f.length-1;m>=0;m--){let y=a.createElement(f[m]);for(;l.firstChild;)y.appendChild(l.firstChild);l.appendChild(y),p++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${p?` -${p}`:""} ${JSON.stringify(t)}`);let h=n.someProp("clipboardTextSerializer",m=>m(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function rO(n,e,t,r,i){let o=i.parent.type.spec.code,s,a;if(!t&&!e)return null;let l=e&&(r||o||!t);if(l){if(n.someProp("transformPastedText",h=>{e=h(e,o||r,n)}),o)return e?new be(ge.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):be.empty;let p=n.someProp("clipboardTextParser",h=>h(e,i,r,n));if(p)a=p;else{let h=i.marks(),{schema:m}=n.state,y=ya.fromSchema(m);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let w=s.appendChild(document.createElement("p"));b&&w.appendChild(y.serializeNode(m.text(b,h)))})}}else n.someProp("transformPastedHTML",p=>{t=p(t,n)}),s=lse(t),Ic&&use(s);let c=s&&s.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let h=s.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;s=h}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||zu.fromSchema(n.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||f),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!ose.test(h.parentNode.nodeName)?{ignore:!0}:null}})),f)a=cse(Kk(a,+f[1],+f[2]),f[4]);else if(a=be.maxOpen(sse(a.content,i),!0),a.openStart||a.openEnd){let p=0,h=0;for(let m=a.content.firstChild;p<a.openStart&&!m.type.spec.isolating;p++,m=m.firstChild);for(let m=a.content.lastChild;h<a.openEnd&&!m.type.spec.isolating;h++,m=m.lastChild);a=Kk(a,p,h)}return n.someProp("transformPasted",p=>{a=p(a,n)}),a}const ose=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function sse(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,s=[];if(n.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&oO(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=sO(s[s.length-1],o.length));let f=iO(a,l);s.push(f),i=i.matchType(f.type),o=l}}),s)return ge.from(s)}return n}function iO(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ge.from(n));return n}function oO(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=oO(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(ge.from(iO(t,n,i+1))))}}function sO(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,sO(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ge.empty,!0);return n.copy(t.append(r))}function Pv(n,e,t,r,i,o){let s=e<0?n.firstChild:n.lastChild,a=s.content;return n.childCount>1&&(o=0),i<r-1&&(a=Pv(a,e,t,r,i+1,o)),i>=t&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(ge.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,s.copy(a))}function Kk(n,e,t){return e<n.openStart&&(n=new be(Pv(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new be(Pv(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const aO={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let qk=null;function lO(){return qk||(qk=document.implementation.createHTMLDocument("title"))}function ase(n){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:t=>t}).createHTML(n):n}function lse(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=lO().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&aO[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=ase(n),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function use(n){let e=n.querySelectorAll(dr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function cse(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:s}=n;for(let a=r.length-2;a>=0;a-=2){let l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=ge.from(l.create(r[a+1],i)),o++,s++}return new be(i,o,s)}const Tr={},Ar={},dse={touchstart:!0,touchmove:!0};class fse{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function pse(n){for(let e in Tr){let t=Tr[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{gse(n,r)&&!Fy(n,r)&&(n.editable||!(r.type in Ar))&&t(n,r)},dse[e]?{passive:!0}:void 0)}Er&&n.dom.addEventListener("input",()=>null),Iv(n)}function is(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function hse(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Iv(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Fy(n,r))})}function Fy(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function gse(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function mse(n,e){!Fy(n,e)&&Tr[e.type]&&(n.editable||!(e.type in Ar))&&Tr[e.type](n,e)}Ar.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!cO(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Fi&&dr&&t.keyCode==13)))if(n.domObserver.selectionChanged(n.domSelectionRange())?n.domObserver.flush():t.keyCode!=229&&n.domObserver.forceFlush(),Rl&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,js(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||ise(n,t)?t.preventDefault():is(n,"key")};Ar.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Ar.keypress=(n,e)=>{let t=e;if(cO(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ci&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof wt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function eh(n){return{left:n.clientX,top:n.clientY}}function vse(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function By(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(n.someProp(e,a=>s>o.depth?a(n,t,o.nodeAfter,o.before(s),i,!0):a(n,t,o.node(s),o.before(s),i,!1)))return!0;return!1}function Ml(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function yse(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&dt.isSelectable(r)?(Ml(n,new dt(t)),!0):!1}function bse(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof dt&&(r=t.node);let o=n.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(dt.isSelectable(a)){r&&t.$from.depth>0&&s>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(s);break}}return i!=null?(Ml(n,dt.create(n.state.doc,i)),!0):!1}function xse(n,e,t,r,i){return By(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?bse(n,t):yse(n,t))}function wse(n,e,t,r){return By(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function Cse(n,e,t,r){return By(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||Sse(n,t,r)}function Sse(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ml(n,wt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Ml(n,wt.create(r,a+1,a+1+s.content.size));else if(dt.isSelectable(s))Ml(n,dt.create(r,a));else continue;return!0}}function jy(n){return Wf(n)}const uO=Ci?"metaKey":"ctrlKey";Tr.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=jy(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&vse(t,n.input.lastClick)&&!t[uO]&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o};let s=n.posAtCoords(eh(t));s&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new kse(n,s,t,!!r)):(o=="doubleClick"?wse:Cse)(n,s.pos,s.inside,t)?t.preventDefault():is(n,"pointer"))};class kse{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[uO],this.allowDefault=r.shiftKey;let o,s;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{let f=e.state.doc.resolve(t.pos);o=f.parent,s=f.depth?f.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof dt&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ui&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),is(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Oo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(eh(e))),this.updateAllowDefault(e),this.allowDefault||!t?is(this.view,"pointer"):xse(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Er&&this.mightDrag&&!this.mightDrag.node.isAtom||dr&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ml(this.view,At.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):is(this.view,"pointer")}move(e){this.updateAllowDefault(e),is(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Tr.touchstart=n=>{n.input.lastTouch=Date.now(),jy(n),is(n,"pointer")};Tr.touchmove=n=>{n.input.lastTouch=Date.now(),is(n,"pointer")};Tr.contextmenu=n=>jy(n);function cO(n,e){return n.composing?!0:Er&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Mse=Fi?5e3:-1;Ar.compositionstart=Ar.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof wt&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Wf(n,!0),n.markCursor=null;else if(Wf(n,!e.selection.empty),Ui&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=n.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}n.input.composing=!0}dO(n,Mse)};Ar.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,dO(n,20))};function dO(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Wf(n),e))}function fO(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Tse());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Ese(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=yoe(e.focusNode,e.focusOffset),r=boe(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let s=t.pmViewDesc;if(!(!s||!s.isText(t.nodeValue)))return r}}return t||r}function Tse(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Wf(n,e=!1){if(!(Fi&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),fO(n),e||n.docView&&n.docView.dirty){let t=$y(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Ase(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const ic=Wr&&ls<15||Rl&&koe<604;Tr.copy=Ar.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=ic?null:t.clipboardData,s=r.content(),{dom:a,text:l}=nO(n,s);o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):Ase(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Ose(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Lse(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?oc(n,r.value,null,i,e):oc(n,r.textContent,r.innerHTML,i,e)},50)}function oc(n,e,t,r,i){let o=rO(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,o||be.empty)))return!0;if(!o)return!1;let s=Ose(o),a=s?n.state.tr.replaceSelectionWith(s,r):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function pO(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Ar.paste=(n,e)=>{let t=e;if(n.composing&&!Fi)return;let r=ic?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&oc(n,pO(r),r.getData("text/html"),i,t)?t.preventDefault():Lse(n,t)};class hO{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const gO=Ci?"altKey":"ctrlKey";Tr.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(eh(t)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof dt?i.to-1:i.to))){if(r&&r.mightDrag)s=dt.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let p=n.docView.nearestDesc(t.target,!0);p&&p.node.type.spec.draggable&&p!=n.docView&&(s=dt.create(n.state.doc,p.posBefore))}}let a=(s||n.state.selection).content(),{dom:l,text:c,slice:f}=nO(n,a);(!t.dataTransfer.files.length||!dr||j2>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(ic?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",ic||t.dataTransfer.setData("text/plain",c),n.dragging=new hO(f,!t[gO],s)};Tr.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Ar.dragover=Ar.dragenter=(n,e)=>e.preventDefault();Ar.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(eh(t));if(!i)return;let o=n.state.doc.resolve(i.pos),s=r&&r.slice;s?n.someProp("transformPasted",y=>{s=y(s,n)}):s=rO(n,pO(t.dataTransfer),ic?null:t.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!t[gO]);if(n.someProp("handleDrop",y=>y(n,t,s||be.empty,a))){t.preventDefault();return}if(!s)return;t.preventDefault();let l=s?L2(n.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=n.state.tr;if(a){let{node:y}=r;y?y.replace(c):c.deleteSelection()}let f=c.mapping.map(l),p=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=c.doc;if(p?c.replaceRangeWith(f,f,s.content.firstChild):c.replaceRange(f,f,s),c.doc.eq(h))return;let m=c.doc.resolve(f);if(p&&dt.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new dt(m));else{let y=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((b,w,S,k)=>y=k),c.setSelection(Ny(n,m,c.doc.resolve(y)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))};Tr.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Oo(n)},20))};Tr.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Tr.beforeinput=(n,e)=>{if(dr&&Fi&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,js(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Ar)Tr[n]=Ar[n];function sc(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Uf{constructor(e,t){this.toDOM=e,this.spec=t||Qs,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:s}=e.mapResult(t.from+i,this.side<0?-1:1);return s?null:new Hi(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Uf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&sc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class cs{constructor(e,t){this.attrs=e,this.spec=t||Qs}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Hi(o,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof cs&&sc(this.attrs,e.attrs)&&sc(this.spec,e.spec)}static is(e){return e.type instanceof cs}destroy(){}}class zy{constructor(e,t){this.attrs=e,this.spec=t||Qs}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let s=e.mapResult(t.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Hi(o.pos-r,s.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof zy&&sc(this.attrs,e.attrs)&&sc(this.spec,e.spec)}destroy(){}}class Hi{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Hi(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Hi(e,e,new Uf(t,r))}static inline(e,t,r,i){return new Hi(e,t,new cs(r,i))}static node(e,t,r,i){return new Hi(e,t,new zy(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof cs}get widget(){return this.type instanceof Uf}}const fl=[],Qs={};class Jn{constructor(e,t){this.local=e.length?e:fl,this.children=t.length?t:fl}static create(e,t){return t.length?Vf(t,e,0,Qs):cr}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,t-a,r,i+a,o)}}map(e,t,r){return this==cr||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Qs)}mapInner(e,t,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?Rse(this.children,s||[],e,t,r,i,o):s?new Jn(s.sort(ea),fl):cr}add(e,t){return t.length?this==cr?Jn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,f;if(f=vO(t,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,f,c+1):i.splice(o,0,l,l+a.nodeSize,Vf(f,a,c+1,Qs)),o+=3}});let s=mO(o?yO(t):t,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Jn(s.length?this.local.concat(s).sort(ea):this.local,i||this.children)}remove(e){return e.length==0||this==cr?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+t,l=r[o+1]+t;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>a&&p.to<l&&(e[f]=null,(s||(s=[])).push(p));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=cr?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Jn(i,r):cr}forChild(e,t){if(this==cr)return this;if(t.isLeaf)return Jn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof cs){let c=Math.max(o,l.from)-o,f=Math.min(s,l.to)-o;c<f&&(i||(i=[])).push(l.copy(c,f))}}if(i){let a=new Jn(i.sort(ea),fl);return r?new ns([a,r]):a}return r||cr}eq(e){if(this==e)return!0;if(!(e instanceof Jn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Hy(this.localsInner(e))}localsInner(e){if(this==cr)return fl;if(e.inlineContent||!this.local.some(cs.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof cs||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Jn.empty=new Jn([],[]);Jn.removeOverlap=Hy;const cr=Jn.empty;class ns{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Qs));return ns.from(r)}forChild(e,t){if(t.isLeaf)return Jn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=cr&&(o instanceof ns?r=r.concat(o.members):r.push(o))}return ns.from(r)}eq(e){if(!(e instanceof ns)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let s=0;s<o.length;s++)t.push(o[s])}}return t?Hy(r?t:t.sort(ea)):fl}static from(e){switch(e.length){case 0:return cr;case 1:return e[0];default:return new ns(e.every(t=>t instanceof Jn)?e:e.reduce((t,r)=>t.concat(r instanceof Jn?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Rse(n,e,t,r,i,o,s){let a=n.slice();for(let c=0,f=o;c<t.maps.length;c++){let p=0;t.maps[c].forEach((h,m,y,b)=>{let w=b-y-(m-h);for(let S=0;S<a.length;S+=3){let k=a[S+1];if(k<0||h>k+f-p)continue;let T=a[S]+f-p;m>=T?a[S+1]=h<=T?-2:-1:h>=f&&w&&(a[S]+=w,a[S+1]+=w)}p+=w}),f=t.maps[c].map(f,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let f=t.map(n[c]+o),p=f-i;if(p<0||p>=r.content.size){l=!0;continue}let h=t.map(n[c+1]+o,-1),m=h-i,{index:y,offset:b}=r.content.findIndex(p),w=r.maybeChild(y);if(w&&b==p&&b+w.nodeSize==m){let S=a[c+2].mapInner(t,w,f+1,n[c]+o+1,s);S!=cr?(a[c]=p,a[c+1]=m,a[c+2]=S):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=Pse(a,n,e,t,i,o,s),f=Vf(c,r,0,s);e=f.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,h=0;p<f.children.length;p+=3){let m=f.children[p];for(;h<a.length&&a[h]<m;)h+=3;a.splice(h,0,f.children[p],f.children[p+1],f.children[p+2])}}return new Jn(e.sort(ea),a)}function mO(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Hi(i.from+e,i.to+e,i.type))}return t}function Pse(n,e,t,r,i,o,s){function a(l,c){for(let f=0;f<l.local.length;f++){let p=l.local[f].map(r,i,c);p?t.push(p):s.onRemove&&s.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)a(l.children[f+2],l.children[f]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+o+1);return t}function vO(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,s;o<n.length;o++)(s=n[o])&&s.from>t&&s.to<r&&((i||(i=[])).push(s),n[o]=null);return i}function yO(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Vf(n,e,t,r){let i=[],o=!1;e.forEach((a,l)=>{let c=vO(n,a,l+t);if(c){o=!0;let f=Vf(c,a,t+l+1,r);f!=cr&&i.push(l,l+a.nodeSize,f)}});let s=mO(o?yO(n):n,-t).sort(ea);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Jn(s,i):cr}function ea(n,e){return n.from-e.from||n.to-e.to}function Hy(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),Yk(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),Yk(e,i,r.copy(o.from,r.to)));break}}}return e}function Yk(n,e,t){for(;e<n.length&&ea(t,n[e])>0;)e++;n.splice(e,0,t)}function fm(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=cr&&e.push(r)}),n.cursorWrapper&&e.push(Jn.create(n.state.doc,[n.cursorWrapper.deco])),ns.from(e)}const Ise={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Dse=Wr&&ls<=11;class _se{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class $se{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _se,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Wr&&ls<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Dse&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ise)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(zk(this.view)){if(this.suppressingSelectionUpdates)return Oo(this.view);if(Wr&&ls<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&oa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=rc(o))t.add(o);for(let o=e.anchorNode;o;o=rc(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&zk(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=this.selectionChanged(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let f=0;f<t.length;f++){let p=this.registerMutation(t[f],l);p&&(o=o<0?p.from:Math.min(p.from,o),s=s<0?p.to:Math.max(p.to,s),p.typeOver&&(a=!0))}if(Ui&&l.length){let f=l.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,h]=f;p.parentNode&&p.parentNode.parentNode==h.parentNode?h.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let h of f){let m=h.parentNode;m&&m.nodeName=="LI"&&(!p||Bse(e,p)!=m)&&h.remove()}}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Xp(r)&&(c=$y(e))&&c.eq(At.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Oo(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),Nse(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Oo(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];t.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Wr&&ls<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:h}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(o=h)}let s=i&&i.parentNode==e.target?or(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?or(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Jk=new WeakMap,Zk=!1;function Nse(n){if(!Jk.has(n)&&(Jk.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Ui,Zk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Zk=!0}}function Xk(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.domAtPos(n.state.selection.anchor);return oa(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function Fse(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return Xk(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Xk(n,t):null}function Bse(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function jse(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),c,f=l.anchorNode;if(f&&n.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:l.anchorOffset}],Xp(l)||c.push({node:l.focusNode,offset:l.focusOffset})),dr&&n.input.lastKeyCode===8)for(let w=o;w>i;w--){let S=r.childNodes[w-1],k=S.pmViewDesc;if(S.nodeName=="BR"&&!k){o=w;break}if(!k||k.size)break}let p=n.state.doc,h=n.someProp("domParser")||zu.fromSchema(n.state.schema),m=p.resolve(s),y=null,b=h.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:o,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:zse,context:m});if(c&&c[0].pos!=null){let w=c[0].pos,S=c[1]&&c[1].pos;S==null&&(S=w),y={anchor:w+s,head:S+s}}return{doc:b,sel:y,from:s,to:a}}function zse(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Er&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Er&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Hse=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Wse(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let j=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,F=$y(n,j);if(F&&!n.state.selection.eq(F)){if(dr&&Fi&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",W=>W(n,js(13,"Enter"))))return;let ie=n.state.tr.setSelection(F);j=="pointer"?ie.setMeta("pointer",!0):j=="key"&&ie.scrollIntoView(),o&&ie.setMeta("composition",o),n.dispatch(ie)}return}let s=n.state.doc.resolve(e),a=s.sharedDepth(t);e=s.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,c=jse(n,e,t),f=n.state.doc,p=f.slice(c.from,c.to),h,m;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(h=n.state.selection.to,m="end"):(h=n.state.selection.from,m="start"),n.input.lastKeyCode=null;let y=Gse(p.content,c.doc.content,c.from,h,m);if(y&&n.input.domChangeCount++,(Rl&&n.input.lastIOSEnter>Date.now()-225||Fi)&&i.some(j=>j.nodeType==1&&!Hse.test(j.nodeName))&&(!y||y.endA>=y.endB)&&n.someProp("handleKeyDown",j=>j(n,js(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!y)if(r&&l instanceof wt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))y={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let j=Qk(n,n.state.doc,c.sel);if(j&&!j.eq(n.state.selection)){let F=n.state.tr.setSelection(j);o&&F.setMeta("composition",o),n.dispatch(F)}}return}n.state.selection.from<n.state.selection.to&&y.start==y.endB&&n.state.selection instanceof wt&&(y.start>n.state.selection.from&&y.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?y.start=n.state.selection.from:y.endA<n.state.selection.to&&y.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(y.endB+=n.state.selection.to-y.endA,y.endA=n.state.selection.to)),Wr&&ls<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>c.from&&c.doc.textBetween(y.start-c.from-1,y.start-c.from+1)==" "&&(y.start--,y.endA--,y.endB--);let b=c.doc.resolveNoCache(y.start-c.from),w=c.doc.resolveNoCache(y.endB-c.from),S=f.resolve(y.start),k=b.sameParent(w)&&b.parent.inlineContent&&S.end()>=y.endA,T;if((Rl&&n.input.lastIOSEnter>Date.now()-225&&(!k||i.some(j=>j.nodeName=="DIV"||j.nodeName=="P"))||!k&&b.pos<c.doc.content.size&&!b.sameParent(w)&&(T=At.findFrom(c.doc.resolve(b.pos+1),1,!0))&&T.head==w.pos)&&n.someProp("handleKeyDown",j=>j(n,js(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>y.start&&Vse(f,y.start,y.endA,b,w)&&n.someProp("handleKeyDown",j=>j(n,js(8,"Backspace")))){Fi&&dr&&n.domObserver.suppressSelectionUpdates();return}dr&&Fi&&y.endB==y.start&&(n.input.lastAndroidDelete=Date.now()),Fi&&!k&&b.start()!=w.start()&&w.parentOffset==0&&b.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==y.endA&&(y.endB-=2,w=c.doc.resolveNoCache(y.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(j){return j(n,js(13,"Enter"))})},20));let R=y.start,O=y.endA,M,L,D;if(k){if(b.pos==w.pos)Wr&&ls<=11&&b.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Oo(n),20)),M=n.state.tr.delete(R,O),L=f.resolve(y.start).marksAcross(f.resolve(y.endA));else if(y.endA==y.endB&&(D=Use(b.parent.content.cut(b.parentOffset,w.parentOffset),S.parent.content.cut(S.parentOffset,y.endA-S.start()))))M=n.state.tr,D.type=="add"?M.addMark(R,O,D.mark):M.removeMark(R,O,D.mark);else if(b.parent.child(b.index()).isText&&b.index()==w.index()-(w.textOffset?0:1)){let j=b.parent.textBetween(b.parentOffset,w.parentOffset);if(n.someProp("handleTextInput",F=>F(n,R,O,j)))return;M=n.state.tr.insertText(j,R,O)}}if(M||(M=n.state.tr.replace(R,O,c.doc.slice(y.start-c.from,y.endB-c.from))),c.sel){let j=Qk(n,M.doc,c.sel);j&&!(dr&&Fi&&n.composing&&j.empty&&(y.start!=y.endB||n.input.lastAndroidDelete<Date.now()-100)&&(j.head==R||j.head==M.mapping.map(O)-1)||Wr&&j.empty&&j.head==R)&&M.setSelection(j)}L&&M.ensureMarks(L),o&&M.setMeta("composition",o),n.dispatch(M.scrollIntoView())}function Qk(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Ny(n,e.resolve(t.anchor),e.resolve(t.head))}function Use(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,s,a,l;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<t.length;f++)o=t[f].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=f=>f.mark(a.addToSet(f.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=f=>f.mark(a.removeFromSet(f.marks));else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(l(e.child(f)));if(ge.from(c).eq(n))return{mark:a,type:s}}function Vse(n,e,t,r,i){if(t-e<=i.pos-r.pos||pm(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&t==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=n.resolve(pm(o,!0,!0));return!s.parent.isTextblock||s.pos>t||pm(s,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function pm(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Gse(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:s,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&n.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&eM(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<n.size&&eM(n.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function eM(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Kse{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new fse,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(oM),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=rM(this),nM(this),this.nodeViews=iM(this),this.docView=_k(this.state.doc,tM(this),fm(this),this.dom,this),this.domObserver=new $se(this,(r,i,o,s)=>Wse(this,r,i,o,s)),this.domObserver.start(),pse(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Iv(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(oM),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(fO(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let m=iM(this);Yse(m,this.nodeViews)&&(this.nodeViews=m,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&Iv(this),this.editable=rM(this),nM(this);let l=fm(this),c=tM(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=o||!this.docView.matchesNode(e.doc,c,l);(p||!e.selection.eq(i.selection))&&(s=!0);let h=f=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Toe(this);if(s){this.domObserver.stop();let m=p&&(Wr||dr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&qse(i.selection,e.selection);if(p){let y=dr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ese(this)),(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=_k(e.doc,c,l,this.dom,this)),y&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Zoe(this))?Oo(this,m):(Q2(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():h&&Aoe(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof dt){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Ok(this,t.getBoundingClientRect(),e)}else Ok(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new hO(e.slice,e.move,i<0?void 0:dt.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=t?t(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(Wr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Ooe(this.dom),Oo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Doe(this,e)}coordsAtPos(e,t=1){return V2(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return Boe(this,t||this.state,e)}pasteHTML(e,t){return oc(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return oc(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(hse(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],fm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,moe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return mse(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Er&&this.root.nodeType===11&&woe(this.dom.ownerDocument)==this.dom&&Fse(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function tM(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Hi.node(0,n.state.doc.content.size,e)]}function nM(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Hi.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function rM(n){return!n.someProp("editable",e=>e(n.state)===!1)}function qse(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function iM(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Yse(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function oM(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var gs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Gf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Jse=typeof navigator<"u"&&/Mac/.test(navigator.platform),Zse=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var sr=0;sr<10;sr++)gs[48+sr]=gs[96+sr]=String(sr);for(var sr=1;sr<=24;sr++)gs[sr+111]="F"+sr;for(var sr=65;sr<=90;sr++)gs[sr]=String.fromCharCode(sr+32),Gf[sr]=String.fromCharCode(sr);for(var hm in gs)Gf.hasOwnProperty(hm)||(Gf[hm]=gs[hm]);function Xse(n){var e=Jse&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Zse&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Gf:gs)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Qse=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function eae(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Qse?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),s&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function tae(n){let e=Object.create(null);for(let t in n)e[eae(t)]=n[t];return e}function gm(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function nae(n){return new pr({props:{handleKeyDown:rae(n)}})}function rae(n){let e=tae(n);return function(t,r){let i=Xse(r),o,s=e[gm(i,r)];if(s&&s(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[gm(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=gs[r.keyCode])&&o!=i){let a=e[gm(o,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const bO=65535,xO=Math.pow(2,16);function iae(n,e){return n+e*xO}function sM(n){return n&bO}function oae(n){return(n-(n&bO))/xO}const wO=1,CO=2,sf=4,SO=8;let Dv=class{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&SO)>0}get deletedBefore(){return(this.delInfo&(wO|sf))>0}get deletedAfter(){return(this.delInfo&(CO|sf))>0}get deletedAcross(){return(this.delInfo&sf)>0}},aa=class pl{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&pl.empty)return pl.empty}recover(e){let t=0,r=sM(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+oae(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],f=this.ranges[a+s],p=l+c;if(e<=p){let h=c?e==l?-1:e==p?1:t:t,m=l+i+(h<0?0:f);if(r)return m;let y=e==(t<0?l:p)?null:iae(a/3,e-l),b=e==l?CO:e==p?wO:sf;return(t<0?e!=l:e!=p)&&(b|=SO),new Dv(m,b,y)}i+=f-c}return r?e+i:new Dv(e+i,0,null)}touches(e,t){let r=0,i=sM(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],f=l+c;if(e<=f&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+t],f=this.ranges[i+r];e(a,a+c,l,l+f),o+=f-c}}invert(){return new pl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?pl.empty:new pl(e<0?[0,-e,0]:[0,0,e])}};aa.empty=new aa([]);class Vu{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new Vu(this.maps,this.mirror,e,t)}copy(){return new Vu(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Vu;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Dv(e,i,null)}}const mm=Object.create(null);let hr=class{getMap(){return aa.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=mm[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in mm)throw new RangeError("Duplicate use of step JSON ID "+e);return mm[e]=t,t.prototype.jsonID=e,t}},Mr=class Ou{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ou(e,null)}static fail(e){return new Ou(null,e)}static fromReplace(e,t,r,i){try{return Ou.ok(e.replace(t,r,i))}catch(o){if(o instanceof Ol)return Ou.fail(o.message);throw o}}};function Wy(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(Wy(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return ge.fromArray(r)}let Uy=class Lu extends hr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new be(Wy(t.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return Mr.fromReplace(e,this.from,this.to,o)}invert(){return new _c(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Lu(t.pos,r.pos,this.mark)}merge(e){return e instanceof Lu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Lu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Lu(t.from,t.to,e.markFromJSON(t.mark))}};hr.jsonID("addMark",Uy);let _c=class Ru extends hr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new be(Wy(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Mr.fromReplace(e,this.from,this.to,r)}invert(){return new Uy(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ru(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ru&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ru(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ru(t.from,t.to,e.markFromJSON(t.mark))}};hr.jsonID("removeMark",_c);let Vy=class Pu extends hr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Mr.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Mr.fromReplace(e,this.pos,this.pos+1,new be(ge.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Pu(this.pos,t.marks[i]);return new Pu(this.pos,this.mark)}}return new Gy(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Pu(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Pu(t.pos,e.markFromJSON(t.mark))}};hr.jsonID("addNodeMark",Vy);let Gy=class _v extends hr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Mr.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Mr.fromReplace(e,this.pos,this.pos+1,new be(ge.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Vy(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new _v(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _v(t.pos,e.markFromJSON(t.mark))}};hr.jsonID("removeNodeMark",Gy);let Po=class Fs extends hr{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&$v(e,this.from,this.to)?Mr.fail("Structure replace would overwrite content"):Mr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new aa([this.from,this.to-this.from,this.slice.size])}invert(e){return new Fs(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Fs(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Fs)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?be.empty:new be(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Fs(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?be.empty:new be(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Fs(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Fs(t.from,t.to,be.fromJSON(e,t.slice),!!t.structure)}};hr.jsonID("replace",Po);let ba=class af extends hr{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&($v(e,this.from,this.gapFrom)||$v(e,this.gapTo,this.to)))return Mr.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Mr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Mr.fromReplace(e,this.from,this.to,r):Mr.fail("Content does not fit in gap")}getMap(){return new aa([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new af(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new af(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new af(t.from,t.to,t.gapFrom,t.gapTo,be.fromJSON(e,t.slice),t.insert,!!t.structure)}};hr.jsonID("replaceAround",ba);function $v(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function sae(n,e,t,r){let i=[],o=[],s,a;n.doc.nodesBetween(e,t,(l,c,f)=>{if(!l.isInline)return;let p=l.marks;if(!r.isInSet(p)&&f.type.allowsMarkType(r.type)){let h=Math.max(c,e),m=Math.min(c+l.nodeSize,t),y=r.addToSet(p);for(let b=0;b<p.length;b++)p[b].isInSet(y)||(s&&s.to==h&&s.mark.eq(p[b])?s.to=m:i.push(s=new _c(h,m,p[b])));a&&a.to==h?a.to=m:o.push(a=new Uy(h,m,r))}}),i.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function aae(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof Lc){let c=s.marks,f;for(;f=r.isInSet(c);)(l||(l=[])).push(f),c=f.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,t);for(let f=0;f<l.length;f++){let p=l[f],h;for(let m=0;m<i.length;m++){let y=i[m];y.step==o-1&&p.eq(i[m].style)&&(h=y)}h?(h.to=c,h.step=o):i.push({style:p,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>n.step(new _c(s.from,s.to,s.style)))}function Ky(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),f=a+c.nodeSize,p=r.matchType(c.type);if(!p)s.push(new Po(a,f,be.empty));else{r=p;for(let h=0;h<c.marks.length;h++)t.allowsMarkType(c.marks[h].type)||n.step(new _c(a,f,c.marks[h]));if(i&&c.isText&&t.whitespace!="pre"){let h,m=/\r?\n|\r/g,y;for(;h=m.exec(c.text);)y||(y=new be(ge.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),s.push(new Po(a+h.index,a+h.index+h[0].length,y))}}a=f}if(!r.validEnd){let l=r.fillBefore(ge.empty,!0);n.replace(a,a,new be(l,0,0))}for(let l=s.length-1;l>=0;l--)n.step(s[l])}function lae(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function uae(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(r==0||i.type.spec.isolating||!lae(i,o,s))break}return null}function cae(n,e,t){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,f=ge.empty,p=0;for(let y=o,b=!1;y>t;y--)b||r.index(y)>0?(b=!0,f=ge.from(r.node(y).copy(f)),p++):l--;let h=ge.empty,m=0;for(let y=o,b=!1;y>t;y--)b||i.after(y+1)<i.end(y)?(b=!0,h=ge.from(i.node(y).copy(h)),m++):c++;n.step(new ba(l,c,s,a,new be(f.append(h),p,m),f.size-p,!0))}function dae(n,e,t=null,r=n){let i=fae(n,e),o=i&&pae(r,e);return o?i.map(aM).concat({type:e,attrs:t}).concat(o.map(aM)):null}function aM(n){return{type:n,attrs:null}}function fae(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(r,i,s)?o:null}function pae(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:s}function hae(n,e,t){let r=ge.empty;for(let s=t.length-1;s>=0;s--){if(r.size){let a=t[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ge.from(t[s].type.create(t[s].attrs,r))}let i=e.start,o=e.end;n.step(new ba(i,o,i,o,new be(r,0,0),t.length,!0))}function gae(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&mae(n.doc,n.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!y?c=!1:!m&&y&&(c=!0)}c===!1&&MO(n,s,a,o),Ky(n,n.mapping.slice(o).map(a,1),r,void 0,c===null);let f=n.mapping.slice(o),p=f.map(a,1),h=f.map(a+s.nodeSize,1);return n.step(new ba(p,h,p+1,h-1,new be(ge.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&kO(n,s,a,o),!1}})}function kO(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+o+s.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function MO(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=n.mapping.slice(r).map(t+1+o);n.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function mae(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function vae(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let s=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new ba(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new be(ge.from(s),0,0),1,!0))}function lf(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,f=t-2;c>o;c--,f--){let p=i.node(c),h=i.index(c);if(p.type.spec.isolating)return!1;let m=p.content.cutByIndex(h,p.childCount),y=r&&r[f+1];y&&(m=m.replaceChild(0,y.type.create(y.attrs)));let b=r&&r[f]||p;if(!p.canReplace(h+1,p.childCount)||!b.type.validContent(m))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function yae(n,e,t=1,r){let i=n.doc.resolve(e),o=ge.empty,s=ge.empty;for(let a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){o=ge.from(i.node(a).copy(o));let f=r&&r[c];s=ge.from(f?f.type.create(f.attrs,s):i.node(a).copy(s))}n.step(new Po(e,e,new be(o.append(s),t,t),!0))}function qy(n,e){let t=n.resolve(e),r=t.index();return EO(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function bae(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(s),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function EO(n,e){return!!(n&&e&&!n.isLeaf&&bae(n,e))}function TO(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):t>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&EO(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function xae(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(e-t),s=o.node().type;if(i&&s.inlineContent){let f=s.whitespace=="pre",p=!!s.contentMatch.matchType(i);f&&!p?r=!1:!f&&p&&(r=!0)}let a=n.steps.length;if(r===!1){let f=n.doc.resolve(e+t);MO(n,f.node(),f.before(),a)}s.inlineContent&&Ky(n,e+t-1,s,o.node().contentMatchAt(o.index()),r==null);let l=n.mapping.slice(a),c=l.map(e-t);if(n.step(new Po(c,l.map(e+t,-1),be.empty,!0)),r===!0){let f=n.doc.resolve(c);kO(n,f.node(),f.before(),n.steps.length)}return n}function wae(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function Cae(n,e,t=e,r=be.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return AO(i,o,r)?new Po(e,t,r):new Sae(i,o,r).fit()}function AO(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}let Sae=class{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ge.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ge.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new be(o,s,a);return e>-1?new ba(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new Po(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=vm(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],f,p=null;if(t==1&&(s?c.matchType(s.type)||(p=c.fillBefore(ge.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:p};if(t==2&&s&&(f=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:f};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=vm(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new be(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=vm(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new be(Iu(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new be(Iu(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let b=0;b<o.length;b++)this.openFrontierNode(o[b]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,f=[],{match:p,type:h}=this.frontier[t];if(i){for(let b=0;b<i.childCount;b++)f.push(i.child(b));p=p.matchFragment(i)}let m=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let b=a.child(c),w=p.matchType(b.type);if(!w)break;c++,(c>1||l==0||b.content.size)&&(p=w,f.push(OO(b.mark(h.allowedMarks(b.marks)),c==1?l:0,c==a.childCount?m:-1)))}let y=c==a.childCount;y||(m=-1),this.placed=Du(this.placed,t,ge.from(f)),this.frontier[t].match=p,y&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,w=a;b<m;b++){let S=w.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),w=S.content}this.unplaced=y?e==0?be.empty:new be(Iu(s.content,e-1,1),e-1,m<0?s.openEnd:e-1):new be(Iu(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!ym(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=ym(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],f=ym(e,a,c,l,!0);if(!f||f.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Du(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Du(this.placed,this.depth,ge.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ge.empty,!0);t.childCount&&(this.placed=Du(this.placed,this.frontier.length,t))}};function Iu(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Iu(n.firstChild.content,e-1,t)))}function Du(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Du(n.lastChild.content,e-1,t)))}function vm(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function OO(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,OO(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ge.empty,!0)))),n.copy(r)}function ym(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!kae(t,o.content,s)?a:null}function kae(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function Mae(n){return n.spec.defining||n.spec.definingForContent}function Eae(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(AO(i,o,r))return n.step(new Po(e,t,r));let s=RO(i,n.doc.resolve(t));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let h=i.depth,m=i.pos-1;h>0;h--,m--){let y=i.node(h).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;s.indexOf(h)>-1?a=h:i.before(h)==m&&s.splice(1,0,-h)}let l=s.indexOf(a),c=[],f=r.openStart;for(let h=r.content,m=0;;m++){let y=h.firstChild;if(c.push(y),m==r.openStart)break;h=y.content}for(let h=f-1;h>=0;h--){let m=c[h],y=Mae(m.type);if(y&&!m.sameMarkup(i.node(Math.abs(a)-1)))f=h;else if(y||!m.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let m=(h+f+1)%(r.openStart+1),y=c[m];if(y)for(let b=0;b<s.length;b++){let w=s[(b+l)%s.length],S=!0;w<0&&(S=!1,w=-w);let k=i.node(w-1),T=i.index(w-1);if(k.canReplaceWith(T,T,y.type,y.marks))return n.replace(i.before(w),S?o.after(w):t,new be(LO(r.content,0,r.openStart,m),m,r.openEnd))}}let p=n.steps.length;for(let h=s.length-1;h>=0&&(n.replace(e,t,r),!(n.steps.length>p));h--){let m=s[h];m<0||(e=i.before(m),t=o.after(m))}}function LO(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(LO(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore(ge.empty,!0))}return n}function Tae(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=wae(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new be(ge.from(r),0,0))}function Aae(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=RO(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&t>r.end(s)&&i.end(s)-t!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return n.delete(r.before(s),t);n.delete(e,t)}function RO(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}let PO=class uf extends hr{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Mr.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Mr.fromReplace(e,this.pos,this.pos+1,new be(ge.from(i),0,t.isLeaf?0:1))}getMap(){return aa.empty}invert(e){return new uf(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new uf(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new uf(t.pos,t.attr,t.value)}};hr.jsonID("attr",PO);let IO=class Nv extends hr{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Mr.ok(r)}getMap(){return aa.empty}invert(e){return new Nv(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Nv(t.attr,t.value)}};hr.jsonID("docAttr",IO);let Pl=class extends Error{};Pl=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Pl.prototype=Object.create(Error.prototype);Pl.prototype.constructor=Pl;Pl.prototype.name="TransformError";class Oae{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Vu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Pl(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=be.empty){let i=Cae(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new be(ge.from(r),0,0))}delete(e,t){return this.replace(e,t,be.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return Eae(this,e,t,r),this}replaceRangeWith(e,t,r){return Tae(this,e,t,r),this}deleteRange(e,t){return Aae(this,e,t),this}lift(e,t){return cae(this,e,t),this}join(e,t=1){return xae(this,e,t),this}wrap(e,t){return hae(this,e,t),this}setBlockType(e,t=e,r,i=null){return gae(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return vae(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new PO(e,t,r)),this}setDocAttribute(e,t){return this.step(new IO(e,t)),this}addNodeMark(e,t){return this.step(new Vy(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Jt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new Gy(e,t)),this}split(e,t=1,r){return yae(this,e,t,r),this}addMark(e,t,r){return sae(this,e,t,r),this}removeMark(e,t,r){return aae(this,e,t,r),this}clearIncompatible(e,t,r){return Ky(this,e,t,r),this}}const DO=65535,_O=Math.pow(2,16);function Lae(n,e){return n+e*_O}function lM(n){return n&DO}function Rae(n){return(n-(n&DO))/_O}const $O=1,NO=2,cf=4,FO=8;class uM{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&FO)>0}get deletedBefore(){return(this.delInfo&($O|cf))>0}get deletedAfter(){return(this.delInfo&(NO|cf))>0}get deletedAcross(){return(this.delInfo&cf)>0}}class ni{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ni.empty)return ni.empty}recover(e){let t=0,r=lM(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+Rae(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],f=this.ranges[a+s],p=l+c;if(e<=p){let h=c?e==l?-1:e==p?1:t:t,m=l+i+(h<0?0:f);if(r)return m;let y=e==(t<0?l:p)?null:Lae(a/3,e-l),b=e==l?NO:e==p?$O:cf;return(t<0?e!=l:e!=p)&&(b|=FO),new uM(m,b,y)}i+=f-c}return r?e+i:new uM(e+i,0,null)}touches(e,t){let r=0,i=lM(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],f=l+c;if(e<=f&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+t],f=this.ranges[i+r];e(a,a+c,l,l+f),o+=f-c}}invert(){return new ni(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ni.empty:new ni(e<0?[0,-e,0]:[0,0,e])}}ni.empty=new ni([]);const bm=Object.create(null);class gr{getMap(){return ni.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=bm[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in bm)throw new RangeError("Duplicate use of step JSON ID "+e);return bm[e]=t,t.prototype.jsonID=e,t}}class Bn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Bn(e,null)}static fail(e){return new Bn(null,e)}static fromReplace(e,t,r,i){try{return Bn.ok(e.replace(t,r,i))}catch(o){if(o instanceof Ol)return Bn.fail(o.message);throw o}}}function Yy(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(Yy(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return ge.fromArray(r)}class Vs extends gr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new be(Yy(t.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return Bn.fromReplace(e,this.from,this.to,o)}invert(){return new Gs(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Vs(t.pos,r.pos,this.mark)}merge(e){return e instanceof Vs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Vs(t.from,t.to,e.markFromJSON(t.mark))}}gr.jsonID("addMark",Vs);class Gs extends gr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new be(Yy(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Bn.fromReplace(e,this.from,this.to,r)}invert(){return new Vs(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Gs(t.pos,r.pos,this.mark)}merge(e){return e instanceof Gs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Gs(t.from,t.to,e.markFromJSON(t.mark))}}gr.jsonID("removeMark",Gs);class Ks extends gr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Bn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Bn.fromReplace(e,this.pos,this.pos+1,new be(ge.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Ks(this.pos,t.marks[i]);return new Ks(this.pos,this.mark)}}return new ac(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ks(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ks(t.pos,e.markFromJSON(t.mark))}}gr.jsonID("addNodeMark",Ks);class ac extends gr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Bn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Bn.fromReplace(e,this.pos,this.pos+1,new be(ge.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ks(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ac(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ac(t.pos,e.markFromJSON(t.mark))}}gr.jsonID("removeNodeMark",ac);class Bi extends gr{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Fv(e,this.from,this.to)?Bn.fail("Structure replace would overwrite content"):Bn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ni([this.from,this.to-this.from,this.slice.size])}invert(e){return new Bi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Bi(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Bi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?be.empty:new be(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Bi(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?be.empty:new be(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Bi(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Bi(t.from,t.to,be.fromJSON(e,t.slice),!!t.structure)}}gr.jsonID("replace",Bi);class ds extends gr{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Fv(e,this.from,this.gapFrom)||Fv(e,this.gapTo,this.to)))return Bn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Bn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Bn.fromReplace(e,this.from,this.to,r):Bn.fail("Content does not fit in gap")}getMap(){return new ni([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new ds(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new ds(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ds(t.from,t.to,t.gapFrom,t.gapTo,be.fromJSON(e,t.slice),t.insert,!!t.structure)}}gr.jsonID("replaceAround",ds);function Fv(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Pae(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function th(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(r==0||i.type.spec.isolating||!Pae(i,o,s))break}return null}function Iae(n,e,t=null,r=n){let i=Dae(n,e),o=i&&_ae(r,e);return o?i.map(cM).concat({type:e,attrs:t}).concat(o.map(cM)):null}function cM(n){return{type:n,attrs:null}}function Dae(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(r,i,s)?o:null}function _ae(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:s}function $ae(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let l=i.depth-1,c=t-2;l>o;l--,c--){let f=i.node(l),p=i.index(l);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(p,f.childCount),m=f;if(!f.canReplace(p+1,f.childCount)||!m.type.validContent(h))return!1}let a=i.indexAfter(o);return i.node(o).canReplaceWith(a,a,i.node(o+1).type)}function nh(n,e){let t=n.resolve(e),r=t.index();return BO(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Nae(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(s),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function BO(n,e){return!!(n&&e&&!n.isLeaf&&Nae(n,e))}function jO(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):t>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&BO(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Jy(n,e,t=e,r=be.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return Fae(i,o,r)?new Bi(e,t,r):new Bae(i,o,r).fit()}function Fae(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class Bae{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ge.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ge.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new be(o,s,a);return e>-1?new ds(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new Bi(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=xm(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],f,p=null;if(t==1&&(s?c.matchType(s.type)||(p=c.fillBefore(ge.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:p};if(t==2&&s&&(f=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:f};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=xm(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new be(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=xm(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new be(_u(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new be(_u(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let b=0;b<o.length;b++)this.openFrontierNode(o[b]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,f=[],{match:p,type:h}=this.frontier[t];if(i){for(let b=0;b<i.childCount;b++)f.push(i.child(b));p=p.matchFragment(i)}let m=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let b=a.child(c),w=p.matchType(b.type);if(!w)break;c++,(c>1||l==0||b.content.size)&&(p=w,f.push(zO(b.mark(h.allowedMarks(b.marks)),c==1?l:0,c==a.childCount?m:-1)))}let y=c==a.childCount;y||(m=-1),this.placed=$u(this.placed,t,ge.from(f)),this.frontier[t].match=p,y&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,w=a;b<m;b++){let S=w.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),w=S.content}this.unplaced=y?e==0?be.empty:new be(_u(s.content,e-1,1),e-1,m<0?s.openEnd:e-1):new be(_u(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!wm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=wm(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],f=wm(e,a,c,l,!0);if(!f||f.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=$u(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=$u(this.placed,this.depth,ge.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ge.empty,!0);t.childCount&&(this.placed=$u(this.placed,this.frontier.length,t))}}function _u(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(_u(n.firstChild.content,e-1,t)))}function $u(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy($u(n.lastChild.content,e-1,t)))}function xm(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function zO(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,zO(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ge.empty,!0)))),n.copy(r)}function wm(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!jae(t,o.content,s)?a:null}function jae(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}class Gu extends gr{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Bn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Bn.fromReplace(e,this.pos,this.pos+1,new be(ge.from(i),0,t.isLeaf?0:1))}getMap(){return ni.empty}invert(e){return new Gu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Gu(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Gu(t.pos,t.attr,t.value)}}gr.jsonID("attr",Gu);class Kf extends gr{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Bn.ok(r)}getMap(){return ni.empty}invert(e){return new Kf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Kf(t.attr,t.value)}}gr.jsonID("docAttr",Kf);let lc=class extends Error{};lc=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};lc.prototype=Object.create(Error.prototype);lc.prototype.constructor=lc;lc.prototype.name="TransformError";const zae=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function HO(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Hae=(n,e,t)=>{let r=HO(n,t);if(!r)return!1;let i=Zy(r);if(!i){let s=r.blockRange(),a=s&&th(s);return a==null?!1:(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(GO(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Il(o,"end")||dt.isSelectable(o)))for(let s=r.depth;;s--){let a=Jy(n.doc,r.before(s),r.after(s),be.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(Il(o,"end")?At.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):dt.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},Wae=(n,e,t)=>{let r=HO(n,t);if(!r)return!1;let i=Zy(r);return i?WO(n,i,e):!1},Uae=(n,e,t)=>{let r=UO(n,t);if(!r)return!1;let i=Xy(r);return i?WO(n,i,e):!1};function WO(n,e,t){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let f=a.firstChild;if(!f)return!1;a=f}let c=Jy(n.doc,o,l,be.empty);if(!c||c.from!=o||c instanceof Bi&&c.slice.size>=l-o)return!1;if(t){let f=n.tr.step(c);f.setSelection(wt.create(f.doc,o)),t(f.scrollIntoView())}return!0}function Il(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Vae=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=Zy(r)}let s=o&&o.nodeBefore;return!s||!dt.isSelectable(s)?!1:(e&&e(n.tr.setSelection(dt.create(n.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Zy(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function UO(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const Gae=(n,e,t)=>{let r=UO(n,t);if(!r)return!1;let i=Xy(r);if(!i)return!1;let o=i.nodeAfter;if(GO(n,i,e,1))return!0;if(r.parent.content.size==0&&(Il(o,"start")||dt.isSelectable(o))){let s=Jy(n.doc,r.before(),r.after(),be.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=n.tr.step(s);a.setSelection(Il(o,"start")?At.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):dt.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Kae=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=Xy(r)}let s=o&&o.nodeAfter;return!s||!dt.isSelectable(s)?!1:(e&&e(n.tr.setSelection(dt.create(n.doc,o.pos)).scrollIntoView()),!0)};function Xy(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const qae=(n,e)=>{let t=n.selection,r=t instanceof dt,i;if(r){if(t.node.isTextblock||!nh(n.doc,t.from))return!1;i=t.from}else if(i=jO(n.doc,t.from,-1),i==null)return!1;if(e){let o=n.tr.join(i);r&&o.setSelection(dt.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},Yae=(n,e)=>{let t=n.selection,r;if(t instanceof dt){if(t.node.isTextblock||!nh(n.doc,t.to))return!1;r=t.to}else if(r=jO(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},Jae=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&th(i);return o==null?!1:(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)},Zae=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function VO(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const Xae=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),s=VO(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,s.createAndFill());l.setSelection(At.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},Qae=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Wi||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=VO(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(s,o.createAndFill());a.setSelection(wt.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},ele=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if($ae(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&th(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},tle=(n,e)=>{let{$from:t,to:r}=n.selection,i,o=t.sharedDepth(r);return o==0?!1:(i=t.before(o),e&&e(n.tr.setSelection(dt.create(n.doc,i))),!0)};function nle(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||nh(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function GO(n,e,t,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&nle(n,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(t){let m=e.pos+o.nodeSize,y=ge.empty;for(let S=s.length-1;S>=0;S--)y=ge.from(s[S].create(null,y));y=ge.from(i.copy(y));let b=n.tr.step(new ds(e.pos-1,m,e.pos,m,new be(y,1,0),s.length,!0)),w=b.doc.resolve(m+2*s.length);w.nodeAfter&&w.nodeAfter.type==i.type&&nh(b.doc,w.pos)&&b.join(w.pos),t(b.scrollIntoView())}return!0}let f=o.type.spec.isolating||r>0&&l?null:At.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),h=p&&th(p);if(h!=null&&h>=e.depth)return t&&t(n.tr.lift(p,h).scrollIntoView()),!0;if(c&&Il(o,"start",!0)&&Il(i,"end")){let m=i,y=[];for(;y.push(m),!m.isTextblock;)m=m.lastChild;let b=o,w=1;for(;!b.isTextblock;b=b.firstChild)w++;if(m.canReplace(m.childCount,m.childCount,b.content)){if(t){let S=ge.empty;for(let T=y.length-1;T>=0;T--)S=ge.from(y[T].copy(S));let k=n.tr.step(new ds(e.pos-y.length,e.pos+o.nodeSize,e.pos+w,e.pos+o.nodeSize-w,new be(S,y.length,0),0,!0));t(k.scrollIntoView())}return!0}}return!1}function KO(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(wt.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const rle=KO(-1),ile=KO(1);function ole(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=s&&Iae(s,n,e);return a?(r&&r(t.tr.wrap(s,a).scrollIntoView()),!0):!1}}function dM(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=t.selection.ranges[o];t.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let f=t.doc.resolve(c),p=f.index();i=f.parent.canReplaceWith(p,p+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let s=0;s<t.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[s];o.setBlockType(a,l,n,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function sle(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(n)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let f=t.doc.resolve(s.start-2);l=new Nf(f,f,s.depth),s.endIndex<s.parent.childCount&&(s=new Nf(i,t.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let c=Wie(l,n,e,s);return c?(r&&r(ale(t.tr,s,c,a,n).scrollIntoView()),!0):!1}}function ale(n,e,t,r,i){let o=ge.empty;for(let f=t.length-1;f>=0;f--)o=ge.from(t[f].type.create(t[f].attrs,o));n.step(new Gi(e.start-(r?2:0),e.end,e.start,e.end,new be(o,0,0),t.length,!0));let s=0;for(let f=0;f<t.length;f++)t[f].type==i&&(s=f+1);let a=t.length-s,l=e.start+t.length-(r?2:0),c=e.parent;for(let f=e.startIndex,p=e.endIndex,h=!0;f<p;f++,h=!1)!h&&Xie(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(f).nodeSize;return n}function lle(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?ule(e,t,n,o):cle(e,t,o):!0:!1}}function ule(n,e,t,r){let i=n.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Gi(o-1,s,o,s,new be(ge.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Nf(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=zie(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return eoe(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function cle(n,e,t){let r=n.tr,i=t.parent;for(let m=t.end,y=t.endIndex-1,b=t.startIndex;y>b;y--)m-=i.child(y).nodeSize,r.delete(m-1,m+1);let o=r.doc.resolve(t.start),s=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==i.childCount,c=o.node(-1),f=o.index(-1);if(!c.canReplace(f+(a?0:1),f+1,s.content.append(l?ge.empty:ge.from(i))))return!1;let p=o.pos,h=p+s.nodeSize;return r.step(new Gi(p-(a?1:0),h+(l?1:0),p+1,h-1,new be((a?ge.empty:ge.from(i.copy(ge.empty))).append(l?ge.empty:ge.from(i.copy(ge.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function dle(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=n)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,f=ge.from(c?n.create():null),p=new be(ge.from(n.create(null,ge.from(a.type.create(null,f)))),c?3:1,0),h=o.start,m=o.end;t(e.tr.step(new Gi(h-(c?3:1),m,h,m,p,1,!0)).scrollIntoView())}return!0}}function rh(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,o=t.storedMarks,t}}}class ih{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...f)=>{const p=l(...f)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,c=e||o.tr,f=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(h=>h===!0)),p={...Object.fromEntries(Object.entries(r).map(([h,m])=>[h,(...b)=>{const w=this.buildProps(c,t),S=m(...b)(w);return a.push(S),p}])),run:f};return p}createCan(e){const{rawCommands:t,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...f)=>c(...f)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:rh({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...f)=>c(...f)(a)]))}};return a}}class fle{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function tt(n,e,t){return n.config[e]===void 0&&n.parent?tt(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?tt(n.parent,e,t):null}):n.config[e]}function oh(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function qO(n){const e=[],{nodeExtensions:t,markExtensions:r}=oh(n),i=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=tt(s,"addGlobalAttributes",a);if(!l)return;l().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([h,m])=>{e.push({type:p,name:h,attribute:{...o,...m}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=tt(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([f,p])=>{const h={...o,...p};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:s.name,name:f,attribute:h})})}),e}function Qn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function En(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?o.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(f=>!l.includes(f));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=o?o.split(";").map(f=>f.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(f=>f.trim()).filter(Boolean):[],c=new Map;l.forEach(f=>{const[p,h]=f.split(":").map(m=>m.trim());c.set(p,h)}),a.forEach(f=>{const[p,h]=f.split(":").map(m=>m.trim());c.set(p,h)}),r[i]=Array.from(c.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else r[i]=o}),r},{})}function qf(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>En(t,r),{})}function YO(n){return typeof n=="function"}function Tt(n,e=void 0,...t){return YO(n)?e?n.bind(e)(...t):n(...t):n}function ple(n={}){return Object.keys(n).length===0&&n.constructor===Object}function hle(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function fM(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(t):hle(t.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function pM(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&ple(t)?!1:t!=null))}function gle(n,e){var t;const r=qO(n),{nodeExtensions:i,markExtensions:o}=oh(n),s=(t=i.find(c=>tt(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(c=>{const f=r.filter(S=>S.type===c.name),p={name:c.name,options:c.options,storage:c.storage,editor:e},h=n.reduce((S,k)=>{const T=tt(k,"extendNodeSchema",p);return{...S,...T?T(c):{}}},{}),m=pM({...h,content:Tt(tt(c,"content",p)),marks:Tt(tt(c,"marks",p)),group:Tt(tt(c,"group",p)),inline:Tt(tt(c,"inline",p)),atom:Tt(tt(c,"atom",p)),selectable:Tt(tt(c,"selectable",p)),draggable:Tt(tt(c,"draggable",p)),code:Tt(tt(c,"code",p)),whitespace:Tt(tt(c,"whitespace",p)),defining:Tt(tt(c,"defining",p)),isolating:Tt(tt(c,"isolating",p)),attrs:Object.fromEntries(f.map(S=>{var k;return[S.name,{default:(k=S==null?void 0:S.attribute)===null||k===void 0?void 0:k.default}]}))}),y=Tt(tt(c,"parseHTML",p));y&&(m.parseDOM=y.map(S=>fM(S,f)));const b=tt(c,"renderHTML",p);b&&(m.toDOM=S=>b({node:S,HTMLAttributes:qf(S,f)}));const w=tt(c,"renderText",p);return w&&(m.toText=w),[c.name,m]})),l=Object.fromEntries(o.map(c=>{const f=r.filter(w=>w.type===c.name),p={name:c.name,options:c.options,storage:c.storage,editor:e},h=n.reduce((w,S)=>{const k=tt(S,"extendMarkSchema",p);return{...w,...k?k(c):{}}},{}),m=pM({...h,inclusive:Tt(tt(c,"inclusive",p)),excludes:Tt(tt(c,"excludes",p)),group:Tt(tt(c,"group",p)),spanning:Tt(tt(c,"spanning",p)),code:Tt(tt(c,"code",p)),attrs:Object.fromEntries(f.map(w=>{var S;return[w.name,{default:(S=w==null?void 0:w.attribute)===null||S===void 0?void 0:S.default}]}))}),y=Tt(tt(c,"parseHTML",p));y&&(m.parseDOM=y.map(w=>fM(w,f)));const b=tt(c,"renderHTML",p);return b&&(m.toDOM=w=>b({mark:w,HTMLAttributes:qf(w,f)})),[c.name,m]}));return new x2({topNode:s,nodes:a,marks:l})}function Cm(n,e){return e.nodes[n]||e.marks[n]||null}function hM(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}const mle=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,c;const f=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?f:f.slice(0,Math.max(0,r-o))}),t};function Qy(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class sh{constructor(e){this.find=e.find,this.handler=e.handler}}const vle=(n,e)=>{if(Qy(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Hd(n){var e;const{editor:t,from:r,to:i,text:o,rules:s,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let f=!1;const p=mle(c)+o;return s.forEach(h=>{if(f)return;const m=vle(p,h.find);if(!m)return;const y=l.state.tr,b=rh({state:l.state,transaction:y}),w={from:r-(m[0].length-o.length),to:i},{commands:S,chain:k,can:T}=new ih({editor:t,state:b});h.handler({state:b,range:w,match:m,commands:S,chain:k,can:T})===null||!y.steps.length||(y.setMeta(a,{transform:y,from:r,to:i,text:o}),l.dispatch(y),f=!0)}),f}function yle(n){const{editor:e,rules:t}=n,r=new pr({state:{init(){return null},apply(i,o){const s=i.getMeta(r);if(s)return s;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:f}=a,p=c+f.length;Hd({editor:e,from:c,to:p,text:f,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return Hd({editor:e,from:o,to:s,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Hd({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Hd({editor:e,from:s.pos,to:s.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function ble(n){return Object.prototype.toString.call(n).slice(8,-1)}function Wd(n){return ble(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function ah(n,e){const t={...n};return Wd(n)&&Wd(e)&&Object.keys(e).forEach(r=>{Wd(e[r])&&Wd(n[r])?t[r]=ah(n[r],e[r]):t[r]=e[r]}),t}class ii{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Tt(tt(this,"addOptions",{name:this.name}))),this.storage=Tt(tt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ii(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ah(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ii(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Tt(tt(t,"addOptions",{name:t.name})),t.storage=Tt(tt(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function xle(n){return typeof n=="number"}class wle{constructor(e){this.find=e.find,this.handler=e.handler}}const Cle=(n,e,t)=>{if(Qy(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function Sle(n){const{editor:e,state:t,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=n,{commands:l,chain:c,can:f}=new ih({editor:e,state:t}),p=[];return t.doc.nodesBetween(r,i,(m,y)=>{if(!m.isTextblock||m.type.spec.code)return;const b=Math.max(r,y),w=Math.min(i,y+m.content.size),S=m.textBetween(b-y,w-y,void 0,"");Cle(S,o.find,s).forEach(T=>{if(T.index===void 0)return;const R=b+T.index+1,O=R+T[0].length,M={from:t.tr.mapping.map(R),to:t.tr.mapping.map(O)},L=o.handler({state:t,range:M,match:T,commands:l,chain:c,can:f,pasteEvent:s,dropEvent:a});p.push(L)})}),p.every(m=>m!==null)}const kle=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function Mle(n){const{editor:e,rules:t}=n;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:f,from:p,to:h,rule:m,pasteEvt:y})=>{const b=f.tr,w=rh({state:f,transaction:b});if(!(!Sle({editor:e,state:w,from:Math.max(p-1,0),to:h.b-1,rule:m,pasteEvent:y,dropEvent:a})||!b.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b};return t.map(f=>new pr({view(p){const h=m=>{var y;r=!((y=p.dom.parentElement)===null||y===void 0)&&y.contains(m.target)?p.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(p,h)=>(o=r===p.dom.parentElement,a=h,!1),paste:(p,h)=>{var m;const y=(m=h.clipboardData)===null||m===void 0?void 0:m.getData("text/html");return s=h,i=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(p,h,m)=>{const y=p[0],b=y.getMeta("uiEvent")==="paste"&&!i,w=y.getMeta("uiEvent")==="drop"&&!o,S=y.getMeta("applyPasteRules"),k=!!S;if(!b&&!w&&!k)return;if(k){const{from:O,text:M}=S,L=O+M.length,D=kle(M);return l({rule:f,state:m,from:O,to:{b:L},pasteEvt:D})}const T=h.doc.content.findDiffStart(m.doc.content),R=h.doc.content.findDiffEnd(m.doc.content);if(!(!xle(T)||!R||T===R.b))return l({rule:f,state:m,from:T,to:R,pasteEvt:s})}}))}function Ele(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class wl{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=wl.resolve(e),this.schema=gle(this.extensions,t),this.setupExtensions()}static resolve(e){const t=wl.sort(wl.flatten(e)),r=Ele(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=tt(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=tt(r,"priority")||100,s=tt(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Cm(t.name,this.schema)},i=tt(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=wl.sort([...this.extensions].reverse()),r=[],i=[],o=t.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:Cm(s.name,this.schema)},l=[],c=tt(s,"addKeyboardShortcuts",a);let f={};if(s.type==="mark"&&tt(s,"exitable",a)&&(f.ArrowRight=()=>ii.handleExit({editor:e,mark:s})),c){const b=Object.fromEntries(Object.entries(c()).map(([w,S])=>[w,()=>S({editor:e})]));f={...f,...b}}const p=nae(f);l.push(p);const h=tt(s,"addInputRules",a);hM(s,e.options.enableInputRules)&&h&&r.push(...h());const m=tt(s,"addPasteRules",a);hM(s,e.options.enablePasteRules)&&m&&i.push(...m());const y=tt(s,"addProseMirrorPlugins",a);if(y){const b=y();l.push(...b)}return l}).flat();return[yle({editor:e,rules:r}),...Mle({editor:e,rules:i}),...o]}get attributes(){return qO(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=oh(this.extensions);return Object.fromEntries(t.filter(r=>!!tt(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Qn(r.name,this.schema)},s=tt(r,"addNodeView",o);if(!s)return[];const a=(l,c,f,p,h)=>{const m=qf(l,i);return s()({node:l,view:c,getPos:f,decorations:p,innerDecorations:h,editor:e,extension:r,HTMLAttributes:m})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Cm(e.name,this.schema)};e.type==="mark"&&(!((t=Tt(tt(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=tt(e,"onBeforeCreate",r),o=tt(e,"onCreate",r),s=tt(e,"onUpdate",r),a=tt(e,"onSelectionUpdate",r),l=tt(e,"onTransaction",r),c=tt(e,"onFocus",r),f=tt(e,"onBlur",r),p=tt(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}}class Ur{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Tt(tt(this,"addOptions",{name:this.name}))),this.storage=Tt(tt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ur(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ah(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Ur({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Tt(tt(t,"addOptions",{name:t.name})),t.storage=Tt(tt(t,"addStorage",{name:t.name,options:t.options})),t}}function JO(n,e,t){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=t||{};let a="";return n.nodesBetween(r,i,(l,c,f,p)=>{var h;l.isBlock&&c>r&&(a+=o);const m=s==null?void 0:s[l.type.name];if(m)return f&&(a+=m({node:l,pos:c,parent:f,index:p,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function ZO(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const Tle=Ur.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new pr({key:new oi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(f=>f.$from.pos)),a=Math.max(...o.map(f=>f.$to.pos)),l=ZO(t);return JO(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Ale=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),Ole=(n=!1)=>({commands:e})=>e.setContent("",n),Lle=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:o,$to:s})=>{n.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:f}=e,p=c.resolve(f.map(l)),h=c.resolve(f.map(l+a.nodeSize)),m=p.blockRange(h);if(!m)return;const y=uae(m);if(a.type.isTextblock){const{defaultType:b}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(m.start,b)}(y||y===0)&&e.lift(m,y)})}),!0},Rle=n=>e=>n(e),Ple=()=>({state:n,dispatch:e})=>Qae(n,e),Ile=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,o=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new wt(r.doc.resolve(s-1))),!0},Dle=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);n.delete(a,l).scrollIntoView()}return!0}return!1},_le=n=>({tr:e,state:t,dispatch:r})=>{const i=Qn(n,t.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},$le=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},Nle=()=>({state:n,dispatch:e})=>zae(n,e),Fle=()=>({commands:n})=>n.keyboardShortcut("Enter"),Ble=()=>({state:n,dispatch:e})=>Xae(n,e);function Yf(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:Qy(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function Bv(n,e,t={}){return n.find(r=>r.type===e&&Yf(r.attrs,t))}function jle(n,e,t={}){return!!Bv(n,e,t)}function eb(n,e,t={}){if(!n||!e)return;let r=n.parent.childAfter(n.parentOffset);if(n.parentOffset===r.offset&&r.offset!==0&&(r=n.parent.childBefore(n.parentOffset)),!r.node)return;const i=Bv([...r.node.marks],e,t);if(!i)return;let o=r.index,s=n.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(Bv([...r.node.marks],e,t);o>0&&i.isInSet(n.parent.child(o-1).marks);)o-=1,s-=n.parent.child(o).nodeSize;for(;a<n.parent.childCount&&jle([...n.parent.child(a).marks],e,t);)l+=n.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function ws(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const zle=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const o=ws(n,r.schema),{doc:s,selection:a}=t,{$from:l,from:c,to:f}=a;if(i){const p=eb(l,o,e);if(p&&p.from<=c&&p.to>=f){const h=wt.create(s,p.from,p.to);t.setSelection(h)}}return!0},Hle=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function XO(n){return n instanceof wt}function Ao(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function QO(n,e=null){if(!e)return null;const t=At.atStart(n),r=At.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,o=r.to;return e==="all"?wt.create(n,Ao(0,i,o),Ao(n.content.size,i,o)):wt.create(n,Ao(e,i,o),Ao(e,i,o))}function lh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Wle=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{lh()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!XO(t.state.selection))return s(),!0;const a=QO(i.doc,n)||t.state.selection,l=t.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},Ule=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),Vle=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),eL=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&eL(r)}return n};function Ud(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return eL(t)}function Jf(n,e,t){t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return ge.fromArray(n.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(n);return t.errorOnInvalidContent&&s.check(),s}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),Jf("",e,t)}if(i){if(t.errorOnInvalidContent){let s=!1,a="";const l=new x2({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?zu.fromSchema(l).parseSlice(Ud(n),t.parseOptions):zu.fromSchema(l).parse(Ud(n),t.parseOptions),t.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=zu.fromSchema(e);return t.slice?o.parseSlice(Ud(n),t.parseOptions).content:o.parse(Ud(n),t.parseOptions)}return Jf("",e,t)}function Gle(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Po||i instanceof ba))return;const o=n.mapping.maps[r];let s=0;o.forEach((a,l,c,f)=>{s===0&&(s=f)}),n.setSelection(At.near(n.doc.resolve(s),t))}const Kle=n=>!("type"in n),qle=(n,e,t)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){t={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=Jf(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(s=t.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(y){return o.emit("contentError",{editor:o,error:y,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:l,to:c}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},f=!0,p=!0;if((Kle(a)?a:[a]).forEach(y=>{y.check(),f=f?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),l===c&&p){const{parent:y}=r.doc.resolve(l);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(l-=1,c+=1)}let m;f?(Array.isArray(e)?m=e.map(y=>y.text||"").join(""):typeof e=="object"&&e&&e.text?m=e.text:m=e,r.insertText(m,l,c)):(m=a,r.replaceWith(l,c,m)),t.updateSelection&&Gle(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:m}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:m})}return!0},Yle=()=>({state:n,dispatch:e})=>qae(n,e),Jle=()=>({state:n,dispatch:e})=>Yae(n,e),Zle=()=>({state:n,dispatch:e})=>Hae(n,e),Xle=()=>({state:n,dispatch:e})=>Gae(n,e),Qle=()=>({state:n,dispatch:e,tr:t})=>{try{const r=TO(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},eue=()=>({state:n,dispatch:e,tr:t})=>{try{const r=TO(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},tue=()=>({state:n,dispatch:e})=>Wae(n,e),nue=()=>({state:n,dispatch:e})=>Uae(n,e);function tL(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function rue(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))lh()||tL()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),s&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const iue=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const o=rue(n).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const f=c.map(r.mapping);f&&i&&r.maybeStep(f)}),!0};function uc(n,e,t={}){const{from:r,to:i,empty:o}=n.selection,s=e?Qn(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(p,h)=>{if(p.isText)return;const m=Math.max(r,h),y=Math.min(i,h+p.nodeSize);a.push({node:p,from:m,to:y})});const l=i-r,c=a.filter(p=>s?s.name===p.node.type.name:!0).filter(p=>Yf(p.node.attrs,t,{strict:!1}));return o?!!c.length:c.reduce((p,h)=>p+h.to-h.from,0)>=l}const oue=(n,e={})=>({state:t,dispatch:r})=>{const i=Qn(n,t.schema);return uc(t,i,e)?Jae(t,r):!1},sue=()=>({state:n,dispatch:e})=>ele(n,e),aue=n=>({state:e,dispatch:t})=>{const r=Qn(n,e.schema);return lle(r)(e,t)},lue=()=>({state:n,dispatch:e})=>Zae(n,e);function uh(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function gM(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const uue=(n,e)=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=uh(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=Qn(n,r.schema)),a==="mark"&&(s=ws(n,r.schema)),i&&t.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,f)=>{o&&o===c.type&&t.setNodeMarkup(f,void 0,gM(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(p=>{s===p.type&&t.addMark(f,f+c.nodeSize,s.create(gM(p.attrs,e)))})})}),!0):!1},cue=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),due=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),fue=()=>({state:n,dispatch:e})=>Vae(n,e),pue=()=>({state:n,dispatch:e})=>Kae(n,e),hue=()=>({state:n,dispatch:e})=>tle(n,e),gue=()=>({state:n,dispatch:e})=>ile(n,e),mue=()=>({state:n,dispatch:e})=>rle(n,e);function jv(n,e,t={},r={}){return Jf(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const vue=(n,e=!1,t={},r={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{var l,c;const{doc:f}=o;if(t.preserveWhitespace!=="full"){const p=jv(n,i.schema,t,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&o.replaceWith(0,f.content.size,p).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:f.content.size},n,{parseOptions:t,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function tb(n,e){const t=ws(e,n.schema),{from:r,to:i,empty:o}=n.selection,s=[];o?(n.storedMarks&&s.push(...n.storedMarks),s.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function yue(n,e){const t=new Oae(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function bue(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function xue(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,o)=>{t(i)&&r.push({node:i,pos:o})}),r}function wue(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function nb(n){return e=>wue(e.$from,n)}function Cue(n,e){const t=ya.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}function Sue(n,e){const t={from:0,to:n.content.size};return JO(n,t,e)}function kue(n,e){const t=Qn(e,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===t.name);return s?{...s.attrs}:{}}function nL(n,e){const t=uh(typeof e=="string"?e:e.name,n.schema);return t==="node"?kue(n,e):t==="mark"?tb(n,e):{}}function Mue(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function Eue(n){const e=Mue(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,s)=>s!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function Tue(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=t[o];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=e.slice(o).map(a,-1),f=e.slice(o).map(l),p=e.invert().map(c,-1),h=e.invert().map(f);r.push({oldRange:{from:p,to:h},newRange:{from:c,to:f}})})}),Eue(r)}function rb(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const o=t.resolve(n),s=eb(o,i.type);s&&r.push({mark:i,...s})}):t.nodesBetween(n,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function df(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function zv(n,e,t={}){const{empty:r,ranges:i}=n.selection,o=e?ws(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(p=>o?o.name===p.type.name:!0).find(p=>Yf(p.attrs,t,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:p,$to:h})=>{const m=p.pos,y=h.pos;n.doc.nodesBetween(m,y,(b,w)=>{if(!b.isText&&!b.marks.length)return;const S=Math.max(m,w),k=Math.min(y,w+b.nodeSize),T=k-S;s+=T,a.push(...b.marks.map(R=>({mark:R,from:S,to:k})))})}),s===0)return!1;const l=a.filter(p=>o?o.name===p.mark.type.name:!0).filter(p=>Yf(p.mark.attrs,t,{strict:!1})).reduce((p,h)=>p+h.to-h.from,0),c=a.filter(p=>o?p.mark.type!==o&&p.mark.type.excludes(o):!0).reduce((p,h)=>p+h.to-h.from,0);return(l>0?l+c:l)>=s}function Aue(n,e,t={}){if(!e)return uc(n,null,t)||zv(n,null,t);const r=uh(e,n.schema);return r==="node"?uc(n,e,t):r==="mark"?zv(n,e,t):!1}function mM(n,e){const{nodeExtensions:t}=oh(e),r=t.find(s=>s.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Tt(tt(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function ib(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(o=>{i!==!1&&(ib(o,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function Oue(n,e,t){const i=n.state.doc.content.size,o=Ao(e,0,i),s=Ao(t,0,i),a=n.coordsAtPos(o),l=n.coordsAtPos(s,-1),c=Math.min(a.top,l.top),f=Math.max(a.bottom,l.bottom),p=Math.min(a.left,l.left),h=Math.max(a.right,l.right),m=h-p,y=f-c,S={top:c,bottom:f,left:p,right:h,width:m,height:y,x:p,y:c};return{...S,toJSON:()=>S}}function Lue(n,e,t){var r;const{selection:i}=e;let o=null;if(XO(i)&&(o=i.$cursor),o){const a=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(f,p,h)=>{if(c)return!1;if(f.isInline){const m=!h||h.type.allowsMarkType(t),y=!!t.isInSet(f.marks)||!f.marks.some(b=>b.type.excludes(t));c=m&&y}return!c}),c})}const Rue=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=t,{empty:s,ranges:a}=o,l=ws(n,r.schema);if(i)if(s){const c=tb(r,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const f=c.$from.pos,p=c.$to.pos;r.doc.nodesBetween(f,p,(h,m)=>{const y=Math.max(m,f),b=Math.min(m+h.nodeSize,p);h.marks.find(S=>S.type===l)?h.marks.forEach(S=>{l===S.type&&t.addMark(y,b,l.create({...S.attrs,...e}))}):t.addMark(y,b,l.create(e))})});return Lue(r,t,l)},Pue=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),Iue=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const o=Qn(n,t.schema);return o.isTextblock?i().command(({commands:s})=>dM(o,e)(t)?!0:s.clearNodes()).command(({state:s})=>dM(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Due=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Ao(n,0,r.content.size),o=dt.create(r,i);e.setSelection(o)}return!0},_ue=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:o}=typeof n=="number"?{from:n,to:n}:n,s=wt.atStart(r).from,a=wt.atEnd(r).to,l=Ao(i,s,a),c=Ao(o,s,a),f=wt.create(r,l,c);e.setSelection(f)}return!0},$ue=n=>({state:e,dispatch:t})=>{const r=Qn(n,e.schema);return dle(r)(e,t)};function vM(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const Nue=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,c=i.extensionManager.attributes,f=df(c,a.node().type.name,a.node().attrs);if(o instanceof dt&&o.node.isBlock)return!a.parentOffset||!lf(s,a.pos)?!1:(r&&(n&&vM(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const p=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:bue(a.node(-1).contentMatchAt(a.indexAfter(-1)));let m=p&&h?[{type:h,attrs:f}]:void 0,y=lf(e.doc,e.mapping.map(a.pos),1,m);if(!m&&!y&&lf(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(y=!0,m=h?[{type:h,attrs:f}]:void 0),r){if(y&&(o instanceof wt&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,m),h&&!p&&!a.parentOffset&&a.parent.type!==h)){const b=e.mapping.map(a.before()),w=e.doc.resolve(b);a.node(-1).canReplaceWith(w.index(),w.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}n&&vM(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return y},Fue=(n,e={})=>({tr:t,state:r,dispatch:i,editor:o})=>{var s;const a=Qn(n,r.schema),{$from:l,$to:c}=r.selection,f=r.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(c))return!1;const p=l.node(-1);if(p.type!==a)return!1;const h=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let S=ge.empty;const k=l.index(-1)?1:l.index(-2)?2:3;for(let D=l.depth-k;D>=l.depth-3;D-=1)S=ge.from(l.node(D).copy(S));const T=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,R={...df(h,l.node().type.name,l.node().attrs),...e},O=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(R))||void 0;S=S.append(ge.from(a.createAndFill(null,O)||void 0));const M=l.before(l.depth-(k-1));t.replace(M,l.after(-T),new be(S,4-k,0));let L=-1;t.doc.nodesBetween(M,t.doc.content.size,(D,j)=>{if(L>-1)return!1;D.isTextblock&&D.content.size===0&&(L=j+1)}),L>-1&&t.setSelection(wt.near(t.doc.resolve(L))),t.scrollIntoView()}return!0}const m=c.pos===l.end()?p.contentMatchAt(0).defaultType:null,y={...df(h,p.type.name,p.attrs),...e},b={...df(h,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const w=m?[{type:a,attrs:y},{type:m,attrs:b}]:[{type:a,attrs:y}];if(!lf(t.doc,l.pos,2))return!1;if(i){const{selection:S,storedMarks:k}=r,{splittableMarks:T}=o.extensionManager,R=k||S.$to.parentOffset&&S.$from.marks();if(t.split(l.pos,2,w).scrollIntoView(),!R||!i)return!0;const O=R.filter(M=>T.includes(M.type.name));t.ensureMarks(O)}return!0},Sm=(n,e)=>{const t=nb(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&qy(n.doc,t.pos)&&n.join(t.pos),!0},km=(n,e)=>{const t=nb(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&qy(n.doc,r)&&n.join(r),!0},Bue=(n,e,t,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:f})=>{const{extensions:p,splittableMarks:h}=i.extensionManager,m=Qn(n,s.schema),y=Qn(e,s.schema),{selection:b,storedMarks:w}=s,{$from:S,$to:k}=b,T=S.blockRange(k),R=w||b.$to.parentOffset&&b.$from.marks();if(!T)return!1;const O=nb(M=>mM(M.type.name,p))(b);if(T.depth>=1&&O&&T.depth-O.depth<=1){if(O.node.type===m)return c.liftListItem(y);if(mM(O.node.type.name,p)&&m.validContent(O.node.content)&&a)return l().command(()=>(o.setNodeMarkup(O.pos,m),!0)).command(()=>Sm(o,m)).command(()=>km(o,m)).run()}return!t||!R||!a?l().command(()=>f().wrapInList(m,r)?!0:c.clearNodes()).wrapInList(m,r).command(()=>Sm(o,m)).command(()=>km(o,m)).run():l().command(()=>{const M=f().wrapInList(m,r),L=R.filter(D=>h.includes(D.type.name));return o.ensureMarks(L),M?!0:c.clearNodes()}).wrapInList(m,r).command(()=>Sm(o,m)).command(()=>km(o,m)).run()},jue=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,s=ws(n,r.schema);return zv(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},zue=(n,e,t={})=>({state:r,commands:i})=>{const o=Qn(n,r.schema),s=Qn(e,r.schema),a=uc(r,o,t);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...t})},Hue=(n,e={})=>({state:t,commands:r})=>{const i=Qn(n,t.schema);return uc(t,i,e)?r.lift(i):r.wrapIn(i,e)},Wue=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){const s=n.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,n.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},Uue=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},Vue=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=t,l=ws(n,r.schema),{$from:c,empty:f,ranges:p}=a;if(!i)return!0;if(f&&s){let{from:h,to:m}=a;const y=(o=c.marks().find(w=>w.type===l))===null||o===void 0?void 0:o.attrs,b=eb(c,l,y);b&&(h=b.from,m=b.to),t.removeMark(h,m,l)}else p.forEach(h=>{t.removeMark(h.$from.pos,h.$to.pos,l)});return t.removeStoredMark(l),!0},Gue=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=uh(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=Qn(n,r.schema)),a==="mark"&&(s=ws(n,r.schema)),i&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,f=l.$to.pos;r.doc.nodesBetween(c,f,(p,h)=>{o&&o===p.type&&t.setNodeMarkup(h,void 0,{...p.attrs,...e}),s&&p.marks.length&&p.marks.forEach(m=>{if(s===m.type){const y=Math.max(h,c),b=Math.min(h+p.nodeSize,f);t.addMark(y,b,s.create({...m.attrs,...e}))}})})}),!0):!1},Kue=(n,e={})=>({state:t,dispatch:r})=>{const i=Qn(n,t.schema);return ole(i,e)(t,r)},que=(n,e={})=>({state:t,dispatch:r})=>{const i=Qn(n,t.schema);return sle(i,e)(t,r)};var Yue=Object.freeze({__proto__:null,blur:Ale,clearContent:Ole,clearNodes:Lle,command:Rle,createParagraphNear:Ple,cut:Ile,deleteCurrentNode:Dle,deleteNode:_le,deleteRange:$le,deleteSelection:Nle,enter:Fle,exitCode:Ble,extendMarkRange:zle,first:Hle,focus:Wle,forEach:Ule,insertContent:Vle,insertContentAt:qle,joinBackward:Zle,joinDown:Jle,joinForward:Xle,joinItemBackward:Qle,joinItemForward:eue,joinTextblockBackward:tue,joinTextblockForward:nue,joinUp:Yle,keyboardShortcut:iue,lift:oue,liftEmptyBlock:sue,liftListItem:aue,newlineInCode:lue,resetAttributes:uue,scrollIntoView:cue,selectAll:due,selectNodeBackward:fue,selectNodeForward:pue,selectParentNode:hue,selectTextblockEnd:gue,selectTextblockStart:mue,setContent:vue,setMark:Rue,setMeta:Pue,setNode:Iue,setNodeSelection:Due,setTextSelection:_ue,sinkListItem:$ue,splitBlock:Nue,splitListItem:Fue,toggleList:Bue,toggleMark:jue,toggleNode:zue,toggleWrap:Hue,undoInputRule:Wue,unsetAllMarks:Uue,unsetMark:Vue,updateAttributes:Gue,wrapIn:Kue,wrapInList:que});const Jue=Ur.create({name:"commands",addCommands(){return{...Yue}}}),Zue=Ur.create({name:"drop",addProseMirrorPlugins(){return[new pr({key:new oi("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),Xue=Ur.create({name:"editable",addProseMirrorPlugins(){return[new pr({key:new oi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Que=Ur.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new pr({key:new oi("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),ece=Ur.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:f,$anchor:p}=l,{pos:h,parent:m}=p,y=p.parent.isTextblock&&h>0?a.doc.resolve(h-1):p,b=y.parent.type.spec.isolating,w=p.pos-p.parentOffset,S=b&&y.parent.childCount===1?w===p.pos:At.atStart(c).from===h;return!f||!m.type.isTextblock||m.textContent.length||!S||S&&p.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return lh()||tL()?o:i},addProseMirrorPlugins(){return[new pr({key:new oi("clearDocument"),appendTransaction:(n,e,t)=>{const r=n.some(b=>b.docChanged)&&!e.doc.eq(t.doc),i=n.some(b=>b.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,l=At.atStart(e.doc).from,c=At.atEnd(e.doc).to;if(o||!(s===l&&a===c)||!ib(t.doc))return;const h=t.tr,m=rh({state:t,transaction:h}),{commands:y}=new ih({editor:this.editor,state:m});if(y.clearNodes(),!!h.steps.length)return h}})]}}),tce=Ur.create({name:"paste",addProseMirrorPlugins(){return[new pr({key:new oi("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),nce=Ur.create({name:"tabindex",addProseMirrorPlugins(){return[new pr({key:new oi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class zs{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new zs(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new zs(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new zs(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,o=this.pos+r+1,s=this.resolvedPos.doc.resolve(o);if(!i&&s.depth<=this.depth)return;const a=new zs(s,this.editor,i,i?t:null);i&&(a.actualDepth=this.depth+1),e.push(new zs(s,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const o=i.node.attrs,s=Object.keys(t);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==t[l])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(t);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(l=>t[l]===s.node.attrs[l])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,t,r))))}),i}setAttribute(e){const t=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(t.from).run()}}const rce=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function ice(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}let oce=class extends fle{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=ice(rce,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=YO(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(t))});return this.view.updateState(r),r}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[Xue,Tle.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),Jue,Que,ece,nce,Zue,tce].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new wl(i,this)}createCommandManager(){this.commandManager=new ih({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=jv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(s=>s.name!=="collaboration"),this.createExtensionManager()}}),e=jv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const t=QO(e,this.options.autofocus);this.view=new Kse(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:xl.create({doc:e,selection:t||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return nL(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return Aue(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Cue(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Sue(this.state.doc,{blockSeparator:t,textSerializers:{...ZO(this.schema),...r}})}get isEmpty(){return ib(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new zs(t,this)}get $doc(){return this.$pos(0)}};function Dl(n){return new sh({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Tt(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=t.from+a.indexOf(s),f=c+s.length;if(rb(t.from,t.to,e.doc).filter(m=>m.mark.type.excluded.find(b=>b===n.type&&b!==m.mark.type)).filter(m=>m.to>c).length)return null;f<t.to&&o.delete(f,t.to),c>t.from&&o.delete(t.from+l,c);const h=t.from+l+s.length;o.addMark(t.from+l,h,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function sce(n){return new sh({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Tt(n.getAttributes,void 0,r)||{},{tr:o}=e,s=t.from;let a=t.to;const l=n.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let f=s+c;f>a?f=a:a=f+r[1].length;const p=r[0][r[0].length-1];o.insertText(p,s+r[0].length-1),o.replaceWith(f,a,l)}else if(r[0]){const c=n.type.isInline?s:s-1;o.insert(c,n.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()}})}function Hv(n){return new sh({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),o=Tt(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function cc(n){return new sh({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const o=Tt(n.getAttributes,void 0,r)||{},s=e.tr.delete(t.from,t.to),l=s.doc.resolve(t.from).blockRange(),c=l&&dae(l,n.type,o);if(!c)return null;if(s.wrap(l,c),n.keepMarks&&n.editor){const{selection:p,storedMarks:h}=e,{splittableMarks:m}=n.editor.extensionManager,y=h||p.$to.parentOffset&&p.$from.marks();if(y){const b=y.filter(w=>m.includes(w.type.name));s.ensureMarks(b)}}if(n.keepAttributes){const p=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(p,o).run()}const f=s.doc.resolve(t.from-1).nodeBefore;f&&f.type===n.type&&qy(s.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,f))&&s.join(t.from-1)}})}let si=class Wv{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Tt(tt(this,"addOptions",{name:this.name}))),this.storage=Tt(tt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Wv(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ah(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Wv(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Tt(tt(t,"addOptions",{name:t.name})),t.storage=Tt(tt(t,"addStorage",{name:t.name,options:t.options})),t}};function ace(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class lce{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,r,i,o,s,a,l;const{view:c}=this.editor,f=e.target,p=f.nodeType===3?(t=f.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):f.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(f)||!p)return;let h=0,m=0;if(this.dom!==p){const S=this.dom.getBoundingClientRect(),k=p.getBoundingClientRect(),T=(i=e.offsetX)!==null&&i!==void 0?i:(o=e.nativeEvent)===null||o===void 0?void 0:o.offsetX,R=(s=e.offsetY)!==null&&s!==void 0?s:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetY;h=k.x-S.x+T,m=k.y-S.y+R}(l=e.dataTransfer)===null||l===void 0||l.setDragImage(this.dom,h,m);const y=this.getPos();if(typeof y!="number")return;const b=dt.create(c.state.doc,y),w=c.state.tr.setSelection(b);c.dispatch(w)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(r))))return!1;const o=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!o)return!0;const{isEditable:l}=this.editor,{isDragging:c}=this,f=!!this.node.type.spec.draggable,p=dt.isSelectable(this.node),h=e.type==="copy",m=e.type==="paste",y=e.type==="cut",b=e.type==="mousedown";if(!f&&p&&o&&e.preventDefault(),f&&o&&!c)return e.preventDefault(),!1;if(f&&l&&!c&&b){const w=r.closest("[data-drag-handle]");w&&(this.dom===w||this.dom.contains(w))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(c||s||h||m||y||b&&p)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(lh()||ace())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const r=this.getPos();return typeof r!="number"?!1:(t.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function la(n){return new wle({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const o=Tt(n.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=t.to;if(a){const f=l.search(/\S/),p=t.from+l.indexOf(a),h=p+a.length;if(rb(t.from,t.to,e.doc).filter(y=>y.mark.type.excluded.find(w=>w===n.type&&w!==y.mark.type)).filter(y=>y.to>p).length)return null;h<t.to&&s.delete(h,t.to),p>t.from&&s.delete(t.from+f,p),c=t.from+f+a.length,s.addMark(t.from+f,c,n.type.create(o||{})),s.removeStoredMark(n.type)}}})}function uce(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rL={exports:{}},Mm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yM;function cce(){if(yM)return Mm;yM=1;var n=$;function e(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,o=n.useLayoutEffect,s=n.useDebugValue;function a(p,h){var m=h(),y=r({inst:{value:m,getSnapshot:h}}),b=y[0].inst,w=y[1];return o(function(){b.value=m,b.getSnapshot=h,l(b)&&w({inst:b})},[p,m,h]),i(function(){return l(b)&&w({inst:b}),p(function(){l(b)&&w({inst:b})})},[p]),s(m),m}function l(p){var h=p.getSnapshot;p=p.value;try{var m=h();return!t(p,m)}catch{return!0}}function c(p,h){return h()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Mm.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,Mm}rL.exports=cce();var ob=rL.exports;const dce=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},fce=({contentComponent:n})=>{const e=ob.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return $.createElement($.Fragment,null,Object.values(e))};function pce(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:GF.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class hce extends $.Component{constructor(e){var t;super(e),this.editorContentRef=$.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=pce(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return $.createElement($.Fragment,null,$.createElement("div",{ref:dce(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&$.createElement(fce,{contentComponent:e.contentComponent}))}}const gce=v.forwardRef((n,e)=>{const t=$.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return $.createElement(hce,{key:t,innerRef:e,...n})}),mce=$.memo(gce);var vce=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!(s==="_owner"&&e.$$typeof)&&!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t},yce=uce(vce),iL={exports:{}},Em={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM;function bce(){if(bM)return Em;bM=1;var n=$,e=ob;function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=n.useRef,s=n.useEffect,a=n.useMemo,l=n.useDebugValue;return Em.useSyncExternalStoreWithSelector=function(c,f,p,h,m){var y=o(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function S(M){if(!k){if(k=!0,T=M,M=h(M),m!==void 0&&b.hasValue){var L=b.value;if(m(L,M))return R=L}return R=M}if(L=R,r(T,M))return L;var D=h(M);return m!==void 0&&m(L,D)?L:(T=M,R=D)}var k=!1,T,R,O=p===void 0?null:p;return[function(){return S(f())},O===null?void 0:function(){return S(O())}]},[f,p,h,m]);var w=i(c,y[0],y[1]);return s(function(){b.hasValue=!0,b.value=w},[w]),l(w),w},Em}iL.exports=bce();var xce=iL.exports;class wce{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function Cce(n){var e;const[t]=v.useState(()=>new wce(n.editor)),r=xce.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:yce);return v.useEffect(()=>t.watch(n.editor),[n.editor,t]),v.useDebugValue(r),r}const Sce=!1,Uv=typeof window>"u",kce=Uv||!!(typeof window<"u"&&window.next);class Mce{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Uv||kce?null:this.createEditor();if(this.options.current.immediatelyRender&&Uv&&Sce)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...r)}};return new oce(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions(this.options.current):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Ece(n={},e=[]){const t=v.useRef(n);t.current=n;const[r]=v.useState(()=>new Mce(t)),i=ob.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return v.useDebugValue(i),v.useEffect(r.onRender(e)),Cce({editor:i,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),i}const Tce=v.createContext({editor:null});Tce.Consumer;const oL=v.createContext({onDragStart:void 0}),Ace=()=>v.useContext(oL),Oce=$.forwardRef((n,e)=>{const{onDragStart:t}=Ace(),r=n.as||"div";return $.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});function Lce(n){return!!(typeof n=="function"&&n.prototype&&n.prototype.isReactComponent)}function Rce(n){var e;return typeof n=="object"&&((e=n.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class Pce{constructor(e,{editor:t,props:r={},as:i="div",className:o=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),this.editor.isInitialized?ys.flushSync(()=>{this.render()}):this.render()}render(){var e;const t=this.component,r=this.props,i=this.editor;(Lce(t)||Rce(t))&&(r.ref=o=>{this.ref=o}),this.reactElement=$.createElement(t,r),(e=i==null?void 0:i.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t==null?void 0:t.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}}class Ice extends lce{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(c={})=>this.updateAttributes(c),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const c=f=>f.charAt(0).toUpperCase()+f.substring(1);this.component.displayName=c(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:c=>{c&&this.contentDOMElement&&c.firstChild!==this.contentDOMElement&&c.appendChild(this.contentDOMElement)}},o=this.component,s=$.memo(c=>$.createElement(oL.Provider,{value:i},$.createElement(o,c)));s.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:l=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new Pce(s,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${l}`.trim()}),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&t>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,r){const i=o=>{this.renderer.updateProps(o),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const o=this.node,s=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=r,this.options.update({oldNode:o,oldDecorations:s,newNode:e,newDecorations:t,oldInnerDecorations:a,innerDecorations:r,updateProps:()=>i({node:e,decorations:t,innerDecorations:r})})}return e===this.node&&this.decorations===t&&this.innerDecorations===r||(this.node=e,this.decorations=t,this.innerDecorations=r,i({node:e,decorations:t,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,r=qf(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function Dce(n,e){return t=>t.editor.contentComponent?new Ice(n,t,e):{}}const sL=ms`font-size: font-size: 28px;`,aL=ms`font-size: font-size: 36px;`,lL=ms`font-size: font-size: 22px;`,uL=ms`font-size: font-size: 14px;`,cL=ms`font-size: font-size: 12px;`,dL=ms`font-size: font-size: 12px;`,fL=ms`
    &:disabled {
        color: ${K.colors.gray400};
    }

    &:not(:disabled):hover {
        color: ${K.colors.gray800};
    }

    ${({$active:n})=>`
        color: ${n?K.colors.gray700:K.colors.gray600};
        background-color: ${n?K.newColors.simplyGold[40]:"transparent"};
    `}
`,xM=ms`
    outline: 3px solid #008DA8;
    outline-offset: 1px;
`,_ce=ce.div`
    font-family: ${K.fontFamily};

    ${({$disabled:n})=>n?`
        --border-color: ${K.colors.disableBorder};
        color: ${K.colors.disabledTextColor};
    `:`
        --border-color: ${K.newColors.simplyGrey[100]};
        color: ${K.newColors.almostBlack[100]};
    `}
`,$ce=ce(mce)`
    .tiptap {
        background-color: ${K.newColors.grey1[100]};
        border: 1px solid var(--border-color);
        border-top: 0;
        padding: 16px;
        overflow: auto;

        &:focus {
			border-color: ${K.newColors.almostBlack[100]};
            outline: none;
        }

        * {
            margin: 0;
            padding: 0;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        ul,
        ol,
        blockquote,
        pre,
        .script-tag,
        .tiptap-block {
            margin-bottom: 20px;
            line-height: 1.4;
        }

        h1,
        h2,
        h3 {
            line-height: 1.2;
        }

        h1 {
            ${sL}
            margin: 28px 0;
        }

        h2 {
            ${aL}
            margin: 24px 0;
        }

        h3 {
            ${lL}
        }

        h4 {
            ${uL}
        }

        h5 {
            ${cL}
        }

        h6 {
            ${dL}
        }

        :first-child{
            margin-top: 0;
        }

        :last-child{
            margin-bottom: 0;
        }

        .tiptap-flex {
            display: flex;
        }

        .tiptap-pill {
            background-color: ${K.colors.gray200};
            border-radius: 3px;
            border: 1px solid var(--border-color);
            color: ${K.colors.gray600};
            padding: 0;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 0 6px;

            svg {
                width: 16px;
            }
        }

        .ProseMirror-selectednode .tiptap-pill{
            ${xM}
        }

        ul,
        ol {
            padding-inline-start: 1.625em;

            > li {
                padding-left: 4px;

                &::marker {
                    color: ${K.colors.gray400};
                }
            }

            p,
            p:last-child {
                margin-bottom: 8px;
            }
        }

        a {
            color: ${K.colors.teal};
        }

        pre {
            background-color: ${K.colors.gray200};
            border-radius: 3px;
            border: 1px solid var(--border-color);
            font-size: 0.85rem;
            line-height: 1.4em;
            padding: 8px 12px;
        }

        blockquote {
            border-left: 3px solid var(--border-color);
            padding: 4px 16px;
        }

        hr {
            border: none;
            border-top: 1px solid var(--border-color);
            margin: 20px 0;
        }

        img {
            vertical-align: bottom;
            height: auto;
            max-width: 100%;

            &.ProseMirror-selectednode {
                ${xM}
            }
        }
    }
`,Nce=ce.div`
    ${({$disabled:n})=>`
        --border-color: ${n?K.colors.disableBorder:K.newColors.simplyGrey[100]};
    `}

    background: white;
    box-shadow: box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    border: 1px solid var(--border-color);
    padding: 4px 0;
`,Fce=ce.div`
    background: ${K.newColors.grey1[100]};
    border: 1px solid var(--border-color);
    border-bottom: 0;
    position: sticky;
    padding: 4px 0;
    top: -25px;
    z-index: 1;

    &::after {
        border-bottom: 1px solid var(--border-color);
        bottom: -1px;
        content: " ";
        left: 16px;
        right: 16px;
        position: absolute;
    }

    ${({$focus:n})=>n&&`
        border-color: ${K.newColors.almostBlack[100]};
    `}
`,Bce=ce.div`
    display: flex;
    flex-wrap: wrap;
`,jce=ce.div`
    display: flex;
    align-items: center;
    justify-content: center;
    padding-left: 8px;
    padding-right: 8px;
    position: relative;
    margin-left: 1px;
    gap: 2px;

    &::after {
        content: " ";
        position: absolute;
        border-right: 1px solid var(--border-color);
        top: 6px;
        bottom: 6px;
        right: -1px;
    }
`,pL=ce.button.attrs(n=>({...n,type:"button"}))`
    align-items: center;
    background: none;
    border-radius: 4px;
    border: 0;
    display: flex;
    height: 32px;
    justify-content: center;
    position: relative;

    &:not(:disabled) {
        cursor: pointer;
    }

    svg {
        height: 24px;
        width: 24px;
    }

    ${({$square:n})=>n&&`
        width: 32px;
    `}

    ${fL}
`,zce=ce(pL)`
    width: 90px;
`,Hce=ce(H3)`
    background: ${K.newColors.grey1[100]};
    border: 1px solid var(--border-color);
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 16px;
    margin: 0;
    min-height: 10rem;
    width: 100%;
    resize: vertical;

    &:focus {
        border-color: ${K.newColors.almostBlack[100]};
        outline: none;
    }
`,Wce=ce(tF)`
    font-family: ${K.fontFamily};
    padding: 10px;

    h1 {
        ${sL}
    }

    h2 {
        ${aL}
    }

    h3 {
        ${lL}
    }

    h4 {
        ${uL}
    }

    h5 {
        ${cL}
    }

    h6 {
        ${dL}
    }
`,sb=ce.button`
    background: none;
    border: 0;
    border-radius: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: start;
    gap: 12px;
    width: 100%;
    padding: 8px 12px;

    ${fL}



    h1, h2, h3, h4, h5, h6 {
        margin: 0;
    }
`,ab=ce.div`
    display: flex;
    align-items: center;
    text-align: left;
    gap: 4px;
`,lb=ce.div`
    background: ${K.colors.gray200};
    font-size: 12px;
    text-align: center;
    padding: 2px 4px;
    border-radius: 3px;
    margin-left: auto;
`,Uce=ce.div`
    background: white;
    border: 1px solid var(--border-color);
    border-bottom: 0;
    justify-content: end;
    align-items: center;
    display: flex;
    padding: 8px 8px 0 8px;
    align-self: end;
    gap: 4px;
    position: relative;
    z-index: 2;
`,Vce=ce.button.attrs(n=>({...n,type:"button"}))`
    border-radius: 0;
    border: 1px solid transparent;
    padding: 4px 8px;

    ${({$active:n,$focus:e})=>n?`
        background: ${K.newColors.grey1[100]};
        border-color: ${e?K.newColors.almostBlack[100]:K.colors.gray300};
        border-bottom-color: ${K.newColors.grey1[100]};
        padding-bottom: 5px;
        margin-bottom: -1px;
    `:`
        background: white;
        cursor: pointer;
    `}
`,Gce=ce(ca)`
    z-index: 5;
`,Kce=ce.div`
    border: 1px solid ${K.colors.gray300};
    background: white;
    width: 300px;
`,qce=ce(ar)`
    && {
        margin-left: auto;

        .adornment-icon {
            width: 24px;
            height: 24px;
        }
    }
`,Yce=ce.a.attrs(n=>({...n,target:"_blank"}))`
    font-family: ${K.fontFamily};
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 14px;
    color: ${K.colors.teal};
`;var ub={},Jce=ln;Object.defineProperty(ub,"__esModule",{value:!0});var cb=ub.default=void 0,Zce=Jce(un()),Xce=an();cb=ub.default=(0,Zce.default)((0,Xce.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");function Qce({url:n}){return x.jsxs(Yce,{href:n,target:"_blank",children:[x.jsx(cb,{})," ","Preview"]})}function hL({onRemove:n}){return x.jsxs(bB,{$spacing:"compact",children:[x.jsx(ar,{color:"yellow",variant:"contained",label:"Submit",type:"submit"}),n&&x.jsx(qce,{color:"red",variant:"text",label:"Remove",onClick:n})]})}function ede({editor:n,getFormValues:e,onClose:t,update:r}){const i=Yp(),{state:{data:{url:o}},handleSubmit:s}=i,a=s(v.useCallback(({data:{url:f,newTab:p,text:h}})=>{r({url:f,newTab:p,text:h})},[r])),l=v.useCallback(()=>{n.chain().focus().extendMarkRange("link").unsetLink().run(),t()},[n,t]),c=v.useMemo(()=>[{name:"url",label:"URL",type:"text",required:!0,validateOn:"onSubmit"},{name:"text",label:"Text",type:"text",required:!0,validateOn:"onSubmit"},{name:"open",type:()=>x.jsx(Qce,{url:o}),show:({data:f})=>!!f.url},{name:"newTab",label:"Open in new tab",type:"toggle"}],[o]);return x.jsx(fh,{...i,fields:c,spacing:"compact",autoFocus:!0,getFormValues:e,onSubmit:a,bottomSlot:x.jsx(hL,{onRemove:l})})}function tde({getFormValues:n,update:e}){const t=Yp(),{handleSubmit:r}=t,i=r(v.useCallback(({data:{alt:s,src:a}})=>{e({alt:s,src:a})},[e])),o=v.useMemo(()=>[{name:"src",label:"Source",type:"text",required:!0,validateOn:"onSubmit"},{name:"alt",label:"Alternative Text",type:"text",validateOn:"onSubmit"}],[]);return x.jsx(fh,{...t,fields:o,spacing:"compact",autoFocus:!0,getFormValues:n,onSubmit:i,bottomSlot:x.jsx(hL,{})})}const nde=[{name:"offset",options:{offset:[0,5]}}];function rde({editor:n,onClose:e,type:t,values:r,update:i,anchorEl:o,open:s}){const a=v.useCallback(async()=>r||{},[r]);return x.jsx(Gce,{anchorEl:o,open:s,modifiers:nde,children:x.jsx(qF,{onClickAway:e,children:x.jsx(Kce,{children:t==="link"?x.jsx(ede,{editor:n,getFormValues:a,onClose:e,update:i}):t==="image"?x.jsx(tde,{editor:n,getFormValues:a,onClose:e,update:i}):null})})})}function ch({shortcut:n}){const t=window.navigator.userAgent.toUpperCase().includes("MAC")?n.mac:n.pc;return x.jsx(x.Fragment,{children:t})}const gL=v.forwardRef(function({label:e,children:t,active:r,square:i,shortcut:o,disabled:s,...a},l){const{anchorProps:c,tooltipProps:f}=i0(),p=h=>{c.ref(h),l&&(typeof l=="function"?l(h):l.current=h)};return x.jsxs(x.Fragment,{children:[x.jsx(pL,{...a,...c,ref:p,$active:r,$square:i,disabled:s,children:t}),e&&x.jsxs(o0,{...f,children:[e," ",o&&x.jsxs(x.Fragment,{children:["(",x.jsx(ch,{shortcut:o}),")"]})]})]})});function Wl({editor:n,level:e,onClose:t,shortcut:r}){const i=()=>{n.chain().focus().toggleHeading({level:e}).run(),t&&t()};return x.jsxs(sb,{onClick:i,$active:n.isActive("heading",{level:e}),"data-testid":`${oo.TEXT_EDITOR_HEADING_CONTROL}-${e}`,children:[x.jsx(ab,{children:$.createElement(`h${e}`,null,`Heading ${e}`)}),r&&x.jsx(lb,{children:x.jsx(ch,{shortcut:r})})]})}function ide({editor:n,onClose:e,shortcut:t}){const r=()=>{n.chain().focus().setParagraph().run(),e&&e()};return x.jsxs(sb,{onClick:r,$active:n.isActive("paragraph"),children:[x.jsx(ab,{children:"Normal Text"}),t&&x.jsx(lb,{children:x.jsx(ch,{shortcut:t})})]})}function ode(n){return x.jsx(Wl,{level:1,...n})}function sde(n){return x.jsx(Wl,{level:2,...n})}function ade(n){return x.jsx(Wl,{level:3,...n})}function lde(n){return x.jsx(Wl,{level:4,...n})}function ude(n){return x.jsx(Wl,{level:5,...n})}function cde(n){return x.jsx(Wl,{level:6,...n})}function dde({name:n,Icon:e,label:t,shortcut:r,cmd:i,editor:o,onClose:s,inputSettings:a}){const l=c=>{i({editor:o,inputSettings:a,event:c}),s()};return x.jsx("li",{children:x.jsxs(sb,{onClick:l,$active:o.isActive(n),"data-testid":`${oo.TEXT_EDITOR_CONTROL}:${n}`,children:[x.jsxs(ab,{children:[e&&x.jsx(e,{}),t]}),r&&x.jsx(lb,{children:x.jsx(ch,{shortcut:r})})]})})}function wM({editor:n,controls:e,MenuButton:t,inputSettings:r,testId:i,disabled:o}){const[s,a]=v.useState(null),l=p=>{a(p.target)},c=()=>{a(null),n.chain().focus()},f=e.some(({name:p})=>n.isActive(p));return x.jsxs(x.Fragment,{children:[t?x.jsx(t,{onClick:l,editor:n,disabled:o}):x.jsx(gL,{onClick:l,square:!0,active:f,"data-testid":i,disabled:o,children:x.jsx(YF,{})}),x.jsx(Wce,{anchorEl:s,open:!!s,onClose:c,children:e.map((p,h)=>"Component"in p?v.createElement(p.Component,{...p,onClose:c,editor:n,key:h,inputSettings:r,"data-testid":`${oo.TEXT_EDITOR_CONTROL}:${p.name}`,disabled:o}):v.createElement(dde,{...p,onClose:c,editor:n,inputSettings:r,key:h}))})]})}function fde({disabled:n,editor:e,onClick:t}){const r={"Normal Text":e.isActive("paragraph"),"Heading 1":e.isActive("heading",{level:1}),"Heading 2":e.isActive("heading",{level:2}),"Heading 3":e.isActive("heading",{level:3}),"Heading 4":e.isActive("heading",{level:4}),"Heading 5":e.isActive("heading",{level:5}),"Heading 6":e.isActive("heading",{level:6})},i=Object.keys(r).reduce((o,s)=>r[s]?s:o,"");return x.jsx(zce,{onClick:t,disabled:n||!i,"data-testid":oo.TEXT_EDITOR_HEADING_MENU,children:i||"Normal Text"})}var db={},pde=ln;Object.defineProperty(db,"__esModule",{value:!0});var mL=db.default=void 0,hde=pde(un()),gde=an();mL=db.default=(0,hde.default)((0,gde.jsx)("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold");var fb={},mde=ln;Object.defineProperty(fb,"__esModule",{value:!0});var vL=fb.default=void 0,vde=mde(un()),yde=an();vL=fb.default=(0,vde.default)((0,yde.jsx)("path",{d:"M3.27 5 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5z"}),"FormatClear");var pb={},bde=ln;Object.defineProperty(pb,"__esModule",{value:!0});var yL=pb.default=void 0,xde=bde(un()),wde=an();yL=pb.default=(0,xde.default)((0,wde.jsx)("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"}),"FormatAlignLeft");var hb={},Cde=ln;Object.defineProperty(hb,"__esModule",{value:!0});var bL=hb.default=void 0,Sde=Cde(un()),kde=an();bL=hb.default=(0,Sde.default)((0,kde.jsx)("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"}),"FormatAlignCenter");var gb={},Mde=ln;Object.defineProperty(gb,"__esModule",{value:!0});var xL=gb.default=void 0,Ede=Mde(un()),Tde=an();xL=gb.default=(0,Ede.default)((0,Tde.jsx)("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"}),"FormatAlignRight");var mb={},Ade=ln;Object.defineProperty(mb,"__esModule",{value:!0});var wL=mb.default=void 0,Ode=Ade(un()),Lde=an();wL=mb.default=(0,Ode.default)((0,Lde.jsx)("path",{d:"M3 21h18v-2H3zm0-4h18v-2H3zm0-4h18v-2H3zm0-4h18V7H3zm0-6v2h18V3z"}),"FormatAlignJustify");var vb={},Rde=ln;Object.defineProperty(vb,"__esModule",{value:!0});var CL=vb.default=void 0,Pde=Rde(un()),Ide=an();CL=vb.default=(0,Pde.default)((0,Ide.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");var yb={},Dde=ln;Object.defineProperty(yb,"__esModule",{value:!0});var SL=yb.default=void 0,_de=Dde(un()),$de=an();SL=yb.default=(0,_de.default)((0,$de.jsx)("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic");var bb={},Nde=ln;Object.defineProperty(bb,"__esModule",{value:!0});var kL=bb.default=void 0,Fde=Nde(un()),Bde=an();kL=bb.default=(0,Fde.default)((0,Bde.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");var xb={},jde=ln;Object.defineProperty(xb,"__esModule",{value:!0});var ML=xb.default=void 0,zde=jde(un()),Hde=an();ML=xb.default=(0,zde.default)((0,Hde.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo");var wb={},Wde=ln;Object.defineProperty(wb,"__esModule",{value:!0});var EL=wb.default=void 0,Ude=Wde(un()),Vde=an();EL=wb.default=(0,Ude.default)((0,Vde.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"}),"Redo");var Cb={},Gde=ln;Object.defineProperty(Cb,"__esModule",{value:!0});var TL=Cb.default=void 0,Kde=Gde(un()),qde=an();TL=Cb.default=(0,Kde.default)((0,qde.jsx)("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"}),"FormatUnderlined");var Sb={},Yde=ln;Object.defineProperty(Sb,"__esModule",{value:!0});var AL=Sb.default=void 0,Jde=Yde(un()),Zde=an();AL=Sb.default=(0,Jde.default)((0,Zde.jsx)("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"}),"FormatStrikethrough");var kb={},Xde=ln;Object.defineProperty(kb,"__esModule",{value:!0});var OL=kb.default=void 0,Qde=Xde(un()),efe=an();OL=kb.default=(0,Qde.default)((0,efe.jsx)("path",{d:"M22 7h-2v1h3v1h-4V7c0-.55.45-1 1-1h2V5h-3V4h3c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M5.88 20h2.66l3.4-5.42h.12l3.4 5.42h2.66l-4.65-7.27L17.81 6h-2.68l-3.07 4.99h-.12L8.85 6H6.19l4.32 6.73z"}),"Superscript");var Mb={},tfe=ln;Object.defineProperty(Mb,"__esModule",{value:!0});var LL=Mb.default=void 0,nfe=tfe(un()),rfe=an();LL=Mb.default=(0,nfe.default)((0,rfe.jsx)("path",{d:"M22 18h-2v1h3v1h-4v-2c0-.55.45-1 1-1h2v-1h-3v-1h3c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M5.88 18h2.66l3.4-5.42h.12l3.4 5.42h2.66l-4.65-7.27L17.81 4h-2.68l-3.07 4.99h-.12L8.85 4H6.19l4.32 6.73z"}),"Subscript");var Eb={},ife=ln;Object.defineProperty(Eb,"__esModule",{value:!0});var RL=Eb.default=void 0,ofe=ife(un()),sfe=an();RL=Eb.default=(0,ofe.default)((0,sfe.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"}),"FormatListNumbered");var Tb={},afe=ln;Object.defineProperty(Tb,"__esModule",{value:!0});var PL=Tb.default=void 0,lfe=afe(un()),ufe=an();PL=Tb.default=(0,lfe.default)((0,ufe.jsx)("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),"FormatQuote");var Ab={},cfe=ln;Object.defineProperty(Ab,"__esModule",{value:!0});var Ob=Ab.default=void 0,dfe=cfe(un()),ffe=an();Ob=Ab.default=(0,dfe.default)((0,ffe.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code");const pfe={name:"normal-text",label:"Normal Text",Component:ide,shortcut:{mac:"Cmd+Alt+0",pc:"Ctrl+Alt+0"}},hfe={name:"heading-1",label:"Heading 1",Component:ode,shortcut:{mac:"Cmd+Alt+1",pc:"Ctrl+Alt+1"}},gfe={name:"heading-2",label:"Heading 2",Component:sde,shortcut:{mac:"Cmd+Alt+2",pc:"Ctrl+Alt+2"}},mfe={name:"heading-3",label:"Heading 3",Component:ade,shortcut:{mac:"Cmd+Alt+3",pc:"Ctrl+Alt+3"}},vfe={name:"heading-4",label:"Heading 4",Component:lde,shortcut:{mac:"Cmd+Alt+4",pc:"Ctrl+Alt+4"}},yfe={name:"heading-5",label:"Heading 5",Component:ude,shortcut:{mac:"Cmd+Alt+5",pc:"Ctrl+Alt+5"}},bfe={name:"heading-6",label:"Heading 6",Component:cde,shortcut:{mac:"Cmd+Alt+6",pc:"Ctrl+Alt+6"}},xfe={name:"headings",label:"Headings",MenuButton:fde,controls:[pfe,hfe,gfe,mfe,vfe,yfe,bfe]},IL={name:"bold",label:"Bold",cmd:({editor:n})=>n.chain().focus().toggleBold().run(),Icon:mL,shortcut:{mac:"Cmd+B",pc:"Ctrl+B"}},DL={name:"italic",label:"Italic",cmd:({editor:n})=>n.chain().focus().toggleItalic().run(),Icon:SL,shortcut:{mac:"Cmd+I",pc:"Ctrl+I"}},_L={name:"underline",label:"Underline",cmd:({editor:n})=>n.chain().focus().toggleUnderline().run(),Icon:TL,shortcut:{mac:"Cmd+U",pc:"Ctrl+U"}},$L={name:"strike",label:"Strikethrough",cmd:({editor:n})=>n.chain().focus().toggleStrike().run(),Icon:AL,shortcut:{mac:"Cmd+Shift+S",pc:"Ctrl+Shift+S"}},NL={name:"superscript",label:"Superscript",cmd:({editor:n})=>n.chain().focus().toggleSuperscript().run(),Icon:OL,shortcut:{mac:"Cmd+.",pc:"Ctrl+."}},FL={name:"subscript",label:"Subscript",cmd:({editor:n})=>n.chain().focus().toggleSubscript().run(),Icon:LL,shortcut:{mac:"Cmd+,",pc:"Ctrl+,"}},BL={name:"clear",label:"Clear Formatting",cmd:({editor:n})=>n.chain().focus().unsetAllMarks().run(),Icon:vL},wfe={name:"bulletList",label:"Bullet List",cmd:({editor:n})=>n.chain().focus().toggleBulletList().run(),Icon:AF,shortcut:{mac:"Cmd+Shift+8",pc:"Ctrl+Shift+8"}},Cfe={name:"orderedList",label:"Ordered List",cmd:({editor:n})=>n.chain().focus().toggleOrderedList().run(),Icon:RL,shortcut:{mac:"Cmd+Shift+7",pc:"Ctrl+Shift+7"}},Sfe={name:"alignLeft",label:"Align Left",cmd:({editor:n})=>n.chain().focus().setTextAlign("left").run(),Icon:yL,shortcut:{mac:"Cmd+Shift+L",pc:"Ctrl+Shift+L"}},kfe={name:"alignCenter",label:"Align Center",cmd:({editor:n})=>n.chain().focus().setTextAlign("center").run(),Icon:bL,shortcut:{mac:"Cmd+Shift+E",pc:"Ctrl+Shift+E"}},Mfe={name:"alignRight",label:"Align Right",cmd:({editor:n})=>n.chain().focus().setTextAlign("right").run(),Icon:xL,shortcut:{mac:"Cmd+Shift+R",pc:"Ctrl+Shift+R"}},Efe={name:"alignJustify",label:"Align Justify",cmd:({editor:n})=>n.chain().focus().setTextAlign("justify").run(),Icon:wL,shortcut:{mac:"Cmd+Shift+J",pc:"Ctrl+Shift+J"}},jL={name:"link",label:"Link",cmd:({editor:n,inputSettings:{onLink:e,allowedLinkProtocols:t=PA}})=>{var f;const{view:r}=n,{state:i,state:{selection:{from:o,to:s}}}=r,a=n.isActive("link")&&n.getAttributes("link"),l=a?(f=n.state.doc.nodeAt(o-1))==null?void 0:f.textContent:i.doc.textBetween(o,s),c={url:a.href,newTab:a.target==="_blank",text:l};e({...c,updateLink:({url:p,newTab:h,text:m})=>{const{state:{selection:{from:y,to:b}}}=n;n.isActive("link")?n.state.doc.nodesBetween(y-1,y,(w,S)=>{if(w.type.name==="text")return n.chain().focus().extendMarkRange("link").setLink({href:aS(p,t),target:h?"_blank":""}).insertContentAt({from:S,to:S+w.nodeSize-1},m).insertContentAt({from:S+m.length,to:S+m.length+1},"").extendMarkRange("link").run(),!1}):n.chain().insertContentAt({from:y,to:b},m).setTextSelection({from:y,to:y+m.length}).focus().extendMarkRange("link").setLink({href:aS(p,t),target:h?"_blank":""}).run()}})},Icon:kL},zL={name:"linkPreview",label:"Open URL in new tab",cmd:({editor:n})=>{const e=n.state.selection.$to.marks().find(({type:t})=>t.name==="link");!e||!e.attrs.href||window.open(e.attrs.href,"_blank")},Icon:cb},HL={name:"image",label:"Image",cmd:({editor:n,inputSettings:{onImage:e}})=>{const t=n.state.selection.node,r=(t==null?void 0:t.type.name)==="image"?t:void 0,i={src:(r==null?void 0:r.attrs.src)||"",alt:r==null?void 0:r.attrs.alt};e({...i,updateImage:o=>n.chain().focus().setImage(o).run()})},Icon:CL},Tfe={name:"codeBlock",label:"Code Block",cmd:({editor:n})=>n.chain().focus().toggleCodeBlock().run(),Icon:Ob,shortcut:{mac:"Cmd+Alt+C",pc:"Ctrl+Alt+C"}},Afe={name:"blockquote",label:"Quote",cmd:({editor:n})=>n.chain().focus().toggleBlockquote().run(),Icon:PL,shortcut:{mac:"Cmd+Shift+B",pc:"Ctrl+Shift+B"}},Ofe={name:"undo",label:"Undo",cmd:({editor:n})=>n.chain().focus().undo().run(),Icon:ML,shortcut:{mac:"Cmd+Z",pc:"Ctrl+Z"}},Lfe={name:"redo",label:"Redo",cmd:({editor:n})=>n.chain().focus().redo().run(),Icon:EL,shortcut:{mac:"Cmd+Y",pc:"Ctrl+Y"}},Rfe=[Sfe,kfe,Mfe,Efe,xfe,IL,DL,_L,$L,NL,FL,BL,wfe,Cfe,jL,zL,HL,Tfe,Afe,Ofe,Lfe];function Pfe(n){return!("MenuButton"in n)&&!Array.isArray(n)}function WL(n,e){if(typeof n=="string"){const t=Rfe.find(({name:r})=>r===n);if(t){const r=Yd(t.show,{selectionTypes:e});if(Jd(r))return t}}else if(Array.isArray(n)){const t=[];for(const r of n){const i=WL(r,e);if(i){if(!Pfe(i))throw new Error("Menu controls only allow standard controls as their children.");const o=Yd(i.show,{selectionTypes:e});Jd(o)&&t.push(i)}}if(t.length)return t}else{const t=Yd(n.show,{selectionTypes:e});if(Jd(t))return n}}function Ife(n,e){const t=[];for(const r of n){const i=[];for(const o of r){const s=WL(o,e);s&&i.push(s)}i.length&&t.push(i)}return t}const Dfe=[{label:"Visual",value:"visual"},{label:"Source",value:"code"}];function _fe({mode:n,onChange:e,focus:t}){return x.jsx(Uce,{children:Dfe.map(({value:r,label:i})=>x.jsx(Vce,{onClick:()=>e(r),$active:r===n,$focus:t,children:i},r))})}function UL({editor:n,controls:e,selectionTypes:t,inputSettings:r={},disabled:i}){const o=v.useMemo(()=>Ife(e,t),[e,t]);return x.jsx(Bce,{children:o.map((s,a)=>x.jsx(jce,{children:s.map((l,c)=>Array.isArray(l)?x.jsx(wM,{editor:n,controls:l,inputSettings:r,testId:`${oo.TEXT_EDITOR_CONTROL}:menu-${a}-${c}`,disabled:i},c):"MenuButton"in l?x.jsx(wM,{editor:n,controls:l.controls,MenuButton:l.MenuButton,inputSettings:r,disabled:i},c):"Component"in l?v.createElement(l.Component,{...l,key:c,editor:n,inputSettings:r,"data-testid":`${oo.TEXT_EDITOR_CONTROL}:${l.name}`,disabled:i}):x.jsx(gL,{onClick:f=>l.cmd({editor:n,inputSettings:r,event:f}),label:l.label,shortcut:l.shortcut,active:n.isActive(l.name),square:!0,"data-testid":`${oo.TEXT_EDITOR_CONTROL}:${l.name}`,disabled:i,children:x.jsx(l.Icon,{})},l.name))},a))})}function $fe(){return x.jsx(Oce,{className:"tiptap-flex",contentEditable:!1,children:x.jsxs("div",{className:"tiptap-pill",draggable:!0,"data-drag-handle":"",children:[x.jsx(Ob,{})," ","Script"]})})}function VL(n,e){const r=new DOMParser().parseFromString(n,"text/html");return gy(r.body,e),r.body.innerHTML}const ff=si.create({name:"script",group:"block",content:"inline*",code:!0,draggable:!0,parseHTML(){return[{tag:"script",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:n}){return["span",En({"data-type":this.name},this.options.HTMLAttributes,n),0]},addNodeView(){return Dce($fe,{className:"tiptap-block"})}});function Nfe(n){return n.includes(`<span data-type="${ff.name}">`)?VL(n,({elem:e})=>{if(!e||e.tagName.toLowerCase()!=="span"||e.getAttribute("data-type")!==ff.name)return;const t=e.outerHTML.replace(new RegExp(`^<span data-type="${ff.name}">`),"<script>").replace(/<\/span>$/,"<\/script>");e.outerHTML=t}):n}const Ffe=["embed","hr","img","input","link"];function GL(n){if(n.textContent.length)return!1;const e=Array.from(n.childNodes);if(!e.length)return!0;const t={content:0,totalElements:0,inlineElements:0,blockElements:0};for(const r of e){if(Pf(r)){if(Ffe.includes(r.tagName.toLowerCase())){t.content++;continue}if(!GL(r))return!1;t.totalElements++,Rf(r)?t.blockElements++:t.inlineElements++}IA(r)&&t.content++}return t.content?!1:t.totalElements===t.inlineElements?!0:!(t.totalElements>1&&t.blockElements)}const Bfe=[{name:"offset",options:{offset:[0,5]}}];function jfe({anchor:n,open:e,isBusy:t,...r}){return x.jsx(ca,{anchorEl:n,open:e,modifiers:Bfe,children:x.jsx(Nce,{onMouseEnter:()=>t.current=!0,onMouseDown:()=>t.current=!0,onMouseLeave:()=>t.current=!1,children:x.jsx(UL,{...r})})})}const zfe=/^\s*>\s$/,Hfe=si.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",En(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[cc({find:zfe,type:this.type})]}}),Wfe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Ufe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Vfe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Gfe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Kfe=ii.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",En(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Dl({find:Wfe,type:this.type}),Dl({find:Vfe,type:this.type})]},addPasteRules(){return[la({find:Ufe,type:this.type}),la({find:Gfe,type:this.type})]}}),Lb=si.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",En(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Zf=ii.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",En(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:e})=>{const t=tb(n,this.type);return Object.entries(t).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),CM=/^\s*([-+*])\s$/,qfe=si.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",En(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Lb.name,this.editor.getAttributes(Zf.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=cc({find:CM,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=cc({find:CM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Zf.name),editor:this.editor})),[n]}}),Yfe=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,Jfe=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,Zfe=ii.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",En(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Dl({find:Yfe,type:this.type})]},addPasteRules(){return[la({find:Jfe,type:this.type})]}}),Xfe=/^```([a-z]+)?[\s\n]$/,Qfe=/^~~~([a-z]+)?[\s\n]$/,epe=si.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(t)).map(s=>s.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",En(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:o}=t;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:c})=>(c.setSelection(At.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[Hv({find:Xfe,type:this.type,getAttributes:n=>({language:n[1]})}),Hv({find:Qfe,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new pr({key:new oi("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!t||!o)return!1;const{tr:s,schema:a}=n.state,l=a.text(t.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(wt.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),n.dispatch(s),!0}}})]}});function tpe(n={}){return new pr({view(e){return new npe(e,n)}})}class npe{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let f=c.getBoundingClientRect(),p=a?f.bottom:f.top;a&&l&&(p=(p+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:f.left,right:f.right,top:p-this.width/2,bottom:p+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!o){let s=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=L2(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const rpe=Ur.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[tpe(this.options)]}}),ipe=si.create({name:"doc",topNode:!0,content:"block+"}),ope=si.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",En(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:o}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:f})=>{if(f&&l&&s){const p=l.filter(h=>a.includes(h.type.name));c.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),spe=si.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,En(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Hv({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Xf=200,Xn=function(){};Xn.prototype.append=function(e){return e.length?(e=Xn.from(e),!this.length&&e||e.length<Xf&&this.leafAppend(e)||this.length<Xf&&e.leafPrepend(this)||this.appendInner(e)):this};Xn.prototype.prepend=function(e){return e.length?Xn.from(e).append(this):this};Xn.prototype.appendInner=function(e){return new ape(this,e)};Xn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Xn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Xn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Xn.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Xn.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},t,r),i};Xn.from=function(e){return e instanceof Xn?e:e&&e.length?new KL(e):Xn.empty};var KL=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Xf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Xf)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Xn);Xn.empty=new KL([]);var ape=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Xn);const lpe=500;class ji{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],f=[];return this.items.forEach((p,h)=>{if(!p.step){i||(i=this.remapping(r,h+1),o=i.maps.length),o--,f.push(p);return}if(i){f.push(new Qi(p.map));let m=p.step.map(i.slice(o)),y;m&&s.maybeStep(m).doc&&(y=s.mapping.maps[s.mapping.maps.length-1],c.push(new Qi(y,void 0,void 0,c.length+f.length))),o--,y&&i.appendMap(y,o)}else s.maybeStep(p.step);if(p.selection)return a=i?p.selection.map(i.slice(o)):p.selection,l=new ji(this.items.slice(0,r).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,t,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),h=new Qi(e.mapping.maps[f],p,t),m;(m=l&&l.merge(h))&&(h=m,f?o.pop():a=a.slice(0,a.length-1)),o.push(h),t&&(s++,t=void 0),i||(l=h)}let c=s-r.depth;return c>cpe&&(a=upe(a,c),s-=c),new ji(a.append(o),s)}remapping(e,t){let r=new A2;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,t),r}addMaps(e){return this.eventCount==0?this:new ji(this.items.append(e.map(t=>new Qi(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=t;this.items.forEach(h=>{let m=o.getMirror(--l);if(m==null)return;s=Math.min(s,m);let y=o.maps[m];if(h.step){let b=e.steps[m].invert(e.docs[m]),w=h.selection&&h.selection.map(o.slice(l+1,m));w&&a++,r.push(new Qi(y,b,w))}else r.push(new Qi(y))},i);let c=[];for(let h=t;h<s;h++)c.push(new Qi(o.maps[h]));let f=this.items.slice(0,i).append(c).append(r),p=new ji(f,a);return p.emptyItemCount()>lpe&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(t.slice(r)),c=l&&l.getMap();if(r--,c&&t.appendMap(c,r),l){let f=s.selection&&s.selection.map(t.slice(r));f&&o++;let p=new Qi(c.invert(),l,f),h,m=i.length-1;(h=i.length&&i[m].merge(p))?i[m]=h:i.push(p)}}else s.map&&r--},this.items.length,0),new ji(Xn.from(i.reverse()),o)}}ji.empty=new ji(Xn.empty,0);function upe(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class Qi{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Qi(t.getMap().invert(),t,this.selection)}}}class es{constructor(e,t,r,i,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const cpe=20;function dpe(n,e,t,r){let i=t.getMeta(ta),o;if(i)return i.historyState;t.getMeta(hpe)&&(n=new es(n.done,n.undone,null,0,-1));let s=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(s&&s.getMeta(ta))return s.getMeta(ta).redo?new es(n.done.addTransform(t,void 0,r,pf(e)),n.undone,SM(t.mapping.maps),n.prevTime,n.prevComposition):new es(n.done,n.undone.addTransform(t,void 0,r,pf(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!s&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!fpe(t,n.prevRanges)),c=s?Tm(n.prevRanges,t.mapping):SM(t.mapping.maps);return new es(n.done.addTransform(t,l?e.selection.getBookmark():void 0,r,pf(e)),ji.empty,c,t.time,a??n.prevComposition)}else return(o=t.getMeta("rebased"))?new es(n.done.rebased(t,o),n.undone.rebased(t,o),Tm(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new es(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Tm(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function fpe(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function SM(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,o,s)=>e.push(o,s));return e}function Tm(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function ppe(n,e,t){let r=pf(e),i=ta.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new es(t?a:o.remaining,t?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(ta,{redo:t,historyState:l})}let Am=!1,kM=null;function pf(n){let e=n.plugins;if(kM!=e){Am=!1,kM=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Am=!0;break}}return Am}const ta=new oi("history"),hpe=new oi("closeHistory");function gpe(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new pr({key:ta,state:{init(){return new es(ji.empty,ji.empty,null,0,-1)},apply(e,t,r){return dpe(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?YL:r=="historyRedo"?JL:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function qL(n,e){return(t,r)=>{let i=ta.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let o=ppe(i,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const YL=qL(!1,!0),JL=qL(!0,!0),mpe=Ur.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>YL(n,e),redo:()=>({state:n,dispatch:e})=>JL(n,e)}},addProseMirrorPlugins(){return[gpe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),vpe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,ype=si.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",En(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[sce({find:vpe,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),bpe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,xpe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,wpe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Cpe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Spe=ii.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",En(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Dl({find:bpe,type:this.type}),Dl({find:wpe,type:this.type})]},addPasteRules(){return[la({find:xpe,type:this.type}),la({find:Cpe,type:this.type})]}}),kpe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Mpe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",_l=(n,e)=>{for(const t in e)n[t]=e[t];return n},Vv="numeric",Gv="ascii",Kv="alpha",hf="asciinumeric",Vd="alphanumeric",qv="domain",ZL="emoji",Epe="scheme",Tpe="slashscheme",MM="whitespace";function Ape(n,e){return n in e||(e[n]=[]),e[n]}function qs(n,e,t){e[Vv]&&(e[hf]=!0,e[Vd]=!0),e[Gv]&&(e[hf]=!0,e[Kv]=!0),e[hf]&&(e[Vd]=!0),e[Kv]&&(e[Vd]=!0),e[Vd]&&(e[qv]=!0),e[ZL]&&(e[qv]=!0);for(const r in e){const i=Ape(r,t);i.indexOf(n)<0&&i.push(n)}}function Ope(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Hr(n){n===void 0&&(n=null),this.j={},this.jr=[],this.jd=null,this.t=n}Hr.groups={};Hr.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(n))return o}return e.jd},has(n,e){return e===void 0&&(e=!1),e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||Hr.groups;let i;return e&&e.j?i=e:(i=new Hr(e),t&&r&&qs(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const o=n.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(n[s]);return i.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||Hr.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const o=e;let s,a=i.go(n);if(a?(s=new Hr,_l(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Hr,o){if(r)if(s.t&&typeof s.t=="string"){const l=_l(Ope(s.t,r),t);qs(o,l,r)}else t&&qs(o,t,r);s.t=o}return i.j[n]=s,s}};const yt=(n,e,t,r,i)=>n.ta(e,t,r,i),bi=(n,e,t,r,i)=>n.tr(e,t,r,i),EM=(n,e,t,r,i)=>n.ts(e,t,r,i),je=(n,e,t,r,i)=>n.tt(e,t,r,i),Mo="WORD",Yv="UWORD",dc="LOCALHOST",Jv="TLD",Zv="UTLD",gf="SCHEME",hl="SLASH_SCHEME",Rb="NUM",XL="WS",Pb="NL",Ku="OPENBRACE",qu="CLOSEBRACE",Qf="OPENBRACKET",ep="CLOSEBRACKET",tp="OPENPAREN",np="CLOSEPAREN",rp="OPENANGLEBRACKET",ip="CLOSEANGLEBRACKET",op="FULLWIDTHLEFTPAREN",sp="FULLWIDTHRIGHTPAREN",ap="LEFTCORNERBRACKET",lp="RIGHTCORNERBRACKET",up="LEFTWHITECORNERBRACKET",cp="RIGHTWHITECORNERBRACKET",dp="FULLWIDTHLESSTHAN",fp="FULLWIDTHGREATERTHAN",pp="AMPERSAND",hp="APOSTROPHE",gp="ASTERISK",ts="AT",mp="BACKSLASH",vp="BACKTICK",yp="CARET",rs="COLON",Ib="COMMA",bp="DOLLAR",eo="DOT",xp="EQUALS",Db="EXCLAMATION",to="HYPHEN",wp="PERCENT",Cp="PIPE",Sp="PLUS",kp="POUND",Mp="QUERY",_b="QUOTE",$b="SEMI",no="SLASH",Yu="TILDE",Ep="UNDERSCORE",QL="EMOJI",Tp="SYM";var eR=Object.freeze({__proto__:null,WORD:Mo,UWORD:Yv,LOCALHOST:dc,TLD:Jv,UTLD:Zv,SCHEME:gf,SLASH_SCHEME:hl,NUM:Rb,WS:XL,NL:Pb,OPENBRACE:Ku,CLOSEBRACE:qu,OPENBRACKET:Qf,CLOSEBRACKET:ep,OPENPAREN:tp,CLOSEPAREN:np,OPENANGLEBRACKET:rp,CLOSEANGLEBRACKET:ip,FULLWIDTHLEFTPAREN:op,FULLWIDTHRIGHTPAREN:sp,LEFTCORNERBRACKET:ap,RIGHTCORNERBRACKET:lp,LEFTWHITECORNERBRACKET:up,RIGHTWHITECORNERBRACKET:cp,FULLWIDTHLESSTHAN:dp,FULLWIDTHGREATERTHAN:fp,AMPERSAND:pp,APOSTROPHE:hp,ASTERISK:gp,AT:ts,BACKSLASH:mp,BACKTICK:vp,CARET:yp,COLON:rs,COMMA:Ib,DOLLAR:bp,DOT:eo,EQUALS:xp,EXCLAMATION:Db,HYPHEN:to,PERCENT:wp,PIPE:Cp,PLUS:Sp,POUND:kp,QUERY:Mp,QUOTE:_b,SEMI:$b,SLASH:no,TILDE:Yu,UNDERSCORE:Ep,EMOJI:QL,SYM:Tp});const Va=/[a-z]/,Om=new RegExp("\\p{L}","u"),Lm=new RegExp("\\p{Emoji}","u"),Rm=/\d/,TM=/\s/,AM=`
`,Lpe="",Rpe="";let Gd=null,Kd=null;function Ppe(n){n===void 0&&(n=[]);const e={};Hr.groups=e;const t=new Hr;Gd==null&&(Gd=OM(kpe)),Kd==null&&(Kd=OM(Mpe)),je(t,"'",hp),je(t,"{",Ku),je(t,"}",qu),je(t,"[",Qf),je(t,"]",ep),je(t,"(",tp),je(t,")",np),je(t,"<",rp),je(t,">",ip),je(t,"",op),je(t,"",sp),je(t,"",ap),je(t,"",lp),je(t,"",up),je(t,"",cp),je(t,"",dp),je(t,"",fp),je(t,"&",pp),je(t,"*",gp),je(t,"@",ts),je(t,"`",vp),je(t,"^",yp),je(t,":",rs),je(t,",",Ib),je(t,"$",bp),je(t,".",eo),je(t,"=",xp),je(t,"!",Db),je(t,"-",to),je(t,"%",wp),je(t,"|",Cp),je(t,"+",Sp),je(t,"#",kp),je(t,"?",Mp),je(t,'"',_b),je(t,"/",no),je(t,";",$b),je(t,"~",Yu),je(t,"_",Ep),je(t,"\\",mp);const r=bi(t,Rm,Rb,{[Vv]:!0});bi(r,Rm,r);const i=bi(t,Va,Mo,{[Gv]:!0});bi(i,Va,i);const o=bi(t,Om,Yv,{[Kv]:!0});bi(o,Va),bi(o,Om,o);const s=bi(t,TM,XL,{[MM]:!0});je(t,AM,Pb,{[MM]:!0}),je(s,AM),bi(s,TM,s);const a=bi(t,Lm,QL,{[ZL]:!0});bi(a,Lm,a),je(a,Lpe,a);const l=je(a,Rpe);bi(l,Lm,a);const c=[[Va,i]],f=[[Va,null],[Om,o]];for(let p=0;p<Gd.length;p++)qo(t,Gd[p],Jv,Mo,c);for(let p=0;p<Kd.length;p++)qo(t,Kd[p],Zv,Yv,f);qs(Jv,{tld:!0,ascii:!0},e),qs(Zv,{utld:!0,alpha:!0},e),qo(t,"file",gf,Mo,c),qo(t,"mailto",gf,Mo,c),qo(t,"http",hl,Mo,c),qo(t,"https",hl,Mo,c),qo(t,"ftp",hl,Mo,c),qo(t,"ftps",hl,Mo,c),qs(gf,{scheme:!0,ascii:!0},e),qs(hl,{slashscheme:!0,ascii:!0},e),n=n.sort((p,h)=>p[0]>h[0]?1:-1);for(let p=0;p<n.length;p++){const h=n[p][0],y=n[p][1]?{[Epe]:!0}:{[Tpe]:!0};h.indexOf("-")>=0?y[qv]=!0:Va.test(h)?Rm.test(h)?y[hf]=!0:y[Gv]=!0:y[Vv]=!0,EM(t,h,h,y)}return EM(t,"localhost",dc,{ascii:!0}),t.jd=new Hr(Tp),{start:t,tokens:_l({groups:e},eR)}}function Ipe(n,e){const t=Dpe(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=t.length,i=[];let o=0,s=0;for(;s<r;){let a=n,l=null,c=0,f=null,p=-1,h=-1;for(;s<r&&(l=a.go(t[s]));)a=l,a.accepts()?(p=0,h=0,f=a):p>=0&&(p+=t[s].length,h++),c+=t[s].length,o+=t[s].length,s++;o-=p,s-=h,c-=p,i.push({t:f.t,v:e.slice(o-c,o),s:o-c,e:o})}return i}function Dpe(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),o,s=i<55296||i>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(s),r+=s.length}return e}function qo(n,e,t,r,i){let o;const s=e.length;for(let a=0;a<s-1;a++){const l=e[a];n.j[l]?o=n.j[l]:(o=new Hr(r),o.jr=i.slice(),n.j[l]=o),n=o}return o=new Hr(t),o.jr=i.slice(),n.j[e[s-1]]=o,o}function OM(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let o=0;for(;i.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let s=parseInt(n.substring(r,r+o),10);s>0;s--)t.pop();r+=o}else t.push(n[r]),r++}return e}const fc={defaultProtocol:"http",events:null,format:LM,formatHref:LM,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Nb(n,e){e===void 0&&(e=null);let t=_l({},fc);n&&(t=_l(t,n instanceof Nb?n.o:n));const r=t.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}Nb.prototype={o:fc,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:fc[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function LM(n){return n}function tR(n,e){this.t="token",this.v=n,this.tk=e}tR.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n){return n===void 0&&(n=fc.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),o=this.toFormattedString(n),s={},a=n.get("className",t,e),l=n.get("target",t,e),c=n.get("rel",t,e),f=n.getObj("attributes",t,e),p=n.getObj("events",t,e);return s.href=r,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),f&&_l(s,f),{tagName:i,attributes:s,content:o,eventListeners:p}}};function dh(n,e){class t extends tR{constructor(i,o){super(i,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const RM=dh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),PM=dh("text"),_pe=dh("nl"),qd=dh("url",{isLink:!0,toHref(n){return n===void 0&&(n=fc.defaultProtocol),this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==dc&&n[1].t===rs}}),xi=n=>new Hr(n);function $pe(n){let{groups:e}=n;const t=e.domain.concat([pp,gp,ts,mp,vp,yp,bp,xp,to,Rb,wp,Cp,Sp,kp,no,Tp,Yu,Ep]),r=[hp,rs,Ib,eo,Db,Mp,_b,$b,rp,ip,Ku,qu,ep,Qf,tp,np,op,sp,ap,lp,up,cp,dp,fp],i=[pp,hp,gp,mp,vp,yp,bp,xp,to,Ku,qu,wp,Cp,Sp,kp,Mp,no,Tp,Yu,Ep],o=xi(),s=je(o,Yu);yt(s,i,s),yt(s,e.domain,s);const a=xi(),l=xi(),c=xi();yt(o,e.domain,a),yt(o,e.scheme,l),yt(o,e.slashscheme,c),yt(a,i,s),yt(a,e.domain,a);const f=je(a,ts);je(s,ts,f),je(l,ts,f),je(c,ts,f);const p=je(s,eo);yt(p,i,s),yt(p,e.domain,s);const h=xi();yt(f,e.domain,h),yt(h,e.domain,h);const m=je(h,eo);yt(m,e.domain,h);const y=xi(RM);yt(m,e.tld,y),yt(m,e.utld,y),je(f,dc,y);const b=je(h,to);yt(b,e.domain,h),yt(y,e.domain,h),je(y,eo,m),je(y,to,b);const w=je(y,rs);yt(w,e.numeric,RM);const S=je(a,to),k=je(a,eo);yt(S,e.domain,a),yt(k,i,s),yt(k,e.domain,a);const T=xi(qd);yt(k,e.tld,T),yt(k,e.utld,T),yt(T,e.domain,a),yt(T,i,s),je(T,eo,k),je(T,to,S),je(T,ts,f);const R=je(T,rs),O=xi(qd);yt(R,e.numeric,O);const M=xi(qd),L=xi();yt(M,t,M),yt(M,r,L),yt(L,t,M),yt(L,r,L),je(T,no,M),je(O,no,M);const D=je(l,rs),j=je(c,rs),F=je(j,no),ie=je(F,no);yt(l,e.domain,a),je(l,eo,k),je(l,to,S),yt(c,e.domain,a),je(c,eo,k),je(c,to,S),yt(D,e.domain,M),je(D,no,M),yt(ie,e.domain,M),yt(ie,t,M),je(ie,no,M);const W=[[Ku,qu],[Qf,ep],[tp,np],[rp,ip],[op,sp],[ap,lp],[up,cp],[dp,fp]];for(let ne=0;ne<W.length;ne++){const[z,X]=W[ne],Z=je(M,z);je(L,z,Z),je(Z,X,M);const H=xi(qd);yt(Z,t,H);const he=xi();yt(Z,r),yt(H,t,H),yt(H,r,he),yt(he,t,H),yt(he,r,he),je(H,X,M),je(he,X,M)}return je(o,dc,T),je(o,Pb,_pe),{start:o,tokens:eR}}function Npe(n,e,t){let r=t.length,i=0,o=[],s=[];for(;i<r;){let a=n,l=null,c=null,f=0,p=null,h=-1;for(;i<r&&!(l=a.go(t[i].t));)s.push(t[i++]);for(;i<r&&(c=l||a.go(t[i].t));)l=null,a=c,a.accepts()?(h=0,p=a):h>=0&&h++,i++,f++;if(h<0)i-=f,i<r&&(s.push(t[i]),i++);else{s.length>0&&(o.push(Pm(PM,e,s)),s=[]),i-=h,f-=h;const m=p.t,y=t.slice(i-f,i);o.push(Pm(m,e,y))}}return s.length>0&&o.push(Pm(PM,e,s)),o}function Pm(n,e,t){const r=t[0].s,i=t[t.length-1].e,o=e.slice(r,i);return new n(o,t)}const Fpe=typeof console<"u"&&console&&console.warn||(()=>{}),Bpe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",bn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function jpe(){Hr.groups={},bn.scanner=null,bn.parser=null,bn.tokenQueue=[],bn.pluginQueue=[],bn.customSchemes=[],bn.initialized=!1}function IM(n,e){if(e===void 0&&(e=!1),bn.initialized&&Fpe(`linkifyjs: already initialized - will not register custom scheme "${n}" ${Bpe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);bn.customSchemes.push([n,e])}function zpe(){bn.scanner=Ppe(bn.customSchemes);for(let n=0;n<bn.tokenQueue.length;n++)bn.tokenQueue[n][1]({scanner:bn.scanner});bn.parser=$pe(bn.scanner.tokens);for(let n=0;n<bn.pluginQueue.length;n++)bn.pluginQueue[n][1]({scanner:bn.scanner,parser:bn.parser});bn.initialized=!0}function nR(n){return bn.initialized||zpe(),Npe(bn.parser.start,n,Ipe(bn.scanner.start,n))}function rR(n,e,t){if(e===void 0&&(e=null),t===void 0&&(t=null),e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new Nb(t),i=nR(n),o=[];for(let s=0;s<i.length;s++){const a=i[s];a.isLink&&(!e||a.t===e)&&r.check(a)&&o.push(a.toFormattedObject(r))}return o}function Hpe(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function Wpe(n){return new pr({key:new oi("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(c=>c.docChanged)&&!t.doc.eq(r.doc),o=e.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,a=yue(t.doc,[...e]);if(Tue(a).forEach(({newRange:c})=>{const f=xue(r.doc,c,m=>m.isTextblock);let p,h;if(f.length>1?(p=f[0],h=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ")):f.length&&r.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(p=f[0],h=r.doc.textBetween(p.pos,c.to,void 0," ")),p&&h){const m=h.split(" ").filter(S=>S!=="");if(m.length<=0)return!1;const y=m[m.length-1],b=p.pos+h.lastIndexOf(y);if(!y)return!1;const w=nR(y).map(S=>S.toObject(n.defaultProtocol));if(!Hpe(w))return!1;w.filter(S=>S.isLink).map(S=>({...S,from:b+S.start+1,to:b+S.end+1})).filter(S=>r.schema.marks.code?!r.doc.rangeHasMark(S.from,S.to,r.schema.marks.code):!0).filter(S=>n.validate(S.value)).forEach(S=>{rb(S.from,S.to,r.doc).some(k=>k.mark.type===n.type)||s.addMark(S.from,S.to,n.type.create({href:S.href}))})}}),!!s.steps.length)return s}})}function Upe(n){return new pr({key:new oi("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let s=r.target;const a=[];for(;s.nodeName!=="DIV";)a.push(s),s=s.parentNode;if(!a.find(h=>h.nodeName==="A"))return!1;const l=nL(e.state,n.type.name),c=r.target,f=(i=c==null?void 0:c.href)!==null&&i!==void 0?i:l.href,p=(o=c==null?void 0:c.target)!==null&&o!==void 0?o:l.target;return c&&f?(window.open(f,p),!0):!1}}})}function Vpe(n){return new pr({key:new oi("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:o}=i,{empty:s}=o;if(s)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=rR(a,{defaultProtocol:n.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:(n.editor.commands.setMark(n.type,{href:l.href}),!0)}}})}const Gpe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function DM(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(Gpe,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Kpe=ii.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(n=>{if(typeof n=="string"){IM(n);return}IM(n.scheme,n.optionalSlashes)})},onDestroy(){jpe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!DM(e,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:n}){return DM(n.href,this.options.protocols)?["a",En(this.options.HTMLAttributes,n),0]:["a",En(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>e().setMark(this.name,n).setMeta("preventAutolink",!0).run(),toggleLink:n=>({chain:e})=>e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[la({find:n=>{const e=[];if(n){const{validate:t}=this.options,r=rR(n).filter(i=>i.isLink&&t(i.value));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[];return this.options.autolink&&n.push(Wpe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&n.push(Upe({type:this.type})),this.options.linkOnPaste&&n.push(Vpe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),_M=/^(\d+)\.\s$/,qpe=si.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",En(this.options.HTMLAttributes,t),0]:["ol",En(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Lb.name,this.editor.getAttributes(Zf.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=cc({find:_M,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=cc({find:_M,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Zf.name)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),Ype=si.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",En(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Jpe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Zpe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Xpe=ii.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",En(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Dl({find:Jpe,type:this.type})]},addPasteRules(){return[la({find:Zpe,type:this.type})]}}),Qpe=ii.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(n){return n!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sub",En(this.options.HTMLAttributes,n),0]},addCommands(){return{setSubscript:()=>({commands:n})=>n.setMark(this.name),toggleSubscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSubscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),ehe=ii.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(n){return n!=="super"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sup",En(this.options.HTMLAttributes,n),0]},addCommands(){return{setSuperscript:()=>({commands:n})=>n.setMark(this.name),toggleSuperscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSuperscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),the=si.create({name:"text",group:"inline"}),nhe=Ur.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${n.textAlign}`}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),rhe=ii.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",En(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),ihe=["abbr","accept","accept-charset","accesskey","align","alink","allow","allowfullscreen","allowpaymentrequest","alt","anchor","archive","as","async","attributionsrc","autocapitalize","autocomplete","autocorrect","autofocus","autoplay","axis","background","behavior","bgcolor","blocking","border","bottommargin","browsingtopics","capture","cellpadding","cellspacing","char","charoff","charset","checked","cite","class","classid","clear","codebase","codetype","color","cols","colspan","compact","content","contenteditable","controls","controlslist","coords","credentialless","crossorigin","csp","data","data-*","datetime","declare","decoding","default","defer","dir","direction","dirname","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","elementtiming","enterkeyhint","exportparts","face","fetchpriority","for","form","formaction","formenctype","formmethod","formnovalidate","formtarget","frame","frameborder","headers","height","hidden","high","href","hreflang","hspace","http-equiv","id","imagesizes","imagesrcset","inert","inputmode","integrity","is","ismap","itemid","itemprop","itemref","itemscope","itemtype","kind","label","lang","language","leftmargin","link","list","loading","longdesc","loop","low","marginheight","marginwidth","max","maxlength","media","min","minlength","moz-opaque","multiple","muted","name","nomodule","nonce","noresize","noshade","onafterprint","onbeforeprint","onbeforeunload","onblur","onerror","onfocus","onhashchange","onlanguagechange","onload","onmessage","onoffline","ononline","onpopstate","onresize","onstorage","onunload","open","optimum","part","pattern","ping","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","profile","readonly","referrerpolicy","rel","required","rev","reversed","rightmargin","rows","rowspan","rules","sandbox","scope","scrollamount","scrolldelay","scrolling","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootmode","shadowrootserializable","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","standby","start","step","style","summary","tabindex","target","text","title","topmargin","translate","truespeed","type","usemap","valign","value","valuetype","version","virtualkeyboardpolicy","vlink","vspace","width","wrap","writingsuggestions","xmlns"],iR={};for(const n of ihe)iR[n]={default:void 0};const ohe=si.create({name:"wildCardContent",group:"block",content:"block*",inline:!1,atom:!1,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"*",getAttrs:n=>{const e={};for(const t of Array.from(n.attributes))e[t.name]=t.value;return{tagName:n.tagName.toLowerCase(),...e}}}]},renderHTML({node:n}){const{tagName:e,...t}=n.attrs;return[e,t,0]},addAttributes(){return{tagName:{default:"div"},...iR,...this.options.HTMLAttributes}}}),she=({autolink:n}={})=>[rpe,ipe,Ype,the,Kfe,Hfe,Zfe,epe,ype.configure({inline:!0}),Spe,rhe,Xpe,ehe,Qpe,Kpe.configure({openOnClick:!1,autolink:n}),spe.configure({levels:[1,2,3,4,5,6]}),qpe,qfe,Lb,ope,mpe,ff,nhe.configure({types:["heading","paragraph"]}),ohe];function ahe(n,{space:e="&nbsp;",lt:t="&lt;",gt:r="&gt;"}={}){return VL(n,({index:i,parent:o,siblings:s,text:a})=>{const l=o.tagName.toLowerCase();if(!(l==="script"||l==="style")&&a&&DA(a,s[i-1],s[i+1])){const c=a.textContent.replace(/\s(?:\s+)/g,p=>` ${e.repeat(p.length-1)}`).replace(/</g,t).replace(/>/g,r),f=document.createRange().createContextualFragment(c);a.replaceWith(f)}})}const lhe=[["headings"],["bold","italic",["underline","strike","superscript","subscript","clear"]],["bulletList","orderedList"],["alignLeft","alignCenter",["alignRight","alignJustify"]],["link",["image","codeBlock","blockquote"]],["undo","redo"]],$s=({selectionTypes:n=[]})=>n.includes("formatting"),uhe=[[{...IL,show:$s},{...DL,show:$s},[{..._L,show:$s},{...$L,show:$s},{...NL,show:$s},{...FL,show:$s},{...BL,show:$s}]],[{...jL,show:({selectionTypes:n=[]})=>!n.includes("image")},{...zL,show:({selectionTypes:n=[]})=>!n.includes("image")&&n.includes("link")}],[{...HL,show:({selectionTypes:n=[]})=>n.includes("image")}]];function Im({view:n,state:{selection:{from:e,to:t}}}){return{getBoundingClientRect:()=>Oue(n,e,t)}}function che({value:n="",onChange:e,onBlur:t,fieldDef:{inputSettings:r={}},disabled:i,skeleton:o}){const{extensions:s,controls:a=lhe,autolink:l=!0}=r,[c,f]=v.useState("visual"),[p,h]=v.useState(!1),m=v.useRef(!1),[y,b]=v.useState({open:!1,selectionTypes:[]}),[w,S]=v.useState(null),k=W=>{m.current=!1,S(W)},T=v.useMemo(()=>s||she({autolink:l}),[l,s]),R=v.useRef(!1),O=v.useRef(n),M=v.useCallback(({editor:W})=>{b(ne=>{const{view:z}=W,{state:{selection:{from:X,to:Z}}}=z,H=[],he=W.isActive("link"),_e=W.isActive("image");return he&&H.push("link"),_e?H.push("image"):X!==Z&&H.push("formatting"),H.length>0?{open:!0,anchor:Im(W),selectionTypes:ty(ne.selectionTypes,H).length?H:ne.selectionTypes}:ne.open?{open:!1,selectionTypes:[]}:ne})},[]),L=()=>h(!0),D=()=>{t&&t(),h(!1)},j=Ece({content:String(n),extensions:T,onUpdate:({editor:W})=>{R.current=!0;const ne=GL(W.view.dom)?"":ahe(Nfe(W.getHTML()));O.current=ne,e(ne)},onSelectionUpdate:M,editorProps:{attributes:{"data-testid":oo.TEXT_EDITOR_CANVAS}},editable:!i},[i,T]),F=v.useMemo(()=>({...r,onLink:r.onLink||(({updateLink:W,...ne})=>k({open:!0,type:"link",values:ne,anchorEl:Im(j),update:(...z)=>{k(null),W(...z)}})),onImage:r.onImage||(({updateImage:W,...ne})=>k({open:!0,type:"image",values:ne,anchorEl:Im(j),update:(...z)=>{k(null),W(...z)}}))}),[j,r]);v.useEffect(()=>{if(R.current){R.current=!1;return}if(!(!j||R.current))try{const W=String(n);j.commands.setContent(W,!1),O.current=W}catch(W){j.commands.setContent(O.current,!1),console.warn("Could not set rich text content for given value",{error:W,value:n})}},[j,n]);const ie=()=>{k(W=>({...W,open:!1})),j.chain().focus()};return o?x.jsx(kt,{variant:"rectangular",width:"100%",height:130}):x.jsxs(_ce,{$disabled:i,children:[x.jsx(_fe,{mode:c,onChange:f,focus:p}),c==="visual"&&x.jsx(Fce,{$focus:p,"data-testid":oo.TEXT_EDITOR_PRIMARY_TOOLBAR,children:x.jsx(UL,{editor:j,controls:a,inputSettings:F,disabled:i})}),c==="code"?x.jsx(Hce,{value:n,onChange:({target:{value:W}})=>e(W),onFocus:L,onBlur:D,disabled:i}):x.jsx($ce,{editor:j,onFocus:L,onBlur:D,disabled:i}),w&&x.jsx(rde,{...w,editor:j,onClose:ie}),(p||m.current)&&(!w||!w.open)&&x.jsx(jfe,{...y,editor:j,controls:uhe,inputSettings:F,isBusy:m})]})}const dhe=v.memo(che),oR=/[\\^$.*+?()[\]{}|]/g,fhe=RegExp(oR.source);function phe(n){return!n||!fhe.test(n)?n:n.replace(oR,"\\$&")}const hhe=n=>{var m,y,b;const{value:e,fieldDef:t,onChange:r,handleClose:i}=n;let o,s;t.inputSettings&&"getOptions"in t.inputSettings&&(o=t.inputSettings),t.inputSettings&&"options"in t.inputSettings&&(s=t.inputSettings);const[a,l]=v.useState((e==null?void 0:e.length)>0?e:[]),c=v.useCallback(async()=>{await r(a),i(!0)},[a]),f=[{label:"Cancel",onClick:()=>i(),color:"gray",variant:"outlined"},{label:"Save",onClick:c,color:"yellow",variant:"contained"}],p=({keyword:w})=>{let S=(s==null?void 0:s.options)||[];const k=new RegExp(phe(w),"i");return w!==void 0&&s.options!==void 0&&(S=s==null?void 0:s.options.filter(T=>k.exec(T.label))),{docs:S,hasMore:!1}},h=(((m=t==null?void 0:t.inputSettings)==null?void 0:m.selectLimit)||0)>0?(y=t==null?void 0:t.inputSettings)==null?void 0:y.selectLimit:-1;return x.jsxs(h0,{className:"advancedSelection",children:[x.jsx(JF,{title:t==null?void 0:t.label,buttons:f,onBack:i,backLabel:"Cancel advanced selection"}),x.jsx(U3,{comparison:"",selected:e,getOptions:(o==null?void 0:o.getOptions)!==void 0?o.getOptions:p,isOpen:!0,onApply:c,placeholder:"Search...",limit:o==null?void 0:o.getOptionsLimit,selectLimit:h,onChange:w=>l(w),hideButtons:!0,createNewOption:(b=t.inputSettings)==null?void 0:b.createNewOption})]})},ghe=v.memo(hhe);var Fb={},mhe=ln;Object.defineProperty(Fb,"__esModule",{value:!0});var sR=Fb.default=void 0,vhe=mhe(un()),yhe=an();sR=Fb.default=(0,vhe.default)((0,yhe.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");const bhe=ce.div`
  display: flex;
  flex-wrap: wrap;
  row-gap: 12px;
  width: ${({$isMobileView:n})=>n?"":"620px"};

  & > :not(:last-child) {
    margin-right: 12px;
  }

  & > * {
    margin-top: 8px;
  }
`,$M=ce.span`
  color: ${K.newColors.grey3[100]};
  cursor: pointer;
  display: flex;
  font-family: ${K.fontFamily};
  width: fit-content;
  font-weight: ${K.fontWeight.bold};
  font-size: 16px;
  margin-top: 16px;
`,xhe=ce(l0)`
  color: ${K.newColors.grey3[100]};
  margin-left: 14px;
`,whe=ce(sR)`
  color: ${K.newColors.grey3[100]};
  margin-left: 14px;
`,Che=ce.div`
  max-width: 600px;
`,She=ce.div`
  display: flex;
  gap: 16px;

  & .MuiSkeleton-root {
    border-radius: 99999em;
  }
`,Dm=8,aR=v.forwardRef((n,e)=>{var l;const{fieldDef:t,value:r}=n,[i,o]=v.useState(!1),s=c=>{var p;const f=r.filter(h=>h.value!==c);(p=t==null?void 0:t.inputSettings)==null||p.deleteSelectedOption(f)},a=()=>{o(!i)};return(r==null?void 0:r.length)>0&&x.jsxs("div",{ref:e,children:[x.jsx(bhe,{$isMobileView:(l=t==null?void 0:t.inputSettings)==null?void 0:l.isMobileView,"data-testid":"as-chiplist",children:i?r==null?void 0:r.map((c,f)=>x.jsx(Fm,{disabled:t==null?void 0:t.disabled,label:c==null?void 0:c.label,onDelete:()=>s(c==null?void 0:c.value)},`${c==null?void 0:c.label}-${f}`)):r==null?void 0:r.slice(0,Dm).map((c,f)=>x.jsx(Fm,{disabled:t==null?void 0:t.disabled,label:c==null?void 0:c.label,onDelete:()=>s(c==null?void 0:c.value)},`${c==null?void 0:c.label}-${f}`))}),r.length>Dm&&x.jsx("div",{onClick:a,children:i?x.jsxs($M,{children:["Hide"," ",x.jsx(whe,{})]}):x.jsxs($M,{children:[`${r.length-Dm} more`,x.jsx(xhe,{})]})})]})});aR.displayName="ChipList";const khe=v.memo(aR);function Mhe(){return x.jsxs("div",{children:[x.jsx(kt,{variant:"rectangular",width:143,height:36,sx:{marginBottom:2}}),x.jsxs(She,{children:[x.jsx(kt,{variant:"rounded",width:186,height:32}),x.jsx(kt,{variant:"rounded",width:78,height:32})]})]})}const Ehe=n=>{var b,w;const{value:e,onBlur:t,onChange:r,disabled:i,fieldDef:o,skeleton:s}=n,[a,l]=v.useState(!1),[c,f]=v.useState(!1),p=(((b=o==null?void 0:o.inputSettings)==null?void 0:b.selectLimit)||0)>0?(w=o==null?void 0:o.inputSettings)==null?void 0:w.selectLimit:-1;v.useEffect(()=>{const S=()=>{f(window.innerWidth<f3.mobile)};return S(),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[]);const h=()=>{l(!0)},m=async(S=!1)=>{typeof S=="boolean"&&S?(l(!1),t&&await t()):(l(!1),t&&await t())},y=v.useCallback(async S=>{await r(S),await t()},[r]);return s?x.jsx(Mhe,{}):x.jsxs(x.Fragment,{children:[(e==null?void 0:e.length)>0?x.jsxs(Che,{children:[(p<0||(e==null?void 0:e.length)<p)&&x.jsx(ar,{color:"teal",variant:"text",label:"Add",onClick:h,mIcon:V3,attrs:{style:{marginBottom:"16px"}},disabled:i}),x.jsx(khe,{value:e,fieldDef:{inputSettings:{isMobileView:c,deleteSelectedOption:y},disabled:i}})]}):x.jsx(ar,{color:"gray",variant:"outlined",label:"ADD",onClick:h,disabled:i}),x.jsx(d0,{open:a,onClose:m,backdropCloseHandler:!1,children:x.jsx(ghe,{value:e??[],fieldDef:o,onChange:r,isModalOpen:a,isMobileView:c,handleClose:m})})]})},The=v.memo(Ehe),Ahe=ce.div`
  color: ${K.newColors.grey3[100]};
  font-family: ${K.fontFamily};
  font-size: 14px;
  margin-top: 4px;

  @media (max-width: ${K.breakpoints.mobile}) {
    width: calc(100vw - 40px);
  };
`,Ohe=ce.div`
  border: 2px solid ${K.newColors.grey2[100]};
  border-radius: 4px;
  font-family: ${K.fontFamily};
  min-height: 204px;
  padding: 16px;
  padding-bottom: 16px;
  position: relative;
  width: 450px;
  max-width: 100%;
  background-color: white;
`,Lhe=ce.div`
  display: flex;
  justify-content: end;

  button:first-child {
    padding-right: 16px;
  }

  button:last-child {
    padding-left: 16px;
  }
`,Rhe=ce.div`
  display: flex;
  flex-wrap: wrap;
`,Phe=ce.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 16px;
`,Ihe=ce.div`
  margin-right: 16px;
  margin-bottom: 16px;
  height: fit-content;
  border: 2px solid ${K.newColors.grey2[100]};

  img {
    display: block;
    width: 230px;
    max-width: 100%;
  }
`,NM=ce.span`
  color: ${K.newColors.grey3[100]};
  font-size: 14px;
  font-weight: ${K.fontWeight.semiBold};
  margin-bottom: 8px;
`,lR=ce.span`
  color: ${K.newColors.almostBlack[100]};
  font-size: 14px;
  font-weight: ${K.fontWeight.normal};
`,Dhe=ce(lR)`
  margin-bottom: 12px;
`,_he=ce.div`
  @media (max-width: ${K.breakpoints.mobile}) {
    width: calc(100vw - 40px);
  };
`,$he=ce.div`
  display: flex;
  flex-grow: 1;
  align-items: end;
`,Nhe=({value:n,initialCenter:e,onDragMarkerEnd:t,zoom:r=7,focusZoom:i=11,shouldPanRef:o})=>{const s=UA(),a=v.useRef(null);if(v.useEffect(()=>{(async()=>{const l=Al(n)?n:void 0,c=await zre(s),{lat:f,lng:p}=l?n:Al(e)?e:Oy,h=new google.maps.LatLng(f,p),m=l&&s.getZoom()<i;c&&h&&(!a.current||!a.current.equals(h))&&(a.current=h,c.getCenter().equals(h)||(c.contains(h)?o.current||!l||m?s.panTo(h):o.current=!0:s.setCenter(h))),l?s.getZoom()<i&&s.setZoom(i):s.setZoom(r)})()},[r,s,n,o.current]),!(!n||n.lat===void 0||n.lng===void 0))return x.jsx(Vne,{draggable:!0,position:n,onDragEnd:t})},Fhe={display:"flex",height:"400px"},Bhe={disableDefaultUI:!0,zoomControl:!0,draggableCursor:"crosshair"},jhe=n=>{const{initialCenter:e,value:t,zoom:r=0,focusZoom:i=11,onCoordinatesChange:o,googleMapsApiKey:s,onBlur:a}=n,[l,c]=v.useState(""),f=Al(e)?e:Oy,p=async S=>{c(S);try{const k=await ky(S),T=await HA(k[0]);o(T)}catch(k){console.error("Could not change coordinates: ",{error:k,value:S})}},h=()=>{c("")},m=v.useRef(!0),y=({latLng:S})=>{m.current=!1;const k=S.lat(),T=S.lng();o({lat:k,lng:T})};v.useEffect(()=>{(t===void 0||t.lat===void 0&&t.lng===void 0)&&h()},[t]);const{isLoaded:b,loadError:w}=Ey({googleMapsApiKey:s,libraries:n2});return x.jsxs(_he,{children:[x.jsx(r2,{className:"mapCoordinates",value:l,onChange:c,onBlur:a,onSelect:p,placeholder:"Type a location, address or city",googleMapsApiKey:s,textField:{InputProps:{endAdornment:x.jsx(Ju,{position:"end",children:x.jsx(Ure,{"data-testid":"location-search-clear-icon",onClick:h})})}}}),b&&!w&&x.jsx(Nne,{mapContainerStyle:Fhe,center:f,zoom:t?i:r,onClick:y,options:Bhe,children:x.jsx(Nhe,{value:t,initialCenter:e,onDragMarkerEnd:y,zoom:r,focusZoom:i,shouldPanRef:m})})]})},zhe=v.memo(jhe);function Hhe({zoom:n,focusZoom:e,initialCenter:t,onCoordinatesChange:r,value:i,googleMapsApiKey:o,onBlur:s}){return x.jsxs("div",{children:[x.jsx(zhe,{initialCenter:t,value:i,zoom:n,focusZoom:e,onCoordinatesChange:r,googleMapsApiKey:o,onBlur:s}),x.jsx(Ahe,{children:"Click on the map to update the latitude and longitude coordinates"})]})}function Whe({show:n,onClick:e}){return n&&x.jsx($he,{children:x.jsx(ar,{className:"reset-button",color:"teal",variant:"text",label:"Reset",onClick:e,size:"large"})})}const Uhe=[{fields:[[["placesList"]],[["lat"],["lng"],["resetButton"]]]}],Vhe=n=>{var D,j;const{value:e,fieldDef:t,onChange:r,handleClose:i,dialogOpen:o,handleDialogClose:s,handleUnsavedChanges:a,initialCenter:l=Oy,googleMapsApiKey:c}=n,f=v.useCallback(async()=>{const F=e?e.lat:void 0,ie=e?e.lng:void 0;return{lat:F,lng:ie,placesList:{lat:F,lng:ie}}},[e]),p=Yp(),{state:h,methods:{setFieldValue:m,setFormValues:y},handleSubmit:b}=p,w=v.useMemo(()=>Al(e)?e:void 0,[e]),S=v.useMemo(()=>{const F={lat:Number(h.data.lat),lng:Number(h.data.lng)};return Al(F)?F:void 0},[h.data.lat,h.data.lng]);v.useEffect(()=>{if(!h.data.lat)return;const F=String(h.data.lat),ie=F.split(",");ie.length!==2||!Hre(F)||y({values:{lat:ie[0].trim(),lng:ie[1].trim()}})},[h.data.lat,h.data.lng,y]),v.useEffect(()=>{const F=h.data.lat!==void 0||h.data.lng!==void 0;F!==h.data.resetButton&&m({name:"resetButton",value:F})},[m,h.data.lat,h.data.lng,h.data.reset,h.data.resetButton]),v.useEffect(()=>{if(!S){m({name:"placesList",value:void 0});return}ok(h.data.placesList,S)||m({name:"placesList",value:{lat:S.lat,lng:S.lng}})},[h.data.placesList,S]),v.useEffect(()=>{const F=ok(w,S);a(!F)},[w,S,a]);const k=b(()=>{const F={...e,...S};r(F),i(!0)}),T=v.useCallback(F=>{const ie=F?F.lat:void 0,W=F?F.lng:void 0;y({values:{placesList:{lat:ie,lng:W},lat:String(ie),lng:String(W)},validate:!0})},[y]),R=(D=t==null?void 0:t.inputSettings)==null?void 0:D.zoom,O=(j=t==null?void 0:t.inputSettings)==null?void 0:j.focusZoom,M=v.useMemo(()=>[{name:"placesList",type:({value:F,onBlur:ie})=>x.jsx(Hhe,{zoom:R,focusZoom:O,initialCenter:l,onCoordinatesChange:T,value:F,onBlur:ie,googleMapsApiKey:c})},{name:"lat",label:"Latitude",type:"text",validators:[my],required:!0},{name:"lng",label:"Longitude",type:"text",validators:[vy],required:!0},{name:"resetButton",label:"Reset",type:({value:F})=>x.jsx(Whe,{show:F,onClick:()=>y({values:{lat:void 0,lng:void 0,placesList:void 0}})})}],[R,O,l,T,c,y]),L=v.useMemo(()=>[{label:"Cancel",onClick:()=>i(),color:"gray",variant:"outlined"},{label:"Save",onClick:k,type:"submit",color:"yellow",variant:"contained"}],[i,k]);return x.jsx(h0,{className:"mapCoordinates",children:x.jsx(fh,{...p,onBack:i,backLabel:"Cancel coordinates entry",title:"Map Coordinates",buttons:L,sections:Uhe,fields:M,dialogOpen:o,handleDialogClose:s,getFormValues:f})})},Ghe=n=>{var M,L,D;const{value:e,onBlur:t,onChange:r,disabled:i,fieldDef:o,skeleton:s}=n,a=v.useMemo(()=>Al(e)?e:void 0,[e]),l=(M=o==null?void 0:o.inputSettings)==null?void 0:M.initialCenter,[c,f]=v.useState(!1),[p,h]=v.useState(!1),[m,y]=v.useState(!1),[b,w]=v.useState(!1),S=()=>{f(!0)},k=async(j=!1)=>{typeof j=="boolean"&&j?(h(!1),f(!1),t&&await t()):p?y(!0):(h(!1),f(!1),t&&await t())},T=async j=>{j&&await k(!0),y(!1)},R=async()=>{r&&await r(void 0),await t()},O=v.useMemo(()=>[{label:"No, keep it",onClick:()=>w(!1),color:"gray",variant:"outlined"},{label:"Yes, remove it",onClick:()=>{R(),w(!1)},color:"yellow",variant:"contained"}],[b]);return s?x.jsx(kt,{variant:"rectangular",width:280,height:357}):x.jsxs(x.Fragment,{children:[a?x.jsx("div",{children:x.jsxs(Ohe,{children:[x.jsxs(Rhe,{children:[x.jsx(Ihe,{children:x.jsx("img",{src:`https://maps.googleapis.com/maps/api/staticmap?zoom=${((L=o==null?void 0:o.inputSettings)==null?void 0:L.focusZoom)??11}&size=232x153&maptype=roadmap&markers=color:red%7C${a==null?void 0:a.lat},${a==null?void 0:a.lng}&key=${o.inputSettings.googleMapsApiKey}`,alt:"location"})}),x.jsxs(Phe,{children:[x.jsx(NM,{children:"Latitude"}),a?x.jsx(Dhe,{children:a==null?void 0:a.lat}):x.jsx(zm,{}),x.jsx(NM,{children:"Longitude"}),a?x.jsx(lR,{children:a==null?void 0:a.lng}):x.jsx(zm,{})]})]}),x.jsxs(Lhe,{children:[x.jsx(ar,{color:"teal",variant:"text",label:"Edit",disabled:i,onClick:S}),x.jsx(ar,{color:"red",disabled:i,variant:"text",label:"Remove",onClick:()=>w(!0)})]})]})}):x.jsx(ar,{disabled:i,onClick:S,color:"gray",variant:"outlined",label:"ADD COORDINATES"}),x.jsx(d0,{open:c,onClose:k,children:x.jsx(Vhe,{value:e,fieldDef:o,onChange:r,handleClose:k,handleUnsavedChanges:j=>h(j),dialogOpen:m,handleDialogClose:T,initialCenter:l,googleMapsApiKey:(D=o==null?void 0:o.inputSettings)==null?void 0:D.googleMapsApiKey})}),x.jsx(f0,{buttons:O,dialogTitle:"Are you sure you want to remove these coordinates?",open:b,children:"All data for these coordinates will be lost. This action is irreversible."})]})},Khe=v.memo(Ghe),qhe=ce.div`
	& > div > .viewContainer {
		padding-left: 0;
		padding-right: 0;
	}
`,Yhe=ce.div`
	margin-bottom: 0.5rem;
`,Jhe=ce.div`
    display: flex;
    flex-direction: column;
    gap: 16px;
`,Zhe=ce(kt)`
	margin-bottom: 16px;
`,uR=ce.div`
	display: flex;
	align-items: center;
    gap: 16px;
`,Xhe=ce.div`
	flex: 1 1 0%;
`,Qhe=ce.div`
	flex: 0 0 32px;
`;function ege(){return x.jsx(kt,{variant:"rectangular",width:143,height:36,sx:{marginBottom:2}})}function FM(){return x.jsx(Qhe,{children:x.jsx(kt,{variant:"rectangular",width:"100%",height:32})})}function _m(){return x.jsx(Xhe,{children:x.jsx(kt,{variant:"rectangular",width:"100%",height:48})})}function BM(){return x.jsxs(uR,{children:[x.jsx(FM,{}),x.jsx(FM,{}),x.jsx(_m,{}),x.jsx(_m,{}),x.jsx(_m,{})]})}function tge({buttonCount:n=0}){return x.jsxs("div",{children:[x.jsx(uR,{children:[...Array(n)].map((e,t)=>x.jsx(ege,{},t))}),x.jsx(Zhe,{variant:"rectangular",width:"100%",height:56}),x.jsxs(Jhe,{children:[x.jsx(BM,{}),x.jsx(BM,{})]})]})}const nge=n=>{const{value:e,disabled:t,fieldDef:r,skeleton:i}=n,{buttons:o=[],dataView:s}=r.inputSettings,a=(s.data!==void 0?s.data:e)||[],l=a.length>0;return i?x.jsx(tge,{buttonCount:o.length}):x.jsxs(qhe,{children:[x.jsx(Yhe,{children:x.jsx(gc,{children:o.map((c,f)=>x.jsx(ar,{...c,disabled:c.disabled===void 0?t:c.disabled},`${c.label}-${f}`))})}),l&&x.jsx(OF,{data:[],...s,disabled:t,data:a})]})},rge=v.memo(nge);let ige=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var Bb={},oge=ln;Object.defineProperty(Bb,"__esModule",{value:!0});var jb=Bb.default=void 0,sge=oge(un()),age=an();jb=Bb.default=(0,sge.default)((0,age.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var zb={},lge=ln;Object.defineProperty(zb,"__esModule",{value:!0});var Hb=zb.default=void 0,uge=lge(un()),cge=an();Hb=zb.default=(0,uge.default)((0,cge.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload");const cR=ce.div`
	display: flex;
	flex-direction: row;
	background-color: ${K.colors.white};
	border: 2px solid ${({$error:n})=>n?K.newColors.darkRed[100]:K.newColors.grey2[100]};
	padding: 16px;
	width: 100%;
	column-gap: 16px;

	${({$isDeleting:n})=>n&&`
		opacity: 0.5;
	`}

	& > div {
		display: flex;
	}

	& .file-img,
	& .file-delete-btn {
		align-items: center;
	}

	& .file-img {
		border: 2px solid ${K.newColors.grey2[100]};

		a, img {
			display: block;
		}

		img, div {
			width: 62px;
			height: 62px;
		}

		img {
			object-fit: contain;
		}

		div {
			background-color: ${K.newColors.grey2[100]};
			color: ${K.newColors.grey3[100]};
			display: flex;
			align-items: center;
			justify-content: center;
		}
	}

	& .file-data {
		font-size: 14px;
		width: 100%;
		flex-direction: column;
		row-gap: 8px;

		p {
			margin: 0px;
			padding: 0px;
		}
	}

	& .file-name {
		color: ${K.newColors.grey3[100]};
		font-weight: ${K.fontWeight.semiBold};
		line-height: 17px;
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
		text-overflow: ellipsis;
		max-width: 100%;
		word-break: break-word;
	}

	& .file-size {
		color: ${K.newColors.almostBlack[100]};
		font-weight: ${K.fontWeight.normal};
		line-height: 24px;
	}
`,dge=ce(g0)`
	flex: none;
	align-self: center;
`;var Wb={},fge=ln;Object.defineProperty(Wb,"__esModule",{value:!0});var Ub=Wb.default=void 0,pge=fge(un()),hge=an();Ub=Wb.default=(0,pge.default)((0,hge.jsx)("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile");const gge=({url:n,...e})=>{const[t,r]=v.useState(!1),i=v.useCallback(()=>{r(!0);const o=document.createElement("iframe"),s=()=>{document.body.removeChild(o),r(!1)};o.onload=s,o.onerror=s,o.setAttribute("style","display: none"),o.src=n,document.body.appendChild(o)},[]);return t?x.jsx(g0,{}):x.jsx(ar,{...e,mIcon:Hb,onClick:i})},mge=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],vge=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],yge=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bge=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],jM=(n,e,t)=>{let r=n;return typeof e=="string"||Array.isArray(e)?r=n.toLocaleString(e,t):(e===!0||t!==void 0)&&(r=n.toLocaleString(void 0,t)),r};function Xv(n,e={}){if(!Number.isFinite(n))throw new TypeError(`Expected a finite number, got ${typeof n}: ${n}`);e={bits:!1,binary:!1,space:!0,...e};const t=e.bits?e.binary?bge:yge:e.binary?vge:mge,r=e.space?" ":"";if(e.signed&&n===0)return` 0${r}${t[0]}`;const i=n<0,o=i?"-":e.signed?"+":"";i&&(n=-n);let s;if(e.minimumFractionDigits!==void 0&&(s={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(s={maximumFractionDigits:e.maximumFractionDigits,...s}),n<1){const f=jM(n,e.locale,s);return o+f+r+t[0]}const a=Math.min(Math.floor(e.binary?Math.log(n)/Math.log(1024):Math.log10(n)/3),t.length-1);n/=(e.binary?1024:1e3)**a,s||(n=Number(n.toPrecision(3)));const l=jM(Number(n),e.locale,s),c=t[a];return o+l+r+c}function dR(n){return v.useMemo(()=>{const t=parseInt(String(n),10);return Xv(t)},[n])}function Qv({name:n}){return x.jsx(HF,{maxLines:1,breakAll:!0,children:n??x.jsx(zm,{})})}const xge=n=>{const{id:e,name:t,size:r,fileUrl:i,thumbnailUrl:o,downloadUrl:s,downloadStrategy:a,onFileDelete:l,disabled:c,isDeleting:f}=n,p=a!==void 0?a:s?"iframe":"anchor",h=v.useMemo(()=>o?x.jsx("img",{src:o}):x.jsx("div",{children:x.jsx(Ub,{})}),[o]),m=dR(r);return x.jsx("div",{"data-testid":"file-card-container",children:x.jsxs(cR,{$isDeleting:f,children:[x.jsx("div",{className:"file-img","data-testid":"file-img",children:i&&!f?x.jsx("a",{href:i,rel:"noreferrer",target:"_blank",children:h}):h}),x.jsxs("div",{className:"file-data","data-testid":"file-data",children:[i&&!f?x.jsx("a",{href:i,rel:"noreferrer",target:"_blank",className:"file-name","data-testid":"file-name",children:x.jsx(Qv,{name:t})}):x.jsx("p",{className:"file-name","data-testid":"file-name",children:x.jsx(Qv,{name:t})}),x.jsx("p",{className:"file-size","data-testid":"file-size",children:m??"File size"})]}),f?x.jsx(dge,{}):x.jsxs(gc,{separator:!0,children:[(s||i)&&x.jsx("div",{className:"file-download-btn",children:p==="anchor"?x.jsx(ar,{muiAttrs:{download:!0},href:i,color:"gray",variant:"icon",mIcon:Hb}):x.jsx(gge,{url:s||i,color:"gray",variant:"icon"})}),l&&!c&&x.jsx("div",{className:"file-delete-btn",children:x.jsx(ar,{color:"gray",variant:"icon",mIcon:jb,onClick:()=>l({id:e})})})]})]})})},wge=v.memo(xge),Cge=ce.div`
	margin-top: 16px;
	display: flex;
	flex-direction: column;
	gap: 16px;
`,Sge=ce.label`
  border: 1px dashed transparent;
  align-items: center;
  display: flex;
  flex-direction: column;
  height: 204px;
  justify-content: center;
  position: relative;
  max-width: 100%;

  & .button {
    z-index: 1000;
  }

	${({$isOver:n,$disabled:e})=>n&&!e?`
		border-color: ${K.newColors.realTeal[100]};
		background: ${K.newColors.realTeal[20]};
  	`:`
		background: ${K.newColors.grey2[100]};
	`}
`,zM=ce.span`
  color: ${({$isOver:n})=>n?K.newColors.realTeal[100]:K.newColors.grey3[100]};
  font-size: 16px;
  margin-bottom: ${({$isOver:n})=>n?"":"24px"};
`,kge=ce.input`
  display: none;
`;class Vb{constructor(e=[]){Md(this,"extensions");Md(this,"acceptAttr");Md(this,"human");this.extensions=e.map(t=>t.toLowerCase()),this.acceptAttr=this.extensions.map(t=>`.${t}`).join(","),this.human=RA(this.extensions.map(t=>`"${t}"`))}static getExtension(e){return e.slice((Math.max(0,e.lastIndexOf("."))||1/0)+1)}isValidFileName(e){if(!this.extensions.length)return!0;const t=Vb.getExtension(e).toLowerCase();return this.extensions.includes(t)}}var Gb={},Mge=ln;Object.defineProperty(Gb,"__esModule",{value:!0});var fR=Gb.default=void 0,Ege=Mge(un()),Tge=an();fR=Gb.default=(0,Ege.default)((0,Tge.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20m6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9"}),"DoNotDisturb");const Age=n=>{const{id:e,name:t,size:r,onFileDelete:i,error:o,percent:s,disabled:a}=n,l=dR(r);return x.jsxs("div",{"data-testid":"file-card-container",children:[x.jsxs(cR,{$error:!!o,children:[x.jsx("div",{className:"file-img","data-testid":"file-img",children:x.jsx("div",{children:o?x.jsx(fR,{}):s!==void 0&&s<100?x.jsx(g0,{progress:s}):x.jsx(Ub,{})})}),x.jsxs("div",{className:"file-data","data-testid":"file-data",children:[x.jsx("p",{className:"file-name","data-testid":"file-name",children:x.jsx(Qv,{name:t})}),x.jsx("p",{className:"file-size","data-testid":"file-size",children:l??"File size"})]}),x.jsx(gc,{separator:!0,children:i&&!a&&(s===void 0||s===100)&&x.jsx("div",{className:"file-delete-btn",children:x.jsx(ar,{color:"gray",variant:"icon",mIcon:jb,onClick:()=>i({id:e})})})})]}),o&&x.jsx(cv,{error:o!==void 0,children:o})]})},Oge=v.memo(Age);function Lge(){return x.jsxs("div",{children:[x.jsx(kt,{variant:"rectangular",width:"100%",height:204,sx:{marginBottom:2}}),x.jsx(kt,{variant:"rectangular",width:"100%",height:100})]})}const Rge=n=>{const{fieldDef:e,value:t,onChange:r,disabled:i,methods:o,id:s,skeleton:a}=n,{addWait:l}=o||{},c=v.useId(),f=s||c,p=v.useRef(),{limit:h=-1,onFileAdd:m,onFileDelete:y,accept:b,maxFileSize:w,maxTotalSize:S}=e.inputSettings,[k,T]=v.useState(0),[R,O]=v.useState({open:!1,text:""}),M=v.useMemo(()=>t||[],[t]),L=M.length,D=h>=0&&L>=h,j=v.useMemo(()=>new Vb(b),[b]),F=v.useMemo(()=>M.filter(ue=>Um(ue)&&ue.error===void 0).length,[M]),ie=ue=>{ue.preventDefault()},W=ue=>{ue.preventDefault(),T(ve=>ve+1)},ne=ue=>{ue.preventDefault(),T(ve=>ve-1)},z=ue=>{if(ue.preventDefault(),ue.stopPropagation(),T(0),i)return;const ve={target:{files:ue.dataTransfer.files}};he(ve)},X=async({uuid:ue,percent:ve})=>{r((se=[])=>se.map(A=>ue===A.id?{...A,percent:ve*100}:A))};v.useEffect(()=>{if(!l||!F)return;const{remove:ue}=l({name:`${e.name}/uploading`,message:`${e.label} is currently uploading ${F} files(s)`});return ue},[e.label,e.name,l,F]);const Z=async({uuid:ue,data:ve})=>{r((se=[])=>se.map(A=>ue===A.id?{...ve}:A))},H=async({uuid:ue,message:ve})=>{r((se=[])=>se.map(A=>ue===A.id?{...A,error:ve}:A))},he=async ue=>{const ve=Array.from(ue.target.files);if(h>=0&&L+ve.length>h){O({open:!0,text:`Upload limited to only ${h} files.`});return}const se=ve.map(A=>({id:ige(),name:A.name,size:A.size,error:void 0,rawData:A,isPending:!0}));if(S){const A=LF([...M.map(({size:N})=>N),...se.map(N=>N.rawData.size)]);if(S<A){O({open:!0,text:`Maximum cumulative file size is ${Xv(S)}`});return}}r((A=[])=>[...A,...se]),await Promise.all(se.map(async A=>{if(!j.isValidFileName(A.rawData.name)){H({uuid:A.id,message:`We only allow ${j.human} file uploads`});return}if(w&&w<A.rawData.size){H({uuid:A.id,message:`Individual file upload size should not exceed ${Xv(w)}`});return}try{await m({file:A==null?void 0:A.rawData,onChunkComplete:({percent:N})=>X({uuid:A.id,percent:N}),onUploadComplete:N=>Z({uuid:A.id,data:N})})}catch(N){const q=N instanceof Error?N.message:String(N);H({uuid:A.id,message:q})}}))},_e=async(ue,ve=!1)=>{r((se=[])=>se.map(A=>A.id===ue?{...A,isDeleting:!0}:A)),ve||await y({id:ue}),r((se=[])=>se.filter(A=>A.id!==ue))},pe=v.useCallback(()=>{p.current&&p.current.click()},[]),te=(ue,ve)=>{ve!=="clickaway"&&O(se=>({...se,open:!1}))};return a?x.jsx(Lge,{}):x.jsxs(x.Fragment,{children:[!D&&x.jsxs(Sge,{$isOver:!!k,$disabled:i,onDragOver:ie,onDragEnter:W,onDragLeave:ne,onDrop:z,"data-testid":"drag-and-drop-container",htmlFor:`${f}-input`,children:[!i&&k?x.jsx(zM,{$isOver:!!k,children:"Release and Drop"}):x.jsxs(x.Fragment,{children:[!i&&x.jsx(zM,{$isOver:!!k,children:"Drag & Drop files here or"}),x.jsx(ar,{color:"gray",variant:"outlined",label:"UPLOAD FILES",disabled:i,onClick:pe})]}),x.jsx(kge,{"data-testid":"input-file-test",onChange:he,title:"",type:"file",value:"",disabled:i,multiple:h<0||h>1&&h-L>1,accept:j.acceptAttr,id:`${f}-input`,ref:p})]}),M.length>0&&x.jsx(Cge,{children:M.map(ue=>Um(ue)?x.jsx(Oge,{...ue,onFileDelete:({id:ve})=>_e(ve,!0),disabled:i,percent:ue.percent,error:ue.error},ue.id):x.jsx(wge,{...ue,onFileDelete:({id:ve})=>_e(ve),disabled:i},ue.id))}),x.jsx(p0,{autoHideDuration:6e3,label:R.text,open:R.open,onClose:te})]})},Pge=v.memo(Rge),Ige=n=>{var D,j,F,ie,W;const{fieldDef:e,error:t,onChange:r,onBlur:i,value:o,disabled:s,inputRef:a,id:l,skeleton:c}=n,[f,p]=v.useState(!1),h=v.useRef(),{tooltipProps:m,anchorProps:y}=i0(),b=((D=e==null?void 0:e.inputSettings)==null?void 0:D.decimalPlaces)??-1,w=(j=e==null?void 0:e.inputSettings)==null?void 0:j.prefix,S=(F=e==null?void 0:e.inputSettings)==null?void 0:F.suffix,k=((ie=e==null?void 0:e.inputSettings)==null?void 0:ie.sign)??"any",T=["Must be a",k!=="any"&&k,b?"numerical value":"whole number",b>0&&`with a maximum of ${b} decimal place${b>1?"s":""}`].filter(Boolean).join(" ")+".",R=ne=>{const{value:z}=ne.target,X=["^",k==="any"&&"(-|\\+)?",k==="negative"&&"-",k==="positive"&&"\\+?","(?!\\.)\\d*"];b&&X.push("\\.?","\\d",b>0?`{0,${b}}`:"*"),X.push("$");const Z=new RegExp(X.filter(Boolean).join(""));if(z&&!z.match(Z)){p(!0),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>p(!1),3e3);return}p(!1),r&&r(z===""?void 0:z)},O=ne=>{const{value:z}=ne.target;(z==="-"||z==="+")&&r(""),z&&z[z.length-1]==="."&&r(z.substring(0,z.length-1)),p(!1),i&&i(z===""?void 0:z),e!=null&&e.onBlurCb&&(e==null||e.onBlurCb(z))},M=typeof t=="string"?(t==null?void 0:t.trim().length)>0:!1,L=v.useMemo(()=>{const ne={inputRef:a,inputProps:{inputMode:"numeric",...y}};return w&&(ne.startAdornment=x.jsx(Ju,{position:"start",children:w})),S&&(ne.endAdornment=x.jsx(Ju,{position:"end",children:S})),ne},[y,a,w,S]);return c?x.jsx(kt,{variant:"rectangular",width:"100%",height:43}):x.jsxs(x.Fragment,{children:[x.jsx(Op,{id:l,"data-testid":"form-field-number-test-id",value:o??"",onChange:R,onBlur:O,variant:"outlined",error:!!f||M||M&&(e==null?void 0:e.required),className:e==null?void 0:e.className,placeholder:(W=e==null?void 0:e.inputSettings)==null?void 0:W.placeholder,fieldSize:e==null?void 0:e.size,InputProps:L,required:e==null?void 0:e.required,type:"text",disabled:s}),x.jsx(o0,{...m,open:!!f,maxWidth:150,children:T})]})},Dge=v.memo(Ige),_ge=ce.table`
  border-collapse: collapse;
  color: ${K.newColors.almostBlack[100]};
  background-color: white;
  width: 100%;
`,$m=ce.th`
  padding: 24px 16px;
  font-weight: ${K.fontWeight.medium};
  font-size: 14px;
  text-align: left;
`,$ge=ce.tr`
  background-color: ${K.newColors.grey2[100]};

  th:first-child {
    padding-left: 24px;
  }

  th:last-child {
    padding-right: 24px;
  }
`,e0=ce.td`
  padding: 16px 16px;

  &:first-child {
	padding-left: 24px;
  }

  &:last-child {
	padding-right: 24px;
  }
`,HM=ce(e0)`
  font-weight: ${K.fontWeight.semiBold};
  font-size: 14px;
`,Nge=ce.p`
  margin: 0;
  font-weight: ${K.fontWeight.semiBold};
  font-size: 14px;
`,Fge=ce.p`
  margin: 8px 0 0 0;
  font-weight: 400;
  font-size: 14px;
`,WM=ce.td`
  padding-left: 16px;
  font-weight: ${K.fontWeight.normal};
  font-size: 14px;
`,Bge=ce.tbody`
  tr {
    border-bottom: 1px solid ${K.newColors.grey2[100]};
  }

  tr:last-child,
  tr:nth-last-child(2) {
    border: none;
  }
`,jge=ce.tr`
  background-color: ${K.newColors.grey1[100]};

  .totals-row {
    font-weight: ${K.fontWeight.medium};
  }
`,Rve=[{name:"2023_02_10",title:"Shoulder Before"},{name:"2023_02_11",title:"Day 1",subtitle:"Thu, Jan 05 2023"},{name:"2023_02_12",title:"Day 2",subtitle:"Fri, Jan 06 2023"},{name:"2023_02_13",title:"Day 3",subtitle:"Sat, Jan 07 2023"}],Pve=[{name:"single",title:"Single"},{name:"double",title:"Double"},{name:"queen",title:"Queen"},{name:"king",title:"King"},{name:"suite",title:"Suite"},{name:"any",title:"Any"}],Ive={"2023_02_10":{single:"12",double:"13",queen:"14",king:"15",suite:"16",any:"17"},"2023_02_11":{single:"18",double:"19",queen:"20",king:"21",suite:"22",any:"23"},"2023_02_12":{single:"12",double:"13",queen:"14",king:"15",suite:"16",any:"20"},"2023_02_13":{single:"1",double:"1",queen:"1",king:"1",suite:"1",any:"1"}},UM=(n,e)=>e.map(t=>t.name).includes(n),zge=ce.div`
	display: flex;
	align-items: center;
`,t0=ce.div`
	flex: 1 1 0%;
	padding: 16px;
`;function Ga(){return x.jsx(t0,{children:x.jsx(kt,{variant:"rectangular",width:"100%",height:43})})}function VM(){return x.jsxs(zge,{children:[x.jsxs(t0,{children:[x.jsx(kt,{width:80,height:28}),x.jsx(kt,{width:64,height:28})]}),x.jsx(Ga,{}),x.jsx(Ga,{}),x.jsx(Ga,{}),x.jsx(Ga,{}),x.jsx(Ga,{}),x.jsx(Ga,{}),x.jsx(t0,{children:x.jsx(kt,{width:78,height:28})})]})}function Hge(){return x.jsxs("div",{children:[x.jsx(kt,{variant:"rectangular",width:"100%",height:64}),x.jsx(VM,{}),x.jsx(VM,{})]})}const Wge=n=>{const{fieldDef:e,onChange:t,value:r,disabled:i,inputRef:o,skeleton:s}=n,{inputSettings:a}=e,{displaySumColumn:l=!0,displaySumRow:c=!0}=a,[f,p]=v.useState({}),h=v.useRef([]),m={};v.useEffect(()=>{const S={};if(r){for(const k in r)if(UM(k,a.rows))for(const T in r[k])UM(T,a.columns)&&(S[T]=(S[T]||0)+Number(r[k][T]||0))}else a.columns.forEach(k=>{S[k.name]=0});l&&(S.mos_col_totals=Object.values(S).reduce((k,T)=>k+T),p(S))},[r]);const y=(S,k,T)=>{var M;const R=((M=S.target.value)==null?void 0:M.trim())===""?void 0:S.target.value;let O={...r};O[k]?O[k][T]=R:O={...O,[k]:{[T]:R}},R===void 0&&(Object.values(O[k]).every(L=>L===void 0)&&(O={...O,[k]:void 0}),Object.values(O).every(L=>L===void 0)&&(O=void 0)),t(O)},b=S=>S&&new Intl.NumberFormat(navigator.language,a.numberFormatOptions).format(S),w=(S,k,T)=>{var R;switch(S.keyCode){case 37:S.target.selectionStart===0&&T>0&&h.current[k][T-1].focus();break;case 38:k>0&&h.current[k-1][T].focus();break;case 39:S.target.selectionStart===((R=S.target.value)==null?void 0:R.length)&&T<a.columns.length-1&&h.current[k][T+1].focus();break;case 40:k<a.rows.length-1&&h.current[k+1][T].focus();break}};return s?x.jsx(Hge,{}):x.jsxs(_ge,{children:[x.jsx("thead",{children:x.jsxs($ge,{children:[x.jsx($m,{children:a.topLeftLabel}),a.columns.map((S,k)=>x.jsx($m,{children:S.title},`${S.name}-${k}`)),c&&x.jsx($m,{children:a.columnTotalLabel||"Total"})]})}),x.jsxs(Bge,{children:[a.rows.map((S,k)=>x.jsxs("tr",{children:[x.jsxs(e0,{children:[x.jsx(Nge,{children:S.title}),(S==null?void 0:S.subtitle)&&x.jsx(Fge,{children:S.subtitle})]},`${S.name}`),a.columns.map((T,R)=>{var M;const O=((M=r==null?void 0:r[S.name])==null?void 0:M[T.name])??"";if(c){const L=isNaN(Number(O))?0:Number(O);m[S.name]=(m[S.name]||0)+L}return x.jsx(e0,{children:x.jsx(Op,{inputProps:{"data-testid":`${S.name}-${T.name}`},placeholder:"0",value:O,onChange:L=>y(L,S.name,T.name),fieldSize:"90px",disabled:i,inputRef:L=>{h!=null&&h.current&&(h.current[k]=h.current[k]||[],h.current[k][R]=L),!k&&!R&&o&&(o.current=L)},onKeyDown:L=>w(L,k,R)})},`${S.name}-${T.name}`)}),c&&x.jsx(HM,{children:b(m[S.name])},`totals-${S.name}`)]},`row-${S.name}`)),l&&x.jsxs(jge,{children:[x.jsx(HM,{children:a.rowTotalLabel||"Total"}),a.columns.map(S=>x.jsx(WM,{children:b(f[S.name])||0},`column-${S.name}`)),c&&x.jsx(WM,{className:"totals-row",children:b(f.mos_col_totals)||0})]})]})]})},Uge=v.memo(Wge),Vge=ce(KK)`
	box-shadow: none !important;
	border-radius: 0px;
	scroll-margin-top: 60px;
	margin: 0 !important;

	${({$title:n})=>n?`
		border: 1px solid ${K.newColors.grey2[100]};
		margin: 0px 0px 40px 0px;
	`:`
		border: 0;
		margin: 0;
	`}

	&:before {
		content: none !important;
	}
`,Gge=ce(oq)`
	background-color: ${K.newColors.grey2[100]} !important;
	margin: 0px !important;
	padding: 12px 24px !important;
	min-height: 0px !important;
	color: ${K.newColors.grey4[100]} !important;

	& :first-child {
		margin: 0px !important;
	}
`,Kge=ce(XK)`
	padding: 0px !important;
	margin: 0px !important;
`,qge=ce.p`
	font-size: 16px;
	font-family: ${K.fontFamily};
	color: ${K.newColors.grey3[100]};
	margin: 18px 0 0;
	padding: 0 24px;
`,pR=ce.div`
	margin: 0px;
	display: grid;
	grid-template-columns: repeat(1,minmax(0,1fr));

	${({$title:n})=>n&&`
		padding: 18px 24px;
	`}

	${({$spacing:n})=>`
		gap: ${n==="compact"?"24px":"12px"} 0;
	`}
`,Yge=ce.h2`
	font-size: 20px;
	font-family: ${K.fontFamily};
	font-weight: 500;
	margin: 0px;
`,Jge=ce.fieldset`
	border: 0;
	margin: 0;
	padding: 0;
`,Zge=({fieldDef:n,methods:e,skeleton:t,path:r})=>{const{name:i,inputSettings:o={fields:[]}}=n,{fields:s}=o,a=v.useMemo(()=>o.layout||s.map(c=>[[c.name]]),[s,o.layout]),l=v.useMemo(()=>[...r||[],i],[r,i]);return x.jsx(Jge,{children:x.jsx(pR,{children:a.map((c,f)=>x.jsx(gR,{row:c,rowIdx:f,fieldsDef:s,spacing:"compact",methods:e,skeleton:t,path:l},`row-${f}`))})})},Xge=v.memo(Zge);function Qge(){let n=null;return()=>n||(n={text:{Component:b5,validate:"onBlurAmend",getResolvedValue:Vn},checkbox:{Component:O5,validate:"onChange",getResolvedValue:Vn},chip:{Component:D5,validate:"onChange",getResolvedValue:Vn},dropdown:{Component:LE,validate:"onChange",getResolvedValue:Vn},phone:{Component:wj,validate:"onBlurAmend",getResolvedValue:Vn},radio:{Component:Pj,validate:"onChange",getResolvedValue:Vn},toggle:{Component:zj,validate:"onChange",getResolvedValue:Vn},color:{Component:fG,validate:"onBlur",getResolvedValue:Vn},date:{Component:dZ,validate:"onBlurChange",getResolvedValue:(e,t)=>{var r,i;if(e instanceof Date)return{internalValue:{date:e,validDate:!0,time:e,validTime:!0},value:e};{const o=((r=t==null?void 0:t.inputSettings)==null?void 0:r.fixedTime)||[0,0,0,0];return e?e.validDate?(i=t==null?void 0:t.inputSettings)!=null&&i.showTime?e.validTime?{internalValue:e,value:Hm(e.date,e.time)}:{internalValue:e,value:void 0}:{internalValue:e,value:Hm(e.date,o)}:{internalValue:e,value:void 0}:{internalValue:void 0,value:void 0}}}},time:{Component:pZ,validate:"onBlur",getResolvedValue:e=>{if(typeof e=="string"){const t=new Date,[r,i]=e.split(":");return t.setHours(Number(r)),t.setMinutes(Number(i)),{internalValue:{time:t,validTime:!0},value:e}}else{if(!e)return{internalValue:void 0,value:void 0};if(!e.validTime)return{internalValue:e,value:void 0};const t=`${String(e.time.getHours()).padStart(2,"0")}:${String(e.time.getMinutes()).padStart(2,"0")}`;return{internalValue:e,value:t}}}},address:{Component:fie,validate:"onBlur",getResolvedValue:Vn},textEditor:{Component:dhe,validate:"onBlurAmend",getResolvedValue:Vn},advancedSelection:{Component:The,validate:"onBlur",getResolvedValue:Vn},mapCoordinates:{Component:Khe,validate:"onBlur",getResolvedValue:Vn},matrix:{Component:rge,validate:"onChange",getResolvedValue:Vn},upload:{Component:Pge,validate:"onChange",getResolvedValue:(e=[])=>({value:AE(e.filter(t=>!Um(t)&&!t.isDeleting)),internalValue:e||[]})},number:{Component:Dge,validate:"onBlurAmend",getResolvedValue:Vn},numberTable:{Component:Uge,validate:"onChange",getResolvedValue:Vn},raw:{Component:Dj,validate:"onChange",getResolvedValue:Vn},group:{Component:Xge,validate:"onSubmit",getResolvedValue:Vn}},n)}const eme=Qge();function hR(n){const e=eme();return typeof n!="string"?{Component:n,validate:"onBlur",getResolvedValue:Vn}:e[n]?e[n]:{Component:null,validate:"onBlur",getResolvedValue:Vn}}const tme={text:Qt.md,checkbox:Qt.md,chip:Qt.md,dropdown:Qt.md,phone:Qt.sm,radio:Qt.sm,toggle:Qt.md,color:Qt.sm,date:Qt.md,time:Qt.md,address:Qt.full,addressSingle:Qt.full,textEditor:Qt.lg,advancedSelection:Qt.md,mapCoordinates:Qt.sm,matrix:Qt.full,upload:Qt.md,number:Qt.sm,numberTable:Qt.full,raw:Qt.full,group:Qt.full};function nme(n,e){return n?Qt[n]?Qt[n]:String(n):typeof e=="string"?tme[e]:"full"}const rme=({fieldsDef:n,fieldName:e,colsInRow:t,colIdx:r,rowIdx:i,sectionIdx:o,spacing:s,methods:a,skeleton:l,path:c})=>{const{state:f}=v.useContext(Hl),p=v.useMemo(()=>n.find(({name:ie})=>ie===e),[n,e]);if(!p)throw new Error(`No field declared for field name '${e}' in section ${o}, row ${i}, column ${r}.`);const h=typeof p.type!="string",{Component:m}=hR(p.type),{setFieldValue:y,setFieldBlur:b}=a;if(!m)throw new Error(`Invalid type ${p.type}`);const w=vf(p,f,"disabled",!1),S=v.useRef(),k=v.useCallback((ie,W={})=>{p.onChangeCb&&p.onChangeCb(),y({name:p.name,value:ie,touched:!0,validate:W.validate,path:c})},[p,y,c]),T=v.useCallback(()=>{p.onBlurCb&&p.onBlurCb(),b({name:p.name,path:c})},[p,b,c]),R=Ys(f.internalData,[...c||[],p.name]),O=w?"":Ys(f.errors,[...c||[],p.name]),M=nme(p.size,p.type),L=vf(p,f,"show"),D=v.useMemo(()=>({...p,size:M}),[p,M]),j=v.useMemo(()=>x.jsx(m,{fieldDef:D,name:D.name,value:R,error:O,onChange:k,onBlur:T,ref:D.ref,disabled:w,methods:a,inputRef:S,id:`${p.name}-input`,skeleton:l,path:c}),[m,D,R,O,k,T,w,a,p.name,l,c]);if(!L)return null;const F={fieldDef:D,value:R,error:O,colsInRow:t,id:p.name,spacing:s,methods:a,inputRef:S,disabled:w,skeleton:l};return h?x.jsx(qte,{...F,children:j}):x.jsx(by,{...F,children:j})},ime=v.memo(rme),ome=n=>{const{col:e,fieldsDef:t,colsInRow:r,colIdx:i,rowIdx:o,sectionIdx:s,spacing:a,methods:l,skeleton:c,path:f}=n;return x.jsx(wB,{"data-layout":"column",$colsInRow:r,children:e.map(p=>x.jsx(ime,{fieldName:p,fieldsDef:t,colIdx:i,colsInRow:r,rowIdx:o,sectionIdx:s,spacing:a,methods:l,skeleton:c,path:f},p))})},sme=v.memo(ome),ame=n=>{const{row:e,rowIdx:t,fieldsDef:r,sectionIdx:i,gridMinWidth:o,spacing:s,methods:a,skeleton:l,path:c}=n,{state:f}=v.useContext(Hl),p=v.useMemo(()=>e.flat().flat().map(m=>r.find(y=>m===y.name)),[r,e]);return vf(p,f,"show",!0).length?x.jsx(xB,{"data-layout":"row",$columns:e.length,$gridMinWidth:o,$spacing:s,children:e.map((m,y)=>x.jsx(sme,{colIdx:y,rowIdx:t,sectionIdx:i,col:m,fieldsDef:r,colsInRow:e.length,spacing:s,methods:a,skeleton:l,path:c},`col-${y}`))}):null},gR=v.memo(ame),mR=n=>{const{title:e,description:t,fieldsDef:r,rows:i,sectionIdx:o,collapsed:s=!1,registerRef:a,gridMinWidth:l,spacing:c,methods:f,skeleton:p}=n,{state:h}=v.useContext(Hl),m=v.useCallback(()=>!!i.flat(2).some(R=>h.errors[R]),[i,h.errors]),y=v.useMemo(()=>m()?!0:!s,[s,m]),[b,w]=v.useState(y),S=v.useRef();v.useEffect(()=>{m()&&w(!0)},[m]),v.useEffect(()=>{w(!s)},[s]);const k=(T,R)=>{w(R)};return v.useEffect(()=>a(S.current),[S.current]),x.jsxs(Vge,{"data-testid":"section-test-id",defaultExpanded:y,expanded:b,onChange:k,square:!0,$title:e,ref:S,children:[e&&x.jsx(Gge,{expandIcon:x.jsx(l0,{}),"aria-controls":"panel1a-content",children:x.jsx(Yge,{className:"section-title",children:e})}),x.jsxs(Kge,{children:[t&&x.jsx(qge,{children:t}),i&&x.jsx(pR,{$title:e,children:i.map((T,R)=>x.jsx(gR,{row:T,rowIdx:R,sectionIdx:o,fieldsDef:r,gridMinWidth:l,spacing:c,methods:f,skeleton:p},`row-${R}`))})]})]})};mR.displayName="Section";const lme=v.memo(mR),ume=ce.div`
	margin: 0px;
	max-width: 1160px;
	display: grid;
	grid-template-columns: repeat(1,minmax(0,1fr));
	gap: 24px 40px;
`,cme=n=>{const{fields:e,sections:t,registerRef:r,spacing:i,methods:o,skeleton:s}=n;return x.jsx(ume,{"data-testid":"form-layout-test-id",className:"layout",children:t.map((a,l)=>x.jsx(lme,{registerRef:r,title:a.title,sectionIdx:l,description:a.description,fieldsDef:e,rows:a.fields,collapsed:a.collapsed,gridMinWidth:a.gridMinWidth,spacing:i,methods:o,skeleton:s},l))})},dme=v.memo(cme),fme=ce.div`
	border-bottom: 2px solid ${K.newColors.grey2[100]};
	padding: 0 24px 24px;

	${Rn("sm","FORM")} {
		padding-top: 24px;
	}

	${({$bottomBorder:n})=>!n&&`
		${Rn("sm","FORM")} {
			border-bottom: 0;
			padding-bottom: 0;
		}

		${Rn("xl","FORM")} {
			padding-bottom: 24px;
		}
	`}

	${Rn("xl","FORM")} {
		border-bottom: 2px solid ${K.newColors.grey2[100]};
	}
`,pme=ce.div`
	top: 0;
	z-index: 100;
	display: flex;
	flex-direction: column;

	${Rn("sm","FORM")} {
		align-items: center;
		flex-direction: row;
		flex-wrap: wrap;
	}
`,hme=ce.div`
	display: flex;
	margin: 0 -24px 24px;
	padding: 12px 24px;
	order: -1;
	justify-content: end;
  	background-color: ${K.newColors.grey2[100]};

	${Rn("sm","FORM")} {
		order: 0;
		background: none;
		margin: 0;
		padding: 0;
  	}
`,gme=ce.button`
  margin-right: auto;
  border-radius: 0;
  border: 0;
  background: none;
  cursor: pointer;

  ${Rn("sm","FORM")} {
	display: none;
  }
`,mme=ce(rE)`
  color: ${K.newColors.almostBlack[100]};
`,vme=ce.div`
	font-family: ${K.fontFamily};

	${Rn("sm","FORM")} {
		margin-right: auto;
		max-width: 50%;
	}
`;ce.div`
	display: flex;
	align-items: center;
`;const yme=ce(gE)`
	display: none;

	${Rn("md","FORM")} {
		display: block;
	}
`,bme=ce(gE)`
	width: 100%;

	${Rn("sm","FORM")} {
		order: 1;
	}

	${Rn("md","FORM")} {
		display: none;
	}
`,xme=n=>{const{buttons:e,description:t,title:r,onBack:i,backLabel:o,bottomBorder:s,collapse:a,skeleton:l}=n;return x.jsxs(fme,{$bottomBorder:s,children:[x.jsxs(pme,{children:[x.jsx(vme,{children:x.jsxs(jF,{children:[n.onBack&&x.jsx(zF,{collapse:a,onClick:n.onBack,label:o}),x.jsx(WF,{attrs:{title:r},children:r})]})}),t&&x.jsx(bme,{children:t}),x.jsxs(hme,{children:[i&&x.jsx(gme,{type:"button",onClick:i,children:x.jsx(mme,{})}),x.jsx(gc,{buttons:e,skeleton:l})]})]}),t&&x.jsx(yme,{children:t})]})},wme=v.memo(xme),Cme=({sections:n,fields:e})=>n?n.map(t=>{const r=t.fields.filter(i=>i.filter(s=>s.length).length);return{...t,fields:r}}):[{fields:e.map(t=>[[t.name]])}];function Sme(n){return n.map(e=>{if(e.type==="addressSingle"){const{inputSettings:{getOptionsCountries:t,getOptionsStates:r,googleMapsApiKey:i,subFields:o},required:s,disabled:a}=e;return{...e,type:"group",inputSettings:{fields:i2({getOptionsCountries:t,getOptionsStates:r,googleMapsApiKey:i,required:s,disabled:a,include:o})}}}return e})}const kme={name:"FORM",minWidth:"sm"},Mme={name:"FORM",minWidth:"xl"},Eme=n=>{const{buttons:e,state:t,title:r,onBack:i,backLabel:o,fields:s,sections:a,dialogOpen:l=!1,description:c,getFormValues:f,handleDialogClose:p,scrollSpyThreshold:h=.15,fullHeight:m=!0,spacing:y="normal",useSectionHash:b="section",onSubmit:w,methods:S,stable:k,autoFocus:T,skeleton:R,bottomSlot:O=null}=n,M=v.useMemo(()=>({methods:S,state:t}),[S,t]),L=v.useMemo(()=>Sme(s),[s]),{init:D,setFormValues:j,setSubmitWarning:F,disableForm:ie}=S,{errors:W,loadingInitial:ne,disabled:z}=t,{moveToError:X}=k,[Z,H]=v.useState([]),he=v.useRef(),_e=v.useRef(),{animation:{inProgress:pe},activeSection:te,setActiveSection:ue}=CG({refs:Z,container:_e,threshold:h}),ve=v.useCallback(ae=>{const xe=new URL(window.location.toString());xe.hash=`${b}-${ae}`,history.replaceState({},"",xe.toString())},[b]),{scrollTo:se}=vT({container:_e,onComplete:()=>{k.moveToError=!1}});v.useEffect(()=>{if(!X||!Object.keys(W).filter(Boolean).length)return;const[ae]=Object.entries(k.fields).filter(([,Me])=>k.mounted[Me.name]&&W[Me.name]).map(([,Me])=>Me).sort(({order:Me},{order:Ae})=>Me-Ae);if(!ae)return;const xe=k.mounted[ae.name];xe&&se({target:xe.fieldRef})},[W,X,se,k.fields,k.mounted]);const A=v.useRef(!1);v.useEffect(()=>{var Me;if(z||ne||!T||A.current)return;const[ae]=Object.entries(k.fields).filter(([,Ae])=>k.mounted[Ae.name]).map(([,Ae])=>Ae).sort(({order:Ae},{order:Ie})=>Ae-Ie);if(!ae)return;const xe=k.mounted[ae.name];!xe||typeof((Me=xe==null?void 0:xe.inputRef)==null?void 0:Me.focus)!="function"||(A.current=!0,window.requestAnimationFrame(()=>xe.inputRef.focus()))},[z,ne,T,k.fields,k.mounted]),v.useEffect(()=>{if(!b)return;const{hash:ae}=window.location,xe=new RegExp(`^#${b}-(\\d+)`),Me=ae&&ae.match(xe);if(!Me)return;const Ae=Number(Me[1]);ue(Ae)},[b,ue]),v.useEffect(()=>{!b||pe()||ve(te)},[te,pe,ve,b]);const N=v.useMemo(()=>Cme({sections:a,fields:L}),[a,L]),q=vf(N,t,"show"),J=v.useCallback(ae=>(H(xe=>[...xe,ae]),()=>H(xe=>xe.filter(Me=>Me!==ae))),[]),ee=v.useMemo(()=>q.map((ae,xe)=>({label:ae.title,name:xe.toString()})),[q]),Re=v.useCallback(ae=>{const xe=Number(ae.item.name);ve(xe),ue(xe)},[ve,ue]),Te=typeof t.submitWarning=="object"?x.jsxs(x.Fragment,{children:[x.jsx("div",{children:t.submitWarning.lead}),x.jsx("ul",{children:t.submitWarning.reasons.map(ae=>x.jsx("li",{children:ae},ae))})]}):t.submitWarning,Le=[{label:"No, stay",onClick:()=>p(!1),color:"gray",variant:"outlined"},{label:"Yes, leave",onClick:()=>p(!0),color:"yellow",variant:"contained"}],Be=t.disabled||t.waits.length>0,Fe=R||ne;v.useLayoutEffect(()=>{D({fields:L,sections:a})},[D,L,a]),v.useEffect(()=>{(async()=>{ie({disabled:!0,initial:!0});const ae=f?await f():{};j({values:ae,initial:!0})})()},[ie,f,j]);const V=v.useCallback(ae=>{ae.preventDefault(),w&&w(ae)},[w]),G=v.useMemo(()=>(e||[]).map(ae=>({...ae,disabled:t.disabled?!0:ae.disabled})),[t.disabled,e]),ke=v.useMemo(()=>L.map(ae=>({...ae,disabled:t.disabled?!0:ae.disabled})),[t.disabled,L]);return x.jsxs(Hl.Provider,{value:M,children:[x.jsx(hB,{"data-testid":"form-test-id",ref:he,"aria-busy":Be?"true":"false",role:"form","aria-label":r,$fullHeight:m,children:x.jsxs(gB,{autoComplete:"off",onSubmit:V,noValidate:!0,children:[r&&x.jsx(wme,{title:r,onBack:i,backLabel:o,description:c,buttons:G,bottomBorder:ee.length<2,collapse:kme,skeleton:Fe}),x.jsxs(vB,{className:"form-primary",children:[ee.length>1&&x.jsx(yB,{items:[ee],active:String(te),onNav:Re,collapse:Mme}),x.jsx(mB,{ref:_e,$spacing:y,children:x.jsx(dme,{registerRef:J,fields:ke,sections:q,spacing:y,methods:S,skeleton:Fe})})]}),O]})}),x.jsx(f0,{buttons:Le,dialogTitle:"Are you sure you want to leave?",open:l,children:"You have unsaved changes. If you leave all your changes will be lost."}),x.jsx(p0,{label:Te,open:t.submitWarning.open,onClose:()=>F({...t.submitWarning,open:!1}),autoHideDuration:4e3})]})},fh=v.memo(Eme);export{fh as F,xve as V,gte as a,$A as b,Pve as c,yte as d,hte as e,mte as f,vte as g,bve as h,pB as i,RA as j,by as k,she as l,Ive as n,Rve as r,Wm as t,Yp as u,pte as v};
