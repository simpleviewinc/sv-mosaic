import{_ as F,a as x}from"./identifier-Bktyv6O_.js";import{r as i}from"./index-D0AnReJb.js";import{g as Rt,a as St,u as Ct,c as lt,s as gt,b as Ot}from"./generateUtilityClasses-D4jmUuEZ.js";import{j as U}from"./jsx-runtime-EKYJJIwR.js";import{T as zt,u as Lt,g as ct,r as _t,a as pt,i as Dt,M as jt,P as Ht}from"./Popper-D9JYON0d.js";import{b as At,u as Pt}from"./useIsFocusVisible-o8lB1h8w.js";import{o as ut,a as dt,d as Mt}from"./ownerWindow-DvT1GKkC.js";const Wt=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function J(e){return`scale(${e}, ${e**2})`}const $t={entering:{opacity:1,transform:J(1)},entered:{opacity:1,transform:"none"}},Y=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),vt=i.forwardRef(function(t,s){const{addEndListener:_,appear:M=!0,children:O,easing:R,in:W,onEnter:c,onEntered:S,onEntering:$,onExit:T,onExited:G,onExiting:B,style:D,timeout:m="auto",TransitionComponent:a=zt}=t,g=F(t,Wt),I=At(),w=i.useRef(),u=Lt(),P=i.useRef(null),j=Pt(P,O.ref,s),v=o=>d=>{if(o){const f=P.current;d===void 0?o(f):o(f,d)}},k=v($),H=v((o,d)=>{_t(o);const{duration:f,delay:C,easing:p}=ct({style:D,timeout:m,easing:R},{mode:"enter"});let b;m==="auto"?(b=u.transitions.getAutoHeightDuration(o.clientHeight),w.current=b):b=f,o.style.transition=[u.transitions.create("opacity",{duration:b,delay:C}),u.transitions.create("transform",{duration:Y?b:b*.666,delay:C,easing:p})].join(","),c&&c(o,d)}),N=v(S),K=v(B),E=v(o=>{const{duration:d,delay:f,easing:C}=ct({style:D,timeout:m,easing:R},{mode:"exit"});let p;m==="auto"?(p=u.transitions.getAutoHeightDuration(o.clientHeight),w.current=p):p=d,o.style.transition=[u.transitions.create("opacity",{duration:p,delay:f}),u.transitions.create("transform",{duration:Y?p:p*.666,delay:Y?f:f||p*.333,easing:C})].join(","),o.style.opacity=0,o.style.transform=J(.75),T&&T(o)}),A=v(G),V=o=>{m==="auto"&&I.start(w.current||0,o),_&&_(P.current,o)};return U.jsx(a,x({appear:M,in:W,nodeRef:P,onEnter:H,onEntered:N,onEntering:k,onExit:E,onExited:A,onExiting:K,addEndListener:V,timeout:m==="auto"?null:m},g,{children:(o,d)=>i.cloneElement(O,x({style:x({opacity:0,transform:J(.75),visibility:o==="exited"&&!W?"hidden":void 0},$t[o],D,O.props.style),ref:j},d))}))});vt.muiSupportAuto=!0;function kt(e){return Rt("MuiPopover",e)}St("MuiPopover",["root","paper"]);const Nt=["onEntering"],Ft=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ut=["slotProps"];function ft(e,t){let s=0;return typeof t=="number"?s=t:t==="center"?s=e.height/2:t==="bottom"&&(s=e.height),s}function ht(e,t){let s=0;return typeof t=="number"?s=t:t==="center"?s=e.width/2:t==="right"&&(s=e.width),s}function mt(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function q(e){return typeof e=="function"?e():e}const Gt=e=>{const{classes:t}=e;return Ot({root:["root"],paper:["paper"]},kt,t)},Bt=gt(jt,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),It=gt(Ht,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Zt=i.forwardRef(function(t,s){var _,M,O;const R=Ct({props:t,name:"MuiPopover"}),{action:W,anchorEl:c,anchorOrigin:S={vertical:"top",horizontal:"left"},anchorPosition:$,anchorReference:T="anchorEl",children:G,className:B,container:D,elevation:m=8,marginThreshold:a=16,open:g,PaperProps:I={},slots:w,slotProps:u,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:j=vt,transitionDuration:v="auto",TransitionProps:{onEntering:k}={},disableScrollLock:H=!1}=R,N=F(R.TransitionProps,Nt),K=F(R,Ft),E=(_=u==null?void 0:u.paper)!=null?_:I,A=i.useRef(),V=Pt(A,E.ref),o=x({},R,{anchorOrigin:S,anchorReference:T,elevation:m,marginThreshold:a,externalPaperSlotProps:E,transformOrigin:P,TransitionComponent:j,transitionDuration:v,TransitionProps:N}),d=Gt(o),f=i.useCallback(()=>{if(T==="anchorPosition")return $;const n=q(c),l=(n&&n.nodeType===1?n:ut(A.current).body).getBoundingClientRect();return{top:l.top+ft(l,S.vertical),left:l.left+ht(l,S.horizontal)}},[c,S.horizontal,S.vertical,$,T]),C=i.useCallback(n=>({vertical:ft(n,P.vertical),horizontal:ht(n,P.horizontal)}),[P.horizontal,P.vertical]),p=i.useCallback(n=>{const r={width:n.offsetWidth,height:n.offsetHeight},l=C(r);if(T==="none")return{top:null,left:null,transformOrigin:mt(l)};const et=f();let z=et.top-l.vertical,L=et.left-l.horizontal;const nt=z+r.height,rt=L+r.width,it=dt(q(c)),st=it.innerHeight-a,at=it.innerWidth-a;if(a!==null&&z<a){const h=z-a;z-=h,l.vertical+=h}else if(a!==null&&nt>st){const h=nt-st;z-=h,l.vertical+=h}if(a!==null&&L<a){const h=L-a;L-=h,l.horizontal+=h}else if(rt>at){const h=rt-at;L-=h,l.horizontal+=h}return{top:`${Math.round(z)}px`,left:`${Math.round(L)}px`,transformOrigin:mt(l)}},[c,T,f,C,a]),[b,Q]=i.useState(g),y=i.useCallback(()=>{const n=A.current;if(!n)return;const r=p(n);r.top!==null&&(n.style.top=r.top),r.left!==null&&(n.style.left=r.left),n.style.transformOrigin=r.transformOrigin,Q(!0)},[p]);i.useEffect(()=>(H&&window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)),[c,H,y]);const Et=(n,r)=>{k&&k(n,r),y()},yt=()=>{Q(!1)};i.useEffect(()=>{g&&y()}),i.useImperativeHandle(W,()=>g?{updatePosition:()=>{y()}}:null,[g,y]),i.useEffect(()=>{if(!g)return;const n=Mt(()=>{y()}),r=dt(c);return r.addEventListener("resize",n),()=>{n.clear(),r.removeEventListener("resize",n)}},[c,g,y]);let Z=v;v==="auto"&&!j.muiSupportAuto&&(Z=void 0);const xt=D||(c?ut(q(c)).body:void 0),X=(M=w==null?void 0:w.root)!=null?M:Bt,tt=(O=w==null?void 0:w.paper)!=null?O:It,Tt=pt({elementType:tt,externalSlotProps:x({},E,{style:b?E.style:x({},E.style,{opacity:0})}),additionalProps:{elevation:m,ref:V},ownerState:o,className:lt(d.paper,E==null?void 0:E.className)}),ot=pt({elementType:X,externalSlotProps:(u==null?void 0:u.root)||{},externalForwardedProps:K,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:xt,open:g},ownerState:o,className:lt(d.root,B)}),{slotProps:wt}=ot,bt=F(ot,Ut);return U.jsx(X,x({},bt,!Dt(X)&&{slotProps:wt,disableScrollLock:H},{children:U.jsx(j,x({appear:!0,in:g,onEntering:Et,onExited:yt,timeout:Z},N,{children:U.jsx(tt,x({},Tt,{children:G}))}))}))});export{vt as G,It as P,Zt as a};
