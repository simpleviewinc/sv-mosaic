import{j as s}from"./jsx-runtime-nGUw9YhZ.js";import{r as n}from"./index-BP8_t0zE.js";import{D as E}from"./DataViewPrimaryFilter-BY7RwnGl.js";import{a as F,D as j}from"./FormFieldText.styled-BceLEoIp.js";import{s as w,B as x}from"./theme-DRtZtbPc.js";import{u as V,V as p,F as N}from"./Form-CRLLXiYV.js";import{t as y}from"./testIds-wFnuQL-c.js";const A=w.div`
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	width: ${x.sm};
`,h=[{fields:[[["min"],["max"]]],gridMinWidth:x.sm}];function B({args:o,data:{min:a,max:l}={},onChange:i,onClose:u}){const r=V(),{state:{data:{min:t,max:e},errors:c},methods:{setFormValues:m}}=r,d=n.useCallback(async()=>({min:a,max:l}),[a,l]),f=n.useCallback(()=>{m({values:{min:void 0,max:void 0}})},[m]),v=n.useCallback(()=>{i(!t&&!e?void 0:{min:t,max:e}),u()},[e,t,i,u]),D=n.useMemo(()=>[{name:"min",type:"number",label:"Minimum",size:"full",inputSettings:o,validators:[{fn:p,options:{maxName:"max"}}],validates:["max"]},{name:"max",type:"number",label:"Maximum",size:"full",inputSettings:o,validators:[{fn:p,options:{minName:"min"}}],validates:["min"]}],[o]),b=Object.values(c).filter(Boolean).length>0;return s.jsxs(A,{"data-testid":y.DATA_VIEW_FILTER_NUMBER_CONTENT,children:[s.jsx(N,{...r,fields:D,sections:h,fullHeight:!1,spacing:"compact",getFormValues:d}),s.jsx(F,{onApply:v,onClear:f,disableApply:b})]})}function S({args:o,data:a,label:l,onChange:i}){const[u,r]=n.useState(null),{min:t,max:e}=a??{},c=function(f){r(f.currentTarget)},m=function(){r(null)},d=n.useMemo(()=>{if(!(t===void 0&&e===void 0))return t===void 0?`${e} or less`:e===void 0?`${t} or greater`:`Between ${t} and ${e}`},[t,e]);return s.jsxs(s.Fragment,{children:[s.jsx(E,{label:l,value:d,onClick:c}),s.jsx(j,{anchorEl:u,onClose:m,children:s.jsx(B,{args:o,data:a,onChange:i,onClose:m})})]})}export{S as D};
