import{j as o}from"./jsx-runtime-nGUw9YhZ.js";import{r as d}from"./index-BP8_t0zE.js";import{s as g}from"./theme-DRtZtbPc.js";import{D as v}from"./DataViewPrimaryFilter-BY7RwnGl.js";import{M as E}from"./Button-Do5OxnZO.js";const w=g.span``;function b(e){var l,c;const[t,n]=d.useState({anchorEl:null,selected:void 0,options:[]});if(e.args.required&&!e.data.value)throw new Error("Invalid use-case, a value is required but none was provided");const i=(l=e.data)==null?void 0:l.value;d.useEffect(()=>{async function a(){const h=await e.args.getSelected(i),m=await e.args.getOptions();n({...t,options:m.docs,selected:h})}a()},[e.data]);const u=function(a){n({...t,anchorEl:a.currentTarget})},r=function(){n({...t,anchorEl:null})};let s;t.selected!==void 0&&(s=t.selected.label);const f=function(a){a===""||a===void 0?e.onChange(void 0):e.onChange({value:a}),r()};return o.jsxs(w,{children:[o.jsx(v,{label:e.label,value:s,onClick:u}),o.jsx(E,{onClose:r,anchorEl:t.anchorEl,open:!!t.anchorEl,items:t.options,onChange:f,value:i,placeholder:(c=e.args)!=null&&c.required?void 0:"Any..."})]})}export{b as D};
