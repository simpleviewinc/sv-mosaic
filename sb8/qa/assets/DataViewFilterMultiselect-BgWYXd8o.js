import{r,R as a}from"./index-D0AnReJb.js";import{D as A}from"./DataViewPrimaryFilter-DbuXG1-l.js";import{D}from"./index-B5R14LNF.js";import{D as x}from"./DataViewFilterDropdownButtons-j8BN_zxt.js";import{B as O}from"./Badge-nT9K5bgY.js";import{t as s}from"./testIds-DLbO0bd9.js";const h=[{label:"In",value:"in"},{label:"Not In",value:"not_in"},{label:"All",value:"all"},{label:"Exists",value:"exists"},{label:"Not Exists",value:"not_exists"}],d={in:"",not_in:"not in",all:"all"};function V(e){var i;const[t,l]=r.useState({anchorEl:null,selected:[],dropdownOpen:!1}),m=e.data.value||[],o=e.data.comparison||"in";r.useEffect(()=>{async function n(){const g=await e.args.getSelected(m);l(v=>({...v,selected:g}))}n()},[e.data]);const u=function(n){l({...t,anchorEl:n.currentTarget})},c=function(){l({...t,anchorEl:null})},E=function(){l({...t,dropdownOpen:!0})},f=function(){l({...t,dropdownOpen:!1})},p=function(n){n.value.length>0||n.comparison==="exists"||n.comparison==="not_exists"?e.onChange(n):e.onChange(void 0),c()},_=e.args&&e.args.comparisons?h.filter(n=>e.args.comparisons.includes(n.value)):void 0;return a.createElement("span",null,a.createElement(A,{label:e.label,value:o==="exists"?a.createElement("span",{"data-testid":s.DATA_VIEW_FILTER_OPERATOR},"exists"):o==="not_exists"?a.createElement("span",{"data-testid":s.DATA_VIEW_FILTER_OPERATOR},"does not exist"):t.selected.length>0&&a.createElement(a.Fragment,null,d[o]&&a.createElement("span",{"data-testid":s.DATA_VIEW_FILTER_OPERATOR},d[o]),a.createElement(O,{attrs:{"data-testid":s.DATA_VIEW_FILTER_VALUE}},t.selected[0].label)),onClick:u,multiselect:t==null?void 0:t.selected}),a.createElement(x,{anchorEl:t.anchorEl,onClose:c,onEntered:E,onExited:f},a.createElement(D,{comparison:o,comparisons:_,selected:t.selected,getOptions:e.args.getOptions,isOpen:t.dropdownOpen,onApply:p,placeholder:(i=e.args)===null||i===void 0?void 0:i.placeholder,limit:e.args.limit})))}export{V as D};
