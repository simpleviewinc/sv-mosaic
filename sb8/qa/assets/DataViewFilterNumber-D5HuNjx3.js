import{j as n}from"./jsx-runtime-nGUw9YhZ.js";import{r as s}from"./index-BP8_t0zE.js";import{D as j}from"./DataViewPrimaryFilter-CNIfPXcu.js";import{a as w,D as F}from"./FormFieldText.styled-B_lPWMo9.js";import{s as h,B as x}from"./theme-Cyujm90X.js";import{u as V,V as f,F as y}from"./formUtils-C1HgQFML.js";import"./Button-Cm1Qf39l.js";import"./useMosaicTranslation-CZCb37QS.js";const E=h.div`
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	width: ${x.sm};
`,A=[{fields:[[["min"],["max"]]],gridMinWidth:x.sm}];function N({args:o,data:{min:a,max:l}={},onChange:i,onClose:u}){const r=V(),{state:{data:{min:t,max:e},errors:c},methods:{setFormValues:m}}=r,d=s.useCallback(async()=>({min:a,max:l}),[a,l]),p=s.useCallback(()=>{m({values:{min:void 0,max:void 0}})},[m]),v=s.useCallback(()=>{i(!t&&!e?void 0:{min:t,max:e}),u()},[e,t,i,u]),b=s.useMemo(()=>[{name:"min",type:"number",label:"Minimum",size:"full",inputSettings:o,validators:[{fn:f,options:{maxName:"max"}}],validates:["max"]},{name:"max",type:"number",label:"Maximum",size:"full",inputSettings:o,validators:[{fn:f,options:{minName:"min"}}],validates:["min"]}],[o]),D=Object.values(c).filter(Boolean).length>0;return n.jsxs(E,{children:[n.jsx(y,{...r,fields:b,sections:A,fullHeight:!1,spacing:"compact",getFormValues:d}),n.jsx(w,{onApply:v,onClear:p,disableApply:D})]})}function T({args:o,data:a,label:l,onChange:i}){const[u,r]=s.useState(null),{min:t,max:e}=a??{},c=function(p){r(p.currentTarget)},m=function(){r(null)},d=s.useMemo(()=>{if(!(t===void 0&&e===void 0))return t===void 0?`Less than ${e}`:e===void 0?`Greater than ${t}`:`Between ${t} and ${e}`},[t,e]);return n.jsxs(n.Fragment,{children:[n.jsx(j,{label:l,value:d,onClick:c}),n.jsx(F,{anchorEl:u,onClose:m,children:n.jsx(N,{args:o,data:a,onChange:i,onClose:m})})]})}export{T as D};
