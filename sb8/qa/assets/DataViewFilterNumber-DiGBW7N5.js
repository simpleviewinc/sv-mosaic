import{r as s,R as n}from"./index-D0AnReJb.js";import{D as x}from"./DataViewPrimaryFilter-CU5Cj7P-.js";import{a as D,D as F}from"./DataViewFilterDropdownButtons-B-4fHIWu.js";import{B as b}from"./sizes-DkIXWPpc.js";import{u as w,V as f,F as A}from"./index-B4r44Pjp.js";import{s as C}from"./styled-components.browser.esm-8X0uN6v9.js";import{t as N}from"./testIds-oQNwr1rf.js";const V=C.div`
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	width: ${b.sm};
`,v=[{fields:[[["min"],["max"]]],gridMinWidth:b.sm}];function M({args:l,data:{min:a,max:u}={},onChange:o,onClose:m}){const r=w({data:{min:a,max:u}}),{state:{data:{min:e,max:t},errors:c},methods:{setFormValues:i}}=r,p=s.useCallback(()=>{i({values:{min:void 0,max:void 0}})},[i]),d=s.useCallback(()=>{o(!e&&!t?void 0:{min:e,max:t}),m()},[t,e,o,m]),E=s.useMemo(()=>[{name:"min",type:"number",label:"Minimum",size:"full",inputSettings:l,validators:[{fn:f,options:{maxName:"max"}}],validates:["max"]},{name:"max",type:"number",label:"Maximum",size:"full",inputSettings:l,validators:[{fn:f,options:{minName:"min"}}],validates:["min"]}],[l]),y=Object.values(c).filter(Boolean).length>0;return n.createElement(V,{"data-testid":N.DATA_VIEW_FILTER_NUMBER_CONTENT},n.createElement(A,{...r,fields:E,sections:v,fullHeight:!1,spacing:"compact",autoFocus:!0}),n.createElement(D,{onApply:d,onClear:p,disableApply:y}))}function S({args:l,data:a,label:u,onChange:o}){const[m,r]=s.useState(null),{min:e,max:t}=a??{},c=function(d){r(d.currentTarget)},i=function(){r(null)},p=s.useMemo(()=>{if(e!==void 0&&t!==void 0)return[{type:"operator",label:"between"},{type:"term",label:e},{type:"operator",label:"and"},{type:"term",label:t}];if(e!==void 0)return[{type:"term",label:e},{type:"operator",label:"or greater"}];if(t!==void 0)return[{type:"term",label:t},{type:"operator",label:"or less"}]},[t,e]);return n.createElement(n.Fragment,null,n.createElement(x,{label:u,parts:p,onClick:c}),n.createElement(F,{anchorEl:m,onClose:i},n.createElement(M,{args:l,data:a,onChange:o,onClose:i})))}export{S as D};
