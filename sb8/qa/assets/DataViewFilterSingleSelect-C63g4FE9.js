import{r as a}from"./index-D0AnReJb.js";import{s as m}from"./styled-components.browser.esm-8X0uN6v9.js";import{D as h}from"./DataViewPrimaryFilter-CU5Cj7P-.js";import{M as g}from"./Button-CyFYeSR6.js";const E=m.span``;function S(e){var o,l;const[n,r]=a.useState({anchorEl:null,selected:void 0,options:[]});if(e.args.required&&!e.data.value)throw new Error("Invalid use-case, a value is required but none was provided");const i=(o=e.data)===null||o===void 0?void 0:o.value;a.useEffect(()=>{async function t(){const u=await e.args.getSelected(i),f=await e.args.getOptions();r({...n,options:f.docs,selected:u})}t()},[e.data]);const s=function(t){r({...n,anchorEl:t.currentTarget})},c=function(){r({...n,anchorEl:null})},d=function(t){t===""||t===void 0?e.onChange(void 0):e.onChange({value:t}),c()};return a.createElement(E,null,a.createElement(h,{label:e.label,parts:n.selected&&[{type:"term",label:n.selected.label}],onClick:s}),a.createElement(g,{onClose:c,anchorEl:n.anchorEl,open:!!n.anchorEl,items:n.options,onChange:d,value:i,placeholder:!((l=e.args)===null||l===void 0)&&l.required?void 0:"Any..."}))}export{S as D};
