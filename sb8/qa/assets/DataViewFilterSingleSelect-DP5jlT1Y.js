import{r as a}from"./index-D0AnReJb.js";import{s as h}from"./styled-components.browser.esm-B06rF3P8.js";import{D as m}from"./DataViewPrimaryFilter-Bk23Hl6t.js";import{M as v}from"./Button-mgz2aTYm.js";const E=h.span``;function D(e){var o,l;const[n,i]=a.useState({anchorEl:null,selected:void 0,options:[]});if(e.args.required&&!e.data.value)throw new Error("Invalid use-case, a value is required but none was provided");const r=(o=e.data)===null||o===void 0?void 0:o.value;a.useEffect(()=>{async function t(){const f=await e.args.getSelected(r),g=await e.args.getOptions();i({...n,options:g.docs,selected:f})}t()},[e.data]);const d=function(t){i({...n,anchorEl:t.currentTarget})},c=function(){i({...n,anchorEl:null})};let s;n.selected!==void 0&&(s=n.selected.label);const u=function(t){t===""||t===void 0?e.onChange(void 0):e.onChange({value:t}),c()};return a.createElement(E,null,a.createElement(m,{label:e.label,value:s,onClick:d}),a.createElement(v,{onClose:c,anchorEl:n.anchorEl,open:!!n.anchorEl,items:n.options,onChange:u,value:r,placeholder:!((l=e.args)===null||l===void 0)&&l.required?void 0:"Any..."}))}export{D};
