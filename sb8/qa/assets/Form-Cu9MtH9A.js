var VT=Object.defineProperty;var WT=(n,e,t)=>e in n?VT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Tl=(n,e,t)=>WT(n,typeof e!="symbol"?e+"":e,t);import{j as v,r as wt}from"./jsx-runtime-DiwAibxM.js";import{g as it,a as L,r as m,b as vs,d as Ll}from"./index-Btj5Fd67.js";import{s as ee,C as Gw,t as V,n as xi}from"./theme-C7C0QMlu.js";import{S as UT}from"./SideNav-BXGvGLiL.js";import{c as Wt}from"./containerQuery-BqcK0eeN.js";import{b as Fe,t as De,r as qT,c as Kw,d as GT,C as KT,P as YT,e as Pt,h as vm,i as rh,j as Ac,k as JT,s as ih,l as Yw,m as ZT,n as XT,o as Mv,p as QT,q as Ev,u as eL,v as tL,w as Jw,x as Qr,y as Zw,f as Jo,z as nL,A as rL,g as sr,B as eu,D as ym,E as iL,a as oL,F as sL,G as bu}from"./ColorSelected-rVJC1bnf.js";import{b as aL,S as ys,F as Xw,i as gd,c as Ti,o as Tv,f as go,A as lL,T as uL,I as xu,d as Qw,e as cL}from"./FormFieldText.styled-BXg2h5EQ.js";import{S as Qe,a as wu,B as il}from"./ButtonRow-DaYhrvd1.js";import{C as dL,F as fL}from"./CheckboxList-CKLT5_IE.js";import{_ as nt,d as X,T as pL,I as hL,D as mL,E as oh,i as Ct,g as kn,a as Dt,s as Le,b as ol,u as to,e as zn,f as Mn,j as vd,J as gL,l as vL,x as Oc,w as bm,K as yL}from"./generateUtilityClasses-oWyMxXuq.js";import{r as St}from"./createSvgIcon-C7F5N1gl.js";import{C as sh,a as bL,b as eC}from"./Chip-BycvDKsV.js";import{E as xm}from"./DataViewPrimaryFilter.styled-BUfrUkss.js";import{S as ht}from"./sizes-C6oSOElx.js";import{c as qr}from"./createSvgIcon-Bmixpj46.js";import{I as wi,d as ua,G as xL,u as wm,T as Cm,P as wL,B as ln,e as CL}from"./Button-BW21zc79.js";import{f as SL,T as tC,R as kL,a as no,P as sl,u as bs,g as Lv,h as ML,m as EL,j as TL,k as LL,F as nC}from"./Popper-lO7-sb5Y.js";import{u as Sm}from"./useId-DwELyCdS.js";import{u as ns}from"./useControlled-D8KJxpyu.js";import{_ as AL,a as ca,s as OL,u as Vr,c as Pe,d as RL,b as km}from"./useIsFocusVisible-C9uVWUyr.js";import{a as PL,R as DL}from"./RadioButton-BFvQvs9V.js";import{T as IL}from"./Toggle-Lx-sDa2f.js";import{c as Mm,g as ro,a as Rc,e as al,f as NL,i as _L,r as $L}from"./debounce-B3RVa3dT.js";import{m as ll,l as rC,A as FL,B as BL,C as iC,E as oC,F as jL,n as zL,G as sC,H as HL,I as VL,J as WL,K as UL,L as Pc,b as aC,M as lC,N as qL,O as GL,P as KL,Q as YL,R as JL,S as ZL,d as XL,x as QL,p as eA,T as uC,j as tA,a as nA,U as rA,v as cC,V as iA,W as oA,X as sA,i as aA,u as lA,D as uA,Y as cA}from"./index-B6f3rorp.js";import{D as Zo,b as dA,T as fA,c as pA}from"./formats-sBod7wm8.js";import{u as hA}from"./FormControlLabel-DlxLljVV.js";import{b as mA,c as Av,e as gA,f as at,g as ot,h as Ae,i as st,_ as vA}from"./useMosaicTranslation-L7Zdnfri.js";import{T as gi}from"./formControlState-Bl9Dd4wz.js";import{a as yA,b as bA,d as Ov,c as xA,D as Em}from"./Dialog-BFRUe6cu.js";import{o as yd}from"./ownerWindow-DvT1GKkC.js";import{B as dC,T as fC}from"./ButtonBase-Ci24pScM.js";import{u as wA}from"./useTheme-CN1B93FI.js";import{u as CA}from"./useMediaQuery-Yl5lg82S.js";import{D as pC,a as SA,b as kA}from"./TitleWrapper-Bkg-hsBc.js";import{T as MA}from"./Typography-D0-akgTt.js";import{T as EA}from"./TitleText-CdOksVB0.js";import{S as Tm}from"./Snackbar-B25MKBii.js";import{r as Ci,R as TA}from"./index-T5NeFSal.js";import{t as Ar}from"./testIds-DZf96GK8.js";import{T as LA,F as Lm,B as ah}from"./TooltipIcon-C4tSz_X8.js";import{g as tu}from"./useToggle-B3mbTfSB.js";import{C as AA}from"./ClickAwayListener-DweT8u9y.js";import{M as OA}from"./MoreVert-BH0BHXBp.js";import{P as RA}from"./PageHeader-CmlBcYYr.js";import{S as Am}from"./Spinner-C0FunRuE.js";var bd={exports:{}},xd,Rv;function PA(){if(Rv)return xd;Rv=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xd=n,xd}var wd,Pv;function DA(){if(Pv)return wd;Pv=1;var n=PA();function e(){}function t(){}return t.resetWarningCache=e,wd=function(){function r(s,a,l,u,c,d){if(d!==n){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},wd}var Dv;function hC(){return Dv||(Dv=1,bd.exports=DA()()),bd.exports}var IA=hC();const ke=it(IA);function NA(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function _A(n,e){n.classList?n.classList.add(e):NA(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function Iv(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function $A(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=Iv(n.className,e):n.setAttribute("class",Iv(n.className&&n.className.baseVal||"",e))}var FA=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return _A(e,r)})},Cd=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return $A(e,r)})},Om=function(n){AL(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1];r.removeClasses(c,"exit"),r.addClass(c,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1],f=d?"appear":"enter";r.addClass(c,f,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1],f=d?"appear":"enter";r.removeClasses(c,f),r.addClass(c,f,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",d=u?""+c+a:l[a],f=u?d+"-active":l[a+"Active"],p=u?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:p}},r}var t=e.prototype;return t.addClass=function(i,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;o==="appear"&&s==="done"&&u&&(a+=" "+u),s==="active"&&i&&SL(i),a&&(this.appliedClasses[o][s]=a,FA(i,a))},t.removeClasses=function(i,o){var s=this.appliedClasses[o],a=s.base,l=s.active,u=s.done;this.appliedClasses[o]={},a&&Cd(i,a),l&&Cd(i,l),u&&Cd(i,u)},t.render=function(){var i=this.props;i.classNames;var o=nt(i,["classNames"]);return L.createElement(tC,X({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(L.Component);Om.defaultProps={classNames:""};Om.propTypes={};const BA=n=>{const e=m.useRef({});return m.useEffect(()=>{e.current=n}),e.current},mC=m.createContext(null);function gC(){return m.useContext(mC)}const jA=typeof Symbol=="function"&&Symbol.for,zA=jA?Symbol.for("mui.nested"):"__THEME_NESTED__";function HA(n,e){return typeof e=="function"?e(n):X({},n,e)}function VA(n){const{children:e,theme:t}=n,r=gC(),i=m.useMemo(()=>{const o=r===null?t:HA(r,t);return o!=null&&(o[zA]=r!==null),o},[t,r]);return v.jsx(mC.Provider,{value:i,children:e})}const Nv={};function _v(n,e,t,r=!1){return m.useMemo(()=>{const i=n&&e[n]||e;if(typeof t=="function"){const o=t(i),s=n?X({},e,{[n]:o}):o;return r?()=>s:s}return n?X({},e,{[n]:t}):X({},e,t)},[n,e,t,r])}function WA(n){const{children:e,theme:t,themeId:r}=n,i=wA(Nv),o=gC()||Nv,s=_v(r,i,t),a=_v(r,o,t,!0),l=s.direction==="rtl";return v.jsx(VA,{theme:a,children:v.jsx(pL.Provider,{value:s,children:v.jsx(kL,{value:l,children:v.jsx(hL,{value:s==null?void 0:s.components,children:e})})})})}function Gr({props:n,name:e}){return hA({props:n,name:e,defaultTheme:mL,themeId:oh})}const UA=["theme"];function qA(n){let{theme:e}=n,t=nt(n,UA);const r=e[oh];return v.jsx(WA,X({},t,{themeId:r?oh:void 0,theme:r||e}))}function as(n){Fe(1,arguments);var e=De(n);return e.setHours(0,0,0,0),e}function GA(n,e){Fe(2,arguments);var t=as(n),r=as(e);return t.getTime()===r.getTime()}const KA=ee.div`
	position: relative;
	display: flex;
	flex-direction: column;

	container-type: inline-size;
	container-name: ${Gw.FORM};

	${({$fullHeight:n=!0})=>n&&`
		height: 100%;
	`}
`,YA=ee.form`
	display: flex;
	flex-direction: column;
	flex: 1 1 0%;
	min-height: 0;
`,JA=ee.div`
	overflow-y: auto;
	flex-grow: 1;
	min-width: 0;
	padding: ${({$spacing:n})=>n==="compact"?"16px":"24px"};
	position: relative;
`,ZA=ee.div`
	flex-grow: 1;
	min-height: 0;
	display: flex;
	flex-direction: column;

	${Wt("xl","FORM")} {
		flex-direction: row;
	}
`,XA=ee(UT)`
	display: none;
	margin-top: 10px;

	${Wt("sm","FORM")} {
		display: block;
	}

	${Wt("xl","FORM")} {
		margin-top: 0;
	}
`,QA=ee.div`
	border-top: 2px solid ${V.newColors.grey2[100]};
	padding: ${({$spacing:n})=>n==="compact"?"16px":"24px"};
	display: flex;
`,eO=ee.div`
	${({$columns:n,$gridMinWidth:e,$spacing:t})=>n&&`
		display: grid;
		grid-template-columns: repeat(1,minmax(0,1fr));
		gap: ${t==="compact"?"16px":"24px"};

		${e?`
			@container form (min-width: ${e}) {
				grid-template-columns: repeat(${n},minmax(0,1fr));
			}
		`:`
			${Wt("md","FORM")} {
				grid-template-columns: repeat(${n>1?2:1},minmax(0,1fr));
			}
			${Wt("lg","FORM")} {
				grid-template-columns: repeat(${n},minmax(0,1fr));
			}
		`}
	`}
`,tO=ee.div`
	display: flex;
	flex-direction: column;
	position: relative;
	gap: 24px;

	container-type: inline-size;
	container-name: ${Gw.FORM_COL};
`;function lh(n){return"isPending"in n&&n.isPending}function uh(n){return Object.prototype.toString.call(n)==="[object Object]"}const vC=n=>{if(!(n===""||Array.isArray(n)&&n.length===0)&&!(uh(n)&&!Object.values(n).filter(e=>e!==void 0).length))return n};function Jt(n){return{internalValue:n,value:vC(n)}}const nO=n=>{var h,g,y,x,b,w,k,S;const{fieldDef:e,error:t,onChange:r,onBlur:i,value:o,disabled:s,inputRef:a,id:l,skeleton:u}=n,c=(h=e==null?void 0:e.inputSettings)!=null&&h.prefixElement?{startAdornment:v.jsx(aL,{position:"start",children:(g=e==null?void 0:e.inputSettings)==null?void 0:g.prefixElement})}:null,d=C=>{const{value:M}=C.target;r&&r(M)},f=C=>{const{value:M}=C.target;i&&i(M===""?void 0:M),e!=null&&e.onBlurCb&&(e==null||e.onBlurCb(M))},p=typeof t=="string"?(t==null?void 0:t.trim().length)>0:!1;return u?v.jsx(Qe,{variant:"rectangular",width:"100%",height:43}):v.jsx(ys,{id:l,"data-testid":"form-field-text-test-id",value:o??"",onChange:d,onBlur:f,variant:"outlined",error:p||p&&(e==null?void 0:e.required),className:e==null?void 0:e.className,placeholder:(y=e==null?void 0:e.inputSettings)==null?void 0:y.placeholder,multiline:(x=e==null?void 0:e.inputSettings)==null?void 0:x.multiline,fieldSize:e==null?void 0:e.size,InputProps:{...c||{},inputRef:a},required:e==null?void 0:e.required,type:((b=e==null?void 0:e.inputSettings)==null?void 0:b.type)==="number"?"text":(w=e==null?void 0:e.inputSettings)==null?void 0:w.type,minRows:(k=e==null?void 0:e.inputSettings)==null?void 0:k.minRows,maxRows:(S=e==null?void 0:e.inputSettings)==null?void 0:S.maxRows,disabled:s})},rO=m.memo(nO);var Es={},$v;function iO(){if($v)return Es;$v=1;var n=Ct();Object.defineProperty(Es,"__esModule",{value:!0}),Es.default=void 0;var e=n(St()),t=wt();return Es.default=(0,e.default)((0,t.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),Es}var oO=iO();const yC=it(oO);ee.div`
  display: flex;
`;const sO=ee(dL)`
  &.MuiFormGroup-root {
    margin-left: -12px;
		height: fit-content !important;
  }
`;ee(Xw)`
  &.MuiFormHelperText-root {
    color: ${V.newColors.grey3[100]};
    font-size: ${n=>n.error?"12px":"14px"};
    margin-top: ${n=>n.error?null:"8px"};
    margin-bottom: ${n=>n.error?null:"8px"};
  }

  &.MuiFormHelperText-root.Mui-error {
    color: ${V.newColors.darkRed[100]};
  }
`;ee.div`
  align-items: center;
  color: ${V.newColors.darkRed[100]};
  display: flex;
  flex-direction: row;
  margin-top: 8px;
`;ee(yC)`
	&.MuiSvgIcon-root {
		font-size: 16px;
		margin-right: 8px;
	}
`;const aO=ee.div`
	display: flex;
	flex-flow: column;
`,lO=ee.div`
	display: flex;
	align-items: center;
`,uO=ee.div`
	display: flex;
	align-items: center;
	justify-content: center;
	width: 18px;
	height: 40px;
	margin-right: 14px;
`;function Sd(){return v.jsxs(lO,{children:[v.jsx(uO,{children:v.jsx(Qe,{variant:"rectangular",width:18,height:18})}),v.jsx(Qe,{width:52,height:28})]})}function cO(){return v.jsxs(aO,{children:[v.jsx(Sd,{}),v.jsx(Sd,{}),v.jsx(Sd,{})]})}function Dc(n,e=!0){const t=m.useRef(!1);m.useEffect(()=>{t.current||!e||(console.warn(n),t.current=!0)})}function kd(n,e){return[...e.filter(t=>!n.some(r=>r.value===t.value)),...n]}function Ic({from:n,add:e=[]}){const[t,r]=m.useState(!1),[i,o]=m.useState(void 0),s=Array.isArray(n)?n:void 0;return m.useEffect(()=>{async function a(){if(typeof n!="function")return;o([]),r(!0);const l=await n();o(l),r(!1)}a()},[n]),s?{options:kd(s,e),type:"sync"}:i?{options:kd(i,e),type:"async",loading:t}:{options:kd([],e),type:"none"}}const dO=n=>{const{fieldDef:e,onChange:t,onBlur:r,value:i,disabled:o,skeleton:s,id:a}=n,{inputSettings:{getOptions:l,options:u=l}={}}=e;Dc(`The \`getOptions\` input setting (provided to the \`${e.name}\` field) is deprecated and will be removed in future versions. Use the \`options\` input setting instead.`,!!l);const{options:c,loading:d}=Ic({from:u,add:i});return s||d?v.jsx(cO,{}):v.jsx(sO,{disabled:o,checked:i,options:c,onChange:t,onBlur:r,style:e.style,className:e.className,id:a})},fO=m.memo(dO),pO=ee.div`
	display: flex;
	flex-wrap: wrap;
	row-gap: 12px;

	& .MuiChip-root {
		border: 1px solid ${({$error:n})=>n?V.newColors.darkRed[100]:"transparent"};
		margin-right: 12px;
	}

	& .MuiChip-root:last-child {
		margin-right: 0px;
	}
`,hO=ee.div`
	display: flex;
	gap: 12px;

	& .MuiSkeleton-root {
		border-radius: 99999em;
	}
`;function mO(){return v.jsxs(hO,{children:[v.jsx(Qe,{variant:"rounded",width:85,height:32}),v.jsx(Qe,{variant:"rounded",width:78,height:32}),v.jsx(Qe,{variant:"rounded",width:186,height:32})]})}const gO=n=>{const{fieldDef:e,error:t,onChange:r,onBlur:i,value:o,disabled:s,skeleton:a}=n,{inputSettings:{getOptions:l,options:u=l}={}}=e;Dc(`The \`getOptions\` input setting (provided to the \`${e.name}\` field) is deprecated and will be removed in future versions. Use the \`options\` input setting instead.`,!!l);const{options:c,loading:d}=Ic({from:u,add:o?[o]:void 0});return a||d?v.jsx(mO,{}):v.jsx(pO,{$error:!!t,onBlur:i,role:"listbox",children:c.map(f=>v.jsx(sh,{label:f.label,disabled:s,selected:o&&o.value===f.value,onClick:async()=>r(f),role:"option"},f.value))})},vO=m.memo(gO),yO=ee.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;

  & .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root'] {
    padding: ${V.fieldSpecs.inputText.padding};
  }

  &
    .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root']
    .MuiAutocomplete-input:first-child,
  & .MuiAutocomplete-input,
  & .MuiOutlinedInput-inputAdornedEnd,
  & .MuiOutlinedInput-input,
  & .MuiInputBase-input {
    padding: 0px;
  }

  & .MuiOutlinedInput-input {
    height: ${V.fieldSpecs.inputText.height};
  }
`,bO=({children:n})=>v.jsx(yO,{children:n});function Fv(n){return typeof n.normalize<"u"?n.normalize("NFD").replace(/[\u0300-\u036f]/g,""):n}function xO(n={}){const{ignoreAccents:e=!0,ignoreCase:t=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=n;return(a,{inputValue:l,getOptionLabel:u})=>{let c=s?l.trim():l;t&&(c=c.toLowerCase()),e&&(c=Fv(c));const d=c?a.filter(f=>{let p=(o||u)(f);return t&&(p=p.toLowerCase()),e&&(p=Fv(p)),i==="start"?p.indexOf(c)===0:p.indexOf(c)>-1}):a;return typeof r=="number"?d.slice(0,r):d}}function Al(n,e){for(let t=0;t<n.length;t+=1)if(e(n[t]))return t;return-1}const wO=xO(),CO=5,SO=n=>{var e;return n.current!==null&&((e=n.current.parentElement)==null?void 0:e.contains(document.activeElement))};function kO(n){const{unstable_isActiveElementInListbox:e=SO,unstable_classNamePrefix:t="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!n.freeSolo,clearOnEscape:l=!1,componentName:u="useAutocomplete",defaultValue:c=n.multiple?[]:null,disableClearable:d=!1,disableCloseOnSelect:f=!1,disabled:p,disabledItemsFocusable:h=!1,disableListWrap:g=!1,filterOptions:y=wO,filterSelectedOptions:x=!1,freeSolo:b=!1,getOptionDisabled:w,getOptionKey:k,getOptionLabel:S=se=>{var ie;return(ie=se.label)!=null?ie:se},groupBy:C,handleHomeEndKeys:M=!n.freeSolo,id:T,includeInputInList:I=!1,inputValue:R,isOptionEqualToValue:z=(se,ie)=>se===ie,multiple:_=!1,onChange:W,onClose:D,onHighlightChange:B,onInputChange:F,onOpen:N,open:Z,openOnFocus:me=!1,options:re,readOnly:U=!1,selectOnFocus:J=!n.freeSolo,value:ue}=n,Y=Sm(T);let E=S;E=se=>{const ie=S(se);return typeof ie!="string"?String(ie):ie};const $=m.useRef(!1),Q=m.useRef(!0),te=m.useRef(null),ne=m.useRef(null),[be,ge]=m.useState(null),[ye,Ce]=m.useState(-1),Me=i?0:-1,O=m.useRef(Me),[P,H]=ns({controlled:ue,default:c,name:u}),[j,K]=ns({controlled:R,default:"",name:u,state:"inputValue"}),[ae,he]=m.useState(!1),pe=m.useCallback((se,ie)=>{if(!(_?P.length<ie.length:ie!==null)&&!a)return;let xe;if(_)xe="";else if(ie==null)xe="";else{const He=E(ie);xe=typeof He=="string"?He:""}j!==xe&&(K(xe),F&&F(se,xe,"reset"))},[E,j,_,F,K,a,P]),[ce,de]=ns({controlled:Z,default:!1,name:u,state:"open"}),[Ie,Te]=m.useState(!0),Oe=!_&&P!=null&&j===E(P),Be=ce&&!U,Re=Be?y(re.filter(se=>!(x&&(_?P:[P]).some(ie=>ie!==null&&z(se,ie)))),{inputValue:Oe&&Ie?"":j,getOptionLabel:E}):[],Je=BA({filteredOptions:Re,value:P,inputValue:j});m.useEffect(()=>{const se=P!==Je.value;ae&&!se||b&&!se||pe(null,P)},[P,pe,ae,Je.value,b]);const It=ce&&Re.length>0&&!U,kt=ca(se=>{se===-1?te.current.focus():be.querySelector(`[data-tag-index="${se}"]`).focus()});m.useEffect(()=>{_&&ye>P.length-1&&(Ce(-1),kt(-1))},[P,_,ye,kt]);function mt(se,ie){if(!ne.current||se<0||se>=Re.length)return-1;let Ee=se;for(;;){const xe=ne.current.querySelector(`[data-option-index="${Ee}"]`),He=h?!1:!xe||xe.disabled||xe.getAttribute("aria-disabled")==="true";if(xe&&xe.hasAttribute("tabindex")&&!He)return Ee;if(ie==="next"?Ee=(Ee+1)%Re.length:Ee=(Ee-1+Re.length)%Re.length,Ee===se)return-1}}const gt=ca(({event:se,index:ie,reason:Ee="auto"})=>{if(O.current=ie,ie===-1?te.current.removeAttribute("aria-activedescendant"):te.current.setAttribute("aria-activedescendant",`${Y}-option-${ie}`),B&&B(se,ie===-1?null:Re[ie],Ee),!ne.current)return;const xe=ne.current.querySelector(`[role="option"].${t}-focused`);xe&&(xe.classList.remove(`${t}-focused`),xe.classList.remove(`${t}-focusVisible`));let He=ne.current;if(ne.current.getAttribute("role")!=="listbox"&&(He=ne.current.parentElement.querySelector('[role="listbox"]')),!He)return;if(ie===-1){He.scrollTop=0;return}const tt=ne.current.querySelector(`[data-option-index="${ie}"]`);if(tt&&(tt.classList.add(`${t}-focused`),Ee==="keyboard"&&tt.classList.add(`${t}-focusVisible`),He.scrollHeight>He.clientHeight&&Ee!=="mouse"&&Ee!=="touch")){const A=tt,G=He.clientHeight+He.scrollTop,fe=A.offsetTop+A.offsetHeight;fe>G?He.scrollTop=fe-He.clientHeight:A.offsetTop-A.offsetHeight*(C?1.3:0)<He.scrollTop&&(He.scrollTop=A.offsetTop-A.offsetHeight*(C?1.3:0))}}),qt=ca(({event:se,diff:ie,direction:Ee="next",reason:xe="auto"})=>{if(!Be)return;const tt=mt((()=>{const A=Re.length-1;if(ie==="reset")return Me;if(ie==="start")return 0;if(ie==="end")return A;const G=O.current+ie;return G<0?G===-1&&I?-1:g&&O.current!==-1||Math.abs(ie)>1?0:A:G>A?G===A+1&&I?-1:g||Math.abs(ie)>1?A:0:G})(),Ee);if(gt({index:tt,reason:xe,event:se}),r&&ie!=="reset")if(tt===-1)te.current.value=j;else{const A=E(Re[tt]);te.current.value=A,A.toLowerCase().indexOf(j.toLowerCase())===0&&j.length>0&&te.current.setSelectionRange(j.length,A.length)}}),ut=()=>{const se=(ie,Ee)=>{const xe=ie?E(ie):"",He=Ee?E(Ee):"";return xe===He};if(O.current!==-1&&Je.filteredOptions&&Je.filteredOptions.length!==Re.length&&Je.inputValue===j&&(_?P.length===Je.value.length&&Je.value.every((ie,Ee)=>E(P[Ee])===E(ie)):se(Je.value,P))){const ie=Je.filteredOptions[O.current];if(ie)return Al(Re,Ee=>E(Ee)===E(ie))}return-1},yn=m.useCallback(()=>{if(!Be)return;const se=ut();if(se!==-1){O.current=se;return}const ie=_?P[0]:P;if(Re.length===0||ie==null){qt({diff:"reset"});return}if(ne.current){if(ie!=null){const Ee=Re[O.current];if(_&&Ee&&Al(P,He=>z(Ee,He))!==-1)return;const xe=Al(Re,He=>z(He,ie));xe===-1?qt({diff:"reset"}):gt({index:xe});return}if(O.current>=Re.length-1){gt({index:Re.length-1});return}gt({index:O.current})}},[Re.length,_?!1:P,x,qt,gt,Be,j,_]),Dn=ca(se=>{OL(ne,se),se&&yn()});m.useEffect(()=>{yn()},[yn]);const Ft=se=>{ce||(de(!0),Te(!0),N&&N(se))},un=(se,ie)=>{ce&&(de(!1),D&&D(se,ie))},Gt=(se,ie,Ee,xe)=>{if(_){if(P.length===ie.length&&P.every((He,tt)=>He===ie[tt]))return}else if(P===ie)return;W&&W(se,ie,Ee,xe),H(ie)},En=m.useRef(!1),In=(se,ie,Ee="selectOption",xe="options")=>{let He=Ee,tt=ie;if(_){tt=Array.isArray(P)?P.slice():[];const A=Al(tt,G=>z(ie,G));A===-1?tt.push(ie):xe!=="freeSolo"&&(tt.splice(A,1),He="removeOption")}pe(se,tt),Gt(se,tt,He,{option:ie}),!f&&(!se||!se.ctrlKey&&!se.metaKey)&&un(se,He),(s===!0||s==="touch"&&En.current||s==="mouse"&&!En.current)&&te.current.blur()};function Gn(se,ie){if(se===-1)return-1;let Ee=se;for(;;){if(ie==="next"&&Ee===P.length||ie==="previous"&&Ee===-1)return-1;const xe=be.querySelector(`[data-tag-index="${Ee}"]`);if(!xe||!xe.hasAttribute("tabindex")||xe.disabled||xe.getAttribute("aria-disabled")==="true")Ee+=ie==="next"?1:-1;else return Ee}}const cn=(se,ie)=>{if(!_)return;j===""&&un(se,"toggleInput");let Ee=ye;ye===-1?j===""&&ie==="previous"&&(Ee=P.length-1):(Ee+=ie==="next"?1:-1,Ee<0&&(Ee=0),Ee===P.length&&(Ee=-1)),Ee=Gn(Ee,ie),Ce(Ee),kt(Ee)},dn=se=>{$.current=!0,K(""),F&&F(se,"","clear"),Gt(se,_?[]:null,"clear")},Dr=se=>ie=>{if(se.onKeyDown&&se.onKeyDown(ie),!ie.defaultMuiPrevented&&(ye!==-1&&["ArrowLeft","ArrowRight"].indexOf(ie.key)===-1&&(Ce(-1),kt(-1)),ie.which!==229))switch(ie.key){case"Home":Be&&M&&(ie.preventDefault(),qt({diff:"start",direction:"next",reason:"keyboard",event:ie}));break;case"End":Be&&M&&(ie.preventDefault(),qt({diff:"end",direction:"previous",reason:"keyboard",event:ie}));break;case"PageUp":ie.preventDefault(),qt({diff:-5,direction:"previous",reason:"keyboard",event:ie}),Ft(ie);break;case"PageDown":ie.preventDefault(),qt({diff:CO,direction:"next",reason:"keyboard",event:ie}),Ft(ie);break;case"ArrowDown":ie.preventDefault(),qt({diff:1,direction:"next",reason:"keyboard",event:ie}),Ft(ie);break;case"ArrowUp":ie.preventDefault(),qt({diff:-1,direction:"previous",reason:"keyboard",event:ie}),Ft(ie);break;case"ArrowLeft":cn(ie,"previous");break;case"ArrowRight":cn(ie,"next");break;case"Enter":if(O.current!==-1&&Be){const Ee=Re[O.current],xe=w?w(Ee):!1;if(ie.preventDefault(),xe)return;In(ie,Ee,"selectOption"),r&&te.current.setSelectionRange(te.current.value.length,te.current.value.length)}else b&&j!==""&&Oe===!1&&(_&&ie.preventDefault(),In(ie,j,"createOption","freeSolo"));break;case"Escape":Be?(ie.preventDefault(),ie.stopPropagation(),un(ie,"escape")):l&&(j!==""||_&&P.length>0)&&(ie.preventDefault(),ie.stopPropagation(),dn(ie));break;case"Backspace":if(_&&!U&&j===""&&P.length>0){const Ee=ye===-1?P.length-1:ye,xe=P.slice();xe.splice(Ee,1),Gt(ie,xe,"removeOption",{option:P[Ee]})}break;case"Delete":if(_&&!U&&j===""&&P.length>0&&ye!==-1){const Ee=ye,xe=P.slice();xe.splice(Ee,1),Gt(ie,xe,"removeOption",{option:P[Ee]})}break}},Kn=se=>{he(!0),me&&!$.current&&Ft(se)},Yn=se=>{if(e(ne)){te.current.focus();return}he(!1),Q.current=!0,$.current=!1,o&&O.current!==-1&&Be?In(se,Re[O.current],"blur"):o&&b&&j!==""?In(se,j,"blur","freeSolo"):a&&pe(se,P),un(se,"blur")},Nt=se=>{const ie=se.target.value;j!==ie&&(K(ie),Te(!1),F&&F(se,ie,"input")),ie===""?!d&&!_&&Gt(se,null,"clear"):Ft(se)},Mt=se=>{const ie=Number(se.currentTarget.getAttribute("data-option-index"));O.current!==ie&&gt({event:se,index:ie,reason:"mouse"})},Kt=se=>{gt({event:se,index:Number(se.currentTarget.getAttribute("data-option-index")),reason:"touch"}),En.current=!0},Nn=se=>{const ie=Number(se.currentTarget.getAttribute("data-option-index"));In(se,Re[ie],"selectOption"),En.current=!1},Jn=se=>ie=>{const Ee=P.slice();Ee.splice(se,1),Gt(ie,Ee,"removeOption",{option:P[se]})},Ir=se=>{ce?un(se,"toggleInput"):Ft(se)},Nr=se=>{se.currentTarget.contains(se.target)&&se.target.getAttribute("id")!==Y&&se.preventDefault()},Zt=se=>{se.currentTarget.contains(se.target)&&(te.current.focus(),J&&Q.current&&te.current.selectionEnd-te.current.selectionStart===0&&te.current.select(),Q.current=!1)},Zn=se=>{!p&&(j===""||!ce)&&Ir(se)};let _n=b&&j.length>0;_n=_n||(_?P.length>0:P!==null);let $n=Re;return C&&($n=Re.reduce((se,ie,Ee)=>{const xe=C(ie);return se.length>0&&se[se.length-1].group===xe?se[se.length-1].options.push(ie):se.push({key:Ee,index:Ee,group:xe,options:[ie]}),se},[])),p&&ae&&Yn(),{getRootProps:(se={})=>X({"aria-owns":It?`${Y}-listbox`:null},se,{onKeyDown:Dr(se),onMouseDown:Nr,onClick:Zt}),getInputLabelProps:()=>({id:`${Y}-label`,htmlFor:Y}),getInputProps:()=>({id:Y,value:j,onBlur:Yn,onFocus:Kn,onChange:Nt,onMouseDown:Zn,"aria-activedescendant":Be?"":null,"aria-autocomplete":r?"both":"list","aria-controls":It?`${Y}-listbox`:void 0,"aria-expanded":It,autoComplete:"off",ref:te,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:dn}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Ir}),getTagProps:({index:se})=>X({key:se,"data-tag-index":se,tabIndex:-1},!U&&{onDelete:Jn(se)}),getListboxProps:()=>({role:"listbox",id:`${Y}-listbox`,"aria-labelledby":`${Y}-label`,ref:Dn,onMouseDown:se=>{se.preventDefault()}}),getOptionProps:({index:se,option:ie})=>{var Ee;const xe=(_?P:[P]).some(tt=>tt!=null&&z(ie,tt)),He=w?w(ie):!1;return{key:(Ee=k==null?void 0:k(ie))!=null?Ee:E(ie),tabIndex:-1,role:"option",id:`${Y}-option-${se}`,onMouseMove:Mt,onClick:Nn,onTouchStart:Kt,"data-option-index":se,"aria-disabled":He,"aria-selected":xe}},id:Y,inputValue:j,value:P,dirty:_n,expanded:Be&&be,popupOpen:Be,focused:ae||ye!==-1,anchorEl:be,setAnchorEl:ge,focusedTag:ye,groupedOptions:$n}}function MO(n){return kn("MuiListSubheader",n)}Dt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const EO=["className","color","component","disableGutters","disableSticky","inset"],TO=n=>{const{classes:e,color:t,disableGutters:r,inset:i,disableSticky:o}=n,s={root:["root",t!=="default"&&`color${ol(t)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return Mn(s,MO,e)},LO=Le("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${ol(t.color)}`],!t.disableGutters&&e.gutters,t.inset&&e.inset,!t.disableSticky&&e.sticky]}})(({theme:n,ownerState:e})=>X({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(n.vars||n).palette.text.secondary,fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(14)},e.color==="primary"&&{color:(n.vars||n).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(n.vars||n).palette.background.paper})),bC=m.forwardRef(function(e,t){const r=to({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:u=!1}=r,c=nt(r,EO),d=X({},r,{color:o,component:s,disableGutters:a,disableSticky:l,inset:u}),f=TO(d);return v.jsx(LO,X({as:s,className:zn(f.root,i),ref:t,ownerState:d},c))});bC.muiSkipListHighlight=!0;const AO=qr(v.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function OO(n){return kn("MuiAutocomplete",n)}const Ge=Dt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Bv,jv;const RO=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],PO=["ref"],DO=["key"],IO=["key"],NO=n=>{const{classes:e,disablePortal:t,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:u,size:c}=n,d={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${ol(c)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",t&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Mn(d,OO,e)},_O=Le("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=t;return[{[`& .${Ge.tag}`]:e.tag},{[`& .${Ge.tag}`]:e[`tagSize${ol(a)}`]},{[`& .${Ge.inputRoot}`]:e.inputRoot},{[`& .${Ge.input}`]:e.input},{[`& .${Ge.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${Ge.focused} .${Ge.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Ge.clearIndicator}`]:{visibility:"visible"}},[`& .${Ge.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Ge.inputRoot}`]:{[`.${Ge.hasPopupIcon}&, .${Ge.hasClearIcon}&`]:{paddingRight:30},[`.${Ge.hasPopupIcon}.${Ge.hasClearIcon}&`]:{paddingRight:56},[`& .${Ge.input}`]:{width:0,minWidth:30}},[`& .${gd.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${gd.root}.${Ti.sizeSmall}`]:{[`& .${gd.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Tv.root}`]:{padding:9,[`.${Ge.hasPopupIcon}&, .${Ge.hasClearIcon}&`]:{paddingRight:39},[`.${Ge.hasPopupIcon}.${Ge.hasClearIcon}&`]:{paddingRight:65},[`& .${Ge.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Ge.endAdornment}`]:{right:9}},[`& .${Tv.root}.${Ti.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Ge.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${go.root}`]:{paddingTop:19,paddingLeft:8,[`.${Ge.hasPopupIcon}&, .${Ge.hasClearIcon}&`]:{paddingRight:39},[`.${Ge.hasPopupIcon}.${Ge.hasClearIcon}&`]:{paddingRight:65},[`& .${go.input}`]:{padding:"7px 4px"},[`& .${Ge.endAdornment}`]:{right:9}},[`& .${go.root}.${Ti.sizeSmall}`]:{paddingBottom:1,[`& .${go.input}`]:{padding:"2.5px 4px"}},[`& .${Ti.hiddenLabel}`]:{paddingTop:8},[`& .${go.root}.${Ti.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Ge.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${go.root}.${Ti.hiddenLabel}.${Ti.sizeSmall}`]:{[`& .${Ge.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Ge.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Ge.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Ge.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Ge.inputRoot}`]:{flexWrap:"wrap"}}}]}),$O=Le("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(n,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),FO=Le(wi,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(n,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),BO=Le(wi,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:n},e)=>X({},e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),jO=Le(no,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Ge.option}`]:e.option},e.popper,t.disablePortal&&e.popperDisablePortal]}})(({theme:n})=>({zIndex:(n.vars||n).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),zO=Le(sl,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(n,e)=>e.paper})(({theme:n})=>X({},n.typography.body1,{overflow:"auto"})),HO=Le("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(n,e)=>e.loading})(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"})),VO=Le("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(n,e)=>e.noOptions})(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"})),WO=Le("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(n,e)=>e.listbox})(({theme:n})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Ge.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[n.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Ge.focused}`]:{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Ge.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:vd.alpha(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${Ge.focused}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:vd.alpha(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${Ge.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:vd.alpha(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}}})),UO=Le(bC,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(n,e)=>e.groupLabel})(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,top:-8})),qO=Le("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(n,e)=>e.groupUl})({padding:0,[`& .${Ge.option}`]:{paddingLeft:24}}),GO=m.forwardRef(function(e,t){var r,i,o,s;const a=to({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:u=!1,autoSelect:c=!1,blurOnSelect:d=!1,ChipProps:f,className:p,clearIcon:h=Bv||(Bv=v.jsx(AO,{fontSize:"small"})),clearOnBlur:g=!a.freeSolo,clearOnEscape:y=!1,clearText:x="Clear",closeText:b="Close",componentsProps:w={},defaultValue:k=a.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:C=!1,disabled:M=!1,disabledItemsFocusable:T=!1,disableListWrap:I=!1,disablePortal:R=!1,filterSelectedOptions:z=!1,forcePopupIcon:_="auto",freeSolo:W=!1,fullWidth:D=!1,getLimitTagsText:B=xe=>`+${xe}`,getOptionLabel:F,groupBy:N,handleHomeEndKeys:Z=!a.freeSolo,includeInputInList:me=!1,limitTags:re=-1,ListboxComponent:U="ul",ListboxProps:J,loading:ue=!1,loadingText:Y="Loadingâ€¦",multiple:E=!1,noOptionsText:$="No options",openOnFocus:Q=!1,openText:te="Open",PaperComponent:ne=sl,PopperComponent:be=no,popupIcon:ge=jv||(jv=v.jsx(lL,{})),readOnly:ye=!1,renderGroup:Ce,renderInput:Me,renderOption:O,renderTags:P,selectOnFocus:H=!a.freeSolo,size:j="medium",slotProps:K={}}=a,ae=nt(a,RO),{getRootProps:he,getInputProps:pe,getInputLabelProps:ce,getPopupIndicatorProps:de,getClearProps:Ie,getTagProps:Te,getListboxProps:Oe,getOptionProps:Be,value:Re,dirty:Je,expanded:It,id:kt,popupOpen:mt,focused:gt,focusedTag:qt,anchorEl:ut,setAnchorEl:yn,inputValue:Dn,groupedOptions:Ft}=kO(X({},a,{componentName:"Autocomplete"})),un=!S&&!M&&Je&&!ye,Gt=(!W||_===!0)&&_!==!1,{onMouseDown:En}=pe(),{ref:In}=J??{},Gn=Oe(),{ref:cn}=Gn,dn=nt(Gn,PO),Dr=Vr(cn,In),Yn=F||(xe=>{var He;return(He=xe.label)!=null?He:xe}),Nt=X({},a,{disablePortal:R,expanded:It,focused:gt,fullWidth:D,getOptionLabel:Yn,hasClearIcon:un,hasPopupIcon:Gt,inputFocused:qt===-1,popupOpen:mt,size:j}),Mt=NO(Nt);let Kt;if(E&&Re.length>0){const xe=He=>X({className:Mt.tag,disabled:M},Te(He));P?Kt=P(Re,xe,Nt):Kt=Re.map((He,tt)=>{const A=xe({index:tt}),{key:G}=A,fe=nt(A,DO);return v.jsx(bL,X({label:Yn(He),size:j},fe,f),G)})}if(re>-1&&Array.isArray(Kt)){const xe=Kt.length-re;!gt&&xe>0&&(Kt=Kt.splice(0,re),Kt.push(v.jsx("span",{className:Mt.tag,children:B(xe)},Kt.length)))}const Jn=Ce||(xe=>v.jsxs("li",{children:[v.jsx(UO,{className:Mt.groupLabel,ownerState:Nt,component:"div",children:xe.group}),v.jsx(qO,{className:Mt.groupUl,ownerState:Nt,children:xe.children})]},xe.key)),Nr=O||((xe,He)=>{const{key:tt}=xe,A=nt(xe,IO);return v.jsx("li",X({},A,{children:Yn(He)}),tt)}),Zt=(xe,He)=>{const tt=Be({option:xe,index:He});return Nr(X({},tt,{className:Mt.option}),xe,{selected:tt["aria-selected"],index:He,inputValue:Dn},Nt)},Zn=(r=K.clearIndicator)!=null?r:w.clearIndicator,_n=(i=K.paper)!=null?i:w.paper,$n=(o=K.popper)!=null?o:w.popper,se=(s=K.popupIndicator)!=null?s:w.popupIndicator,ie=xe=>v.jsx(jO,X({as:be,disablePortal:R,style:{width:ut?ut.clientWidth:null},ownerState:Nt,role:"presentation",anchorEl:ut,open:mt},$n,{className:zn(Mt.popper,$n==null?void 0:$n.className),children:v.jsx(zO,X({ownerState:Nt,as:ne},_n,{className:zn(Mt.paper,_n==null?void 0:_n.className),children:xe}))}));let Ee=null;return Ft.length>0?Ee=ie(v.jsx(WO,X({as:U,className:Mt.listbox,ownerState:Nt},dn,J,{ref:Dr,children:Ft.map((xe,He)=>N?Jn({key:xe.key,group:xe.group,children:xe.options.map((tt,A)=>Zt(tt,xe.index+A))}):Zt(xe,He))}))):ue&&Ft.length===0?Ee=ie(v.jsx(HO,{className:Mt.loading,ownerState:Nt,children:Y})):Ft.length===0&&!W&&!ue&&(Ee=ie(v.jsx(VO,{className:Mt.noOptions,ownerState:Nt,role:"presentation",onMouseDown:xe=>{xe.preventDefault()},children:$}))),v.jsxs(m.Fragment,{children:[v.jsx(_O,X({ref:t,className:zn(Mt.root,p),ownerState:Nt},he(ae),{children:Me({id:kt,disabled:M,fullWidth:!0,size:j==="small"?"small":void 0,InputLabelProps:ce(),InputProps:X({ref:yn,className:Mt.inputRoot,startAdornment:Kt,onClick:xe=>{xe.target===xe.currentTarget&&En(xe)}},(un||Gt)&&{endAdornment:v.jsxs($O,{className:Mt.endAdornment,ownerState:Nt,children:[un?v.jsx(FO,X({},Ie(),{"aria-label":x,title:x,ownerState:Nt},Zn,{className:zn(Mt.clearIndicator,Zn==null?void 0:Zn.className),children:h})):null,Gt?v.jsx(BO,X({},de(),{disabled:M,"aria-label":mt?b:te,title:mt?b:te,ownerState:Nt},se,{className:zn(Mt.popupIndicator,se==null?void 0:se.className),children:ge})):null]})}),inputProps:X({className:Mt.input,disabled:M,readOnly:ye},pe())})})),ut?Ee:null]})}),KO=ee(GO)`
  & .MuiFormControl-root .MuiInputBase-root {
    font-family: ${V.fontFamily};
    color: ${V.newColors.almostBlack[100]};

    ${({disabled:n})=>n?`
      background-color: ${V.colors.disableBackground};
		`:`
      background-color: ${V.newColors.grey1[100]};
			&:hover {
				& fieldset {
					border-color: ${V.colors.disabledBorderFocus};
				}
			}
		`}
  }

  & .MuiFormControl-root .MuiInputBase-root .MuiOutlinedInput-notchedOutline {
    ${({disabled:n,$error:e})=>n?`
      border-color: ${V.colors.disableBorder};
    `:e?`
      ${V.borders.error};
    `:`
      ${V.borders.fieldGray};
    `}

    border-radius: 0px;
  }

  &
    .MuiFormControl-root
    .MuiInputBase-root.Mui-focused
    .MuiOutlinedInput-notchedOutline {
    border: solid 1px ${V.colors.gray800};
  }

  .MuiAutocomplete-clearIndicator {
    margin-right: 20px;
  }

  .MuiInputBase-input {
    padding: ${V.fieldSpecs.inputText.padding} !important;
  }

  & .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root'] {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    padding-left: 0 !important;
  }

  &.MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon .MuiAutocomplete-inputRoot[class*="MuiOutlinedInput-root"] {
    padding-right: 88px;
  }

  .MuiAutocomplete-popupIndicator, .MuiAutocomplete-popupIndicatorOpen {
    color: ${({$error:n})=>n?V.newColors.darkRed[100]:V.newColors.almostBlack[100]};

    &:before {
      background: none;
      content: "";
      display: block;
      position: absolute;
      top: 4px;
      left: -12px;
      right: -12px;
      bottom: 4px;
      border-right: ${n=>n.open?V.borders.fieldGray:""};
      border-left: ${n=>n.open?"":V.borders.fieldGray};
    }
  }
`,YO=ee.div`
  margin: 0;
  padding: 0;

  .MuiFormControl-fullWidth {
    height: ${V.fieldSpecs.inputText.totalHeight};
    width: ${({$innerWidth:n})=>n||ht.sm};
  }

  .MuiAutocomplete-paper {
    width: ${({$innerWidth:n})=>n===ht.xs?ht.sm:n}
  }
`,JO=ee(no)`
  z-index: 999999999 !important;
  .MuiAutocomplete-listbox .MuiAutocomplete-option {
    font-family: ${V.fontFamily};
    font-size: 14px;
    min-height: 40px;
    color: ${V.newColors.grey4[100]};
		background-color: white;

    &[aria-selected='true'] {
			color: ${({$value:n})=>n?V.newColors.grey4[100]:V.colors.black};
			font-weight: ${({$value:n})=>n?null:V.fontWeight.semiBold};
			background-color: white;
    }

		&[aria-selected="true"].Mui-focused {
			background-color: ${V.newColors.grey2[100]};
		}
  }
`,ZO=n=>{const{fieldDef:e,error:t,onChange:r,onBlur:i,value:o,disabled:s,inputRef:a,id:l,skeleton:u}=n,{inputSettings:{getOptions:c,options:d=c}={}}=e;Dc(`The \`getOptions\` input setting (provided to the \`${e.name}\` field) is deprecated and will be removed in future versions. Use the \`options\` input setting instead.`,!!c);const{options:f,loading:p}=Ic({from:d,add:o?[o]:void 0}),[h,g]=m.useState(!1),y=S=>{var C;return v.jsx(bO,{children:v.jsx(uL,{...S,"data-testid":"textfield-test-id",variant:"outlined",placeholder:(C=e==null?void 0:e.inputSettings)==null?void 0:C.placeholder,required:e==null?void 0:e.required,inputProps:{...S.inputProps,ref:M=>{a&&(a.current=M),S.inputProps.ref.current=M},id:l}})})},x=()=>{g(!h)},b=async S=>{r&&await r(S||void 0)},w=(S,C)=>(C==null?void 0:C.value)===""?!0:S.value===(C==null?void 0:C.value),k=S=>v.jsx(JO,{$value:(o==null?void 0:o.value)==="",...S});return u||p?v.jsx(Qe,{variant:"rectangular",width:"100%",height:43}):v.jsx(YO,{"data-testid":"dropdown-single-selection-test-id",$innerWidth:e==null?void 0:e.size,children:v.jsx(KO,{value:o||null,onOpen:x,onClose:x,"data-testid":"autocomplete-test-id",options:f,getOptionLabel:S=>S.label,getOptionKey:S=>S.value,isOptionEqualToValue:w,onChange:(S,C)=>b(C),$error:e!=null&&e.required&&t?!!t:void 0,renderInput:y,PopperComponent:k,popupIcon:v.jsx(xm,{}),onBlur:S=>i&&i(S.target.value),open:h,disabled:s})})},xC=m.memo(ZO);var Md,zv;function XO(){return zv||(zv=1,Md=function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,o){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)t.d(o,s,(function(a){return r[a]}).bind(null,s));return o},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=9)}([function(n,e){n.exports=vs()},function(n,e,t){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){var i={}.hasOwnProperty;function o(){for(var s=[],a=0;a<arguments.length;a++){var l=arguments[a];if(l){var u=typeof l;if(u==="string"||u==="number")s.push(l);else if(Array.isArray(l)){if(l.length){var c=o.apply(null,l);c&&s.push(c)}}else if(u==="object"){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){s.push(l.toString());continue}for(var d in l)i.call(l,d)&&l[d]&&s.push(d)}}}return s.join(" ")}n.exports?(o.default=o,n.exports=o):(r=(function(){return o}).apply(e,[]))===void 0||(n.exports=r)})()},function(n,e,t){(function(r){var i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,u=typeof r=="object"&&r&&r.Object===Object&&r,c=typeof self=="object"&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),f=Object.prototype.toString,p=d.Symbol,h=p?p.prototype:void 0,g=h?h.toString:void 0;function y(k){if(typeof k=="string")return k;if(b(k))return g?g.call(k):"";var S=k+"";return S=="0"&&1/k==-1/0?"-0":S}function x(k){var S=typeof k;return!!k&&(S=="object"||S=="function")}function b(k){return typeof k=="symbol"||function(S){return!!S&&typeof S=="object"}(k)&&f.call(k)=="[object Symbol]"}function w(k){return k?(k=function(S){if(typeof S=="number")return S;if(b(S))return NaN;if(x(S)){var C=typeof S.valueOf=="function"?S.valueOf():S;S=x(C)?C+"":C}if(typeof S!="string")return S===0?S:+S;S=S.replace(i,"");var M=s.test(S);return M||a.test(S)?l(S.slice(2),M?2:8):o.test(S)?NaN:+S}(k))===1/0||k===-1/0?17976931348623157e292*(k<0?-1:1):k==k?k:0:k===0?k:0}n.exports=function(k,S,C){var M,T,I,R;return k=(M=k)==null?"":y(M),T=function(z){var _=w(z),W=_%1;return _==_?W?_-W:_:0}(C),I=0,R=k.length,T==T&&(R!==void 0&&(T=T<=R?T:R),I!==void 0&&(T=T>=I?T:I)),C=T,S=y(S),k.slice(C,C+S.length)==S}}).call(this,t(3))},function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}n.exports=t},function(n,e,t){(function(r){var i=/^\[object .+?Constructor\]$/,o=typeof r=="object"&&r&&r.Object===Object&&r,s=typeof self=="object"&&self&&self.Object===Object&&self,a=o||s||Function("return this")(),l,u=Array.prototype,c=Function.prototype,d=Object.prototype,f=a["__core-js_shared__"],p=(l=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",h=c.toString,g=d.hasOwnProperty,y=d.toString,x=RegExp("^"+h.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=u.splice,w=z(a,"Map"),k=z(Object,"create");function S(D){var B=-1,F=D?D.length:0;for(this.clear();++B<F;){var N=D[B];this.set(N[0],N[1])}}function C(D){var B=-1,F=D?D.length:0;for(this.clear();++B<F;){var N=D[B];this.set(N[0],N[1])}}function M(D){var B=-1,F=D?D.length:0;for(this.clear();++B<F;){var N=D[B];this.set(N[0],N[1])}}function T(D,B){for(var F,N,Z=D.length;Z--;)if((F=D[Z][0])===(N=B)||F!=F&&N!=N)return Z;return-1}function I(D){return!(!W(D)||(B=D,p&&p in B))&&(function(F){var N=W(F)?y.call(F):"";return N=="[object Function]"||N=="[object GeneratorFunction]"}(D)||function(F){var N=!1;if(F!=null&&typeof F.toString!="function")try{N=!!(F+"")}catch{}return N}(D)?x:i).test(function(F){if(F!=null){try{return h.call(F)}catch{}try{return F+""}catch{}}return""}(D));var B}function R(D,B){var F,N,Z=D.__data__;return((N=typeof(F=B))=="string"||N=="number"||N=="symbol"||N=="boolean"?F!=="__proto__":F===null)?Z[typeof B=="string"?"string":"hash"]:Z.map}function z(D,B){var F=function(N,Z){return N==null?void 0:N[Z]}(D,B);return I(F)?F:void 0}function _(D,B){if(typeof D!="function"||B&&typeof B!="function")throw new TypeError("Expected a function");var F=function(){var N=arguments,Z=B?B.apply(this,N):N[0],me=F.cache;if(me.has(Z))return me.get(Z);var re=D.apply(this,N);return F.cache=me.set(Z,re),re};return F.cache=new(_.Cache||M),F}function W(D){var B=typeof D;return!!D&&(B=="object"||B=="function")}S.prototype.clear=function(){this.__data__=k?k(null):{}},S.prototype.delete=function(D){return this.has(D)&&delete this.__data__[D]},S.prototype.get=function(D){var B=this.__data__;if(k){var F=B[D];return F==="__lodash_hash_undefined__"?void 0:F}return g.call(B,D)?B[D]:void 0},S.prototype.has=function(D){var B=this.__data__;return k?B[D]!==void 0:g.call(B,D)},S.prototype.set=function(D,B){return this.__data__[D]=k&&B===void 0?"__lodash_hash_undefined__":B,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(D){var B=this.__data__,F=T(B,D);return!(F<0)&&(F==B.length-1?B.pop():b.call(B,F,1),!0)},C.prototype.get=function(D){var B=this.__data__,F=T(B,D);return F<0?void 0:B[F][1]},C.prototype.has=function(D){return T(this.__data__,D)>-1},C.prototype.set=function(D,B){var F=this.__data__,N=T(F,D);return N<0?F.push([D,B]):F[N][1]=B,this},M.prototype.clear=function(){this.__data__={hash:new S,map:new(w||C),string:new S}},M.prototype.delete=function(D){return R(this,D).delete(D)},M.prototype.get=function(D){return R(this,D).get(D)},M.prototype.has=function(D){return R(this,D).has(D)},M.prototype.set=function(D,B){return R(this,D).set(D,B),this},_.Cache=M,n.exports=_}).call(this,t(3))},function(n,e,t){(function(r){var i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,u=typeof r=="object"&&r&&r.Object===Object&&r,c=typeof self=="object"&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),f=Object.prototype.toString,p=Math.max,h=Math.min,g=function(){return d.Date.now()};function y(b){var w=typeof b;return!!b&&(w=="object"||w=="function")}function x(b){if(typeof b=="number")return b;if(function(S){return typeof S=="symbol"||function(C){return!!C&&typeof C=="object"}(S)&&f.call(S)=="[object Symbol]"}(b))return NaN;if(y(b)){var w=typeof b.valueOf=="function"?b.valueOf():b;b=y(w)?w+"":w}if(typeof b!="string")return b===0?b:+b;b=b.replace(i,"");var k=s.test(b);return k||a.test(b)?l(b.slice(2),k?2:8):o.test(b)?NaN:+b}n.exports=function(b,w,k){var S,C,M,T,I,R,z=0,_=!1,W=!1,D=!0;if(typeof b!="function")throw new TypeError("Expected a function");function B(U){var J=S,ue=C;return S=C=void 0,z=U,T=b.apply(ue,J)}function F(U){return z=U,I=setTimeout(Z,w),_?B(U):T}function N(U){var J=U-R;return R===void 0||J>=w||J<0||W&&U-z>=M}function Z(){var U=g();if(N(U))return me(U);I=setTimeout(Z,function(J){var ue=w-(J-R);return W?h(ue,M-(J-z)):ue}(U))}function me(U){return I=void 0,D&&S?B(U):(S=C=void 0,T)}function re(){var U=g(),J=N(U);if(S=arguments,C=this,R=U,J){if(I===void 0)return F(R);if(W)return I=setTimeout(Z,w),B(R)}return I===void 0&&(I=setTimeout(Z,w)),T}return w=x(w)||0,y(k)&&(_=!!k.leading,M=(W="maxWait"in k)?p(x(k.maxWait)||0,w):M,D="trailing"in k?!!k.trailing:D),re.cancel=function(){I!==void 0&&clearTimeout(I),z=0,S=R=C=I=void 0},re.flush=function(){return I===void 0?T:me(g())},re}}).call(this,t(3))},function(n,e,t){(function(r,i){var o="[object Arguments]",s="[object Map]",a="[object Object]",l="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,d=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[o]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[s]=y["[object Number]"]=y[a]=y["[object RegExp]"]=y[l]=y["[object String]"]=y["[object WeakMap]"]=!1;var x=typeof r=="object"&&r&&r.Object===Object&&r,b=typeof self=="object"&&self&&self.Object===Object&&self,w=x||b||Function("return this")(),k=e&&!e.nodeType&&e,S=k&&typeof i=="object"&&i&&!i.nodeType&&i,C=S&&S.exports===k&&x.process,M=function(){try{return C&&C.binding("util")}catch{}}(),T=M&&M.isTypedArray;function I(A,G,fe,ve){var je=-1,_e=A?A.length:0;for(ve&&_e&&(fe=A[++je]);++je<_e;)fe=G(fe,A[je],je,A);return fe}function R(A,G){for(var fe=-1,ve=A?A.length:0;++fe<ve;)if(G(A[fe],fe,A))return!0;return!1}function z(A,G,fe,ve,je){return je(A,function(_e,we,Et){fe=ve?(ve=!1,_e):G(fe,_e,we,Et)}),fe}function _(A){var G=!1;if(A!=null&&typeof A.toString!="function")try{G=!!(A+"")}catch{}return G}function W(A){var G=-1,fe=Array(A.size);return A.forEach(function(ve,je){fe[++G]=[je,ve]}),fe}function D(A){var G=-1,fe=Array(A.size);return A.forEach(function(ve){fe[++G]=ve}),fe}var B,F,N,Z=Array.prototype,me=Function.prototype,re=Object.prototype,U=w["__core-js_shared__"],J=(B=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",ue=me.toString,Y=re.hasOwnProperty,E=re.toString,$=RegExp("^"+ue.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=w.Symbol,te=w.Uint8Array,ne=re.propertyIsEnumerable,be=Z.splice,ge=(F=Object.keys,N=Object,function(A){return F(N(A))}),ye=cn(w,"DataView"),Ce=cn(w,"Map"),Me=cn(w,"Promise"),O=cn(w,"Set"),P=cn(w,"WeakMap"),H=cn(Object,"create"),j=Nn(ye),K=Nn(Ce),ae=Nn(Me),he=Nn(O),pe=Nn(P),ce=Q?Q.prototype:void 0,de=ce?ce.valueOf:void 0,Ie=ce?ce.toString:void 0;function Te(A){var G=-1,fe=A?A.length:0;for(this.clear();++G<fe;){var ve=A[G];this.set(ve[0],ve[1])}}function Oe(A){var G=-1,fe=A?A.length:0;for(this.clear();++G<fe;){var ve=A[G];this.set(ve[0],ve[1])}}function Be(A){var G=-1,fe=A?A.length:0;for(this.clear();++G<fe;){var ve=A[G];this.set(ve[0],ve[1])}}function Re(A){var G=-1,fe=A?A.length:0;for(this.__data__=new Be;++G<fe;)this.add(A[G])}function Je(A){this.__data__=new Oe(A)}function It(A,G){var fe=Zt(A)||Nr(A)?function(we,Et){for(var Tt=-1,vt=Array(we);++Tt<we;)vt[Tt]=Et(Tt);return vt}(A.length,String):[],ve=fe.length,je=!!ve;for(var _e in A)!Y.call(A,_e)||je&&(_e=="length"||Dr(_e,ve))||fe.push(_e);return fe}function kt(A,G){for(var fe=A.length;fe--;)if(Ir(A[fe][0],G))return fe;return-1}Te.prototype.clear=function(){this.__data__=H?H(null):{}},Te.prototype.delete=function(A){return this.has(A)&&delete this.__data__[A]},Te.prototype.get=function(A){var G=this.__data__;if(H){var fe=G[A];return fe==="__lodash_hash_undefined__"?void 0:fe}return Y.call(G,A)?G[A]:void 0},Te.prototype.has=function(A){var G=this.__data__;return H?G[A]!==void 0:Y.call(G,A)},Te.prototype.set=function(A,G){return this.__data__[A]=H&&G===void 0?"__lodash_hash_undefined__":G,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(A){var G=this.__data__,fe=kt(G,A);return!(fe<0)&&(fe==G.length-1?G.pop():be.call(G,fe,1),!0)},Oe.prototype.get=function(A){var G=this.__data__,fe=kt(G,A);return fe<0?void 0:G[fe][1]},Oe.prototype.has=function(A){return kt(this.__data__,A)>-1},Oe.prototype.set=function(A,G){var fe=this.__data__,ve=kt(fe,A);return ve<0?fe.push([A,G]):fe[ve][1]=G,this},Be.prototype.clear=function(){this.__data__={hash:new Te,map:new(Ce||Oe),string:new Te}},Be.prototype.delete=function(A){return Gn(this,A).delete(A)},Be.prototype.get=function(A){return Gn(this,A).get(A)},Be.prototype.has=function(A){return Gn(this,A).has(A)},Be.prototype.set=function(A,G){return Gn(this,A).set(A,G),this},Re.prototype.add=Re.prototype.push=function(A){return this.__data__.set(A,"__lodash_hash_undefined__"),this},Re.prototype.has=function(A){return this.__data__.has(A)},Je.prototype.clear=function(){this.__data__=new Oe},Je.prototype.delete=function(A){return this.__data__.delete(A)},Je.prototype.get=function(A){return this.__data__.get(A)},Je.prototype.has=function(A){return this.__data__.has(A)},Je.prototype.set=function(A,G){var fe=this.__data__;if(fe instanceof Oe){var ve=fe.__data__;if(!Ce||ve.length<199)return ve.push([A,G]),this;fe=this.__data__=new Be(ve)}return fe.set(A,G),this};var mt,gt=(mt=function(A,G){return A&&qt(A,G,He)},function(A,G){if(A==null)return A;if(!Zn(A))return mt(A,G);for(var fe=A.length,ve=-1,je=Object(A);++ve<fe&&G(je[ve],ve,je)!==!1;);return A}),qt=function(A){return function(G,fe,ve){for(var je=-1,_e=Object(G),we=ve(G),Et=we.length;Et--;){var Tt=we[++je];if(fe(_e[Tt],Tt,_e)===!1)break}return G}}();function ut(A,G){for(var fe=0,ve=(G=Kn(G,A)?[G]:En(G)).length;A!=null&&fe<ve;)A=A[Kt(G[fe++])];return fe&&fe==ve?A:void 0}function yn(A,G){return A!=null&&G in Object(A)}function Dn(A,G,fe,ve,je){return A===G||(A==null||G==null||!se(A)&&!ie(G)?A!=A&&G!=G:function(_e,we,Et,Tt,vt,ct){var Xn=Zt(_e),rn=Zt(we),Yt="[object Array]",Xt="[object Array]";Xn||(Yt=(Yt=dn(_e))==o?a:Yt),rn||(Xt=(Xt=dn(we))==o?a:Xt);var ur=Yt==a&&!_(_e),ho=Xt==a&&!_(we),Jr=Yt==Xt;if(Jr&&!ur)return ct||(ct=new Je),Xn||xe(_e)?In(_e,we,Et,Tt,vt,ct):function(bt,pt,hd,Ei,xl,Fn,_r){switch(hd){case"[object DataView]":if(bt.byteLength!=pt.byteLength||bt.byteOffset!=pt.byteOffset)return!1;bt=bt.buffer,pt=pt.buffer;case"[object ArrayBuffer]":return!(bt.byteLength!=pt.byteLength||!Ei(new te(bt),new te(pt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ir(+bt,+pt);case"[object Error]":return bt.name==pt.name&&bt.message==pt.message;case"[object RegExp]":case"[object String]":return bt==pt+"";case s:var Zr=W;case l:var Ms=2&Fn;if(Zr||(Zr=D),bt.size!=pt.size&&!Ms)return!1;var wl=_r.get(bt);if(wl)return wl==pt;Fn|=1,_r.set(bt,pt);var mo=In(Zr(bt),Zr(pt),Ei,xl,Fn,_r);return _r.delete(bt),mo;case"[object Symbol]":if(de)return de.call(bt)==de.call(pt)}return!1}(_e,we,Yt,Et,Tt,vt,ct);if(!(2&vt)){var wv=ur&&Y.call(_e,"__wrapped__"),Cv=ho&&Y.call(we,"__wrapped__");if(wv||Cv){var zT=wv?_e.value():_e,HT=Cv?we.value():we;return ct||(ct=new Je),Et(zT,HT,Tt,vt,ct)}}return Jr?(ct||(ct=new Je),function(bt,pt,hd,Ei,xl,Fn){var _r=2&xl,Zr=He(bt),Ms=Zr.length,wl=He(pt).length;if(Ms!=wl&&!_r)return!1;for(var mo=Ms;mo--;){var Xr=Zr[mo];if(!(_r?Xr in pt:Y.call(pt,Xr)))return!1}var Sv=Fn.get(bt);if(Sv&&Fn.get(pt))return Sv==pt;var Cl=!0;Fn.set(bt,pt),Fn.set(pt,bt);for(var md=_r;++mo<Ms;){Xr=Zr[mo];var Sl=bt[Xr],kl=pt[Xr];if(Ei)var kv=_r?Ei(kl,Sl,Xr,pt,bt,Fn):Ei(Sl,kl,Xr,bt,pt,Fn);if(!(kv===void 0?Sl===kl||hd(Sl,kl,Ei,xl,Fn):kv)){Cl=!1;break}md||(md=Xr=="constructor")}if(Cl&&!md){var Ml=bt.constructor,El=pt.constructor;Ml==El||!("constructor"in bt)||!("constructor"in pt)||typeof Ml=="function"&&Ml instanceof Ml&&typeof El=="function"&&El instanceof El||(Cl=!1)}return Fn.delete(bt),Fn.delete(pt),Cl}(_e,we,Et,Tt,vt,ct)):!1}(A,G,Dn,fe,ve,je))}function Ft(A){return!(!se(A)||function(G){return!!J&&J in G}(A))&&(_n(A)||_(A)?$:h).test(Nn(A))}function un(A){return typeof A=="function"?A:A==null?tt:typeof A=="object"?Zt(A)?function(ve,je){return Kn(ve)&&Yn(je)?Nt(Kt(ve),je):function(_e){var we=function(Et,Tt,vt){var ct=Et==null?void 0:ut(Et,Tt);return ct===void 0?vt:ct}(_e,ve);return we===void 0&&we===je?function(Et,Tt){return Et!=null&&function(vt,ct,Xn){ct=Kn(ct,vt)?[ct]:En(ct);for(var rn,Yt=-1,Xt=ct.length;++Yt<Xt;){var ur=Kt(ct[Yt]);if(!(rn=vt!=null&&Xn(vt,ur)))break;vt=vt[ur]}return rn||!!(Xt=vt?vt.length:0)&&$n(Xt)&&Dr(ur,Xt)&&(Zt(vt)||Nr(vt))}(Et,Tt,yn)}(_e,ve):Dn(je,we,void 0,3)}}(A[0],A[1]):function(ve){var je=function(_e){for(var we=He(_e),Et=we.length;Et--;){var Tt=we[Et],vt=_e[Tt];we[Et]=[Tt,vt,Yn(vt)]}return we}(ve);return je.length==1&&je[0][2]?Nt(je[0][0],je[0][1]):function(_e){return _e===ve||function(we,Et,Tt,vt){var ct=Tt.length,Xn=ct;if(we==null)return!Xn;for(we=Object(we);ct--;){var rn=Tt[ct];if(rn[2]?rn[1]!==we[rn[0]]:!(rn[0]in we))return!1}for(;++ct<Xn;){var Yt=(rn=Tt[ct])[0],Xt=we[Yt],ur=rn[1];if(rn[2]){if(Xt===void 0&&!(Yt in we))return!1}else{var ho=new Je,Jr;if(!(Jr===void 0?Dn(ur,Xt,vt,3,ho):Jr))return!1}}return!0}(_e,ve,je)}}(A):Kn(G=A)?(fe=Kt(G),function(ve){return ve==null?void 0:ve[fe]}):function(ve){return function(je){return ut(je,ve)}}(G);var G,fe}function Gt(A){if(fe=(G=A)&&G.constructor,ve=typeof fe=="function"&&fe.prototype||re,G!==ve)return ge(A);var G,fe,ve,je=[];for(var _e in Object(A))Y.call(A,_e)&&_e!="constructor"&&je.push(_e);return je}function En(A){return Zt(A)?A:Mt(A)}function In(A,G,fe,ve,je,_e){var we=2&je,Et=A.length,Tt=G.length;if(Et!=Tt&&!(we&&Tt>Et))return!1;var vt=_e.get(A);if(vt&&_e.get(G))return vt==G;var ct=-1,Xn=!0,rn=1&je?new Re:void 0;for(_e.set(A,G),_e.set(G,A);++ct<Et;){var Yt=A[ct],Xt=G[ct];if(ve)var ur=we?ve(Xt,Yt,ct,G,A,_e):ve(Yt,Xt,ct,A,G,_e);if(ur!==void 0){if(ur)continue;Xn=!1;break}if(rn){if(!R(G,function(ho,Jr){if(!rn.has(Jr)&&(Yt===ho||fe(Yt,ho,ve,je,_e)))return rn.add(Jr)})){Xn=!1;break}}else if(Yt!==Xt&&!fe(Yt,Xt,ve,je,_e)){Xn=!1;break}}return _e.delete(A),_e.delete(G),Xn}function Gn(A,G){var fe,ve,je=A.__data__;return((ve=typeof(fe=G))=="string"||ve=="number"||ve=="symbol"||ve=="boolean"?fe!=="__proto__":fe===null)?je[typeof G=="string"?"string":"hash"]:je.map}function cn(A,G){var fe=function(ve,je){return ve==null?void 0:ve[je]}(A,G);return Ft(fe)?fe:void 0}var dn=function(A){return E.call(A)};function Dr(A,G){return!!(G=G??9007199254740991)&&(typeof A=="number"||g.test(A))&&A>-1&&A%1==0&&A<G}function Kn(A,G){if(Zt(A))return!1;var fe=typeof A;return!(fe!="number"&&fe!="symbol"&&fe!="boolean"&&A!=null&&!Ee(A))||c.test(A)||!u.test(A)||G!=null&&A in Object(G)}function Yn(A){return A==A&&!se(A)}function Nt(A,G){return function(fe){return fe!=null&&fe[A]===G&&(G!==void 0||A in Object(fe))}}(ye&&dn(new ye(new ArrayBuffer(1)))!="[object DataView]"||Ce&&dn(new Ce)!=s||Me&&dn(Me.resolve())!="[object Promise]"||O&&dn(new O)!=l||P&&dn(new P)!="[object WeakMap]")&&(dn=function(A){var G=E.call(A),fe=G==a?A.constructor:void 0,ve=fe?Nn(fe):void 0;if(ve)switch(ve){case j:return"[object DataView]";case K:return s;case ae:return"[object Promise]";case he:return l;case pe:return"[object WeakMap]"}return G});var Mt=Jn(function(A){var G;A=(G=A)==null?"":function(ve){if(typeof ve=="string")return ve;if(Ee(ve))return Ie?Ie.call(ve):"";var je=ve+"";return je=="0"&&1/ve==-1/0?"-0":je}(G);var fe=[];return d.test(A)&&fe.push(""),A.replace(f,function(ve,je,_e,we){fe.push(_e?we.replace(p,"$1"):je||ve)}),fe});function Kt(A){if(typeof A=="string"||Ee(A))return A;var G=A+"";return G=="0"&&1/A==-1/0?"-0":G}function Nn(A){if(A!=null){try{return ue.call(A)}catch{}try{return A+""}catch{}}return""}function Jn(A,G){if(typeof A!="function"||G&&typeof G!="function")throw new TypeError("Expected a function");var fe=function(){var ve=arguments,je=G?G.apply(this,ve):ve[0],_e=fe.cache;if(_e.has(je))return _e.get(je);var we=A.apply(this,ve);return fe.cache=_e.set(je,we),we};return fe.cache=new(Jn.Cache||Be),fe}function Ir(A,G){return A===G||A!=A&&G!=G}function Nr(A){return function(G){return ie(G)&&Zn(G)}(A)&&Y.call(A,"callee")&&(!ne.call(A,"callee")||E.call(A)==o)}Jn.Cache=Be;var Zt=Array.isArray;function Zn(A){return A!=null&&$n(A.length)&&!_n(A)}function _n(A){var G=se(A)?E.call(A):"";return G=="[object Function]"||G=="[object GeneratorFunction]"}function $n(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=9007199254740991}function se(A){var G=typeof A;return!!A&&(G=="object"||G=="function")}function ie(A){return!!A&&typeof A=="object"}function Ee(A){return typeof A=="symbol"||ie(A)&&E.call(A)=="[object Symbol]"}var xe=T?function(A){return function(G){return A(G)}}(T):function(A){return ie(A)&&$n(A.length)&&!!y[E.call(A)]};function He(A){return Zn(A)?It(A):Gt(A)}function tt(A){return A}i.exports=function(A,G,fe){var ve=Zt(A)?I:z,je=arguments.length<3;return ve(A,un(G),fe,je,gt)}}).call(this,t(3),t(7)(n))},function(n,e){n.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(n,e){String.prototype.padEnd||(String.prototype.padEnd=function(t,r){return t>>=0,r=String(r!==void 0?r:" "),this.length>t?String(this):((t-=this.length)>r.length&&(r+=r.repeat(t/r.length)),String(this)+r.slice(0,t))})},function(n,e,t){function r(re,U,J){return U in re?Object.defineProperty(re,U,{value:J,enumerable:!0,configurable:!0,writable:!0}):re[U]=J,re}function i(re){if(Symbol.iterator in Object(re)||Object.prototype.toString.call(re)==="[object Arguments]")return Array.from(re)}function o(re){return function(U){if(Array.isArray(U)){for(var J=0,ue=new Array(U.length);J<U.length;J++)ue[J]=U[J];return ue}}(re)||i(re)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(re){if(Array.isArray(re))return re}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(re,U){if(!(re instanceof U))throw new TypeError("Cannot call a class as a function")}function u(re,U){for(var J=0;J<U.length;J++){var ue=U[J];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(re,ue.key,ue)}}function c(re){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(re)}function d(re){return(d=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(U){return c(U)}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":c(U)})(re)}function f(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}function p(re){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)})(re)}function h(re,U){return(h=Object.setPrototypeOf||function(J,ue){return J.__proto__=ue,J})(re,U)}t.r(e);var g=t(0),y=t.n(g),x=t(5),b=t.n(x),w=t(4),k=t.n(w),S=t(6),C=t.n(S),M=t(2),T=t.n(M),I=t(1),R=t.n(I);t(8);function z(re,U){return s(re)||function(J,ue){var Y=[],E=!0,$=!1,Q=void 0;try{for(var te,ne=J[Symbol.iterator]();!(E=(te=ne.next()).done)&&(Y.push(te.value),!ue||Y.length!==ue);E=!0);}catch(be){$=!0,Q=be}finally{try{E||ne.return==null||ne.return()}finally{if($)throw Q}}return Y}(re,U)||a()}var _=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["CÃ´te dâ€™Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["CuraÃ§ao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["RÃ©union",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["SÃ£o TomÃ© and PrÃ­ncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],W=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint BarthÃ©lemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function D(re,U,J,ue,Y){return!J||Y?re+"".padEnd(U.length,".")+" "+ue:re+"".padEnd(U.length,".")+" "+J}function B(re,U,J,ue,Y){var E,$,Q=[];return $=U===!0,[(E=[]).concat.apply(E,o(re.map(function(te){var ne={name:te[0],regions:te[1],iso2:te[2],countryCode:te[3],dialCode:te[3],format:D(J,te[3],te[4],ue,Y),priority:te[5]||0},be=[];return te[6]&&te[6].map(function(ge){var ye=function(Ce){for(var Me=1;Me<arguments.length;Me++){var O=arguments[Me]!=null?arguments[Me]:{},P=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(P=P.concat(Object.getOwnPropertySymbols(O).filter(function(H){return Object.getOwnPropertyDescriptor(O,H).enumerable}))),P.forEach(function(H){r(Ce,H,O[H])})}return Ce}({},ne);ye.dialCode=te[3]+ge,ye.isAreaCode=!0,ye.areaCodeLength=ge.length,be.push(ye)}),be.length>0?(ne.mainCode=!0,$||U.constructor.name==="Array"&&U.includes(te[2])?(ne.hasAreaCodes=!0,[ne].concat(be)):(Q=Q.concat(be),[ne])):[ne]}))),Q]}function F(re,U,J,ue){if(J!==null){var Y=Object.keys(J),E=Object.values(J);Y.forEach(function($,Q){if(ue)return re.push([$,E[Q]]);var te=re.findIndex(function(be){return be[0]===$});if(te===-1){var ne=[$];ne[U]=E[Q],re.push(ne)}else re[te][U]=E[Q]})}}function N(re,U){return U.length===0?re:re.map(function(J){var ue=U.findIndex(function(E){return E[0]===J[2]});if(ue===-1)return J;var Y=U[ue];return Y[1]&&(J[4]=Y[1]),Y[3]&&(J[5]=Y[3]),Y[2]&&(J[6]=Y[2]),J})}var Z=function re(U,J,ue,Y,E,$,Q,te,ne,be,ge,ye,Ce,Me){l(this,re),this.filterRegions=function(ce,de){if(typeof ce=="string"){var Ie=ce;return de.filter(function(Te){return Te.regions.some(function(Oe){return Oe===Ie})})}return de.filter(function(Te){return ce.map(function(Oe){return Te.regions.some(function(Be){return Be===Oe})}).some(function(Oe){return Oe})})},this.sortTerritories=function(ce,de){var Ie=[].concat(o(ce),o(de));return Ie.sort(function(Te,Oe){return Te.name<Oe.name?-1:Te.name>Oe.name?1:0}),Ie},this.getFilteredCountryList=function(ce,de,Ie){return ce.length===0?de:Ie?ce.map(function(Te){var Oe=de.find(function(Be){return Be.iso2===Te});if(Oe)return Oe}).filter(function(Te){return Te}):de.filter(function(Te){return ce.some(function(Oe){return Oe===Te.iso2})})},this.localizeCountries=function(ce,de,Ie){for(var Te=0;Te<ce.length;Te++)de[ce[Te].iso2]!==void 0?ce[Te].localName=de[ce[Te].iso2]:de[ce[Te].name]!==void 0&&(ce[Te].localName=de[ce[Te].name]);return Ie||ce.sort(function(Oe,Be){return Oe.localName<Be.localName?-1:Oe.localName>Be.localName?1:0}),ce},this.getCustomAreas=function(ce,de){for(var Ie=[],Te=0;Te<de.length;Te++){var Oe=JSON.parse(JSON.stringify(ce));Oe.dialCode+=de[Te],Ie.push(Oe)}return Ie},this.excludeCountries=function(ce,de){return de.length===0?ce:ce.filter(function(Ie){return!de.includes(Ie.iso2)})};var O=function(ce,de,Ie){var Te=[];return F(Te,1,ce,!0),F(Te,3,de),F(Te,2,Ie),Te}(te,ne,be),P=N(JSON.parse(JSON.stringify(_)),O),H=N(JSON.parse(JSON.stringify(W)),O),j=z(B(P,U,ye,Ce,Me),2),K=j[0],ae=j[1];if(J){var he=z(B(H,U,ye,Ce,Me),2),pe=he[0];he[1],K=this.sortTerritories(pe,K)}ue&&(K=this.filterRegions(ue,K)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(Y,K,Q.includes("onlyCountries")),$),ge,Q.includes("onlyCountries")),this.preferredCountries=E.length===0?[]:this.localizeCountries(this.getFilteredCountryList(E,K,Q.includes("preferredCountries")),ge,Q.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(Y,ae),$)},me=function(re){function U(Y){var E;l(this,U),(E=function(O,P){return!P||d(P)!=="object"&&typeof P!="function"?f(O):P}(this,p(U).call(this,Y))).getProbableCandidate=k()(function(O){return O&&O.length!==0?E.state.onlyCountries.filter(function(P){return T()(P.name.toLowerCase(),O.toLowerCase())},f(f(E)))[0]:null}),E.guessSelectedCountry=k()(function(O,P,H,j){var K;if(E.props.enableAreaCodes===!1&&(j.some(function(pe){if(T()(O,pe.dialCode))return H.some(function(ce){if(pe.iso2===ce.iso2&&ce.mainCode)return K=ce,!0}),!0}),K))return K;var ae=H.find(function(pe){return pe.iso2==P});if(O.trim()==="")return ae;var he=H.reduce(function(pe,ce){return T()(O,ce.dialCode)&&(ce.dialCode.length>pe.dialCode.length||ce.dialCode.length===pe.dialCode.length&&ce.priority<pe.priority)?ce:pe},{dialCode:"",priority:10001},f(f(E)));return he.name?he:ae}),E.updateCountry=function(O){var P,H=E.state.onlyCountries;(P=O.indexOf(0)>="0"&&O.indexOf(0)<="9"?H.find(function(j){return j.dialCode==+O}):H.find(function(j){return j.iso2==O}))&&P.dialCode&&E.setState({selectedCountry:P,formattedNumber:E.props.disableCountryCode?"":E.formatNumber(P.dialCode,P)})},E.scrollTo=function(O,P){if(O){var H=E.dropdownRef;if(H&&document.body){var j=H.offsetHeight,K=H.getBoundingClientRect().top+document.body.scrollTop,ae=K+j,he=O,pe=he.getBoundingClientRect(),ce=he.offsetHeight,de=pe.top+document.body.scrollTop,Ie=de+ce,Te=de-K+H.scrollTop,Oe=j/2-ce/2;if(E.props.enableSearch?de<K+32:de<K)P&&(Te-=Oe),H.scrollTop=Te;else if(Ie>ae){P&&(Te+=Oe);var Be=j-ce;H.scrollTop=Te-Be}}}},E.scrollToTop=function(){var O=E.dropdownRef;O&&document.body&&(O.scrollTop=0)},E.formatNumber=function(O,P){if(!P)return O;var H,j=P.format,K=E.props,ae=K.disableCountryCode,he=K.enableAreaCodeStretch,pe=K.enableLongNumbers,ce=K.autoFormat;if(ae?((H=j.split(" ")).shift(),H=H.join(" ")):he&&P.isAreaCode?((H=j.split(" "))[1]=H[1].replace(/\.+/,"".padEnd(P.areaCodeLength,".")),H=H.join(" ")):H=j,!O||O.length===0)return ae?"":E.props.prefix;if(O&&O.length<2||!H||!ce)return ae?O:E.props.prefix+O;var de,Ie=C()(H,function(Te,Oe){if(Te.remainingText.length===0)return Te;if(Oe!==".")return{formattedText:Te.formattedText+Oe,remainingText:Te.remainingText};var Be,Re=s(Be=Te.remainingText)||i(Be)||a(),Je=Re[0],It=Re.slice(1);return{formattedText:Te.formattedText+Je,remainingText:It}},{formattedText:"",remainingText:O.split("")});return(de=pe?Ie.formattedText+Ie.remainingText.join(""):Ie.formattedText).includes("(")&&!de.includes(")")&&(de+=")"),de},E.cursorToEnd=function(){var O=E.numberInputRef;if(document.activeElement===O){O.focus();var P=O.value.length;O.value.charAt(P-1)===")"&&(P-=1),O.setSelectionRange(P,P)}},E.getElement=function(O){return E["flag_no_".concat(O)]},E.getCountryData=function(){return E.state.selectedCountry?{name:E.state.selectedCountry.name||"",dialCode:E.state.selectedCountry.dialCode||"",countryCode:E.state.selectedCountry.iso2||"",format:E.state.selectedCountry.format||""}:{}},E.handleFlagDropdownClick=function(O){if(O.preventDefault(),E.state.showDropdown||!E.props.disabled){var P=E.state,H=P.preferredCountries,j=P.onlyCountries,K=P.selectedCountry,ae=E.concatPreferredCountries(H,j).findIndex(function(he){return he.dialCode===K.dialCode&&he.iso2===K.iso2});E.setState({showDropdown:!E.state.showDropdown,highlightCountryIndex:ae},function(){E.state.showDropdown&&E.scrollTo(E.getElement(E.state.highlightCountryIndex))})}},E.handleInput=function(O){var P=O.target.value,H=E.props,j=H.prefix,K=H.onChange,ae=E.props.disableCountryCode?"":j,he=E.state.selectedCountry,pe=E.state.freezeSelection;if(!E.props.countryCodeEditable){var ce=j+(he.hasAreaCodes?E.state.onlyCountries.find(function(gt){return gt.iso2===he.iso2&&gt.mainCode}).dialCode:he.dialCode);if(P.slice(0,ce.length)!==ce)return}if(P===j)return K&&K("",E.getCountryData(),O,""),E.setState({formattedNumber:""});if(!(P.replace(/\D/g,"").length>15&&(E.props.enableLongNumbers===!1||typeof E.props.enableLongNumbers=="number"&&P.replace(/\D/g,"").length>E.props.enableLongNumbers))&&P!==E.state.formattedNumber){O.preventDefault?O.preventDefault():O.returnValue=!1;var de=E.props.country,Ie=E.state,Te=Ie.onlyCountries,Oe=Ie.selectedCountry,Be=Ie.hiddenAreaCodes;if(K&&O.persist(),P.length>0){var Re=P.replace(/\D/g,"");(!E.state.freezeSelection||Oe&&Oe.dialCode.length>Re.length)&&(he=E.props.disableCountryGuess?Oe:E.guessSelectedCountry(Re.substring(0,6),de,Te,Be)||Oe,pe=!1),ae=E.formatNumber(Re,he),he=he.dialCode?he:Oe}var Je=O.target.selectionStart,It=O.target.selectionStart,kt=E.state.formattedNumber,mt=ae.length-kt.length;E.setState({formattedNumber:ae,freezeSelection:pe,selectedCountry:he},function(){mt>0&&(It-=mt),ae.charAt(ae.length-1)==")"?E.numberInputRef.setSelectionRange(ae.length-1,ae.length-1):It>0&&kt.length>=ae.length?E.numberInputRef.setSelectionRange(It,It):Je<kt.length&&E.numberInputRef.setSelectionRange(Je,Je),K&&K(ae.replace(/[^0-9]+/g,""),E.getCountryData(),O,ae)})}},E.handleInputClick=function(O){E.setState({showDropdown:!1}),E.props.onClick&&E.props.onClick(O,E.getCountryData())},E.handleDoubleClick=function(O){var P=O.target.value.length;O.target.setSelectionRange(0,P)},E.handleFlagItemClick=function(O,P){var H=E.state.selectedCountry,j=E.state.onlyCountries.find(function(pe){return pe==O});if(j){var K=E.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),ae=K.length>1?K.replace(H.dialCode,j.dialCode):j.dialCode,he=E.formatNumber(ae.replace(/\D/g,""),j);E.setState({showDropdown:!1,selectedCountry:j,freezeSelection:!0,formattedNumber:he,searchValue:""},function(){E.cursorToEnd(),E.props.onChange&&E.props.onChange(he.replace(/[^0-9]+/g,""),E.getCountryData(),P,he)})}},E.handleInputFocus=function(O){E.numberInputRef&&E.numberInputRef.value===E.props.prefix&&E.state.selectedCountry&&!E.props.disableCountryCode&&E.setState({formattedNumber:E.props.prefix+E.state.selectedCountry.dialCode},function(){E.props.jumpCursorToEnd&&setTimeout(E.cursorToEnd,0)}),E.setState({placeholder:""}),E.props.onFocus&&E.props.onFocus(O,E.getCountryData()),E.props.jumpCursorToEnd&&setTimeout(E.cursorToEnd,0)},E.handleInputBlur=function(O){O.target.value||E.setState({placeholder:E.props.placeholder}),E.props.onBlur&&E.props.onBlur(O,E.getCountryData())},E.handleInputCopy=function(O){if(E.props.copyNumbersOnly){var P=window.getSelection().toString().replace(/[^0-9]+/g,"");O.clipboardData.setData("text/plain",P),O.preventDefault()}},E.getHighlightCountryIndex=function(O){var P=E.state.highlightCountryIndex+O;return P<0||P>=E.state.onlyCountries.length+E.state.preferredCountries.length?P-O:E.props.enableSearch&&P>E.getSearchFilteredCountries().length?0:P},E.searchCountry=function(){var O=E.getProbableCandidate(E.state.queryString)||E.state.onlyCountries[0],P=E.state.onlyCountries.findIndex(function(H){return H==O})+E.state.preferredCountries.length;E.scrollTo(E.getElement(P),!0),E.setState({queryString:"",highlightCountryIndex:P})},E.handleKeydown=function(O){var P=E.props.keys,H=O.target.className;if(H.includes("selected-flag")&&O.which===P.ENTER&&!E.state.showDropdown)return E.handleFlagDropdownClick(O);if(H.includes("form-control")&&(O.which===P.ENTER||O.which===P.ESC))return O.target.blur();if(E.state.showDropdown&&!E.props.disabled&&(!H.includes("search-box")||O.which===P.UP||O.which===P.DOWN||O.which===P.ENTER||O.which===P.ESC&&O.target.value==="")){O.preventDefault?O.preventDefault():O.returnValue=!1;var j=function(K){E.setState({highlightCountryIndex:E.getHighlightCountryIndex(K)},function(){E.scrollTo(E.getElement(E.state.highlightCountryIndex),!0)})};switch(O.which){case P.DOWN:j(1);break;case P.UP:j(-1);break;case P.ENTER:E.props.enableSearch?E.handleFlagItemClick(E.getSearchFilteredCountries()[E.state.highlightCountryIndex]||E.getSearchFilteredCountries()[0],O):E.handleFlagItemClick([].concat(o(E.state.preferredCountries),o(E.state.onlyCountries))[E.state.highlightCountryIndex],O);break;case P.ESC:case P.TAB:E.setState({showDropdown:!1},E.cursorToEnd);break;default:(O.which>=P.A&&O.which<=P.Z||O.which===P.SPACE)&&E.setState({queryString:E.state.queryString+String.fromCharCode(O.which)},E.state.debouncedQueryStingSearcher)}}},E.handleInputKeyDown=function(O){var P=E.props,H=P.keys,j=P.onEnterKeyPress,K=P.onKeyDown;O.which===H.ENTER&&j&&j(O),K&&K(O)},E.handleClickOutside=function(O){E.dropdownRef&&E.dropdownRef!==O.target&&!E.dropdownRef.contains(O.target)&&E.state.showDropdown&&E.setState({showDropdown:!1})},E.handleSearchChange=function(O){var P=O.currentTarget.value,H=E.state,j=H.preferredCountries,K=H.selectedCountry,ae=0;if(P===""&&K){var he=E.state.onlyCountries;ae=E.concatPreferredCountries(j,he).findIndex(function(pe){return pe==K}),setTimeout(function(){return E.scrollTo(E.getElement(ae))},100)}E.setState({searchValue:P,highlightCountryIndex:ae})},E.concatPreferredCountries=function(O,P){return O.length>0?o(new Set(O.concat(P))):P},E.getDropdownCountryName=function(O){return O.localName||O.name},E.getSearchFilteredCountries=function(){var O=E.state,P=O.preferredCountries,H=O.onlyCountries,j=O.searchValue,K=E.props.enableSearch,ae=E.concatPreferredCountries(P,H),he=j.trim().toLowerCase().replace("+","");if(K&&he){if(/^\d+$/.test(he))return ae.filter(function(de){var Ie=de.dialCode;return["".concat(Ie)].some(function(Te){return Te.toLowerCase().includes(he)})});var pe=ae.filter(function(de){var Ie=de.iso2;return["".concat(Ie)].some(function(Te){return Te.toLowerCase().includes(he)})}),ce=ae.filter(function(de){var Ie=de.name,Te=de.localName;return de.iso2,["".concat(Ie),"".concat(Te||"")].some(function(Oe){return Oe.toLowerCase().includes(he)})});return E.scrollToTop(),o(new Set([].concat(pe,ce)))}return ae},E.getCountryDropdownList=function(){var O=E.state,P=O.preferredCountries,H=O.highlightCountryIndex,j=O.showDropdown,K=O.searchValue,ae=E.props,he=ae.disableDropdown,pe=ae.prefix,ce=E.props,de=ce.enableSearch,Ie=ce.searchNotFound,Te=ce.disableSearchIcon,Oe=ce.searchClass,Be=ce.searchStyle,Re=ce.searchPlaceholder,Je=ce.autocompleteSearch,It=ce.DropdownList,kt=E.getSearchFilteredCountries().map(function(ut,yn){var Dn=H===yn,Ft=R()({country:!0,preferred:ut.iso2==="us"||ut.iso2==="gb",active:ut.iso2==="us",highlight:Dn}),un="flag ".concat(ut.iso2);return y.a.createElement("li",Object.assign({ref:function(Gt){return E["flag_no_".concat(yn)]=Gt},key:"flag_no_".concat(yn),"data-flag-key":"flag_no_".concat(yn),className:Ft,"data-dial-code":"1",tabIndex:he?"-1":"0","data-country-code":ut.iso2,onClick:function(Gt){return E.handleFlagItemClick(ut,Gt)},role:"option"},Dn?{"aria-selected":!0}:{}),y.a.createElement("div",{className:un}),y.a.createElement("span",{className:"country-name"},E.getDropdownCountryName(ut)),y.a.createElement("span",{className:"dial-code"},ut.format?E.formatNumber(ut.dialCode,ut):pe+ut.dialCode))}),mt=y.a.createElement("li",{key:"dashes",className:"divider"});P.length>0&&(!de||de&&!K.trim())&&kt.splice(P.length,0,mt);var gt=R()(r({"country-list":!0,hide:!j},E.props.dropdownClass,!0)),qt=y.a.createElement(y.a.Fragment,null,de&&y.a.createElement("li",{className:R()(r({search:!0},Oe,Oe))},!Te&&y.a.createElement("span",{className:R()(r({"search-emoji":!0},"".concat(Oe,"-emoji"),Oe)),role:"img","aria-label":"Magnifying glass"},"ðŸ”Ž"),y.a.createElement("input",{className:R()(r({"search-box":!0},"".concat(Oe,"-box"),Oe)),style:Be,type:"search",placeholder:Re,autoFocus:!0,autoComplete:Je?"on":"off",value:K,onChange:E.handleSearchChange})),kt.length>0?kt:y.a.createElement("li",{className:"no-entries-message"},y.a.createElement("span",null,Ie)));return It?y.a.createElement(It,{ref:function(ut){return!de&&ut&&ut.focus(),E.dropdownRef=ut},anchorEl:E.numberInputRef},qt):y.a.createElement("ul",{ref:function(ut){return!de&&ut&&ut.focus(),E.dropdownRef=ut},className:gt,style:E.props.dropdownStyle,role:"listbox",tabIndex:"0"},qt)};var $,Q=new Z(Y.enableAreaCodes,Y.enableTerritories,Y.regions,Y.onlyCountries,Y.preferredCountries,Y.excludeCountries,Y.preserveOrder,Y.masks,Y.priority,Y.areaCodes,Y.localization,Y.prefix,Y.defaultMask,Y.alwaysDefaultMask),te=Q.onlyCountries,ne=Q.preferredCountries,be=Q.hiddenAreaCodes,ge=Y.value?Y.value.replace(/\D/g,""):"";$=Y.disableInitialCountryGuess?0:ge.length>1?E.guessSelectedCountry(ge.substring(0,6),Y.country,te,be)||0:Y.country&&te.find(function(O){return O.iso2==Y.country})||0;var ye,Ce=ge.length<2&&$&&!T()(ge,$.dialCode)?$.dialCode:"";ye=ge===""&&$===0?"":E.formatNumber((Y.disableCountryCode?"":Ce)+ge,$.name?$:void 0);var Me=te.findIndex(function(O){return O==$});return E.state={showDropdown:Y.showDropdown,formattedNumber:ye,onlyCountries:te,preferredCountries:ne,hiddenAreaCodes:be,selectedCountry:$,highlightCountryIndex:Me,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:b()(E.searchCountry,250),searchValue:""},E}var J,ue;return function(Y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(E&&E.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),E&&h(Y,E)}(U,re),J=U,(ue=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(Y,E,$){Y.country!==this.props.country?this.updateCountry(this.props.country):Y.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(Y){if(Y===null)return this.setState({selectedCountry:0,formattedNumber:""});var E=this.state,$=E.onlyCountries,Q=E.selectedCountry,te=E.hiddenAreaCodes,ne=this.props,be=ne.country,ge=ne.prefix;if(Y==="")return this.setState({selectedCountry:Q,formattedNumber:""});var ye,Ce,Me=Y.replace(/\D/g,"");if(Q&&T()(Y,ge+Q.dialCode))Ce=this.formatNumber(Me,Q),this.setState({formattedNumber:Ce});else{var O=(ye=this.props.disableCountryGuess?Q:this.guessSelectedCountry(Me.substring(0,6),be,$,te)||Q)&&T()(Me,ge+ye.dialCode)?ye.dialCode:"";Ce=this.formatNumber((this.props.disableCountryCode?"":O)+Me,ye||void 0),this.setState({selectedCountry:ye,formattedNumber:Ce})}}},{key:"render",value:function(){var Y,E,$,Q=this,te=this.state,ne=te.onlyCountries,be=te.selectedCountry,ge=te.showDropdown,ye=te.formattedNumber,Ce=te.hiddenAreaCodes,Me=this.props,O=Me.disableDropdown,P=Me.tabbableDropdown,H=Me.renderStringAsFlag,j=Me.isValid,K=Me.defaultErrorMessage,ae=Me.specialLabel;if(typeof j=="boolean")E=j;else{var he=j(ye.replace(/\D/g,""),be,ne,Ce);typeof he=="boolean"?(E=he)===!1&&($=K):(E=!1,$=he)}var pe=R()((r(Y={},this.props.containerClass,!0),r(Y,"react-tel-input",!0),Y)),ce=R()({arrow:!0,up:ge}),de=R()(r({"form-control":!0,"invalid-number":!E,open:ge},this.props.inputClass,!0)),Ie=R()({"selected-flag":!0,open:ge}),Te=R()(r({"flag-dropdown":!0,"invalid-number":!E,open:ge},this.props.buttonClass,!0)),Oe="flag ".concat(be&&be.iso2);return y.a.createElement("div",{className:"".concat(pe," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},ae&&y.a.createElement("div",{className:"special-label"},ae),$&&y.a.createElement("div",{className:"invalid-number-message"},$),y.a.createElement("input",Object.assign({className:de,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:ye,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(Be){Q.numberInputRef=Be,typeof Q.props.inputProps.ref=="function"?Q.props.inputProps.ref(Be):typeof Q.props.inputProps.ref=="object"&&(Q.props.inputProps.ref.current=Be)}})),y.a.createElement("div",{className:Te,style:this.props.buttonStyle,ref:function(Be){return Q.dropdownContainerRef=Be}},H?y.a.createElement("div",{className:Ie},H):y.a.createElement("div",{onClick:O?void 0:this.handleFlagDropdownClick,className:Ie,title:be?"".concat(be.localName||be.name,": + ").concat(be.dialCode):"",tabIndex:O||P===!1?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!ge||void 0},y.a.createElement("div",{className:Oe},!O&&y.a.createElement("div",{className:ce}))),ge&&this.getCountryDropdownList()))}}])&&u(J.prototype,ue),U}(y.a.Component);me.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},e.default=me}])),Md}var QO=XO();const e2=it(QO),t2=ee.div`
  .react-tel-input {
    .form-control {
      border-radius: 0px;
      border-color: ${V.newColors.simplyGrey[100]};
      font-family: ${V.fontFamily};
      height: ${V.fieldSpecs.inputText.totalHeight};
      padding: 12px 16px 12px 70px;
      outline: 0;
      width: 100%;
      box-shadow: none;
      transition: none;

      border-width: 1px;
      border-style: solid;

      ${({$error:n})=>n?`
        border-color: ${V.newColors.darkRed[100]};
      `:`
        border-color: ${V.newColors.simplyGrey[100]};
      `}

      ${({$disabled:n})=>n?`
        background-color: ${V.colors.disableBackground};
        border-color: ${V.colors.disableBorder};
        color: ${V.colors.disabledTextColor};
      `:`
			  background-color: ${V.newColors.grey1[100]};
        color: ${V.newColors.almostBlack[100]};
        &:hover {
          border-color: ${V.colors.disabledBorderFocus};
        }
      `}

      &:focus {
        color: ${V.newColors.almostBlack[100]};
        border-color: ${V.newColors.almostBlack[100]};
        box-shadow: ${V.fieldSpecs.inputText.shadow};
      }
    }

    .flag-dropdown {
      border: 1px solid transparent;
    }

    .selected-flag {
      &::after{
        background: none;
        content: "";
        display: block;
        position: absolute;
        top: 10px;
        right: -15px;
        bottom: 10px;
        border-right: 1px solid #CCCCCC;
      }

      border-radius: 0;
      width: 100%;
      padding: 15px 30px 15px 15px;

      &:focus:before {
        border-color: transparent;
        box-shadow: none;
      }

      .flag{
        border-radius: 2px;
      }

      ${({$disabled:n})=>n&&`
        .flag{
          opacity: 0.25;
        }
      `}
    }
    .selected-flag.open {
      &:before {
        border-color: transparent;
        box-shadow: none;
      }
    }

    .country {
      font-size: 14px;
    }

    .country-list {
      border-radius: 0px;
      margin: 1px 0px 10px -1px;
      width: 280px;
      .country.highlight,
      .country.highlight .dial-code {
        color: ${V.colors.black};
        font-family: ${V.fontFamily};
        font-weight: 600;
      }
    }
  }
`,n2=ee(no)`
    z-index: 1500;
`,r2=ee.ul`
    list-style: none;
    margin: 0;
    padding: 8px 0;
    max-height: 40vh;
    overflow: auto;

    li {
        font-family: ${V.fontFamily};
        color: ${V.newColors.almostBlack[100]};
        font-size: 14px;
        min-height: 40px;
        display: flex;
        gap: 8px;
        overflow: hidden;
        justify-content: flex-start;
        align-items: center;
        cursor: pointer;
        box-sizing: border-box;
        outline: 0;
        -webkit-tap-highlight-color: transparent;
        padding: 6px 16px;

        &:highlight,
        &:hover {
            background-color: rgba(0, 0, 0, 0.04);
        }

        & .flag {
            width: 25px;
            height: 20px;
            background-repeat: no-repeat;
        }
    }

    li.highlight,
    li:hover {
        background-color: rgba(0, 0, 0, 0.04);
    }
`,i2=L.forwardRef(function({children:e,anchorEl:t},r){return v.jsx(n2,{open:!0,anchorEl:t,style:{width:t.clientWidth},children:v.jsx(sl,{children:v.jsx(r2,{ref:r,children:e})})})}),o2=n=>{var c,d;const{fieldDef:e,error:t,onChange:r,onBlur:i,value:o,disabled:s,inputRef:a,id:l,skeleton:u}=n;return u?v.jsx(Qe,{variant:"rectangular",width:"100%",height:43}):v.jsx(t2,{$error:!!(e!=null&&e.required&&t),onBlur:f=>i&&i(f.target.value),$disabled:s,children:v.jsx(e2,{autoFormat:!!((c=e==null?void 0:e.inputSettings)!=null&&c.autoFormat),country:(d=e==null?void 0:e.inputSettings)!=null&&d.country?e==null?void 0:e.inputSettings.country:"us",disabled:s,onChange:r,value:o,inputProps:{required:e==null?void 0:e.required,ref:a,id:l},tabbableDropdown:!1,DropdownList:i2})})},s2=m.memo(o2);function a2(n){return kn("MuiRadioGroup",n)}Dt("MuiRadioGroup",["root","row","error"]);const l2=["actions","children","className","defaultValue","name","onChange","value"],u2=n=>{const{classes:e,row:t,error:r}=n;return Mn({root:["root",t&&"row",r&&"error"]},a2,e)},c2=m.forwardRef(function(e,t){const{actions:r,children:i,className:o,defaultValue:s,name:a,onChange:l,value:u}=e,c=nt(e,l2),d=m.useRef(null),f=u2(e),[p,h]=ns({controlled:u,default:s,name:"RadioGroup"});m.useImperativeHandle(r,()=>({focus:()=>{let b=d.current.querySelector("input:not(:disabled):checked");b||(b=d.current.querySelector("input:not(:disabled)")),b&&b.focus()}}),[]);const g=Vr(t,d),y=Sm(a),x=m.useMemo(()=>({name:y,onChange(b){h(b.target.value),l&&l(b,b.target.value)},value:p}),[y,l,h,p]);return v.jsx(PL.Provider,{value:x,children:v.jsx(fL,X({role:"radiogroup",ref:g,className:zn(f.root,o)},c,{children:i}))})}),d2=ee(c2)`
  margin-left: -12px;
`,f2=ee.div`
	display: flex;
	flex-flow: column;
`,p2=ee.div`
	display: flex;
	align-items: center;
`,h2=ee.div`
	display: flex;
	align-items: center;
	justify-content: center;
	width: 18px;
	height: 40px;
	margin-right: 14px;
`;function Ed(){return v.jsxs(p2,{children:[v.jsx(h2,{children:v.jsx(Qe,{variant:"circular",width:18,height:18})}),v.jsx(Qe,{width:52,height:28})]})}function m2(){return v.jsxs(f2,{children:[v.jsx(Ed,{}),v.jsx(Ed,{}),v.jsx(Ed,{})]})}const g2=n=>{const{fieldDef:e,onChange:t,value:r,onBlur:i,disabled:o,skeleton:s}=n,{inputSettings:{getOptions:a,options:l=a}={}}=e;Dc(`The \`getOptions\` input setting (provided to the \`${e.name}\` field) is deprecated and will be removed in future versions. Use the \`options\` input setting instead.`,!!a);const{options:u,loading:c}=Ic({from:l,add:r?[r]:void 0}),d=f=>{const p=u.find(h=>h.value===f);p&&t(p)};return s||c?v.jsx(m2,{}):v.jsx(d2,{onChange:({target:{value:f}})=>d(f),value:r?r.value:"",onBlur:f=>i&&i(f.target.value),children:u.map(f=>v.jsx(DL,{disabled:o,label:f.label,value:f.value},f.label))})},v2=m.memo(g2),y2=n=>{const{value:e}=n;return v.jsx(v.Fragment,{children:e})},b2=m.memo(y2),x2=ee.div`
	display: flex;
	flex-flow: column;
`,w2=ee.div`
	display: flex;
	align-items: center;
`,C2=ee.div`
	display: flex;
	align-items: center;
	justify-content: center;
    padding-left: 10px;
	height: 40px;
	margin-right: 14px;

    & .MuiSkeleton-root {
        border-radius: 99999em;
    }
`;function S2(){return v.jsxs(w2,{children:[v.jsx(C2,{children:v.jsx(Qe,{variant:"rounded",width:36,height:22})}),v.jsx(Qe,{width:78,height:28})]})}function k2(){return v.jsx(x2,{children:v.jsx(S2,{})})}const M2=n=>{var a;const{fieldDef:e,onBlur:t,onChange:r,value:i,disabled:o,skeleton:s}=n;return s?v.jsx(k2,{}):v.jsx(IL,{disabled:o,checked:i,label:(a=e==null?void 0:e.inputSettings)==null?void 0:a.toggleLabel,onChange:r,onBlur:t})},E2=m.memo(M2);var Tn={},vo={},Td,Hv;function T2(){if(Hv)return Td;Hv=1;var n=Mm(),e=ll(),t=ro(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&t(o)&&n(o)==r}return Td=i,Td}var Ld,Vv;function L2(){if(Vv)return Ld;Vv=1;var n=rC();function e(t){return typeof t=="function"?t:n}return Ld=e,Ld}var Ad,Wv;function Rm(){if(Wv)return Ad;Wv=1;var n=FL(),e=L2();function t(r,i){return r&&n(r,e(i))}return Ad=t,Ad}var Od,Uv;function Pm(){if(Uv)return Od;Uv=1;var n=BL(),e=n(Object.getPrototypeOf,Object);return Od=e,Od}var Rd,qv;function wC(){if(qv)return Rd;qv=1;var n=Mm(),e=Pm(),t=ro(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!t(c)||n(c)!=r)return!1;var d=e(c);if(d===null)return!0;var f=a.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&s.call(f)==l}return Rd=u,Rd}var Gv;function A2(){if(Gv)return vo;Gv=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.flattenNames=void 0;var n=T2(),e=l(n),t=Rm(),r=l(t),i=wC(),o=l(i),s=qT(),a=l(s);function l(c){return c&&c.__esModule?c:{default:c}}var u=vo.flattenNames=function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=[];return(0,a.default)(d,function(p){Array.isArray(p)?c(p).map(function(h){return f.push(h)}):(0,o.default)(p)?(0,r.default)(p,function(h,g){h===!0&&f.push(g),f.push(g+"-"+h)}):(0,e.default)(p)&&f.push(p)}),f};return vo.default=u,vo}var yo={},Pd,Kv;function Dm(){if(Kv)return Pd;Kv=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}return Pd=n,Pd}var Dd,Yv;function Nc(){if(Yv)return Dd;Yv=1;var n=Kw(),e=GT();function t(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=s?s(o[c],r[c],c,o,r):void 0;d===void 0&&(d=r[c]),a?e(o,c,d):n(o,c,d)}return o}return Dd=t,Dd}var Id,Jv;function CC(){if(Jv)return Id;Jv=1;var n=Nc(),e=iC();function t(r,i){return r&&n(i,e(i),r)}return Id=t,Id}var Nd,Zv;function O2(){if(Zv)return Nd;Zv=1;function n(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}return Nd=n,Nd}var _d,Xv;function R2(){if(Xv)return _d;Xv=1;var n=Rc(),e=oC(),t=O2(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!n(s))return t(s);var a=e(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return _d=o,_d}var $d,Qv;function Im(){if(Qv)return $d;Qv=1;var n=jL(),e=R2(),t=zL();function r(i){return t(i)?n(i,!0):e(i)}return $d=r,$d}var Fd,ey;function P2(){if(ey)return Fd;ey=1;var n=Nc(),e=Im();function t(r,i){return r&&n(i,e(i),r)}return Fd=t,Fd}var da={exports:{}};da.exports;var ty;function D2(){return ty||(ty=1,function(n,e){var t=al(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=a?a(d):new u.constructor(d);return u.copy(f),f}n.exports=l}(da,da.exports)),da.exports}var Bd,ny;function _c(){if(ny)return Bd;ny=1;function n(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}return Bd=n,Bd}var jd,ry;function I2(){if(ry)return jd;ry=1;var n=Nc(),e=sC();function t(r,i){return n(r,e(r),i)}return jd=t,jd}var zd,iy;function SC(){if(iy)return zd;iy=1;var n=HL(),e=Pm(),t=sC(),r=VL(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)n(a,t(s)),s=e(s);return a}:r;return zd=o,zd}var Hd,oy;function N2(){if(oy)return Hd;oy=1;var n=Nc(),e=SC();function t(r,i){return n(r,e(r),i)}return Hd=t,Hd}var Vd,sy;function _2(){if(sy)return Vd;sy=1;var n=WL(),e=SC(),t=Im();function r(i){return n(i,t,e)}return Vd=r,Vd}var Wd,ay;function $2(){if(ay)return Wd;ay=1;var n=Object.prototype,e=n.hasOwnProperty;function t(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Wd=t,Wd}var Ud,ly;function Nm(){if(ly)return Ud;ly=1;var n=UL();function e(t){var r=new t.constructor(t.byteLength);return new n(r).set(new n(t)),r}return Ud=e,Ud}var qd,uy;function F2(){if(uy)return qd;uy=1;var n=Nm();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}return qd=e,qd}var Gd,cy;function B2(){if(cy)return Gd;cy=1;var n=/\w*$/;function e(t){var r=new t.constructor(t.source,n.exec(t));return r.lastIndex=t.lastIndex,r}return Gd=e,Gd}var Kd,dy;function j2(){if(dy)return Kd;dy=1;var n=NL(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function r(i){return t?Object(t.call(i)):{}}return Kd=r,Kd}var Yd,fy;function z2(){if(fy)return Yd;fy=1;var n=Nm();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}return Yd=e,Yd}var Jd,py;function H2(){if(py)return Jd;py=1;var n=Nm(),e=F2(),t=B2(),r=j2(),i=z2(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",p="[object ArrayBuffer]",h="[object DataView]",g="[object Float32Array]",y="[object Float64Array]",x="[object Int8Array]",b="[object Int16Array]",w="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",M="[object Uint32Array]";function T(I,R,z){var _=I.constructor;switch(R){case p:return n(I);case o:case s:return new _(+I);case h:return e(I,z);case g:case y:case x:case b:case w:case k:case S:case C:case M:return i(I,z);case a:return new _;case l:case d:return new _(I);case u:return t(I);case c:return new _;case f:return r(I)}}return Jd=T,Jd}var Zd,hy;function $c(){if(hy)return Zd;hy=1;var n=Rc(),e=Object.create,t=function(){function r(){}return function(i){if(!n(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Zd=t,Zd}var Xd,my;function V2(){if(my)return Xd;my=1;var n=$c(),e=Pm(),t=oC();function r(i){return typeof i.constructor=="function"&&!t(i)?n(e(i)):{}}return Xd=r,Xd}var Qd,gy;function W2(){if(gy)return Qd;gy=1;var n=Pc(),e=ro(),t="[object Map]";function r(i){return e(i)&&n(i)==t}return Qd=r,Qd}var ef,vy;function U2(){if(vy)return ef;vy=1;var n=W2(),e=aC(),t=lC(),r=t&&t.isMap,i=r?e(r):n;return ef=i,ef}var tf,yy;function q2(){if(yy)return tf;yy=1;var n=Pc(),e=ro(),t="[object Set]";function r(i){return e(i)&&n(i)==t}return tf=r,tf}var nf,by;function G2(){if(by)return nf;by=1;var n=q2(),e=aC(),t=lC(),r=t&&t.isSet,i=r?e(r):n;return nf=i,nf}var rf,xy;function _m(){if(xy)return rf;xy=1;var n=qL(),e=Dm(),t=Kw(),r=CC(),i=P2(),o=D2(),s=_c(),a=I2(),l=N2(),u=GL(),c=_2(),d=Pc(),f=$2(),p=H2(),h=V2(),g=ll(),y=KL(),x=U2(),b=Rc(),w=G2(),k=iC(),S=Im(),C=1,M=2,T=4,I="[object Arguments]",R="[object Array]",z="[object Boolean]",_="[object Date]",W="[object Error]",D="[object Function]",B="[object GeneratorFunction]",F="[object Map]",N="[object Number]",Z="[object Object]",me="[object RegExp]",re="[object Set]",U="[object String]",J="[object Symbol]",ue="[object WeakMap]",Y="[object ArrayBuffer]",E="[object DataView]",$="[object Float32Array]",Q="[object Float64Array]",te="[object Int8Array]",ne="[object Int16Array]",be="[object Int32Array]",ge="[object Uint8Array]",ye="[object Uint8ClampedArray]",Ce="[object Uint16Array]",Me="[object Uint32Array]",O={};O[I]=O[R]=O[Y]=O[E]=O[z]=O[_]=O[$]=O[Q]=O[te]=O[ne]=O[be]=O[F]=O[N]=O[Z]=O[me]=O[re]=O[U]=O[J]=O[ge]=O[ye]=O[Ce]=O[Me]=!0,O[W]=O[D]=O[ue]=!1;function P(H,j,K,ae,he,pe){var ce,de=j&C,Ie=j&M,Te=j&T;if(K&&(ce=he?K(H,ae,he,pe):K(H)),ce!==void 0)return ce;if(!b(H))return H;var Oe=g(H);if(Oe){if(ce=f(H),!de)return s(H,ce)}else{var Be=d(H),Re=Be==D||Be==B;if(y(H))return o(H,de);if(Be==Z||Be==I||Re&&!he){if(ce=Ie||Re?{}:h(H),!de)return Ie?l(H,i(ce,H)):a(H,r(ce,H))}else{if(!O[Be])return he?H:{};ce=p(H,Be,de)}}pe||(pe=new n);var Je=pe.get(H);if(Je)return Je;pe.set(H,ce),w(H)?H.forEach(function(mt){ce.add(P(mt,j,K,mt,H,pe))}):x(H)&&H.forEach(function(mt,gt){ce.set(gt,P(mt,j,K,gt,H,pe))});var It=Te?Ie?c:u:Ie?S:k,kt=Oe?void 0:It(H);return e(kt||H,function(mt,gt){kt&&(gt=mt,mt=H[gt]),t(ce,gt,P(mt,j,K,gt,H,pe))}),ce}return rf=P,rf}var of,wy;function K2(){if(wy)return of;wy=1;var n=_m(),e=1,t=4;function r(i){return n(i,e|t)}return of=r,of}var Cy;function Y2(){if(Cy)return yo;Cy=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.mergeClasses=void 0;var n=Rm(),e=o(n),t=K2(),r=o(t),i=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])}return a};function o(a){return a&&a.__esModule?a:{default:a}}var s=yo.mergeClasses=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=l.default&&(0,r.default)(l.default)||{};return u.map(function(d){var f=l[d];return f&&(0,e.default)(f,function(p,h){c[h]||(c[h]={}),c[h]=i({},c[h],f[h])}),d}),c};return yo.default=s,yo}var bo={},Sy;function J2(){if(Sy)return bo;Sy=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.autoprefix=void 0;var n=Rm(),e=r(n),t=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s};function r(s){return s&&s.__esModule?s:{default:s}}var i={borderRadius:function(a){return{msBorderRadius:a,MozBorderRadius:a,OBorderRadius:a,WebkitBorderRadius:a,borderRadius:a}},boxShadow:function(a){return{msBoxShadow:a,MozBoxShadow:a,OBoxShadow:a,WebkitBoxShadow:a,boxShadow:a}},userSelect:function(a){return{WebkitTouchCallout:a,KhtmlUserSelect:a,MozUserSelect:a,msUserSelect:a,WebkitUserSelect:a,userSelect:a}},flex:function(a){return{WebkitBoxFlex:a,MozBoxFlex:a,WebkitFlex:a,msFlex:a,flex:a}},flexBasis:function(a){return{WebkitFlexBasis:a,flexBasis:a}},justifyContent:function(a){return{WebkitJustifyContent:a,justifyContent:a}},transition:function(a){return{msTransition:a,MozTransition:a,OTransition:a,WebkitTransition:a,transition:a}},transform:function(a){return{msTransform:a,MozTransform:a,OTransform:a,WebkitTransform:a,transform:a}},absolute:function(a){var l=a&&a.split(" ");return{position:"absolute",top:l&&l[0],right:l&&l[1],bottom:l&&l[2],left:l&&l[3]}},extend:function(a,l){var u=l[a];return u||{extend:a}}},o=bo.autoprefix=function(a){var l={};return(0,e.default)(a,function(u,c){var d={};(0,e.default)(u,function(f,p){var h=i[p];h?d=t({},d,h(f)):d[p]=f}),l[c]=d}),l};return bo.default=o,bo}var xo={},ky;function Z2(){if(ky)return xo;ky=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.hover=void 0;var n=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=vs(),t=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function o(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var a=xo.hover=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(d){s(f,d);function f(){var p,h,g,y;i(this,f);for(var x=arguments.length,b=Array(x),w=0;w<x;w++)b[w]=arguments[w];return y=(h=(g=o(this,(p=f.__proto__||Object.getPrototypeOf(f)).call.apply(p,[this].concat(b))),g),g.state={hover:!1},g.handleMouseOver=function(){return g.setState({hover:!0})},g.handleMouseOut=function(){return g.setState({hover:!1})},g.render=function(){return t.default.createElement(c,{onMouseOver:g.handleMouseOver,onMouseOut:g.handleMouseOut},t.default.createElement(u,n({},g.props,g.state)))},h),o(g,y)}return f}(t.default.Component)};return xo.default=a,xo}var wo={},My;function X2(){if(My)return wo;My=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.active=void 0;var n=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=vs(),t=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function o(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var a=wo.active=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(d){s(f,d);function f(){var p,h,g,y;i(this,f);for(var x=arguments.length,b=Array(x),w=0;w<x;w++)b[w]=arguments[w];return y=(h=(g=o(this,(p=f.__proto__||Object.getPrototypeOf(f)).call.apply(p,[this].concat(b))),g),g.state={active:!1},g.handleMouseDown=function(){return g.setState({active:!0})},g.handleMouseUp=function(){return g.setState({active:!1})},g.render=function(){return t.default.createElement(c,{onMouseDown:g.handleMouseDown,onMouseUp:g.handleMouseUp},t.default.createElement(u,n({},g.props,g.state)))},h),o(g,y)}return f}(t.default.Component)};return wo.default=a,wo}var Ol={},Ey;function Q2(){if(Ey)return Ol;Ey=1,Object.defineProperty(Ol,"__esModule",{value:!0});var n=function(t,r){var i={},o=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[a]=l};return t===0&&o("first-child"),t===r-1&&o("last-child"),(t===0||t%2===0)&&o("even"),Math.abs(t%2)===1&&o("odd"),o("nth-child",t),i};return Ol.default=n,Ol}var Ty;function eR(){if(Ty)return Tn;Ty=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.ReactCSS=Tn.loop=Tn.handleActive=Tn.handleHover=Tn.hover=void 0;var n=A2(),e=f(n),t=Y2(),r=f(t),i=J2(),o=f(i),s=Z2(),a=f(s),l=X2(),u=f(l),c=Q2(),d=f(c);function f(h){return h&&h.__esModule?h:{default:h}}Tn.hover=a.default,Tn.handleHover=a.default,Tn.handleActive=u.default,Tn.loop=d.default;var p=Tn.ReactCSS=function(g){for(var y=arguments.length,x=Array(y>1?y-1:0),b=1;b<y;b++)x[b-1]=arguments[b];var w=(0,e.default)(x),k=(0,r.default)(g,w);return(0,o.default)(k)};return Tn.default=p,Tn}var $m=eR();const We=it($m);var tR=function(e,t,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(o.getBoundingClientRect().left+window.pageXOffset),d=u-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f=void 0;if(d<0?f=0:d>a?f=1:f=Math.round(d*100/a)/100,t.a!==f)return{h:t.h,s:t.s,l:t.l,a:f,source:"rgb"}}else{var p=void 0;if(c<0?p=0:c>s?p=1:p=Math.round(c*100/s)/100,i!==p)return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null},sf={},nR=function(e,t,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=t,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},rR=function(e,t,r,i){var o=e+"-"+t+"-"+r+(i?"-server":"");if(sf[o])return sf[o];var s=nR(e,t,r,i);return sf[o]=s,s},Ly=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xs=function(e){var t=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,u=We({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+rR(t,r,i,o.canvas)+") center left"}}});return m.isValidElement(l)?L.cloneElement(l,Ly({},l.props,{style:Ly({},l.props.style,u.grid)})):L.createElement("div",{style:u.grid})};xs.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var iR=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oR=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function sR(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ay(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function aR(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Fm=function(n){aR(e,n);function e(){var t,r,i,o;sR(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=Ay(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(u){var c=tR(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),Ay(i,o)}return oR(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=We({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:iR({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return L.createElement("div",{style:o.alpha},L.createElement("div",{style:o.checkboard},L.createElement(xs,{renderers:this.props.renderers})),L.createElement("div",{style:o.gradient}),L.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("div",{style:o.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:o.slider}))))}}]),e}(m.PureComponent||m.Component),lR=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function uR(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cR(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function dR(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function fR(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var pR=1,kC=38,hR=40,mR=[kC,hR],gR=function(e){return mR.indexOf(e)>-1},vR=function(e){return Number(String(e).replace(/%/g,""))},yR=1,rt=function(n){fR(e,n);function e(t){cR(this,e);var r=dR(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=vR(i.target.value);if(!isNaN(o)&&gR(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===kC?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},r.inputId="rc-editable-input-"+yR++,r}return lR(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return uR({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||pR}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=We({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return L.createElement("div",{style:i.wrap},L.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?L.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(m.PureComponent||m.Component),bR=function(e,t,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var d=void 0;if(c<0)d=359;else if(c>s)d=0;else{var f=-(c*100/s)+100;d=360*f/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>o)p=359;else{var h=u*100/o;p=360*h/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},xR=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function wR(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Oy(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function CR(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var ws=function(n){CR(e,n);function e(){var t,r,i,o;wR(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=Oy(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(u){var c=bR(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),Oy(i,o)}return xR(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=We({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return L.createElement("div",{style:s.hue},L.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),L.createElement("div",{style:s.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:s.slider}))))}}]),e}(m.PureComponent||m.Component);function SR(){this.__data__=[],this.size=0}function ul(n,e){return n===e||n!==n&&e!==e}function Fc(n,e){for(var t=n.length;t--;)if(ul(n[t][0],e))return t;return-1}var kR=Array.prototype,MR=kR.splice;function ER(n){var e=this.__data__,t=Fc(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():MR.call(e,t,1),--this.size,!0}function TR(n){var e=this.__data__,t=Fc(e,n);return t<0?void 0:e[t][1]}function LR(n){return Fc(this.__data__,n)>-1}function AR(n,e){var t=this.__data__,r=Fc(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Kr(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Kr.prototype.clear=SR;Kr.prototype.delete=ER;Kr.prototype.get=TR;Kr.prototype.has=LR;Kr.prototype.set=AR;function OR(){this.__data__=new Kr,this.size=0}function RR(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function PR(n){return this.__data__.get(n)}function DR(n){return this.__data__.has(n)}var MC=typeof global=="object"&&global&&global.Object===Object&&global,IR=typeof self=="object"&&self&&self.Object===Object&&self,br=MC||IR||Function("return this")(),vi=br.Symbol,EC=Object.prototype,NR=EC.hasOwnProperty,_R=EC.toString,Ts=vi?vi.toStringTag:void 0;function $R(n){var e=NR.call(n,Ts),t=n[Ts];try{n[Ts]=void 0;var r=!0}catch{}var i=_R.call(n);return r&&(e?n[Ts]=t:delete n[Ts]),i}var FR=Object.prototype,BR=FR.toString;function jR(n){return BR.call(n)}var zR="[object Null]",HR="[object Undefined]",Ry=vi?vi.toStringTag:void 0;function io(n){return n==null?n===void 0?HR:zR:Ry&&Ry in Object(n)?$R(n):jR(n)}function lr(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var VR="[object AsyncFunction]",WR="[object Function]",UR="[object GeneratorFunction]",qR="[object Proxy]";function Bm(n){if(!lr(n))return!1;var e=io(n);return e==WR||e==UR||e==VR||e==qR}var af=br["__core-js_shared__"],Py=function(){var n=/[^.]+$/.exec(af&&af.keys&&af.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function GR(n){return!!Py&&Py in n}var KR=Function.prototype,YR=KR.toString;function oo(n){if(n!=null){try{return YR.call(n)}catch{}try{return n+""}catch{}}return""}var JR=/[\\^$.*+?()[\]{}|]/g,ZR=/^\[object .+?Constructor\]$/,XR=Function.prototype,QR=Object.prototype,eP=XR.toString,tP=QR.hasOwnProperty,nP=RegExp("^"+eP.call(tP).replace(JR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rP(n){if(!lr(n)||GR(n))return!1;var e=Bm(n)?nP:ZR;return e.test(oo(n))}function iP(n,e){return n==null?void 0:n[e]}function so(n,e){var t=iP(n,e);return rP(t)?t:void 0}var Ha=so(br,"Map"),Va=so(Object,"create");function oP(){this.__data__=Va?Va(null):{},this.size=0}function sP(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var aP="__lodash_hash_undefined__",lP=Object.prototype,uP=lP.hasOwnProperty;function cP(n){var e=this.__data__;if(Va){var t=e[n];return t===aP?void 0:t}return uP.call(e,n)?e[n]:void 0}var dP=Object.prototype,fP=dP.hasOwnProperty;function pP(n){var e=this.__data__;return Va?e[n]!==void 0:fP.call(e,n)}var hP="__lodash_hash_undefined__";function mP(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Va&&e===void 0?hP:e,this}function Ki(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ki.prototype.clear=oP;Ki.prototype.delete=sP;Ki.prototype.get=cP;Ki.prototype.has=pP;Ki.prototype.set=mP;function gP(){this.size=0,this.__data__={hash:new Ki,map:new(Ha||Kr),string:new Ki}}function vP(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Bc(n,e){var t=n.__data__;return vP(e)?t[typeof e=="string"?"string":"hash"]:t.map}function yP(n){var e=Bc(this,n).delete(n);return this.size-=e?1:0,e}function bP(n){return Bc(this,n).get(n)}function xP(n){return Bc(this,n).has(n)}function wP(n,e){var t=Bc(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Yr(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Yr.prototype.clear=gP;Yr.prototype.delete=yP;Yr.prototype.get=bP;Yr.prototype.has=xP;Yr.prototype.set=wP;var CP=200;function SP(n,e){var t=this.__data__;if(t instanceof Kr){var r=t.__data__;if(!Ha||r.length<CP-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Yr(r)}return t.set(n,e),this.size=t.size,this}function Or(n){var e=this.__data__=new Kr(n);this.size=e.size}Or.prototype.clear=OR;Or.prototype.delete=RR;Or.prototype.get=PR;Or.prototype.has=DR;Or.prototype.set=SP;var Cu=function(){try{var n=so(Object,"defineProperty");return n({},"",{}),n}catch{}}();function jm(n,e,t){e=="__proto__"&&Cu?Cu(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function ch(n,e,t){(t!==void 0&&!ul(n[e],t)||t===void 0&&!(e in n))&&jm(n,e,t)}function kP(n){return function(e,t,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(t(o[l],l,o)===!1)break}return e}}var TC=kP(),LC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Dy=LC&&typeof module=="object"&&module&&!module.nodeType&&module,MP=Dy&&Dy.exports===LC,Iy=MP?br.Buffer:void 0;Iy&&Iy.allocUnsafe;function EP(n,e){return n.slice()}var Su=br.Uint8Array;function TP(n){var e=new n.constructor(n.byteLength);return new Su(e).set(new Su(n)),e}function LP(n,e){var t=TP(n.buffer);return new n.constructor(t,n.byteOffset,n.length)}function AP(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var Ny=Object.create,OP=function(){function n(){}return function(e){if(!lr(e))return{};if(Ny)return Ny(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function AC(n,e){return function(t){return n(e(t))}}var OC=AC(Object.getPrototypeOf,Object),RP=Object.prototype;function zm(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||RP;return n===t}function PP(n){return typeof n.constructor=="function"&&!zm(n)?OP(OC(n)):{}}function yi(n){return n!=null&&typeof n=="object"}var DP="[object Arguments]";function _y(n){return yi(n)&&io(n)==DP}var RC=Object.prototype,IP=RC.hasOwnProperty,NP=RC.propertyIsEnumerable,ku=_y(function(){return arguments}())?_y:function(n){return yi(n)&&IP.call(n,"callee")&&!NP.call(n,"callee")},Vn=Array.isArray,_P=9007199254740991;function Hm(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=_P}function Cs(n){return n!=null&&Hm(n.length)&&!Bm(n)}function $P(n){return yi(n)&&Cs(n)}function FP(){return!1}var PC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$y=PC&&typeof module=="object"&&module&&!module.nodeType&&module,BP=$y&&$y.exports===PC,Fy=BP?br.Buffer:void 0,jP=Fy?Fy.isBuffer:void 0,Mu=jP||FP,zP="[object Object]",HP=Function.prototype,VP=Object.prototype,DC=HP.toString,WP=VP.hasOwnProperty,UP=DC.call(Object);function qP(n){if(!yi(n)||io(n)!=zP)return!1;var e=OC(n);if(e===null)return!0;var t=WP.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&DC.call(t)==UP}var GP="[object Arguments]",KP="[object Array]",YP="[object Boolean]",JP="[object Date]",ZP="[object Error]",XP="[object Function]",QP="[object Map]",eD="[object Number]",tD="[object Object]",nD="[object RegExp]",rD="[object Set]",iD="[object String]",oD="[object WeakMap]",sD="[object ArrayBuffer]",aD="[object DataView]",lD="[object Float32Array]",uD="[object Float64Array]",cD="[object Int8Array]",dD="[object Int16Array]",fD="[object Int32Array]",pD="[object Uint8Array]",hD="[object Uint8ClampedArray]",mD="[object Uint16Array]",gD="[object Uint32Array]",Lt={};Lt[lD]=Lt[uD]=Lt[cD]=Lt[dD]=Lt[fD]=Lt[pD]=Lt[hD]=Lt[mD]=Lt[gD]=!0;Lt[GP]=Lt[KP]=Lt[sD]=Lt[YP]=Lt[aD]=Lt[JP]=Lt[ZP]=Lt[XP]=Lt[QP]=Lt[eD]=Lt[tD]=Lt[nD]=Lt[rD]=Lt[iD]=Lt[oD]=!1;function vD(n){return yi(n)&&Hm(n.length)&&!!Lt[io(n)]}function yD(n){return function(e){return n(e)}}var IC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oa=IC&&typeof module=="object"&&module&&!module.nodeType&&module,bD=Oa&&Oa.exports===IC,lf=bD&&MC.process,By=function(){try{var n=Oa&&Oa.require&&Oa.require("util").types;return n||lf&&lf.binding&&lf.binding("util")}catch{}}(),jy=By&&By.isTypedArray,Vm=jy?yD(jy):vD;function dh(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var xD=Object.prototype,wD=xD.hasOwnProperty;function CD(n,e,t){var r=n[e];(!(wD.call(n,e)&&ul(r,t))||t===void 0&&!(e in n))&&jm(n,e,t)}function SD(n,e,t,r){var i=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=n[a]),i?jm(t,a,l):CD(t,a,l)}return t}function kD(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var MD=9007199254740991,ED=/^(?:0|[1-9]\d*)$/;function Wm(n,e){var t=typeof n;return e=e??MD,!!e&&(t=="number"||t!="symbol"&&ED.test(n))&&n>-1&&n%1==0&&n<e}var TD=Object.prototype,LD=TD.hasOwnProperty;function NC(n,e){var t=Vn(n),r=!t&&ku(n),i=!t&&!r&&Mu(n),o=!t&&!r&&!i&&Vm(n),s=t||r||i||o,a=s?kD(n.length,String):[],l=a.length;for(var u in n)(e||LD.call(n,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Wm(u,l)))&&a.push(u);return a}function AD(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var OD=Object.prototype,RD=OD.hasOwnProperty;function PD(n){if(!lr(n))return AD(n);var e=zm(n),t=[];for(var r in n)r=="constructor"&&(e||!RD.call(n,r))||t.push(r);return t}function _C(n){return Cs(n)?NC(n,!0):PD(n)}function DD(n){return SD(n,_C(n))}function ID(n,e,t,r,i,o,s){var a=dh(n,t),l=dh(e,t),u=s.get(l);if(u){ch(n,t,u);return}var c=o?o(a,l,t+"",n,e,s):void 0,d=c===void 0;if(d){var f=Vn(l),p=!f&&Mu(l),h=!f&&!p&&Vm(l);c=l,f||p||h?Vn(a)?c=a:$P(a)?c=AP(a):p?(d=!1,c=EP(l)):h?(d=!1,c=LP(l)):c=[]:qP(l)||ku(l)?(c=a,ku(a)?c=DD(a):(!lr(a)||Bm(a))&&(c=PP(l))):d=!1}d&&(s.set(l,c),i(c,l,r,o,s),s.delete(l)),ch(n,t,c)}function $C(n,e,t,r,i){n!==e&&TC(e,function(o,s){if(i||(i=new Or),lr(o))ID(n,e,s,t,$C,r,i);else{var a=r?r(dh(n,s),o,s+"",n,e,i):void 0;a===void 0&&(a=o),ch(n,s,a)}},_C)}function jc(n){return n}function ND(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var zy=Math.max;function _D(n,e,t){return e=zy(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=zy(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(s),ND(n,this,a)}}function $D(n){return function(){return n}}var FD=Cu?function(n,e){return Cu(n,"toString",{configurable:!0,enumerable:!1,value:$D(e),writable:!0})}:jc,BD=800,jD=16,zD=Date.now;function HD(n){var e=0,t=0;return function(){var r=zD(),i=jD-(r-t);if(t=r,i>0){if(++e>=BD)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var VD=HD(FD);function WD(n,e){return VD(_D(n,e,jc),n+"")}function UD(n,e,t){if(!lr(t))return!1;var r=typeof e;return(r=="number"?Cs(t)&&Wm(e,t.length):r=="string"&&e in t)?ul(t[e],n):!1}function qD(n){return WD(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,s&&UD(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,o)}return e})}var Rn=qD(function(n,e,t){$C(n,e,t)}),cl=function(e){var t=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=We(Rn({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+t*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":t===1});return L.createElement("div",{style:l.wrap},L.createElement("div",{style:l.bg}),L.createElement("div",{style:l.content},o))};cl.propTypes={background:ke.string,zDepth:ke.oneOf([0,1,2,3,4,5]),radius:ke.number,styles:ke.object};cl.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var uf=function(){return br.Date.now()},GD=/\s/;function KD(n){for(var e=n.length;e--&&GD.test(n.charAt(e)););return e}var YD=/^\s+/;function JD(n){return n&&n.slice(0,KD(n)+1).replace(YD,"")}var ZD="[object Symbol]";function zc(n){return typeof n=="symbol"||yi(n)&&io(n)==ZD}var Hy=NaN,XD=/^[-+]0x[0-9a-f]+$/i,QD=/^0b[01]+$/i,eI=/^0o[0-7]+$/i,tI=parseInt;function Vy(n){if(typeof n=="number")return n;if(zc(n))return Hy;if(lr(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=lr(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=JD(n);var t=QD.test(n);return t||eI.test(n)?tI(n.slice(2),t?2:8):XD.test(n)?Hy:+n}var nI="Expected a function",rI=Math.max,iI=Math.min;function FC(n,e,t){var r,i,o,s,a,l,u=0,c=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(nI);e=Vy(e)||0,lr(t)&&(c=!!t.leading,d="maxWait"in t,o=d?rI(Vy(t.maxWait)||0,e):o,f="trailing"in t?!!t.trailing:f);function p(C){var M=r,T=i;return r=i=void 0,u=C,s=n.apply(T,M),s}function h(C){return u=C,a=setTimeout(x,e),c?p(C):s}function g(C){var M=C-l,T=C-u,I=e-M;return d?iI(I,o-T):I}function y(C){var M=C-l,T=C-u;return l===void 0||M>=e||M<0||d&&T>=o}function x(){var C=uf();if(y(C))return b(C);a=setTimeout(x,g(C))}function b(C){return a=void 0,f&&r?p(C):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function k(){return a===void 0?s:b(uf())}function S(){var C=uf(),M=y(C);if(r=arguments,i=this,l=C,M){if(a===void 0)return h(l);if(d)return clearTimeout(a),a=setTimeout(x,e),p(l)}return a===void 0&&(a=setTimeout(x,e)),s}return S.cancel=w,S.flush=k,S}var oI="Expected a function";function sI(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(oI);return lr(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),FC(n,e,{leading:r,maxWait:e,trailing:i})}var aI=function(e,t,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o&&(u=o),c<0?c=0:c>s&&(c=s);var d=u/o,f=1-c/s;return{h:t.h,s:d,v:f,a:t.a,source:"hsv"}},lI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function uI(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cI(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function dI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Hc=function(n){dI(e,n);function e(t){uI(this,e);var r=cI(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,aI(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=sI(function(i,o,s){i(o,s)},50),r}return lI(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,u=i.circle,c=We({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return L.createElement("div",{style:c.color,ref:function(f){return r.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},L.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),L.createElement("div",{style:c.white,className:"saturation-white"},L.createElement("div",{style:c.black,className:"saturation-black"}),L.createElement("div",{style:c.pointer},this.props.pointer?L.createElement(this.props.pointer,this.props):L.createElement("div",{style:c.circle}))))}}]),e}(m.PureComponent||m.Component);function fI(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var pI=AC(Object.keys,Object),hI=Object.prototype,mI=hI.hasOwnProperty;function gI(n){if(!zm(n))return pI(n);var e=[];for(var t in Object(n))mI.call(n,t)&&t!="constructor"&&e.push(t);return e}function Um(n){return Cs(n)?NC(n):gI(n)}function vI(n,e){return n&&TC(n,e,Um)}function yI(n,e){return function(t,r){if(t==null)return t;if(!Cs(t))return n(t,r);for(var i=t.length,o=-1,s=Object(t);++o<i&&r(s[o],o,s)!==!1;);return t}}var BC=yI(vI);function bI(n){return typeof n=="function"?n:jc}function xI(n,e){var t=Vn(n)?fI:BC;return t(n,bI(e))}function Eu(n){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(n)}var wI=/^\s+/,CI=/\s+$/;function $e(n,e){if(n=n||"",e=e||{},n instanceof $e)return n;if(!(this instanceof $e))return new $e(n,e);var t=SI(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}$e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,i,o,s,a;return t=e.r/255,r=e.g/255,i=e.b/255,t<=.03928?o=t/12.92:o=Math.pow((t+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=jC(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Uy(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Uy(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+i+"%)":"hsva("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Wy(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Wy(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return qy(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return TI(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(At(this._r,255)*100)+"%",g:Math.round(At(this._g,255)*100)+"%",b:Math.round(At(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(At(this._r,255)*100)+"%, "+Math.round(At(this._g,255)*100)+"%, "+Math.round(At(this._b,255)*100)+"%)":"rgba("+Math.round(At(this._r,255)*100)+"%, "+Math.round(At(this._g,255)*100)+"%, "+Math.round(At(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:BI[qy(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+Gy(this._r,this._g,this._b,this._a),r=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=$e(e);r="#"+Gy(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!t&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return $e(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(RI,arguments)},brighten:function(){return this._applyModification(PI,arguments)},darken:function(){return this._applyModification(DI,arguments)},desaturate:function(){return this._applyModification(LI,arguments)},saturate:function(){return this._applyModification(AI,arguments)},greyscale:function(){return this._applyModification(OI,arguments)},spin:function(){return this._applyModification(II,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination($I,arguments)},complement:function(){return this._applyCombination(NI,arguments)},monochromatic:function(){return this._applyCombination(FI,arguments)},splitcomplement:function(){return this._applyCombination(_I,arguments)},triad:function(){return this._applyCombination(Ky,[3])},tetrad:function(){return this._applyCombination(Ky,[4])}};$e.fromRatio=function(n,e){if(Eu(n)=="object"){var t={};for(var r in n)n.hasOwnProperty(r)&&(r==="a"?t[r]=n[r]:t[r]=fa(n[r]));n=t}return $e(n,e)};function SI(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,o=null,s=!1,a=!1;return typeof n=="string"&&(n=VI(n)),Eu(n)=="object"&&($r(n.r)&&$r(n.g)&&$r(n.b)?(e=kI(n.r,n.g,n.b),s=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):$r(n.h)&&$r(n.s)&&$r(n.v)?(r=fa(n.s),i=fa(n.v),e=EI(n.h,r,i),s=!0,a="hsv"):$r(n.h)&&$r(n.s)&&$r(n.l)&&(r=fa(n.s),o=fa(n.l),e=MI(n.h,r,o),s=!0,a="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=jC(t),{ok:s,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function kI(n,e,t){return{r:At(n,255)*255,g:At(e,255)*255,b:At(t,255)*255}}function Wy(n,e,t){n=At(n,255),e=At(e,255),t=At(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s,l:a}}function MI(n,e,t){var r,i,o;n=At(n,360),e=At(e,100),t=At(t,100);function s(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(c-u)*6*d:d<1/2?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(e===0)r=i=o=t;else{var a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=s(l,a,n+1/3),i=s(l,a,n),o=s(l,a,n-1/3)}return{r:r*255,g:i*255,b:o*255}}function Uy(n,e,t){n=At(n,255),e=At(e,255),t=At(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s,v:a}}function EI(n,e,t){n=At(n,360)*6,e=At(e,100),t=At(t,100);var r=Math.floor(n),i=n-r,o=t*(1-e),s=t*(1-i*e),a=t*(1-(1-i)*e),l=r%6,u=[t,s,o,o,a,t][l],c=[a,t,t,s,o,o][l],d=[o,o,a,t,t,s][l];return{r:u*255,g:c*255,b:d*255}}function qy(n,e,t,r){var i=[mr(Math.round(n).toString(16)),mr(Math.round(e).toString(16)),mr(Math.round(t).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function TI(n,e,t,r,i){var o=[mr(Math.round(n).toString(16)),mr(Math.round(e).toString(16)),mr(Math.round(t).toString(16)),mr(zC(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Gy(n,e,t,r){var i=[mr(zC(r)),mr(Math.round(n).toString(16)),mr(Math.round(e).toString(16)),mr(Math.round(t).toString(16))];return i.join("")}$e.equals=function(n,e){return!n||!e?!1:$e(n).toRgbString()==$e(e).toRgbString()};$e.random=function(){return $e.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function LI(n,e){e=e===0?0:e||10;var t=$e(n).toHsl();return t.s-=e/100,t.s=Vc(t.s),$e(t)}function AI(n,e){e=e===0?0:e||10;var t=$e(n).toHsl();return t.s+=e/100,t.s=Vc(t.s),$e(t)}function OI(n){return $e(n).desaturate(100)}function RI(n,e){e=e===0?0:e||10;var t=$e(n).toHsl();return t.l+=e/100,t.l=Vc(t.l),$e(t)}function PI(n,e){e=e===0?0:e||10;var t=$e(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),$e(t)}function DI(n,e){e=e===0?0:e||10;var t=$e(n).toHsl();return t.l-=e/100,t.l=Vc(t.l),$e(t)}function II(n,e){var t=$e(n).toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,$e(t)}function NI(n){var e=$e(n).toHsl();return e.h=(e.h+180)%360,$e(e)}function Ky(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=$e(n).toHsl(),r=[$e(n)],i=360/e,o=1;o<e;o++)r.push($e({h:(t.h+o*i)%360,s:t.s,l:t.l}));return r}function _I(n){var e=$e(n).toHsl(),t=e.h;return[$e(n),$e({h:(t+72)%360,s:e.s,l:e.l}),$e({h:(t+216)%360,s:e.s,l:e.l})]}function $I(n,e,t){e=e||6,t=t||30;var r=$e(n).toHsl(),i=360/t,o=[$e(n)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push($e(r));return o}function FI(n,e){e=e||6;for(var t=$e(n).toHsv(),r=t.h,i=t.s,o=t.v,s=[],a=1/e;e--;)s.push($e({h:r,s:i,v:o})),o=(o+a)%1;return s}$e.mix=function(n,e,t){t=t===0?0:t||50;var r=$e(n).toRgb(),i=$e(e).toRgb(),o=t/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return $e(s)};$e.readability=function(n,e){var t=$e(n),r=$e(e);return(Math.max(t.getLuminance(),r.getLuminance())+.05)/(Math.min(t.getLuminance(),r.getLuminance())+.05)};$e.isReadable=function(n,e,t){var r=$e.readability(n,e),i,o;switch(o=!1,i=WI(t),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};$e.mostReadable=function(n,e,t){var r=null,i=0,o,s,a,l;t=t||{},s=t.includeFallbackColors,a=t.level,l=t.size;for(var u=0;u<e.length;u++)o=$e.readability(n,e[u]),o>i&&(i=o,r=$e(e[u]));return $e.isReadable(n,r,{level:a,size:l})||!s?r:(t.includeFallbackColors=!1,$e.mostReadable(n,["#fff","#000"],t))};var fh=$e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},BI=$e.hexNames=jI(fh);function jI(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function jC(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function At(n,e){zI(n)&&(n="100%");var t=HI(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function Vc(n){return Math.min(1,Math.max(0,n))}function Bn(n){return parseInt(n,16)}function zI(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function HI(n){return typeof n=="string"&&n.indexOf("%")!=-1}function mr(n){return n.length==1?"0"+n:""+n}function fa(n){return n<=1&&(n=n*100+"%"),n}function zC(n){return Math.round(parseFloat(n)*255).toString(16)}function Yy(n){return Bn(n)/255}var cr=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function $r(n){return!!cr.CSS_UNIT.exec(n)}function VI(n){n=n.replace(wI,"").replace(CI,"").toLowerCase();var e=!1;if(fh[n])n=fh[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=cr.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=cr.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=cr.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=cr.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=cr.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=cr.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=cr.hex8.exec(n))?{r:Bn(t[1]),g:Bn(t[2]),b:Bn(t[3]),a:Yy(t[4]),format:e?"name":"hex8"}:(t=cr.hex6.exec(n))?{r:Bn(t[1]),g:Bn(t[2]),b:Bn(t[3]),format:e?"name":"hex"}:(t=cr.hex4.exec(n))?{r:Bn(t[1]+""+t[1]),g:Bn(t[2]+""+t[2]),b:Bn(t[3]+""+t[3]),a:Yy(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=cr.hex3.exec(n))?{r:Bn(t[1]+""+t[1]),g:Bn(t[2]+""+t[2]),b:Bn(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function WI(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}var Jy=function(e){var t=["r","g","b","a","h","s","l","v"],r=0,i=0;return xI(t,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},pa=function(e,t){var r=e.hex?$e(e.hex):$e(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=t||0,o.h=t||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||t||i.h,source:e.source}},Si=function(e){if(e==="transparent")return!0;var t=String(e).charAt(0)==="#"?1:0;return e.length!==4+t&&e.length<7+t&&$e(e).isValid()},qm=function(e){if(!e)return"#fff";var t=pa(e);if(t.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(t.rgb.r*299+t.rgb.g*587+t.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},cf=function(e,t){var r=e.replace("Â°","");return $e(t+" ("+r+")")._ok},Ls=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function qI(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function GI(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function KI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Pn=function(e){var t=function(r){KI(i,r);function i(o){qI(this,i);var s=GI(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var u=Jy(a);if(u){var c=pa(a,a.h||s.state.oldHue);s.setState(c),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,c,l),s.props.onChange&&s.props.onChange(c,l)}},s.handleSwatchHover=function(a,l){var u=Jy(a);if(u){var c=pa(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(c,l)}},s.state=Ls({},pa(o.color,0)),s.debounce=FC(function(a,l,u){a(l,u)},100),s}return UI(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),L.createElement(e,Ls({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return Ls({},pa(s.color,a.oldHue))}}]),i}(m.PureComponent||m.Component);return t.propTypes=Ls({},e.propTypes),t.defaultProps=Ls({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},YI=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function ZI(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Zy(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function XI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var QI=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){XI(i,r);function i(){var o,s,a,l;ZI(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(s=(a=Zy(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),Zy(a,l)}return JI(i,[{key:"render",value:function(){return L.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},L.createElement(e,YI({},this.props,this.state)))}}]),i}(L.Component)},Xy=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eN=13,tN=function(e){var t=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?t:a,u=e.children,c=e.focus,d=e.focusStyle,f=d===void 0?{}:d,p=t==="transparent",h=We({default:{swatch:Xy({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?f:{})}}),g=function(k){return o(t,k)},y=function(k){return k.keyCode===eN&&o(t,k)},x=function(k){return s(t,k)},b={};return s&&(b.onMouseOver=x),L.createElement("div",Xy({style:h.swatch,onClick:g,title:l,tabIndex:0,onKeyDown:y},b),u,p&&L.createElement(xs,{borderRadius:h.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const ao=QI(tN);var nN=function(e){var t=e.direction,r=We({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:t==="vertical"});return L.createElement("div",{style:r.picker})},rN=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},HC=function(e){var t=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,d=e.className,f=d===void 0?"":d,p=We({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return L.createElement("div",{style:p.picker,className:"alpha-picker "+f},L.createElement(Fm,rN({},p.alpha,{rgb:t,hsl:r,pointer:c,renderers:u,onChange:s,direction:a})))};HC.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:nN};Pn(HC);function VC(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var iN="__lodash_hash_undefined__";function oN(n){return this.__data__.set(n,iN),this}function sN(n){return this.__data__.has(n)}function Tu(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Yr;++e<t;)this.add(n[e])}Tu.prototype.add=Tu.prototype.push=oN;Tu.prototype.has=sN;function aN(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function lN(n,e){return n.has(e)}var uN=1,cN=2;function WC(n,e,t,r,i,o){var s=t&uN,a=n.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(n),c=o.get(e);if(u&&c)return u==e&&c==n;var d=-1,f=!0,p=t&cN?new Tu:void 0;for(o.set(n,e),o.set(e,n);++d<a;){var h=n[d],g=e[d];if(r)var y=s?r(g,h,d,e,n,o):r(h,g,d,n,e,o);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!aN(e,function(x,b){if(!lN(p,b)&&(h===x||i(h,x,t,r,o)))return p.push(b)})){f=!1;break}}else if(!(h===g||i(h,g,t,r,o))){f=!1;break}}return o.delete(n),o.delete(e),f}function dN(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function fN(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var pN=1,hN=2,mN="[object Boolean]",gN="[object Date]",vN="[object Error]",yN="[object Map]",bN="[object Number]",xN="[object RegExp]",wN="[object Set]",CN="[object String]",SN="[object Symbol]",kN="[object ArrayBuffer]",MN="[object DataView]",Qy=vi?vi.prototype:void 0,df=Qy?Qy.valueOf:void 0;function EN(n,e,t,r,i,o,s){switch(t){case MN:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case kN:return!(n.byteLength!=e.byteLength||!o(new Su(n),new Su(e)));case mN:case gN:case bN:return ul(+n,+e);case vN:return n.name==e.name&&n.message==e.message;case xN:case CN:return n==e+"";case yN:var a=dN;case wN:var l=r&pN;if(a||(a=fN),n.size!=e.size&&!l)return!1;var u=s.get(n);if(u)return u==e;r|=hN,s.set(n,e);var c=WC(a(n),a(e),r,i,o,s);return s.delete(n),c;case SN:if(df)return df.call(n)==df.call(e)}return!1}function TN(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}function LN(n,e,t){var r=e(n);return Vn(n)?r:TN(r,t(n))}function AN(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var s=n[t];e(s,t,n)&&(o[i++]=s)}return o}function ON(){return[]}var RN=Object.prototype,PN=RN.propertyIsEnumerable,e0=Object.getOwnPropertySymbols,DN=e0?function(n){return n==null?[]:(n=Object(n),AN(e0(n),function(e){return PN.call(n,e)}))}:ON;function t0(n){return LN(n,Um,DN)}var IN=1,NN=Object.prototype,_N=NN.hasOwnProperty;function $N(n,e,t,r,i,o){var s=t&IN,a=t0(n),l=a.length,u=t0(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:_N.call(e,f)))return!1}var p=o.get(n),h=o.get(e);if(p&&h)return p==e&&h==n;var g=!0;o.set(n,e),o.set(e,n);for(var y=s;++d<l;){f=a[d];var x=n[f],b=e[f];if(r)var w=s?r(b,x,f,e,n,o):r(x,b,f,n,e,o);if(!(w===void 0?x===b||i(x,b,t,r,o):w)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var k=n.constructor,S=e.constructor;k!=S&&"constructor"in n&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(n),o.delete(e),g}var ph=so(br,"DataView"),hh=so(br,"Promise"),mh=so(br,"Set"),gh=so(br,"WeakMap"),n0="[object Map]",FN="[object Object]",r0="[object Promise]",i0="[object Set]",o0="[object WeakMap]",s0="[object DataView]",BN=oo(ph),jN=oo(Ha),zN=oo(hh),HN=oo(mh),VN=oo(gh),ri=io;(ph&&ri(new ph(new ArrayBuffer(1)))!=s0||Ha&&ri(new Ha)!=n0||hh&&ri(hh.resolve())!=r0||mh&&ri(new mh)!=i0||gh&&ri(new gh)!=o0)&&(ri=function(n){var e=io(n),t=e==FN?n.constructor:void 0,r=t?oo(t):"";if(r)switch(r){case BN:return s0;case jN:return n0;case zN:return r0;case HN:return i0;case VN:return o0}return e});var WN=1,a0="[object Arguments]",l0="[object Array]",Rl="[object Object]",UN=Object.prototype,u0=UN.hasOwnProperty;function qN(n,e,t,r,i,o){var s=Vn(n),a=Vn(e),l=s?l0:ri(n),u=a?l0:ri(e);l=l==a0?Rl:l,u=u==a0?Rl:u;var c=l==Rl,d=u==Rl,f=l==u;if(f&&Mu(n)){if(!Mu(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new Or),s||Vm(n)?WC(n,e,t,r,i,o):EN(n,e,l,t,r,i,o);if(!(t&WN)){var p=c&&u0.call(n,"__wrapped__"),h=d&&u0.call(e,"__wrapped__");if(p||h){var g=p?n.value():n,y=h?e.value():e;return o||(o=new Or),i(g,y,t,r,o)}}return f?(o||(o=new Or),$N(n,e,t,r,i,o)):!1}function Gm(n,e,t,r,i){return n===e?!0:n==null||e==null||!yi(n)&&!yi(e)?n!==n&&e!==e:qN(n,e,t,r,Gm,i)}var GN=1,KN=2;function YN(n,e,t,r){var i=t.length,o=i;if(n==null)return!o;for(n=Object(n);i--;){var s=t[i];if(s[2]?s[1]!==n[s[0]]:!(s[0]in n))return!1}for(;++i<o;){s=t[i];var a=s[0],l=n[a],u=s[1];if(s[2]){if(l===void 0&&!(a in n))return!1}else{var c=new Or,d;if(!(d===void 0?Gm(u,l,GN|KN,r,c):d))return!1}}return!0}function UC(n){return n===n&&!lr(n)}function JN(n){for(var e=Um(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,UC(i)]}return e}function qC(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function ZN(n){var e=JN(n);return e.length==1&&e[0][2]?qC(e[0][0],e[0][1]):function(t){return t===n||YN(t,n,e)}}var XN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QN=/^\w*$/;function Km(n,e){if(Vn(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||zc(n)?!0:QN.test(n)||!XN.test(n)||e!=null&&n in Object(e)}var e_="Expected a function";function Ym(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(e_);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return t.cache=o.set(i,s)||o,s};return t.cache=new(Ym.Cache||Yr),t}Ym.Cache=Yr;var t_=500;function n_(n){var e=Ym(n,function(r){return t.size===t_&&t.clear(),r}),t=e.cache;return e}var r_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i_=/\\(\\)?/g,o_=n_(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(r_,function(t,r,i,o){e.push(i?o.replace(i_,"$1"):r||t)}),e}),c0=vi?vi.prototype:void 0,d0=c0?c0.toString:void 0;function GC(n){if(typeof n=="string")return n;if(Vn(n))return VC(n,GC)+"";if(zc(n))return d0?d0.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function s_(n){return n==null?"":GC(n)}function KC(n,e){return Vn(n)?n:Km(n,e)?[n]:o_(s_(n))}function Wc(n){if(typeof n=="string"||zc(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function YC(n,e){e=KC(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Wc(e[t++])];return t&&t==r?n:void 0}function a_(n,e,t){var r=n==null?void 0:YC(n,e);return r===void 0?t:r}function l_(n,e){return n!=null&&e in Object(n)}function u_(n,e,t){e=KC(e,n);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Wc(e[r]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++r!=i?o:(i=n==null?0:n.length,!!i&&Hm(i)&&Wm(s,i)&&(Vn(n)||ku(n)))}function c_(n,e){return n!=null&&u_(n,e,l_)}var d_=1,f_=2;function p_(n,e){return Km(n)&&UC(e)?qC(Wc(n),e):function(t){var r=a_(t,n);return r===void 0&&r===e?c_(t,n):Gm(e,r,d_|f_)}}function h_(n){return function(e){return e==null?void 0:e[n]}}function m_(n){return function(e){return YC(e,n)}}function g_(n){return Km(n)?h_(Wc(n)):m_(n)}function v_(n){return typeof n=="function"?n:n==null?jc:typeof n=="object"?Vn(n)?p_(n[0],n[1]):ZN(n):g_(n)}function y_(n,e){var t=-1,r=Cs(n)?Array(n.length):[];return BC(n,function(i,o,s){r[++t]=e(i,o,s)}),r}function lo(n,e){var t=Vn(n)?VC:y_;return t(n,v_(e))}var b_=function(e){var t=e.colors,r=e.onClick,i=e.onSwatchHover,o=We({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return L.createElement("div",{style:o.swatches},lo(t,function(s){return L.createElement(ao,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),L.createElement("div",{style:o.clear}))},Jm=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,f=i==="transparent",p=function(y,x){Si(y)&&t({hex:y,source:"hex"},x)},h=We(Rn({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:qm(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return L.createElement("div",{style:h.card,className:"block-picker "+d},L.createElement("div",{style:h.triangle}),L.createElement("div",{style:h.head},f&&L.createElement(xs,{borderRadius:"6px 6px 0 0"}),L.createElement("div",{style:h.label},i)),L.createElement("div",{style:h.body},L.createElement(b_,{colors:o,onClick:p,onSwatchHover:r}),L.createElement(rt,{style:{input:h.input},value:i,onChange:p})))};Jm.propTypes={width:ke.oneOfType([ke.string,ke.number]),colors:ke.arrayOf(ke.string),triangle:ke.oneOf(["top","hide"]),styles:ke.object};Jm.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Pn(Jm);var Lo={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Ao={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Oo={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Ro={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Po={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Do={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Io={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},No={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},_o={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},ha={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},$o={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Fo={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Bo={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},jo={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},zo={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Ho={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Vo={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Wo={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},JC=function(e){var t=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,u=We({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:o,active:s});return L.createElement("div",{style:u.swatch},L.createElement(ao,{style:u.Swatch,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+t}}))};JC.defaultProps={circleSize:28,circleSpacing:14};const x_=$m.handleHover(JC);var Zm=function(e){var t=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,d=e.className,f=d===void 0?"":d,p=We(Rn({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),h=function(y,x){return r({hex:y,source:"hex"},x)};return L.createElement("div",{style:p.card,className:"circle-picker "+f},lo(o,function(g){return L.createElement(x_,{key:g,color:g,onClick:h,onSwatchHover:i,active:s===g.toLowerCase(),circleSize:a,circleSpacing:c})}))};Zm.propTypes={width:ke.oneOfType([ke.string,ke.number]),circleSize:ke.number,circleSpacing:ke.number,styles:ke.object};Zm.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Lo[500],Ao[500],Oo[500],Ro[500],Po[500],Do[500],Io[500],No[500],_o[500],ha[500],$o[500],Fo[500],Bo[500],jo[500],zo[500],Ho[500],Vo[500],Wo[500]],styles:{}};Pn(Zm);function f0(n){return n===void 0}var Pl={},p0;function w_(){if(p0)return Pl;p0=1,Object.defineProperty(Pl,"__esModule",{value:!0});var n=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},e=vs(),t=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var l={};for(var u in s)a.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var o=24;return Pl.default=function(s){var a=s.fill,l=a===void 0?"currentColor":a,u=s.width,c=u===void 0?o:u,d=s.height,f=d===void 0?o:d,p=s.style,h=p===void 0?{}:p,g=i(s,["fill","width","height","style"]);return t.default.createElement("svg",n({viewBox:"0 0 "+o+" "+o,style:n({fill:l,width:c,height:f},h)},g),t.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Pl}var C_=w_();const S_=it(C_);var k_=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function M_(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function E_(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function T_(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var ZC=function(n){T_(e,n);function e(t){M_(this,e);var r=E_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?Si(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(f0(i.s)?r.props.hsl.s:i.s),l:Number(f0(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},t.hsl.a!==1&&t.view==="hex"?r.state={view:"rgb"}:r.state={view:t.view},r}return k_(e,[{key:"render",value:function(){var r=this,i=We({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(rt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(rt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(rt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(rt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),L.createElement("div",{style:i.alpha},L.createElement(rt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=L.createElement("div",{style:i.fields,className:"flexbox-fix"},L.createElement("div",{style:i.field},L.createElement(rt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(rt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),L.createElement("div",{style:i.field},L.createElement(rt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),L.createElement("div",{style:i.alpha},L.createElement(rt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),L.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,L.createElement("div",{style:i.toggle},L.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},L.createElement(S_,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(L.Component);ZC.defaultProps={view:"hex"};var h0=function(){var e=We({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return L.createElement("div",{style:e.picker})},L_=function(){var e=We({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return L.createElement("div",{style:e.picker})},Xm=function(e){var t=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,d=c===void 0?{}:c,f=e.className,p=f===void 0?"":f,h=e.defaultView,g=We(Rn({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return L.createElement("div",{style:g.picker,className:"chrome-picker "+p},L.createElement("div",{style:g.saturation},L.createElement(Hc,{style:g.Saturation,hsl:s,hsv:a,pointer:L_,onChange:r})),L.createElement("div",{style:g.body},L.createElement("div",{style:g.controls,className:"flexbox-fix"},L.createElement("div",{style:g.color},L.createElement("div",{style:g.swatch},L.createElement("div",{style:g.active}),L.createElement(xs,{renderers:u}))),L.createElement("div",{style:g.toggles},L.createElement("div",{style:g.hue},L.createElement(ws,{style:g.Hue,hsl:s,pointer:h0,onChange:r})),L.createElement("div",{style:g.alpha},L.createElement(Fm,{style:g.Alpha,rgb:o,hsl:s,pointer:h0,renderers:u,onChange:r})))),L.createElement(ZC,{rgb:o,hsl:s,hex:l,view:h,onChange:r,disableAlpha:i})))};Xm.propTypes={width:ke.oneOfType([ke.string,ke.number]),disableAlpha:ke.bool,styles:ke.object,defaultView:ke.oneOf(["hex","rgb","hsl"])};Xm.defaultProps={width:225,disableAlpha:!1,styles:{}};Pn(Xm);var A_=function(e){var t=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=We({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:qm(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":t==="#FFFFFF",transparent:t==="transparent"});return L.createElement(ao,{style:a.color,color:t,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},L.createElement("div",{style:a.dot}))},O_=function(e){var t=e.hex,r=e.rgb,i=e.onChange,o=We({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return L.createElement("div",{style:o.fields,className:"flexbox-fix"},L.createElement("div",{style:o.active}),L.createElement(rt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:t,onChange:s}),L.createElement(rt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),L.createElement(rt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),L.createElement(rt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},Qm=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=We(Rn({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),f=function(h,g){h.hex?Si(h.hex)&&t({hex:h.hex,source:"hex"},g):t(h,g)};return L.createElement(cl,{style:d.Compact,styles:l},L.createElement("div",{style:d.compact,className:"compact-picker "+c},L.createElement("div",null,lo(i,function(p){return L.createElement(A_,{key:p,color:p,active:p.toLowerCase()===o,onClick:f,onSwatchHover:r})}),L.createElement("div",{style:d.clear})),L.createElement(O_,{hex:o,rgb:s,onChange:f})))};Qm.propTypes={colors:ke.arrayOf(ke.string),styles:ke.object};Qm.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Pn(Qm);var R_=function(e){var t=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=We({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:t});return L.createElement("div",{style:a.swatch},L.createElement(ao,{color:r,onClick:i,onHover:o,focusStyle:s}))};const P_=$m.handleHover(R_);var eg=function(e){var t=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=We(Rn({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),f=function(h,g){return i({hex:h,source:"hex"},g)};return L.createElement("div",{style:d.card,className:"github-picker "+c},L.createElement("div",{style:d.triangleShadow}),L.createElement("div",{style:d.triangle}),lo(r,function(p){return L.createElement(P_,{color:p,key:p,onClick:f,onSwatchHover:o})}))};eg.propTypes={width:ke.oneOfType([ke.string,ke.number]),colors:ke.arrayOf(ke.string),triangle:ke.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ke.object};eg.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Pn(eg);var D_=function(e){var t=e.direction,r=We({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:t==="vertical"});return L.createElement("div",{style:r.picker})},I_=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tg=function(e){var t=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,f=We(Rn({default:{picker:{position:"relative",width:t,height:r},hue:{radius:"2px"}}},u)),p=function(g){return i({a:1,h:g.h,l:.5,s:1})};return L.createElement("div",{style:f.picker,className:"hue-picker "+d},L.createElement(ws,I_({},f.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};tg.propTypes={styles:ke.object};tg.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:D_,styles:{}};Pn(tg);var N_=function(e){var t=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=We(Rn({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),c=function(f,p){f.hex?Si(f.hex)&&t({hex:f.hex,source:"hex"},p):(f.r||f.g||f.b)&&t({r:f.r||i.r,g:f.g||i.g,b:f.b||i.b,source:"rgb"},p)};return L.createElement(cl,{styles:s},L.createElement("div",{style:u.material,className:"material-picker "+l},L.createElement(rt,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),L.createElement("div",{style:u.split,className:"flexbox-fix"},L.createElement("div",{style:u.third},L.createElement(rt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),L.createElement("div",{style:u.third},L.createElement(rt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),L.createElement("div",{style:u.third},L.createElement(rt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};Pn(N_);var __=function(e){var t=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=We({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?Si(u["#"])&&t({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?t({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&t({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return L.createElement("div",{style:s.fields},L.createElement(rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),L.createElement(rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),L.createElement(rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),L.createElement("div",{style:s.divider}),L.createElement(rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),L.createElement(rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),L.createElement(rt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),L.createElement("div",{style:s.divider}),L.createElement(rt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),L.createElement("div",{style:s.fieldSymbols},L.createElement("div",{style:s.symbol},"Â°"),L.createElement("div",{style:s.symbol},"%"),L.createElement("div",{style:s.symbol},"%")))},$_=function(e){var t=e.hsl,r=We({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return L.createElement("div",{style:r.picker})},F_=function(){var e=We({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return L.createElement("div",{style:e.pointer},L.createElement("div",{style:e.left},L.createElement("div",{style:e.leftInside})),L.createElement("div",{style:e.right},L.createElement("div",{style:e.rightInside})))},m0=function(e){var t=e.onClick,r=e.label,i=e.children,o=e.active,s=We({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return L.createElement("div",{style:s.button,onClick:t},r||i)},B_=function(e){var t=e.rgb,r=e.currentColor,i=We({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return L.createElement("div",null,L.createElement("div",{style:i.label},"new"),L.createElement("div",{style:i.swatches},L.createElement("div",{style:i.new}),L.createElement("div",{style:i.current})),L.createElement("div",{style:i.label},"current"))},j_=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function z_(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function H_(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function V_(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var ng=function(n){V_(e,n);function e(t){z_(this,e);var r=H_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:t.hex},r}return j_(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=We(Rn({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return L.createElement("div",{style:l.picker,className:"photoshop-picker "+a},L.createElement("div",{style:l.head},this.props.header),L.createElement("div",{style:l.body,className:"flexbox-fix"},L.createElement("div",{style:l.saturation},L.createElement(Hc,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:$_,onChange:this.props.onChange})),L.createElement("div",{style:l.hue},L.createElement(ws,{direction:"vertical",hsl:this.props.hsl,pointer:F_,onChange:this.props.onChange})),L.createElement("div",{style:l.controls},L.createElement("div",{style:l.top,className:"flexbox-fix"},L.createElement("div",{style:l.previews},L.createElement(B_,{rgb:this.props.rgb,currentColor:this.state.currentColor})),L.createElement("div",{style:l.actions},L.createElement(m0,{label:"OK",onClick:this.props.onAccept,active:!0}),L.createElement(m0,{label:"Cancel",onClick:this.props.onCancel}),L.createElement(__,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(L.Component);ng.propTypes={header:ke.string,styles:ke.object};ng.defaultProps={header:"Color Picker",styles:{}};Pn(ng);var W_=function(e){var t=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=We({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(c,d){c.hex?Si(c.hex)&&t({hex:c.hex,source:"hex"},d):c.r||c.g||c.b?t({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},d):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,t({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},d))};return L.createElement("div",{style:a.fields,className:"flexbox-fix"},L.createElement("div",{style:a.double},L.createElement(rt,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),L.createElement("div",{style:a.single},L.createElement(rt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.single},L.createElement(rt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.single},L.createElement(rt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),L.createElement("div",{style:a.alpha},L.createElement(rt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},U_=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},XC=function(e){var t=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=We({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return L.createElement("div",{style:s.colors,className:"flexbox-fix"},t.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return L.createElement("div",{key:c,style:s.swatchWrap},L.createElement(ao,U_({},u,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};XC.propTypes={colors:ke.arrayOf(ke.oneOfType([ke.string,ke.shape({color:ke.string,title:ke.string})])).isRequired};var q_=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rg=function(e){var t=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,d=e.renderers,f=e.styles,p=f===void 0?{}:f,h=e.className,g=h===void 0?"":h,y=We(Rn({default:q_({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:u});return L.createElement("div",{style:y.picker,className:"sketch-picker "+g},L.createElement("div",{style:y.saturation},L.createElement(Hc,{style:y.Saturation,hsl:s,hsv:o,onChange:a})),L.createElement("div",{style:y.controls,className:"flexbox-fix"},L.createElement("div",{style:y.sliders},L.createElement("div",{style:y.hue},L.createElement(ws,{style:y.Hue,hsl:s,onChange:a})),L.createElement("div",{style:y.alpha},L.createElement(Fm,{style:y.Alpha,rgb:r,hsl:s,renderers:d,onChange:a}))),L.createElement("div",{style:y.color},L.createElement(xs,null),L.createElement("div",{style:y.activeColor}))),L.createElement(W_,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:u}),L.createElement(XC,{colors:c,onClick:a,onSwatchHover:l}))};rg.propTypes={disableAlpha:ke.bool,width:ke.oneOfType([ke.string,ke.number]),styles:ke.object};rg.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const G_=Pn(rg);var As=function(e){var t=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,u=We({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),c=function(f){return o({h:t.h,s:.5,l:r,source:"hsl"},f)};return L.createElement("div",{style:u.swatch,onClick:c})},K_=function(e){var t=e.onClick,r=e.hsl,i=We({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return L.createElement("div",{style:i.swatches},L.createElement("div",{style:i.swatch},L.createElement(As,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:t,first:!0})),L.createElement("div",{style:i.swatch},L.createElement(As,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:t})),L.createElement("div",{style:i.swatch},L.createElement(As,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:t})),L.createElement("div",{style:i.swatch},L.createElement(As,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:t})),L.createElement("div",{style:i.swatch},L.createElement(As,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:t,last:!0})),L.createElement("div",{style:i.clear}))},Y_=function(){var e=We({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return L.createElement("div",{style:e.picker})},ig=function(e){var t=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=We(Rn({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return L.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},L.createElement("div",{style:u.hue},L.createElement(ws,{style:u.Hue,hsl:t,pointer:i,onChange:r})),L.createElement("div",{style:u.swatches},L.createElement(K_,{hsl:t,onClick:r})))};ig.propTypes={styles:ke.object};ig.defaultProps={pointer:Y_,styles:{}};Pn(ig);var Dl={},g0;function J_(){if(g0)return Dl;g0=1,Object.defineProperty(Dl,"__esModule",{value:!0});var n=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},e=vs(),t=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var l={};for(var u in s)a.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var o=24;return Dl.default=function(s){var a=s.fill,l=a===void 0?"currentColor":a,u=s.width,c=u===void 0?o:u,d=s.height,f=d===void 0?o:d,p=s.style,h=p===void 0?{}:p,g=i(s,["fill","width","height","style"]);return t.default.createElement("svg",n({viewBox:"0 0 "+o+" "+o,style:n({fill:l,width:c,height:f},h)},g),t.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},Dl}var Z_=J_();const X_=it(Z_);var Q_=function(e){var t=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,u=We({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:qm(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":t==="#FFFFFF",transparent:t==="transparent"});return L.createElement(ao,{color:t,style:u.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},L.createElement("div",{style:u.check},L.createElement(X_,null)))},e$=function(e){var t=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=We({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return L.createElement("div",{style:s.group},lo(i,function(a,l){return L.createElement(Q_,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:t,onSwatchHover:r})}))},og=function(e){var t=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,f=We(Rn({default:{picker:{width:t,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),p=function(g,y){return i({hex:g,source:"hex"},y)};return L.createElement("div",{style:f.picker,className:"swatches-picker "+d},L.createElement(cl,null,L.createElement("div",{style:f.overflow},L.createElement("div",{style:f.body},lo(s,function(h){return L.createElement(e$,{key:h.toString(),group:h,active:a,onClick:p,onSwatchHover:o})}),L.createElement("div",{style:f.clear})))))};og.propTypes={width:ke.oneOfType([ke.string,ke.number]),height:ke.oneOfType([ke.string,ke.number]),colors:ke.arrayOf(ke.arrayOf(ke.string)),styles:ke.object};og.defaultProps={width:320,height:240,colors:[[Lo[900],Lo[700],Lo[500],Lo[300],Lo[100]],[Ao[900],Ao[700],Ao[500],Ao[300],Ao[100]],[Oo[900],Oo[700],Oo[500],Oo[300],Oo[100]],[Ro[900],Ro[700],Ro[500],Ro[300],Ro[100]],[Po[900],Po[700],Po[500],Po[300],Po[100]],[Do[900],Do[700],Do[500],Do[300],Do[100]],[Io[900],Io[700],Io[500],Io[300],Io[100]],[No[900],No[700],No[500],No[300],No[100]],[_o[900],_o[700],_o[500],_o[300],_o[100]],["#194D33",ha[700],ha[500],ha[300],ha[100]],[$o[900],$o[700],$o[500],$o[300],$o[100]],[Fo[900],Fo[700],Fo[500],Fo[300],Fo[100]],[Bo[900],Bo[700],Bo[500],Bo[300],Bo[100]],[jo[900],jo[700],jo[500],jo[300],jo[100]],[zo[900],zo[700],zo[500],zo[300],zo[100]],[Ho[900],Ho[700],Ho[500],Ho[300],Ho[100]],[Vo[900],Vo[700],Vo[500],Vo[300],Vo[100]],[Wo[900],Wo[700],Wo[500],Wo[300],Wo[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Pn(og);var sg=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,f=We(Rn({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(g,y){Si(g)&&t({hex:g,source:"hex"},y)};return L.createElement("div",{style:f.card,className:"twitter-picker "+d},L.createElement("div",{style:f.triangleShadow}),L.createElement("div",{style:f.triangle}),L.createElement("div",{style:f.body},lo(o,function(h,g){return L.createElement(ao,{key:g,color:h,hex:h,style:f.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+h}})}),L.createElement("div",{style:f.hash},"#"),L.createElement(rt,{label:null,style:{input:f.input},value:i.replace("#",""),onChange:p}),L.createElement("div",{style:f.clear})))};sg.propTypes={width:ke.oneOfType([ke.string,ke.number]),triangle:ke.oneOf(["hide","top-left","top-right"]),colors:ke.arrayOf(ke.string),styles:ke.object};sg.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Pn(sg);var ag=function(e){var t=We({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return L.createElement("div",{style:t.picker})};ag.propTypes={hsl:ke.shape({h:ke.number,s:ke.number,l:ke.number,a:ke.number})};ag.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var lg=function(e){var t=We({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return L.createElement("div",{style:t.picker})};lg.propTypes={hsl:ke.shape({h:ke.number,s:ke.number,l:ke.number,a:ke.number})};lg.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var t$=function(e){var t=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,h){if(p.hex)Si(p.hex)&&t({hex:p.hex,source:"hex"},h);else if(p.rgb){var g=p.rgb.split(",");cf(p.rgb,"rgb")&&t({r:g[0],g:g[1],b:g[2],a:1,source:"rgb"},h)}else if(p.hsv){var y=p.hsv.split(",");cf(p.hsv,"hsv")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("Â°",""),y[1]==1?y[1]=.01:y[2]==1&&(y[2]=.01),t({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsv"},h))}else if(p.hsl){var x=p.hsl.split(",");cf(p.hsl,"hsl")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("Â°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),t({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsl"},h))}},l=We({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+"Â°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",d=Math.round(s.h)+"Â°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return L.createElement("div",{style:l.wrap,className:"flexbox-fix"},L.createElement("div",{style:l.fields},L.createElement("div",{style:l.double},L.createElement(rt,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),L.createElement("div",{style:l.column},L.createElement("div",{style:l.single},L.createElement(rt,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),L.createElement("div",{style:l.single},L.createElement(rt,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),L.createElement("div",{style:l.single},L.createElement(rt,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},ug=function(e){var t=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,d=e.className,f=d===void 0?"":d,p=We(Rn({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return L.createElement("div",{style:p.picker,className:"google-picker "+f},L.createElement("div",{style:p.head},l),L.createElement("div",{style:p.swatch}),L.createElement("div",{style:p.saturation},L.createElement(Hc,{hsl:o,hsv:s,pointer:ag,onChange:r})),L.createElement("div",{style:p.body},L.createElement("div",{style:p.controls,className:"flexbox-fix"},L.createElement("div",{style:p.hue},L.createElement(ws,{style:p.Hue,hsl:o,radius:"4px",pointer:lg,onChange:r}))),L.createElement(t$,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};ug.propTypes={width:ke.oneOfType([ke.string,ke.number]),styles:ke.object,header:ke.string};ug.defaultProps={width:652,styles:{},header:"Color picker"};Pn(ug);const n$=n=>{let e=n.r.toString(16),t=n.g.toString(16),r=n.b.toString(16),i=Math.round(n.a*255).toString(16);return e.length===1&&(e="0"+e),t.length===1&&(t="0"+t),r.length===1&&(r="0"+r),i.length===1&&(i="0"+i),"#"+e+t+r+i},r$=n=>{const[e,t]=m.useState(null),{fieldDef:r,value:i,onChange:o,onBlur:s,disabled:a,skeleton:l,id:u}=n,[c,d]=m.useState(!1),[f,p]=m.useState(null),h=b=>{d(!c),t(b.currentTarget)},g=()=>{d(!1),t(null),s()},y=b=>{p(b),o(n$(b.rgb))},x=open?`${r.name}-popover`:void 0;return l?v.jsx(Qe,{variant:"rectangular",width:102,height:52}):v.jsxs(v.Fragment,{children:[v.jsx(KT,{disabled:a,color:(f==null?void 0:f.rgb)||i||{r:0,g:141,b:168,a:1},onClick:h,id:u}),!a&&v.jsx(YT,{id:x,open:c,anchorEl:e,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:v.jsx(G_,{color:i||V.newColors.realTeal[100],onChange:y})})]})},i$=m.memo(r$);function vh(n,e){Fe(2,arguments);var t=De(n),r=Pt(e);return isNaN(r)?new Date(NaN):(r&&t.setDate(t.getDate()+r),t)}function o$(n,e){Fe(2,arguments);var t=Pt(e);return vm(n,t*1e3)}var s$=6e4;function a$(n,e){Fe(2,arguments);var t=Pt(e);return vm(n,t*s$)}var l$=36e5;function u$(n,e){Fe(2,arguments);var t=Pt(e);return vm(n,t*l$)}function c$(n,e){Fe(2,arguments);var t=Pt(e),r=t*7;return vh(n,r)}function nu(n,e){Fe(2,arguments);var t=De(n),r=Pt(e);if(isNaN(r))return new Date(NaN);if(!r)return t;var i=t.getDate(),o=new Date(t.getTime());o.setMonth(t.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(t.setFullYear(o.getFullYear(),o.getMonth(),i),t)}function v0(n,e){Fe(2,arguments);var t=Pt(e);return nu(n,t*12)}function d$(n,e){Fe(2,arguments);var t=De(n),r=De(e);return t.getFullYear()-r.getFullYear()}function Ra(n,e){Fe(2,arguments);var t=De(n),r=De(e),i=t.getTime()-r.getTime();return i<0?-1:i>0?1:i}function f$(n,e){Fe(2,arguments);var t=De(n),r=De(e),i=Ra(t,r),o=Math.abs(d$(t,r));t.setFullYear(1584),r.setFullYear(1584);var s=Ra(t,r)===-i,a=i*(o-Number(s));return a===0?0:a}function p$(n,e){Fe(2,arguments);var t=De(n),r=De(e),i=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return i*12+o}function yh(n){Fe(1,arguments);var e=De(n);return e.setHours(23,59,59,999),e}function bh(n){Fe(1,arguments);var e=De(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function h$(n){Fe(1,arguments);var e=De(n);return yh(e).getTime()===bh(e).getTime()}function QC(n,e){Fe(2,arguments);var t=De(n),r=De(e),i=Ra(t,r),o=Math.abs(p$(t,r)),s;if(o<1)s=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-i*o);var a=Ra(t,r)===-i;h$(De(n))&&o===1&&Ra(n,r)===1&&(a=!1),s=i*(o-Number(a))}return s===0?0:s}var y0={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},m$="trunc";function dl(n){return n?y0[n]:y0[m$]}function g$(n,e,t){Fe(2,arguments);var r=QC(n,e)/3;return dl(void 0)(r)}var v$=864e5;function y$(n,e){Fe(2,arguments);var t=as(n),r=as(e),i=t.getTime()-rh(t),o=r.getTime()-rh(r);return Math.round((i-o)/v$)}function b0(n,e){var t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function eS(n,e){Fe(2,arguments);var t=De(n),r=De(e),i=b0(t,r),o=Math.abs(y$(t,r));t.setDate(t.getDate()-i*o);var s=+(b0(t,r)===-i),a=i*(o-s);return a===0?0:a}function b$(n,e,t){Fe(2,arguments);var r=eS(n,e)/7;return dl(void 0)(r)}var Uc=6e4,qc=36e5,x$=1e3;function Gc(n,e){return Fe(2,arguments),De(n).getTime()-De(e).getTime()}function w$(n,e,t){Fe(2,arguments);var r=Gc(n,e)/qc;return dl(void 0)(r)}function C$(n,e,t){Fe(2,arguments);var r=Gc(n,e)/Uc;return dl(void 0)(r)}function S$(n,e,t){Fe(2,arguments);var r=Gc(n,e)/1e3;return dl(void 0)(r)}function k$(n,e){var t;Fe(1,arguments);var r=n,i=De(r.start),o=De(r.end),s=o.getTime();if(!(i.getTime()<=s))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((t=void 0)!==null&&t!==void 0?t:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)a.push(De(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function ff(n,e){var t,r,i,o,s,a,l,u;Fe(1,arguments);var c=Ac(),d=Pt((t=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=De(n),p=f.getDay(),h=(p<d?-7:0)+6-(p-d);return f.setDate(f.getDate()+h),f.setHours(23,59,59,999),f}function pf(n){Fe(1,arguments);var e=De(n),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function M$(n){Fe(1,arguments);var e=De(n),t=e.getDate();return t}function E$(n){Fe(1,arguments);var e=De(n),t=e.getDay();return t}function tS(n){Fe(1,arguments);var e=De(n),t=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function T$(n){Fe(1,arguments);var e=De(n),t=e.getHours();return t}function L$(n){Fe(1,arguments);var e=De(n),t=e.getMinutes();return t}function A$(n){Fe(1,arguments);var e=De(n),t=e.getMonth();return t}function O$(n){Fe(1,arguments);var e=De(n),t=e.getSeconds();return t}function R$(n){return Fe(1,arguments),De(n).getFullYear()}function Il(n,e){Fe(2,arguments);var t=De(n),r=De(e);return t.getTime()>r.getTime()}function Co(n,e){Fe(2,arguments);var t=De(n),r=De(e);return t.getTime()<r.getTime()}function P$(n,e){Fe(2,arguments);var t=De(n),r=De(e);return t.getTime()===r.getTime()}function D$(n,e){Fe(2,arguments);var t=De(n),r=De(e);return t.getFullYear()===r.getFullYear()}function I$(n,e){Fe(2,arguments);var t=De(n),r=De(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function x0(n){Fe(1,arguments);var e=De(n);return e.setMinutes(0,0,0),e}function N$(n,e){Fe(2,arguments);var t=x0(n),r=x0(e);return t.getTime()===r.getTime()}function w0(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=mA(n))||e){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw o}}}}function _$(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function nS(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nS=function(){return!!n})()}function lt(n){var e=nS();return function(){var t,r=Av(n);if(e){var i=Av(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return gA(this,t)}}var $$=10,rS=function(){function n(){ot(this,n),Ae(this,"priority",void 0),Ae(this,"subPriority",0)}return st(n,[{key:"validate",value:function(t,r){return!0}}]),n}(),F$=function(n){at(t,n);var e=lt(t);function t(r,i,o,s,a){var l;return ot(this,t),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return st(t,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),t}(rS),B$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",$$),Ae(Pe(r),"subPriority",-1),r}return st(t,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),t}(rS),ft=function(){function n(){ot(this,n),Ae(this,"incompatibleTokens",void 0),Ae(this,"priority",void 0),Ae(this,"subPriority",void 0)}return st(n,[{key:"run",value:function(t,r,i,o){var s=this.parse(t,r,i,o);return s?{setter:new F$(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(t,r,i){return!0}}]),n}(),j$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",140),Ae(Pe(r),"incompatibleTokens",["R","u","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(ft),Bt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Tr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function jt(n,e){return n&&{value:e(n.value),rest:n.rest}}function Rt(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Lr(n,e){var t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*qc+o*Uc+s*x$),rest:e.slice(t[0].length)}}function iS(n){return Rt(Bt.anyDigitsSigned,n)}function _t(n,e){switch(n){case 1:return Rt(Bt.singleDigit,e);case 2:return Rt(Bt.twoDigits,e);case 3:return Rt(Bt.threeDigits,e);case 4:return Rt(Bt.fourDigits,e);default:return Rt(new RegExp("^\\d{1,"+n+"}"),e)}}function Lu(n,e){switch(n){case 1:return Rt(Bt.singleDigitSigned,e);case 2:return Rt(Bt.twoDigitsSigned,e);case 3:return Rt(Bt.threeDigitsSigned,e);case 4:return Rt(Bt.fourDigitsSigned,e);default:return Rt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function cg(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function oS(n,e){var t=e>0,r=t?e:1-e,i;if(r<=50)i=n||100;else{var o=r+50,s=Math.floor(o/100)*100,a=n>=o%100;i=n+s-(a?100:0)}return t?i:1-i}function sS(n){return n%400===0||n%4===0&&n%100!==0}var z$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",130),Ae(Pe(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){var a=function(u){return{year:u,isTwoDigitYear:o==="yy"}};switch(o){case"y":return jt(_t(4,i),a);case"yo":return jt(s.ordinalNumber(i,{unit:"year"}),a);default:return jt(_t(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var l=oS(s.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(ft),H$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",130),Ae(Pe(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){var a=function(u){return{year:u,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return jt(_t(4,i),a);case"Yo":return jt(s.ordinalNumber(i,{unit:"year"}),a);default:return jt(_t(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var l=JT(i,a);if(s.isTwoDigitYear){var u=oS(s.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),ih(i,a)}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),ih(i,a)}}]),t}(ft),V$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",130),Ae(Pe(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o){return Lu(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Yw(a)}}]),t}(ft),W$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",130),Ae(Pe(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o){return Lu(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(ft),U$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",120),Ae(Pe(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return _t(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}(ft),q$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",120),Ae(Pe(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return _t(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}(ft),G$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ae(Pe(r),"priority",110),r}return st(t,[{key:"parse",value:function(i,o,s){var a=function(u){return u-1};switch(o){case"M":return jt(Rt(Bt.month,i),a);case"MM":return jt(_t(2,i),a);case"Mo":return jt(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),t}(ft),K$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",110),Ae(Pe(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){var a=function(u){return u-1};switch(o){case"L":return jt(Rt(Bt.month,i),a);case"LL":return jt(_t(2,i),a);case"Lo":return jt(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),t}(ft);function Y$(n,e,t){Fe(2,arguments);var r=De(n),i=Pt(e),o=ZT(r,t)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var J$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",100),Ae(Pe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"w":return Rt(Bt.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return _t(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return ih(Y$(i,s,a),a)}}]),t}(ft);function Z$(n,e){Fe(2,arguments);var t=De(n),r=Pt(e),i=XT(t)-r;return t.setUTCDate(t.getUTCDate()-i*7),t}var X$=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",100),Ae(Pe(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"I":return Rt(Bt.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return _t(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return Yw(Z$(i,s))}}]),t}(ft),Q$=[31,28,31,30,31,30,31,31,30,31,30,31],eF=[31,29,31,30,31,30,31,31,30,31,30,31],tF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",90),Ae(Pe(r),"subPriority",1),Ae(Pe(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"d":return Rt(Bt.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return _t(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=sS(s),l=i.getUTCMonth();return a?o>=1&&o<=eF[l]:o>=1&&o<=Q$[l]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),t}(ft),nF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",90),Ae(Pe(r),"subpriority",1),Ae(Pe(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return Rt(Bt.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return _t(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=sS(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),t}(ft);function dg(n,e,t){var r,i,o,s,a,l,u,c;Fe(2,arguments);var d=Ac(),f=Pt((r=(i=(o=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=De(n),h=Pt(e),g=p.getUTCDay(),y=h%7,x=(y+7)%7,b=(x<f?7:0)+h-g;return p.setUTCDate(p.getUTCDate()+b),p}var rF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",90),Ae(Pe(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=dg(i,s,a),i.setUTCHours(0,0,0,0),i}}]),t}(ft),iF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",90),Ae(Pe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(o){case"e":case"ee":return jt(_t(o.length,i),l);case"eo":return jt(s.ordinalNumber(i,{unit:"day"}),l);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=dg(i,s,a),i.setUTCHours(0,0,0,0),i}}]),t}(ft),oF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",90),Ae(Pe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(o){case"c":case"cc":return jt(_t(o.length,i),l);case"co":return jt(s.ordinalNumber(i,{unit:"day"}),l);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=dg(i,s,a),i.setUTCHours(0,0,0,0),i}}]),t}(ft);function sF(n,e){Fe(2,arguments);var t=Pt(e);t%7===0&&(t=t-7);var r=1,i=De(n),o=i.getUTCDay(),s=t%7,a=(s+7)%7,l=(a<r?7:0)+t-o;return i.setUTCDate(i.getUTCDate()+l),i}var aF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",90),Ae(Pe(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){var a=function(u){return u===0?7:u};switch(o){case"i":case"ii":return _t(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return jt(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return jt(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return jt(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return jt(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=sF(i,s),i.setUTCHours(0,0,0,0),i}}]),t}(ft),lF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",80),Ae(Pe(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(cg(s),0,0,0),i}}]),t}(ft),uF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",80),Ae(Pe(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(cg(s),0,0,0),i}}]),t}(ft),cF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",80),Ae(Pe(r),"incompatibleTokens",["a","b","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(cg(s),0,0,0),i}}]),t}(ft),dF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",70),Ae(Pe(r),"incompatibleTokens",["H","K","k","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"h":return Rt(Bt.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return _t(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),t}(ft),fF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",70),Ae(Pe(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"H":return Rt(Bt.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return _t(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),t}(ft),pF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",70),Ae(Pe(r),"incompatibleTokens",["h","H","k","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"K":return Rt(Bt.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return _t(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),t}(ft),hF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",70),Ae(Pe(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"k":return Rt(Bt.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return _t(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),t}(ft),mF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",60),Ae(Pe(r),"incompatibleTokens",["t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"m":return Rt(Bt.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return _t(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),t}(ft),gF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",50),Ae(Pe(r),"incompatibleTokens",["t","T"]),r}return st(t,[{key:"parse",value:function(i,o,s){switch(o){case"s":return Rt(Bt.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return _t(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),t}(ft),vF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",30),Ae(Pe(r),"incompatibleTokens",["t","T"]),r}return st(t,[{key:"parse",value:function(i,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return jt(_t(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),t}(ft),yF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",10),Ae(Pe(r),"incompatibleTokens",["t","T","x"]),r}return st(t,[{key:"parse",value:function(i,o){switch(o){case"X":return Lr(Tr.basicOptionalMinutes,i);case"XX":return Lr(Tr.basic,i);case"XXXX":return Lr(Tr.basicOptionalSeconds,i);case"XXXXX":return Lr(Tr.extendedOptionalSeconds,i);case"XXX":default:return Lr(Tr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),t}(ft),bF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",10),Ae(Pe(r),"incompatibleTokens",["t","T","X"]),r}return st(t,[{key:"parse",value:function(i,o){switch(o){case"x":return Lr(Tr.basicOptionalMinutes,i);case"xx":return Lr(Tr.basic,i);case"xxxx":return Lr(Tr.basicOptionalSeconds,i);case"xxxxx":return Lr(Tr.extendedOptionalSeconds,i);case"xxx":default:return Lr(Tr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),t}(ft),xF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",40),Ae(Pe(r),"incompatibleTokens","*"),r}return st(t,[{key:"parse",value:function(i){return iS(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),t}(ft),wF=function(n){at(t,n);var e=lt(t);function t(){var r;ot(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Ae(Pe(r),"priority",20),Ae(Pe(r),"incompatibleTokens","*"),r}return st(t,[{key:"parse",value:function(i){return iS(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),t}(ft),CF={G:new j$,y:new z$,Y:new H$,R:new V$,u:new W$,Q:new U$,q:new q$,M:new G$,L:new K$,w:new J$,I:new X$,d:new tF,D:new nF,E:new rF,e:new iF,c:new oF,i:new aF,a:new lF,b:new uF,B:new cF,h:new dF,H:new fF,K:new pF,k:new hF,m:new mF,s:new gF,S:new vF,X:new yF,x:new bF,t:new xF,T:new wF},SF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MF=/^'([^]*?)'?$/,EF=/''/g,TF=/\S/,LF=/[a-zA-Z]/;function aS(n,e,t,r){var i,o,s,a,l,u,c,d,f,p,h,g,y,x,b,w,k,S;Fe(3,arguments);var C=String(n),M=String(e),T=Ac(),I=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:T.locale)!==null&&i!==void 0?i:Jw;if(!I.match)throw new RangeError("locale must contain match property");var R=Pt((s=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&a!==void 0?a:(f=T.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var z=Pt((h=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:T.weekStartsOn)!==null&&g!==void 0?g:(k=T.locale)===null||k===void 0||(S=k.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&h!==void 0?h:0);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(M==="")return C===""?De(t):new Date(NaN);var _={firstWeekContainsDate:R,weekStartsOn:z,locale:I},W=[new B$],D=M.match(kF).map(function(te){var ne=te[0];if(ne in Mv){var be=Mv[ne];return be(te,I.formatLong)}return te}).join("").match(SF),B=[],F=w0(D),N;try{var Z=function(){var ne=N.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&QT(ne)&&Ev(ne,M,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&eL(ne)&&Ev(ne,M,n);var be=ne[0],ge=CF[be];if(ge){var ye=ge.incompatibleTokens;if(Array.isArray(ye)){var Ce=B.find(function(O){return ye.includes(O.token)||O.token===be});if(Ce)throw new RangeError("The format string mustn't contain `".concat(Ce.fullToken,"` and `").concat(ne,"` at the same time"))}else if(ge.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(ne,"` and any other token at the same time"));B.push({token:be,fullToken:ne});var Me=ge.run(C,ne,I.match,_);if(!Me)return{v:new Date(NaN)};W.push(Me.setter),C=Me.rest}else{if(be.match(LF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+be+"`");if(ne==="''"?ne="'":be==="'"&&(ne=AF(ne)),C.indexOf(ne)===0)C=C.slice(ne.length);else return{v:new Date(NaN)}}};for(F.s();!(N=F.n()).done;){var me=Z();if(vA(me)==="object")return me.v}}catch(te){F.e(te)}finally{F.f()}if(C.length>0&&TF.test(C))return new Date(NaN);var re=W.map(function(te){return te.priority}).sort(function(te,ne){return ne-te}).filter(function(te,ne,be){return be.indexOf(te)===ne}).map(function(te){return W.filter(function(ne){return ne.priority===te}).sort(function(ne,be){return be.subPriority-ne.subPriority})}).map(function(te){return te[0]}),U=De(t);if(isNaN(U.getTime()))return new Date(NaN);var J=tL(U,rh(U)),ue={},Y=w0(re),E;try{for(Y.s();!(E=Y.n()).done;){var $=E.value;if(!$.validate(J,_))return new Date(NaN);var Q=$.set(J,ue,_);Array.isArray(Q)?(J=Q[0],_$(ue,Q[1])):J=Q}}catch(te){Y.e(te)}finally{Y.f()}return J}function AF(n){return n.match(MF)[1].replace(EF,"'")}function OF(n,e){Fe(2,arguments);var t=De(n),r=Pt(e);return t.setDate(r),t}function RF(n,e){Fe(2,arguments);var t=De(n),r=Pt(e);return t.setHours(r),t}function PF(n,e){Fe(2,arguments);var t=De(n),r=Pt(e);return t.setMinutes(r),t}function DF(n,e){Fe(2,arguments);var t=De(n),r=Pt(e),i=t.getFullYear(),o=t.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=tS(s);return t.setMonth(r,Math.min(o,a)),t}function IF(n,e){Fe(2,arguments);var t=De(n),r=Pt(e);return t.setSeconds(r),t}function NF(n,e){Fe(2,arguments);var t=De(n),r=Pt(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(r),t)}function Nl(n){Fe(1,arguments);var e=De(n);return e.setDate(1),e.setHours(0,0,0,0),e}function hf(n,e){var t,r,i,o,s,a,l,u;Fe(1,arguments);var c=Ac(),d=Pt((t=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=De(n),p=f.getDay(),h=(p<d?7:0)+p-d;return f.setDate(f.getDate()-h),f.setHours(0,0,0,0),f}function _l(n){Fe(1,arguments);var e=De(n),t=new Date(0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function _F(n,e){var t;Fe(1,arguments);var r=Pt((t=void 0)!==null&&t!==void 0?t:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var i=jF(n),o;if(i.date){var s=zF(i.date,r);o=HF(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,u;if(i.time&&(l=VF(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=WF(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var $l={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$F=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,FF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,BF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function jF(n){var e={},t=n.split($l.dateTimeDelimiter),r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],$l.timeZoneDelimiter.test(e.date)&&(e.date=n.split($l.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){var i=$l.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function zF(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function HF(n,e){if(e===null)return new Date(NaN);var t=n.match($F);if(!t)return new Date(NaN);var r=!!t[4],i=Os(t[1]),o=Os(t[2])-1,s=Os(t[3]),a=Os(t[4]),l=Os(t[5])-1;if(r)return YF(e,a,l)?UF(e,a,l):new Date(NaN);var u=new Date(0);return!GF(e,o,s)||!KF(e,i)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(i,s)),u)}function Os(n){return n?parseInt(n):1}function VF(n){var e=n.match(FF);if(!e)return NaN;var t=mf(e[1]),r=mf(e[2]),i=mf(e[3]);return JF(t,r,i)?t*qc+r*Uc+i*1e3:NaN}function mf(n){return n&&parseFloat(n.replace(",","."))||0}function WF(n){if(n==="Z")return 0;var e=n.match(BF);if(!e)return 0;var t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return ZF(r,i)?t*(r*qc+i*Uc):NaN}function UF(n,e,t){var r=new Date(0);r.setUTCFullYear(n,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var qF=[31,null,31,30,31,30,31,31,30,31,30,31];function lS(n){return n%400===0||n%4===0&&n%100!==0}function GF(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(qF[e]||(lS(n)?29:28))}function KF(n,e){return e>=1&&e<=(lS(n)?366:365)}function YF(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function JF(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function ZF(n,e){return e>=0&&e<=59}function XF(n,e){var t,r;Fe(1,arguments);var i=De(n);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var o=String((t=e==null?void 0:e.format)!==null&&t!==void 0?t:"extended"),s=String((r=e==null?void 0:e.representation)!==null&&r!==void 0?r:"complete");if(o!=="extended"&&o!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(s!=="date"&&s!=="time"&&s!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",u=o==="extended"?"-":"",c=o==="extended"?":":"";if(s!=="time"){var d=Qr(i.getDate(),2),f=Qr(i.getMonth()+1,2),p=Qr(i.getFullYear(),4);a="".concat(p).concat(u).concat(f).concat(u).concat(d)}if(s!=="date"){var h=i.getTimezoneOffset();if(h!==0){var g=Math.abs(h),y=Qr(Math.floor(g/60),2),x=Qr(g%60,2),b=h<0?"+":"-";l="".concat(b).concat(y,":").concat(x)}else l="Z";var w=Qr(i.getHours(),2),k=Qr(i.getMinutes(),2),S=Qr(i.getSeconds(),2),C=a===""?"":"T",M=[w,k,S].join(c);a="".concat(a).concat(C).concat(M).concat(l)}return a}function QF(n,e){Fe(2,arguments);var t=De(n).getTime(),r=De(e.start).getTime(),i=De(e.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return t>=r&&t<=i}var Fl={exports:{}},C0;function e3(){return C0||(C0=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},r=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},i=function(l,u){var c=l.match(/(P+)(p+)?/)||[],d=c[1],f=c[2];if(!f)return t(l,u);var p;switch(d){case"P":p=u.dateTime({width:"short"});break;case"PP":p=u.dateTime({width:"medium"});break;case"PPP":p=u.dateTime({width:"long"});break;case"PPPP":default:p=u.dateTime({width:"full"});break}return p.replace("{{date}}",t(d,u)).replace("{{time}}",r(f,u))},o={p:r,P:i},s=o;e.default=s,n.exports=e.default}(Fl,Fl.exports)),Fl.exports}var t3=e3();const n3=it(t3),r3={dayOfMonth:"d",fullDate:"PP",fullDateWithWeekday:"PPPP",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aaa",fullDateTime24h:"PP HH:mm",fullTime:"p",fullTime12h:"hh:mm aaa",fullTime24h:"HH:mm",hours12h:"hh",hours24h:"HH",keyboardDate:"P",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aaa",keyboardDateTime24h:"P HH:mm",minutes:"mm",month:"LLLL",monthAndDate:"MMMM d",monthAndYear:"LLLL yyyy",monthShort:"MMM",weekday:"EEEE",weekdayShort:"EEE",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",seconds:"ss",shortDate:"MMM d",year:"yyyy"};class uS{constructor({locale:e,formats:t}={}){this.lib="date-fns",this.is12HourCycleInCurrentLocale=()=>{var r;return this.locale?/a/.test((r=this.locale.formatLong)===null||r===void 0?void 0:r.time()):!0},this.getFormatHelperText=r=>{var i,o;const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a=this.locale||Jw;return(o=(i=r.match(s))===null||i===void 0?void 0:i.map(l=>{const u=l[0];if(u==="p"||u==="P"){const c=n3[u];return c(l,a.formatLong,{})}return l}).join("").replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase())!==null&&o!==void 0?o:r},this.parseISO=r=>_F(r),this.toISO=r=>XF(r,{format:"extended"}),this.getCurrentLocaleCode=()=>{var r;return((r=this.locale)===null||r===void 0?void 0:r.code)||"en-US"},this.addSeconds=(r,i)=>o$(r,i),this.addMinutes=(r,i)=>a$(r,i),this.addHours=(r,i)=>u$(r,i),this.addDays=(r,i)=>vh(r,i),this.addWeeks=(r,i)=>c$(r,i),this.addMonths=(r,i)=>nu(r,i),this.addYears=(r,i)=>v0(r,i),this.isValid=r=>Zw(this.date(r)),this.getDiff=(r,i,o)=>{var s;const a=(s=this.date(i))!==null&&s!==void 0?s:r;if(!this.isValid(a))return 0;switch(o){case"years":return f$(r,a);case"quarters":return g$(r,a);case"months":return QC(r,a);case"weeks":return b$(r,a);case"days":return eS(r,a);case"hours":return w$(r,a);case"minutes":return C$(r,a);case"seconds":return S$(r,a);default:return Gc(r,a)}},this.isAfter=(r,i)=>Il(r,i),this.isBefore=(r,i)=>Co(r,i),this.startOfDay=r=>as(r),this.endOfDay=r=>yh(r),this.getHours=r=>T$(r),this.setHours=(r,i)=>RF(r,i),this.setMinutes=(r,i)=>PF(r,i),this.getSeconds=r=>O$(r),this.setSeconds=(r,i)=>IF(r,i),this.isSameDay=(r,i)=>GA(r,i),this.isSameMonth=(r,i)=>I$(r,i),this.isSameYear=(r,i)=>D$(r,i),this.isSameHour=(r,i)=>N$(r,i),this.startOfYear=r=>_l(r),this.endOfYear=r=>pf(r),this.startOfMonth=r=>Nl(r),this.endOfMonth=r=>bh(r),this.startOfWeek=r=>hf(r,{locale:this.locale}),this.endOfWeek=r=>ff(r,{locale:this.locale}),this.getYear=r=>R$(r),this.setYear=(r,i)=>NF(r,i),this.date=r=>typeof r>"u"?new Date:r===null?null:new Date(r),this.toJsDate=r=>r,this.parse=(r,i)=>r===""?null:aS(r,i,new Date,{locale:this.locale}),this.format=(r,i)=>this.formatByString(r,this.formats[i]),this.formatByString=(r,i)=>Jo(r,i,{locale:this.locale}),this.isEqual=(r,i)=>r===null&&i===null?!0:P$(r,i),this.isNull=r=>r===null,this.isAfterDay=(r,i)=>Il(r,yh(i)),this.isBeforeDay=(r,i)=>Co(r,as(i)),this.isBeforeYear=(r,i)=>Co(r,_l(i)),this.isAfterYear=(r,i)=>Il(r,pf(i)),this.isWithinRange=(r,[i,o])=>QF(r,{start:i,end:o}),this.formatNumber=r=>r,this.getMinutes=r=>L$(r),this.getDate=r=>M$(r),this.setDate=(r,i)=>OF(r,i),this.getMonth=r=>A$(r),this.getDaysInMonth=r=>tS(r),this.setMonth=(r,i)=>DF(r,i),this.getMeridiemText=r=>r==="am"?"AM":"PM",this.getNextMonth=r=>nu(r,1),this.getPreviousMonth=r=>nu(r,-1),this.getMonthArray=r=>{const o=[_l(r)];for(;o.length<12;){const s=o[o.length-1];o.push(this.getNextMonth(s))}return o},this.mergeDateAndTime=(r,i)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(i)),this.getMinutes(i)),this.getSeconds(i)),this.getWeekdays=()=>{const r=new Date;return k$({start:hf(r,{locale:this.locale}),end:ff(r,{locale:this.locale})}).map(i=>this.formatByString(i,"EEEEEE"))},this.getWeekArray=r=>{const i=hf(Nl(r),{locale:this.locale}),o=ff(bh(r),{locale:this.locale});let s=0,a=i;const l=[];let u=null;for(;Co(a,o);){const c=Math.floor(s/7);l[c]=l[c]||[];const d=E$(a);u!==d&&(u=d,l[c].push(a),s+=1),a=vh(a,1)}return l},this.getYearRange=(r,i)=>{const o=_l(r),s=pf(i),a=[];let l=o;for(;Co(l,s);)a.push(l),l=v0(l,1);return a},this.locale=e,this.formats=Object.assign({},r3,t)}isBeforeMonth(e,t){return Co(e,Nl(t))}isAfterMonth(e,t){return Il(e,Nl(t))}}const i3=n=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:X({},n)}}}}),cS={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:n=>n==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",clockLabelText:(n,e,t)=>`Select ${n}. ${e===null?"No time selected":`Selected time is ${t.format(e,"fullTime")}`}`,hoursClockNumberText:n=>`${n} hours`,minutesClockNumberText:n=>`${n} minutes`,secondsClockNumberText:n=>`${n} seconds`,openDatePickerDialogue:(n,e)=>n&&e.isValid(e.date(n))?`Choose date, selected date is ${e.format(e.date(n),"fullDate")}`:"Choose date",openTimePickerDialogue:(n,e)=>n&&e.isValid(e.date(n))?`Choose time, selected time is ${e.format(e.date(n),"fullTime")}`:"Choose time",timeTableLabel:"pick time",dateTableLabel:"pick date"},o3=cS;i3(cS);const dS=m.createContext(null);function fS(n){const e=Gr({props:n,name:"MuiLocalizationProvider"}),{children:t,dateAdapter:r,dateFormats:i,dateLibInstance:o,locale:s,adapterLocale:a,localeText:l}=e,u=m.useMemo(()=>new r({locale:a??s,formats:i,instance:o}),[r,s,a,i,o]),c=m.useMemo(()=>({minDate:u.date("1900-01-01T00:00:00.000"),maxDate:u.date("2099-12-31T00:00:00.000")}),[u]),d=m.useMemo(()=>({utils:u,defaultDates:c,localeText:X({},o3,l??{})}),[c,u,l]);return v.jsx(dS.Provider,{value:d,children:t})}const fl=()=>{const n=m.useContext(dS);if(n===null)throw new Error("MUI: Can not find utils in context. It looks like you forgot to wrap your component in LocalizationProvider, or pass dateAdapter prop directly.");return n},Ht=()=>fl().utils,Kc=()=>fl().defaultDates,Ss=()=>fl().localeText,pl=()=>{const n=Ht();return m.useRef(n.date()).current},gf=({date:n,disableFuture:e,disablePast:t,maxDate:r,minDate:i,isDateDisabled:o,utils:s})=>{const a=s.startOfDay(s.date());t&&s.isBefore(i,a)&&(i=a),e&&s.isAfter(r,a)&&(r=a);let l=n,u=n;for(s.isBefore(n,i)&&(l=s.date(i),u=null),s.isAfter(n,r)&&(u&&(u=s.date(r)),l=null);l||u;){if(l&&s.isAfter(l,r)&&(l=null),u&&s.isBefore(u,i)&&(u=null),l){if(!o(l))return l;l=s.addDays(l,1)}if(u){if(!o(u))return u;u=s.addDays(u,-1)}}return null},pS=(n,e)=>{const t=n.date(e);return n.isValid(t)?t:null},hS=n=>n.length===1&&n[0]==="year",mS=n=>n.length===2&&n.indexOf("month")!==-1&&n.indexOf("year")!==-1,s3=(n,e)=>hS(n)?{inputFormat:e.formats.year}:mS(n)?{disableMaskedInput:!0,inputFormat:e.formats.monthAndYear}:{inputFormat:e.formats.keyboardDate};function a3(n,e){var t;const r=Ht(),i=Kc(),o=Gr({props:n,name:e}),s=(t=o.views)!=null?t:["year","day"];return X({openTo:"day",minDate:i.minDate,maxDate:i.maxDate},s3(s,r),o,{views:s})}const l3={emptyValue:null,getTodayValue:n=>n.date(),parseInput:pS,areValuesEqual:(n,e,t)=>n.isEqual(e,t)};function u3(n){return kn("MuiCollapse",n)}Dt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const c3=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],d3=n=>{const{orientation:e,classes:t}=n,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Mn(r,u3,t)},f3=Le("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(({theme:n,ownerState:e})=>X({height:0,overflow:"hidden",transition:n.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:n.transitions.create("width")},e.state==="entered"&&X({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),p3=Le("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(n,e)=>e.wrapper})(({ownerState:n})=>X({display:"flex",width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),h3=Le("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(n,e)=>e.wrapperInner})(({ownerState:n})=>X({width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),gS=m.forwardRef(function(e,t){const r=to({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:l,easing:u,in:c,onEnter:d,onEntered:f,onEntering:p,onExit:h,onExited:g,onExiting:y,orientation:x="vertical",style:b,timeout:w=gL.standard,TransitionComponent:k=tC}=r,S=nt(r,c3),C=X({},r,{orientation:x,collapsedSize:a}),M=d3(C),T=bs(),I=RL(),R=m.useRef(null),z=m.useRef(),_=typeof a=="number"?`${a}px`:a,W=x==="horizontal",D=W?"width":"height",B=m.useRef(null),F=Vr(t,B),N=$=>Q=>{if($){const te=B.current;Q===void 0?$(te):$(te,Q)}},Z=()=>R.current?R.current[W?"clientWidth":"clientHeight"]:0,me=N(($,Q)=>{R.current&&W&&(R.current.style.position="absolute"),$.style[D]=_,d&&d($,Q)}),re=N(($,Q)=>{const te=Z();R.current&&W&&(R.current.style.position="");const{duration:ne,easing:be}=Lv({style:b,timeout:w,easing:u},{mode:"enter"});if(w==="auto"){const ge=T.transitions.getAutoHeightDuration(te);$.style.transitionDuration=`${ge}ms`,z.current=ge}else $.style.transitionDuration=typeof ne=="string"?ne:`${ne}ms`;$.style[D]=`${te}px`,$.style.transitionTimingFunction=be,p&&p($,Q)}),U=N(($,Q)=>{$.style[D]="auto",f&&f($,Q)}),J=N($=>{$.style[D]=`${Z()}px`,h&&h($)}),ue=N(g),Y=N($=>{const Q=Z(),{duration:te,easing:ne}=Lv({style:b,timeout:w,easing:u},{mode:"exit"});if(w==="auto"){const be=T.transitions.getAutoHeightDuration(Q);$.style.transitionDuration=`${be}ms`,z.current=be}else $.style.transitionDuration=typeof te=="string"?te:`${te}ms`;$.style[D]=_,$.style.transitionTimingFunction=ne,y&&y($)}),E=$=>{w==="auto"&&I.start(z.current||0,$),i&&i(B.current,$)};return v.jsx(k,X({in:c,onEnter:me,onEntered:U,onEntering:re,onExit:J,onExited:ue,onExiting:Y,addEndListener:E,nodeRef:B,timeout:w==="auto"?null:w},S,{children:($,Q)=>v.jsx(f3,X({as:l,className:zn(M.root,s,{entered:M.entered,exited:!c&&_==="0px"&&M.hidden}[$]),style:X({[W?"minWidth":"minHeight"]:_},b),ref:F},Q,{ownerState:X({},C,{state:$}),children:v.jsx(p3,{ownerState:X({},C,{state:$}),className:M.wrapper,ref:R,children:v.jsx(h3,{ownerState:X({},C,{state:$}),className:M.wrapperInner,children:o})})}))}))});gS.muiSupportAuto=!0;const vS=m.createContext({}),m3=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],g3=["component","slots","slotProps"],v3=["component"];function y3(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=e,l=nt(e,m3),{component:u,slots:c={[n]:void 0},slotProps:d={[n]:void 0}}=o;nt(o,g3);const f=c[n]||r,p=ML(d[n],i),h=EL(X({className:t},l,{externalForwardedProps:void 0,externalSlotProps:p})),{props:{component:g},internalRef:y}=h,x=nt(h.props,v3),b=Vr(y,p==null?void 0:p.ref,e.ref),w=s?s(x):{},k=X({},i,w),S=g,C=TL(f,X({},n==="root",!c[n]&&a,x,S&&{as:S},{ref:b}),k);return Object.keys(w).forEach(M=>{delete C[M]}),[f,C]}function b3(n){return kn("MuiAccordion",n)}const Bl=Dt("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),x3=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],w3=n=>{const{classes:e,square:t,expanded:r,disabled:i,disableGutters:o}=n;return Mn({root:["root",!t&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},b3,e)},C3=Le(sl,{name:"MuiAccordion",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Bl.region}`]:e.region},e.root,!t.square&&e.rounded,!t.disableGutters&&e.gutters]}})(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{position:"relative",transition:n.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(n.vars||n).palette.divider,transition:n.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Bl.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Bl.disabled}`]:{backgroundColor:(n.vars||n).palette.action.disabledBackground}}},({theme:n})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(n.vars||n).shape.borderRadius,borderBottomRightRadius:(n.vars||n).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${Bl.expanded}`]:{margin:"16px 0"}}}]})),S3=m.forwardRef(function(e,t){const r=to({props:e,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:u,onChange:c,square:d=!1,slots:f={},slotProps:p={},TransitionComponent:h,TransitionProps:g}=r,y=nt(r,x3),[x,b]=ns({controlled:u,default:s,name:"Accordion",state:"expanded"}),w=m.useCallback(W=>{b(!x),c&&c(W,!x)},[x,c,b]),[k,...S]=m.Children.toArray(i),C=m.useMemo(()=>({expanded:x,disabled:a,disableGutters:l,toggle:w}),[x,a,l,w]),M=X({},r,{square:d,disabled:a,disableGutters:l,expanded:x}),T=w3(M),I=X({transition:h},f),R=X({transition:g},p),[z,_]=y3("transition",{elementType:gS,externalForwardedProps:{slots:I,slotProps:R},ownerState:M});return v.jsxs(C3,X({className:zn(T.root,o),ref:t,ownerState:M,square:d},y,{children:[v.jsx(vS.Provider,{value:C,children:k}),v.jsx(z,X({in:x,timeout:"auto"},_,{children:v.jsx("div",{"aria-labelledby":k.props.id,id:k.props["aria-controls"],role:"region",className:T.region,children:S})}))]}))});function k3(n){return kn("MuiAccordionDetails",n)}Dt("MuiAccordionDetails",["root"]);const M3=["className"],E3=n=>{const{classes:e}=n;return Mn({root:["root"]},k3,e)},T3=Le("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>({padding:n.spacing(1,2,2)})),L3=m.forwardRef(function(e,t){const r=to({props:e,name:"MuiAccordionDetails"}),{className:i}=r,o=nt(r,M3),s=r,a=E3(s);return v.jsx(T3,X({className:zn(a.root,i),ref:t,ownerState:s},o))});function A3(n){return kn("MuiAccordionSummary",n)}const Xo=Dt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),O3=["children","className","expandIcon","focusVisibleClassName","onClick"],R3=n=>{const{classes:e,expanded:t,disabled:r,disableGutters:i}=n;return Mn({root:["root",t&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",t&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",t&&"expanded"]},A3,e)},P3=Le(dC,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],e),[`&.${Xo.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${Xo.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`&:hover:not(.${Xo.disabled})`]:{cursor:"pointer"},variants:[{props:t=>!t.disableGutters,style:{[`&.${Xo.expanded}`]:{minHeight:64}}}]}}),D3=Le("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(n,e)=>e.content})(({theme:n})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:n.transitions.create(["margin"],{duration:n.transitions.duration.shortest}),[`&.${Xo.expanded}`]:{margin:"20px 0"}}}]})),I3=Le("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(n,e)=>e.expandIconWrapper})(({theme:n})=>({display:"flex",color:(n.vars||n).palette.action.active,transform:"rotate(0deg)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),[`&.${Xo.expanded}`]:{transform:"rotate(180deg)"}})),N3=m.forwardRef(function(e,t){const r=to({props:e,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:l}=r,u=nt(r,O3),{disabled:c=!1,disableGutters:d,expanded:f,toggle:p}=m.useContext(vS),h=x=>{p&&p(x),l&&l(x)},g=X({},r,{expanded:f,disabled:c,disableGutters:d}),y=R3(g);return v.jsxs(P3,X({focusRipple:!1,disableRipple:!0,disabled:c,component:"div","aria-expanded":f,className:zn(y.root,o),focusVisibleClassName:zn(y.focusVisible,a),onClick:h,ref:t,ownerState:g},u,{children:[v.jsx(D3,{className:y.content,ownerState:g,children:i}),s&&v.jsx(I3,{className:y.expandIconWrapper,ownerState:g,children:s})]}))}),S0=m.createContext();function _3(n){return kn("MuiGrid",n)}const $3=[0,1,2,3,4,5,6,7,8,9,10],F3=["column-reverse","column","row-reverse","row"],B3=["nowrap","wrap-reverse","wrap"],Rs=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Wa=Dt("MuiGrid",["root","container","item","zeroMinWidth",...$3.map(n=>`spacing-xs-${n}`),...F3.map(n=>`direction-xs-${n}`),...B3.map(n=>`wrap-xs-${n}`),...Rs.map(n=>`grid-xs-${n}`),...Rs.map(n=>`grid-sm-${n}`),...Rs.map(n=>`grid-md-${n}`),...Rs.map(n=>`grid-lg-${n}`),...Rs.map(n=>`grid-xl-${n}`)]),j3=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function rs(n){const e=parseFloat(n);return`${e}${String(n).replace(String(e),"")||"px"}`}function z3({theme:n,ownerState:e}){let t;return n.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(t=e[i]),!t)return r;if(t===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(t==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Oc({values:e.columns,breakpoints:n.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const l=`${Math.round(t/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const c=n.spacing(e.columnSpacing);if(c!=="0px"){const d=`calc(${l} + ${rs(c)})`;u={flexBasis:d,maxWidth:d}}}o=X({flexBasis:l,flexGrow:0,maxWidth:l},u)}return n.breakpoints.values[i]===0?Object.assign(r,o):r[n.breakpoints.up(i)]=o,r},{})}function H3({theme:n,ownerState:e}){const t=Oc({values:e.direction,breakpoints:n.breakpoints.values});return bm({theme:n},t,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Wa.item}`]={maxWidth:"none"}),i})}function yS({breakpoints:n,values:e}){let t="";Object.keys(e).forEach(i=>{t===""&&e[i]!==0&&(t=i)});const r=Object.keys(n).sort((i,o)=>n[i]-n[o]);return r.slice(0,r.indexOf(t))}function V3({theme:n,ownerState:e}){const{container:t,rowSpacing:r}=e;let i={};if(t&&r!==0){const o=Oc({values:r,breakpoints:n.breakpoints.values});let s;typeof o=="object"&&(s=yS({breakpoints:n.breakpoints.values,values:o})),i=bm({theme:n},o,(a,l)=>{var u;const c=n.spacing(a);return c!=="0px"?{marginTop:`-${rs(c)}`,[`& > .${Wa.item}`]:{paddingTop:rs(c)}}:(u=s)!=null&&u.includes(l)?{}:{marginTop:0,[`& > .${Wa.item}`]:{paddingTop:0}}})}return i}function W3({theme:n,ownerState:e}){const{container:t,columnSpacing:r}=e;let i={};if(t&&r!==0){const o=Oc({values:r,breakpoints:n.breakpoints.values});let s;typeof o=="object"&&(s=yS({breakpoints:n.breakpoints.values,values:o})),i=bm({theme:n},o,(a,l)=>{var u;const c=n.spacing(a);return c!=="0px"?{width:`calc(100% + ${rs(c)})`,marginLeft:`-${rs(c)}`,[`& > .${Wa.item}`]:{paddingLeft:rs(c)}}:(u=s)!=null&&u.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Wa.item}`]:{paddingLeft:0}}})}return i}function U3(n,e,t={}){if(!n||n<=0)return[];if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number")return[t[`spacing-xs-${String(n)}`]];const r=[];return e.forEach(i=>{const o=n[i];Number(o)>0&&r.push(t[`spacing-${i}-${String(o)}`])}),r}const q3=Le("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:u}=t;let c=[];r&&(c=U3(s,u,e));const d=[];return u.forEach(f=>{const p=t[f];p&&d.push(e[`grid-${f}-${String(p)}`])}),[e.root,r&&e.container,o&&e.item,l&&e.zeroMinWidth,...c,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:n})=>X({boxSizing:"border-box"},n.container&&{display:"flex",flexWrap:"wrap",width:"100%"},n.item&&{margin:0},n.zeroMinWidth&&{minWidth:0},n.wrap!=="wrap"&&{flexWrap:n.wrap}),H3,V3,W3,z3);function G3(n,e){if(!n||n<=0)return[];if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number")return[`spacing-xs-${String(n)}`];const t=[];return e.forEach(r=>{const i=n[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;t.push(o)}}),t}const K3=n=>{const{classes:e,container:t,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=n;let u=[];t&&(u=G3(o,l));const c=[];l.forEach(f=>{const p=n[f];p&&c.push(`grid-${f}-${String(p)}`)});const d={root:["root",t&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...c]};return Mn(d,_3,e)},Y3=m.forwardRef(function(e,t){const r=to({props:e,name:"MuiGrid"}),{breakpoints:i}=bs(),o=vL(r),{className:s,columns:a,columnSpacing:l,component:u="div",container:c=!1,direction:d="row",item:f=!1,rowSpacing:p,spacing:h=0,wrap:g="wrap",zeroMinWidth:y=!1}=o,x=nt(o,j3),b=p||h,w=l||h,k=m.useContext(S0),S=c?a||12:k,C={},M=X({},x);i.keys.forEach(R=>{x[R]!=null&&(C[R]=x[R],delete M[R])});const T=X({},o,{columns:S,container:c,direction:d,item:f,rowSpacing:b,columnSpacing:w,wrap:g,zeroMinWidth:y,spacing:h},C,{breakpoints:i.keys}),I=K3(T);return v.jsx(S0.Provider,{value:S,children:v.jsx(q3,X({ownerState:T,className:zn(I.root,s),as:u,ref:t},M))})});function bS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=bS(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function en(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=bS(n))&&(r&&(r+=" "),r+=e);return r}const J3=qr(v.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Z3=qr(v.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),X3=qr(v.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),xS=qr(v.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),wS=qr(v.jsxs(m.Fragment,{children:[v.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),v.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");qr(v.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");const Q3=qr(v.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Pen");qr(v.jsxs(m.Fragment,{children:[v.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),v.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Qo=Dt("MuiPickersToolbar",["root","content","penIconButton","penIconButtonLandscape"]),eB=Le("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>X({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:n.spacing(2,3)},e.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),tB=Le(Y3,{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(n,e)=>e.content})({flex:1}),nB=Le(wi,{name:"MuiPickersToolbar",slot:"PenIconButton",overridesResolver:(n,e)=>e.penIconButton})({}),rB=n=>n==="clock"?v.jsx(wS,{color:"inherit"}):v.jsx(xS,{color:"inherit"});function iB(n,e){return n?`text input view is open, go to ${e} view`:`${e} view is open, go to text input view`}const CS=m.forwardRef(function(e,t){const{children:r,className:i,getMobileKeyboardInputViewButtonText:o=iB,isLandscape:s,isMobileKeyboardViewOpen:a,landscapeDirection:l="column",toggleMobileKeyboardView:u,toolbarTitle:c,viewType:d="calendar"}=e,f=e;return v.jsxs(eB,{ref:t,className:en(Qo.root,i),ownerState:f,children:[v.jsx(gi,{color:"text.secondary",variant:"overline",children:c}),v.jsxs(tB,{container:!0,justifyContent:"space-between",className:Qo.content,ownerState:f,direction:s?l:"row",alignItems:s?"flex-start":"flex-end",children:[r,v.jsx(nB,{onClick:u,className:en(Qo.penIconButton,s&&Qo.penIconButtonLandscape),ownerState:f,color:"inherit","aria-label":o(a,d),children:a?rB(d):v.jsx(Q3,{color:"inherit"})})]})]})}),oB=["parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],k0=Dt("MuiDatePickerToolbar",["root","title"]),sB=Le(CS,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(n,e)=>e.root})({[`& .${Qo.penIconButton}`]:{position:"relative",top:4}}),aB=Le(gi,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(n,e)=>e.title})(({ownerState:n})=>X({},n.isLandscape&&{margin:"auto 16px auto auto"})),lB=m.forwardRef(function(e,t){const{parsedValue:r,isLandscape:i,isMobileKeyboardViewOpen:o,toggleMobileKeyboardView:s,toolbarFormat:a,toolbarPlaceholder:l="â€“â€“",toolbarTitle:u="Select date",views:c}=e,d=nt(e,oB),f=Ht(),p=m.useMemo(()=>r?a?f.formatByString(r,a):hS(c)?f.format(r,"year"):mS(c)?f.format(r,"month"):/en/.test(f.getCurrentLocaleCode())?f.format(r,"normalDateWithWeekday"):f.format(r,"normalDate"):l,[r,a,l,f,c]),h=e;return v.jsx(sB,X({ref:t,toolbarTitle:u,isMobileKeyboardViewOpen:o,toggleMobileKeyboardView:s,isLandscape:i,ownerState:h,className:k0.root},d,{children:v.jsx(aB,{variant:"h4",align:i?"left":"center",ownerState:h,className:k0.title,children:p})}))}),uo=m.createContext(null),SS=n=>{const{onAccept:e,onClear:t,onCancel:r,onSetToday:i,actions:o}=n,s=m.useContext(uo),a=Ss(),l=typeof o=="function"?o(s):o;if(l==null||l.length===0)return null;const u=l==null?void 0:l.map(c=>{switch(c){case"clear":return v.jsx(ua,{onClick:t,children:a.clearButtonLabel},c);case"cancel":return v.jsx(ua,{onClick:r,children:a.cancelButtonLabel},c);case"accept":return v.jsx(ua,{onClick:e,children:a.okButtonLabel},c);case"today":return v.jsx(ua,{onClick:i,children:a.todayButtonLabel},c);default:return null}});return v.jsx(yA,{children:u})},uB=["onClick","onTouchStart"],cB=Le(no)(({theme:n})=>({zIndex:n.zIndex.modal})),dB=Le(sl)(({ownerState:n})=>X({transformOrigin:"top center",outline:0},n.placement==="top"&&{transformOrigin:"bottom center"}));function fB(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function pB(n,e){const t=m.useRef(!1),r=m.useRef(!1),i=m.useRef(null),o=m.useRef(!1);m.useEffect(()=>{if(!n)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[n]);const s=ca(l=>{if(!o.current)return;const u=r.current;r.current=!1;const c=yd(i.current);if(!i.current||"clientX"in l&&fB(l,c))return;if(t.current){t.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(i.current)>-1:d=!c.documentElement.contains(l.target)||i.current.contains(l.target),!d&&!u&&e(l)}),a=()=>{r.current=!0};return m.useEffect(()=>{if(n){const l=yd(i.current),u=()=>{t.current=!0};return l.addEventListener("touchstart",s),l.addEventListener("touchmove",u),()=>{l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",u)}}},[n,s]),m.useEffect(()=>{if(n){const l=yd(i.current);return l.addEventListener("click",s),()=>{l.removeEventListener("click",s),r.current=!1}}},[n,s]),[i,a,a]}const hB=n=>{var e;const{anchorEl:t,children:r,containerRef:i=null,onBlur:o,onClose:s,onClear:a,onAccept:l,onCancel:u,onSetToday:c,open:d,PopperProps:f,role:p,TransitionComponent:h=xL,TrapFocusProps:g,PaperProps:y={},components:x,componentsProps:b}=n;m.useEffect(()=>{function F(N){d&&(N.key==="Escape"||N.key==="Esc")&&s()}return document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}},[s,d]);const w=m.useRef(null);m.useEffect(()=>{p!=="tooltip"&&(d?w.current=document.activeElement:w.current&&w.current instanceof HTMLElement&&w.current.focus())},[d,p]);const[k,S,C]=pB(d,o??s),M=m.useRef(null),T=Vr(M,i),I=Vr(T,k),R=n,{onClick:z,onTouchStart:_}=y,W=nt(y,uB),D=F=>{F.key==="Escape"&&(F.stopPropagation(),s())},B=(e=x==null?void 0:x.ActionBar)!=null?e:SS;return v.jsx(cB,X({transition:!0,role:p,open:d,anchorEl:t,ownerState:R,onKeyDown:D},f,{children:({TransitionProps:F,placement:N})=>v.jsx(LL,X({open:d,disableAutoFocus:!0,disableEnforceFocus:p==="tooltip",isEnabled:()=>!0},g,{children:v.jsx(h,X({},F,{children:v.jsxs(dB,X({tabIndex:-1,elevation:8,ref:I,onClick:Z=>{S(Z),z&&z(Z)},onTouchStart:Z=>{C(Z),_&&_(Z)},ownerState:X({},R,{placement:N})},W,{children:[r,v.jsx(B,X({onAccept:l,onClear:a,onCancel:u,onSetToday:c,actions:[]},b==null?void 0:b.actionBar))]}))}))}))}))};function kS(n){const{children:e,DateInputProps:t,KeyboardDateInputComponent:r,onClear:i,onDismiss:o,onCancel:s,onAccept:a,onSetToday:l,open:u,PopperProps:c,PaperProps:d,TransitionComponent:f,components:p,componentsProps:h}=n,g=m.useRef(null),y=Vr(t.inputRef,g);return v.jsxs(uo.Provider,{value:"desktop",children:[v.jsx(r,X({},t,{inputRef:y})),v.jsx(hB,{role:"dialog",open:u,anchorEl:g.current,TransitionComponent:f,PopperProps:c,PaperProps:d,onClose:o,onCancel:s,onClear:i,onAccept:a,onSetToday:l,components:p,componentsProps:h,children:e})]})}function Pi(n,e){return Array.isArray(e)?e.every(t=>n.indexOf(t)!==-1):n.indexOf(e)!==-1}const MS=(n,e)=>t=>{(t.key==="Enter"||t.key===" ")&&(n(),t.preventDefault(),t.stopPropagation())};function fg({onChange:n,onViewChange:e,openTo:t,view:r,views:i}){var o,s;const[a,l]=ns({name:"Picker",state:"view",controlled:r,default:t&&Pi(i,t)?t:i[0]}),u=(o=i[i.indexOf(a)-1])!=null?o:null,c=(s=i[i.indexOf(a)+1])!=null?s:null,d=m.useCallback(h=>{l(h),e&&e(h)},[l,e]),f=m.useCallback(()=>{c&&d(c)},[c,d]);return{handleChangeAndOpenNext:m.useCallback((h,g)=>{const y=g==="finish";n(h,y&&c?"partial":g),y&&f()},[c,n,f]),nextView:c,previousView:u,openNext:f,openView:a,setOpenView:d}}const ls=220,di=36,Ua={x:ls/2,y:ls/2},ES={x:Ua.x,y:0},mB=ES.x-Ua.x,gB=ES.y-Ua.y,vB=n=>n*(180/Math.PI),TS=(n,e,t)=>{const r=e-Ua.x,i=t-Ua.y,o=Math.atan2(mB,gB)-Math.atan2(r,i);let s=vB(o);s=Math.round(s/n)*n,s%=360;const a=Math.floor(s/n)||0,l=r**2+i**2,u=Math.sqrt(l);return{value:a,distance:u}},yB=(n,e,t=1)=>{const r=t*6;let{value:i}=TS(r,n,e);return i=i*t%60,i},bB=(n,e,t)=>{const{value:r,distance:i}=TS(30,n,e);let o=r||12;return t?o%=12:i<ls/2-di&&(o+=12,o%=24),o},xB=["className","hasSelected","isInner","type","value"],wB=Le("div")(({theme:n,ownerState:e})=>X({width:2,backgroundColor:n.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},e.toAnimateTransform&&{transition:n.transitions.create(["transform","height"])})),CB=Le("div")(({theme:n,ownerState:e})=>X({width:4,height:4,backgroundColor:n.palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${di/2}px)`,border:`${(di-4)/2}px solid ${n.palette.primary.main}`,boxSizing:"content-box"},e.hasSelected&&{backgroundColor:n.palette.primary.main}));class LS extends m.Component{constructor(...e){super(...e),this.state={toAnimateTransform:!1,previousType:void 0}}render(){const e=this.props,{className:t,isInner:r,type:i,value:o}=e,s=nt(e,xB),a=X({},this.props,this.state),l=()=>{let c=360/(i==="hours"?12:60)*o;return i==="hours"&&o>12&&(c-=360),{height:Math.round((r?.26:.4)*ls),transform:`rotateZ(${c}deg)`}};return v.jsx(wB,X({style:l(),className:t,ownerState:a},s,{children:v.jsx(CB,{ownerState:a})}))}}LS.getDerivedStateFromProps=(n,e)=>n.type!==e.previousType?{toAnimateTransform:!0,previousType:n.type}:{toAnimateTransform:!1,previousType:n.type};const SB=Le("div")(({theme:n})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:n.spacing(2)})),kB=Le("div")({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),MB=Le("div")(({ownerState:n})=>X({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none"},n.disabled?{}:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}})),EB=Le("div")(({theme:n})=>({width:6,height:6,borderRadius:"50%",backgroundColor:n.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),TB=Le(wi)(({theme:n,ownerState:e})=>X({zIndex:1,position:"absolute",bottom:e.ampmInClock?64:8,left:8},e.meridiemMode==="am"&&{backgroundColor:n.palette.primary.main,color:n.palette.primary.contrastText,"&:hover":{backgroundColor:n.palette.primary.light}})),LB=Le(wi)(({theme:n,ownerState:e})=>X({zIndex:1,position:"absolute",bottom:e.ampmInClock?64:8,right:8},e.meridiemMode==="pm"&&{backgroundColor:n.palette.primary.main,color:n.palette.primary.contrastText,"&:hover":{backgroundColor:n.palette.primary.light}}));function AB(n){const{ampm:e,ampmInClock:t,autoFocus:r,children:i,date:o,getClockLabelText:s,handleMeridiemChange:a,isTimeDisabled:l,meridiemMode:u,minutesStep:c=1,onChange:d,selectedId:f,type:p,value:h,disabled:g,readOnly:y}=n,x=n,b=Ht(),w=m.useContext(uo),k=m.useRef(!1),S=l(h,p),C=!e&&p==="hours"&&(h<1||h>12),M=(N,Z)=>{g||y||l(N,p)||d(N,Z)},T=(N,Z)=>{let{offsetX:me,offsetY:re}=N;if(me===void 0){const J=N.target.getBoundingClientRect();me=N.changedTouches[0].clientX-J.left,re=N.changedTouches[0].clientY-J.top}const U=p==="seconds"||p==="minutes"?yB(me,re,c):bB(me,re,!!e);M(U,Z)},I=N=>{k.current=!0,T(N,"shallow")},R=N=>{k.current&&(T(N,"finish"),k.current=!1)},z=N=>{N.buttons>0&&T(N.nativeEvent,"shallow")},_=N=>{k.current&&(k.current=!1),T(N.nativeEvent,"finish")},W=m.useMemo(()=>p==="hours"?!0:h%5===0,[p,h]),D=p==="minutes"?c:1,B=m.useRef(null);km(()=>{r&&B.current.focus()},[r]);const F=N=>{if(!k.current)switch(N.key){case"Home":M(0,"partial"),N.preventDefault();break;case"End":M(p==="minutes"?59:23,"partial"),N.preventDefault();break;case"ArrowUp":M(h+D,"partial"),N.preventDefault();break;case"ArrowDown":M(h-D,"partial"),N.preventDefault();break}};return v.jsxs(SB,{children:[v.jsxs(kB,{children:[v.jsx(MB,{onTouchMove:I,onTouchEnd:R,onMouseUp:_,onMouseMove:z,ownerState:{disabled:g}}),!S&&v.jsxs(m.Fragment,{children:[v.jsx(EB,{}),o&&v.jsx(LS,{type:p,value:h,isInner:C,hasSelected:W})]}),v.jsx("div",{"aria-activedescendant":f,"aria-label":s(p,o,b),ref:B,role:"listbox",onKeyDown:F,tabIndex:0,children:i})]}),e&&(w==="desktop"||t)&&v.jsxs(m.Fragment,{children:[v.jsx(TB,{onClick:y?void 0:()=>a("am"),disabled:g||u===null,ownerState:x,children:v.jsx(gi,{variant:"caption",children:"AM"})}),v.jsx(LB,{disabled:g||u===null,onClick:y?void 0:()=>a("pm"),ownerState:x,children:v.jsx(gi,{variant:"caption",children:"PM"})})]})]})}const AS=n=>()=>{},OB=["className","disabled","index","inner","label","selected"],Au=Dt("PrivateClockNumber",["selected","disabled"]),RB=Le("span")(({theme:n,ownerState:e})=>X({height:di,width:di,position:"absolute",left:`calc((100% - ${di}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:n.palette.text.primary,fontFamily:n.typography.fontFamily,"&:focused":{backgroundColor:n.palette.background.paper},[`&.${Au.selected}`]:{color:n.palette.primary.contrastText},[`&.${Au.disabled}`]:{pointerEvents:"none",color:n.palette.text.disabled}},e.inner&&X({},n.typography.body2,{color:n.palette.text.secondary})));function OS(n){const{className:e,disabled:t,index:r,inner:i,label:o,selected:s}=n,a=nt(n,OB),l=n,u=r%12/12*Math.PI*2-Math.PI/2,c=(ls-di-2)/2*(i?.65:1),d=Math.round(Math.cos(u)*c),f=Math.round(Math.sin(u)*c);return v.jsx(RB,X({className:en(e,s&&Au.selected,t&&Au.disabled),"aria-disabled":t?!0:void 0,"aria-selected":s?!0:void 0,role:"option",style:{transform:`translate(${d}px, ${f+(ls-di)/2}px`},ownerState:l},a,{children:o}))}const PB=({ampm:n,date:e,getClockNumberText:t,isDisabled:r,selectedId:i,utils:o})=>{const s=e?o.getHours(e):null,a=[],l=n?1:0,u=n?12:23,c=d=>s===null?!1:n?d===12?s===12||s===0:s===d||s-12===d:s===d;for(let d=l;d<=u;d+=1){let f=d.toString();d===0&&(f="00");const p=!n&&(d===0||d>12);f=o.formatNumber(f);const h=c(d);a.push(v.jsx(OS,{id:h?i:void 0,index:d,inner:p,selected:h,disabled:r(d),label:f,"aria-label":t(f)},d))}return a},M0=({utils:n,value:e,isDisabled:t,getClockNumberText:r,selectedId:i})=>{const o=n.formatNumber;return[[5,o("05")],[10,o("10")],[15,o("15")],[20,o("20")],[25,o("25")],[30,o("30")],[35,o("35")],[40,o("40")],[45,o("45")],[50,o("50")],[55,o("55")],[0,o("00")]].map(([s,a],l)=>{const u=s===e;return v.jsx(OS,{label:a,id:u?i:void 0,index:l+1,inner:!1,disabled:t(s),selected:u,"aria-label":r(a)},s)})},DB=["children","className","components","componentsProps","isLeftDisabled","isLeftHidden","isRightDisabled","isRightHidden","leftArrowButtonText","onLeftClick","onRightClick","rightArrowButtonText"],jl=Dt("MuiPickersArrowSwitcher",["root","spacer","button"]),IB=Le("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex"}),NB=Le("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(n,e)=>e.spacer})(({theme:n})=>({width:n.spacing(3)})),E0=Le(wi,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(n,e)=>e.button})(({ownerState:n})=>X({},n.hidden&&{visibility:"hidden"})),RS=m.forwardRef(function(e,t){const{children:r,className:i,components:o,componentsProps:s,isLeftDisabled:a,isLeftHidden:l,isRightDisabled:u,isRightHidden:c,leftArrowButtonText:d,onLeftClick:f,onRightClick:p,rightArrowButtonText:h}=e,g=nt(e,DB),x=bs().direction==="rtl",b=(s==null?void 0:s.leftArrowButton)||{},w=(o==null?void 0:o.LeftArrowIcon)||Z3,k=(s==null?void 0:s.rightArrowButton)||{},S=(o==null?void 0:o.RightArrowIcon)||X3,C=e;return v.jsxs(IB,X({ref:t,className:en(jl.root,i),ownerState:C},g,{children:[v.jsx(E0,X({as:o==null?void 0:o.LeftArrowButton,size:"small","aria-label":d,title:d,disabled:a,edge:"end",onClick:f},b,{className:en(jl.button,b.className),ownerState:X({},C,b,{hidden:l}),children:x?v.jsx(S,{}):v.jsx(w,{})})),r?v.jsx(gi,{variant:"subtitle1",component:"span",children:r}):v.jsx(NB,{className:jl.spacer,ownerState:C}),v.jsx(E0,X({as:o==null?void 0:o.RightArrowButton,size:"small","aria-label":h,title:h,edge:"start",disabled:u,onClick:p},k,{className:en(jl.button,k.className),ownerState:X({},C,k,{hidden:c}),children:x?v.jsx(w,{}):v.jsx(S,{})}))]}))}),_B=(n,e)=>n?e.getHours(n)>=12?"pm":"am":null,xh=(n,e,t)=>t&&(n>=12?"pm":"am")!==e?e==="am"?n-12:n+12:n,$B=(n,e,t,r)=>{const i=xh(r.getHours(n),e,t);return r.setHours(n,i)},T0=(n,e)=>e.getHours(n)*3600+e.getMinutes(n)*60+e.getSeconds(n),PS=(n=!1,e)=>(t,r)=>n?e.isAfter(t,r):T0(t,e)>T0(r,e);function FB(n,{disableFuture:e,maxDate:t}){const r=Ht();return m.useMemo(()=>{const i=r.date(),o=r.startOfMonth(e&&r.isBefore(i,t)?i:t);return!r.isAfter(o,n)},[e,t,n,r])}function BB(n,{disablePast:e,minDate:t}){const r=Ht();return m.useMemo(()=>{const i=r.date(),o=r.startOfMonth(e&&r.isAfter(i,t)?i:t);return!r.isBefore(o,n)},[e,t,n,r])}function DS(n,e,t){const r=Ht(),i=_B(n,r),o=m.useCallback(s=>{const a=n==null?null:$B(n,s,!!e,r);t(a,"partial")},[e,n,t,r]);return{meridiemMode:i,handleMeridiemChange:o}}function jB(n){return kn("MuiClockPicker",n)}Dt("MuiClockPicker",["root","arrowSwitcher"]);const wh=36,pg=2,IS=320,zB=358,hg=Le("div")({overflowX:"hidden",width:IS,maxHeight:zB,display:"flex",flexDirection:"column",margin:"0 auto"}),HB=n=>{const{classes:e}=n;return Mn({root:["root"],arrowSwitcher:["arrowSwitcher"]},jB,e)},VB=Le(hg,{name:"MuiClockPicker",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexDirection:"column"}),WB=Le(RS,{name:"MuiClockPicker",slot:"ArrowSwitcher",overridesResolver:(n,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),UB=AS(),qB=m.forwardRef(function(e,t){const r=Gr({props:e,name:"MuiClockPicker"}),{ampm:i=!1,ampmInClock:o=!1,autoFocus:s,components:a,componentsProps:l,date:u,disableIgnoringDatePartForTimeValidation:c,getClockLabelText:d,getHoursClockNumberText:f,getMinutesClockNumberText:p,getSecondsClockNumberText:h,leftArrowButtonText:g,maxTime:y,minTime:x,minutesStep:b=1,rightArrowButtonText:w,shouldDisableTime:k,showViewSwitcher:S,onChange:C,view:M,views:T=["hours","minutes"],openTo:I,onViewChange:R,className:z,disabled:_,readOnly:W}=r;UB({leftArrowButtonText:g,rightArrowButtonText:w,getClockLabelText:d,getHoursClockNumberText:f,getMinutesClockNumberText:p,getSecondsClockNumberText:h});const D=Ss(),B=g??D.openPreviousView,F=w??D.openNextView,N=d??D.clockLabelText,Z=f??D.hoursClockNumberText,me=p??D.minutesClockNumberText,re=h??D.secondsClockNumberText,{openView:U,setOpenView:J,nextView:ue,previousView:Y,handleChangeAndOpenNext:E}=fg({view:M,views:T,openTo:I,onViewChange:R,onChange:C}),$=pl(),Q=Ht(),te=m.useMemo(()=>u||Q.setSeconds(Q.setMinutes(Q.setHours($,0),0),0),[u,$,Q]),{meridiemMode:ne,handleMeridiemChange:be}=DS(te,i,E),ge=m.useCallback((P,H)=>{const j=PS(c,Q),K=({start:he,end:pe})=>!(x&&j(x,pe)||y&&j(he,y)),ae=(he,pe=1)=>he%pe!==0?!1:k?!k(he,H):!0;switch(H){case"hours":{const he=xh(P,ne,i),pe=Q.setHours(te,he),ce=Q.setSeconds(Q.setMinutes(pe,0),0),de=Q.setSeconds(Q.setMinutes(pe,59),59);return!K({start:ce,end:de})||!ae(he)}case"minutes":{const he=Q.setMinutes(te,P),pe=Q.setSeconds(he,0),ce=Q.setSeconds(he,59);return!K({start:pe,end:ce})||!ae(P,b)}case"seconds":{const he=Q.setSeconds(te,P);return!K({start:he,end:he})||!ae(P)}default:throw new Error("not supported")}},[i,te,c,y,ne,x,b,k,Q]),ye=Sm(),Ce=m.useMemo(()=>{switch(U){case"hours":{const P=(H,j)=>{const K=xh(H,ne,i);E(Q.setHours(te,K),j)};return{onChange:P,value:Q.getHours(te),children:PB({date:u,utils:Q,ampm:i,onChange:P,getClockNumberText:Z,isDisabled:H=>_||ge(H,"hours"),selectedId:ye})}}case"minutes":{const P=Q.getMinutes(te),H=(j,K)=>{E(Q.setMinutes(te,j),K)};return{value:P,onChange:H,children:M0({utils:Q,value:P,onChange:H,getClockNumberText:me,isDisabled:j=>_||ge(j,"minutes"),selectedId:ye})}}case"seconds":{const P=Q.getSeconds(te),H=(j,K)=>{E(Q.setSeconds(te,j),K)};return{value:P,onChange:H,children:M0({utils:Q,value:P,onChange:H,getClockNumberText:re,isDisabled:j=>_||ge(j,"seconds"),selectedId:ye})}}default:throw new Error("You must provide the type for ClockView")}},[U,Q,u,i,Z,me,re,ne,E,te,ge,ye,_]),Me=r,O=HB(Me);return v.jsxs(VB,{ref:t,className:en(O.root,z),ownerState:Me,children:[S&&v.jsx(WB,{className:O.arrowSwitcher,leftArrowButtonText:B,rightArrowButtonText:F,components:a,componentsProps:l,onLeftClick:()=>J(Y),onRightClick:()=>J(ue),isLeftDisabled:!Y,isRightDisabled:!ue,ownerState:Me}),v.jsx(AB,X({autoFocus:s,date:u,ampmInClock:o,type:U,ampm:i,getClockLabelText:N,minutesStep:b,isTimeDisabled:ge,meridiemMode:ne,handleMeridiemChange:be,selectedId:ye,disabled:_,readOnly:W},Ce))]})}),GB=["disabled","onSelect","selected","value"],Ch=Dt("PrivatePickersMonth",["root","selected"]),KB=Le(gi)(({theme:n})=>X({flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",color:"unset",backgroundColor:"transparent",border:0,outline:0},n.typography.subtitle1,{margin:"8px 0",height:36,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:wu(n.palette.action.active,n.palette.action.hoverOpacity)},"&:disabled":{pointerEvents:"none",color:n.palette.text.secondary},[`&.${Ch.selected}`]:{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.main,"&:focus, &:hover":{backgroundColor:n.palette.primary.dark}}})),YB=n=>{const{disabled:e,onSelect:t,selected:r,value:i}=n,o=nt(n,GB),s=()=>{t(i)};return v.jsx(KB,X({component:"button",type:"button",className:en(Ch.root,r&&Ch.selected),tabIndex:e?-1:0,onClick:s,onKeyDown:MS(s),color:r?"primary":void 0,variant:r?"h5":"subtitle1",disabled:e},o))};function JB(n){return kn("MuiMonthPicker",n)}Dt("MuiMonthPicker",["root"]);const ZB=["className","date","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly"],XB=n=>{const{classes:e}=n;return Mn({root:["root"]},JB,e)},QB=Le("div",{name:"MuiMonthPicker",slot:"Root",overridesResolver:(n,e)=>e.root})({width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch",margin:"0 4px"}),ej=m.forwardRef(function(e,t){const r=Ht(),i=pl(),o=Kc(),s=Gr({props:e,name:"MuiMonthPicker"}),{className:a,date:l,disabled:u,disableFuture:c,disablePast:d,maxDate:f=o.maxDate,minDate:p=o.minDate,onChange:h,shouldDisableMonth:g,readOnly:y}=s,x=nt(s,ZB),b=s,w=XB(b),k=l??i,S=r.getMonth(k),C=T=>{const I=r.startOfMonth(d&&r.isAfter(i,p)?i:p),R=r.startOfMonth(c&&r.isBefore(i,f)?i:f);return r.isBefore(T,I)||r.isAfter(T,R)?!0:g?g(T):!1},M=T=>{if(y)return;const I=r.setMonth(k,T);h(I,"finish")};return v.jsx(QB,X({ref:t,className:en(w.root,a),ownerState:b},x,{children:r.getMonthArray(k).map(T=>{const I=r.getMonth(T),R=r.format(T,"monthShort");return v.jsx(YB,{value:I,selected:I===S,onSelect:M,disabled:u||C(T),children:R},R)})}))});function NS(n,e,t){const{value:r,onError:i}=n,o=fl(),s=m.useRef(null),a=e({adapter:o,value:r,props:n});return m.useEffect(()=>{i&&!t(a,s.current)&&i(a,r),s.current=a},[t,i,s,a,r]),a}const _S=({props:n,value:e,adapter:t})=>{const r=t.utils.date(),i=t.utils.date(e),{shouldDisableDate:o,minDate:s=t.defaultDates.minDate,maxDate:a=t.defaultDates.maxDate,disableFuture:l,disablePast:u}=n;if(i===null)return null;switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(o&&o(i)):return"shouldDisableDate";case!!(l&&t.utils.isAfterDay(i,r)):return"disableFuture";case!!(u&&t.utils.isBeforeDay(i,r)):return"disablePast";case!!(s&&t.utils.isBeforeDay(i,s)):return"minDate";case!!(a&&t.utils.isAfterDay(i,a)):return"maxDate";default:return null}},$S=({shouldDisableDate:n,minDate:e,maxDate:t,disableFuture:r,disablePast:i})=>{const o=fl();return m.useCallback(s=>_S({adapter:o,value:s,props:{shouldDisableDate:n,minDate:e,maxDate:t,disableFuture:r,disablePast:i}})!==null,[o,n,e,t,r,i])},tj=(n,e)=>n===e,nj=n=>NS(n,_S,tj),rj=(n,e,t)=>(r,i)=>{switch(i.type){case"changeMonth":return X({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!n});case"finishMonthSwitchingAnimation":return X({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&i.focusedDay!=null&&t.isSameDay(i.focusedDay,r.focusedDay))return r;const o=i.focusedDay!=null&&!e&&!t.isSameMonth(r.currentMonth,i.focusedDay);return X({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:o&&!n,currentMonth:o?t.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:i.focusedDay!=null&&t.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},ij=({date:n,defaultCalendarMonth:e,disableFuture:t,disablePast:r,disableSwitchToMonthOnDayFocus:i=!1,maxDate:o,minDate:s,onMonthChange:a,reduceAnimations:l,shouldDisableDate:u})=>{var c;const d=pl(),f=Ht(),p=m.useRef(rj(!!l,i,f)).current,[h,g]=m.useReducer(p,{isMonthSwitchingAnimating:!1,focusedDay:n||d,currentMonth:f.startOfMonth((c=n??e)!=null?c:d),slideDirection:"left"}),y=m.useCallback(S=>{g(X({type:"changeMonth"},S)),a&&a(S.newMonth)},[a]),x=m.useCallback(S=>{const C=S??d;f.isSameMonth(C,h.currentMonth)||y({newMonth:f.startOfMonth(C),direction:f.isAfterDay(C,h.currentMonth)?"left":"right"})},[h.currentMonth,y,d,f]),b=$S({shouldDisableDate:u,minDate:s,maxDate:o,disableFuture:t,disablePast:r}),w=m.useCallback(()=>{g({type:"finishMonthSwitchingAnimation"})},[]),k=m.useCallback(S=>{b(S)||g({type:"changeFocusedDay",focusedDay:S})},[b]);return{calendarState:h,changeMonth:x,changeFocusedDay:k,isDateDisabled:b,onMonthSwitchingAnimationEnd:w,handleChangeMonth:y}},oj=Dt("PrivatePickersFadeTransitionGroup",["root"]),L0=500,sj=Le(fC)({display:"block",position:"relative"}),FS=({children:n,className:e,reduceAnimations:t,transKey:r})=>t?n:v.jsx(sj,{className:en(oj.root,e),children:v.jsx(nC,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:L0,enter:L0/2,exit:0},children:n},r)});function aj(n){return kn("MuiPickersDay",n)}const zl=Dt("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),lj=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDayFocus","onDaySelect","onFocus","onKeyDown","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today"],uj=n=>{const{selected:e,disableMargin:t,disableHighlightToday:r,today:i,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:s,classes:a}=n;return Mn({root:["root",e&&"selected",!t&&"dayWithMargin",!r&&i&&"today",o&&s&&"dayOutsideMonth"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},aj,a)},BS=({theme:n,ownerState:e})=>X({},n.typography.caption,{width:wh,height:wh,borderRadius:"50%",padding:0,backgroundColor:n.palette.background.paper,color:n.palette.text.primary,"&:hover":{backgroundColor:wu(n.palette.action.active,n.palette.action.hoverOpacity)},"&:focus":{backgroundColor:wu(n.palette.action.active,n.palette.action.hoverOpacity),[`&.${zl.selected}`]:{willChange:"background-color",backgroundColor:n.palette.primary.dark}},[`&.${zl.selected}`]:{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.main,fontWeight:n.typography.fontWeightMedium,transition:n.transitions.create("background-color",{duration:n.transitions.duration.short}),"&:hover":{willChange:"background-color",backgroundColor:n.palette.primary.dark}},[`&.${zl.disabled}`]:{color:n.palette.text.disabled}},!e.disableMargin&&{margin:`0 ${pg}px`},e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&{color:n.palette.text.secondary},!e.disableHighlightToday&&e.today&&{[`&:not(.${zl.selected})`]:{border:`1px solid ${n.palette.text.secondary}`}}),jS=(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableMargin&&e.dayWithMargin,!t.disableHighlightToday&&t.today&&e.today,!t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,t.outsideCurrentMonth&&!t.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},cj=Le(dC,{name:"MuiPickersDay",slot:"Root",overridesResolver:jS})(BS),dj=Le("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:jS})(({theme:n,ownerState:e})=>X({},BS({theme:n,ownerState:e}),{visibility:"hidden"})),fj=()=>{},pj=m.forwardRef(function(e,t){const r=Gr({props:e,name:"MuiPickersDay"}),{autoFocus:i=!1,className:o,day:s,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:u=!1,isAnimating:c,onClick:d,onDayFocus:f=fj,onDaySelect:p,onFocus:h,onKeyDown:g,outsideCurrentMonth:y,selected:x=!1,showDaysOutsideCurrentMonth:b=!1,children:w,today:k=!1}=r,S=nt(r,lj),C=X({},r,{autoFocus:i,disabled:a,disableHighlightToday:l,disableMargin:u,selected:x,showDaysOutsideCurrentMonth:b,today:k}),M=uj(C),T=Ht(),I=m.useRef(null),R=Vr(I,t);km(()=>{i&&!a&&!c&&!y&&I.current.focus()},[i,a,c,y]);const z=B=>{f&&f(s),h&&h(B)},_=B=>{a||p(s,"finish"),d&&d(B)},W=bs();function D(B){switch(g!==void 0&&g(B),B.key){case"ArrowUp":f(T.addDays(s,-7)),B.preventDefault();break;case"ArrowDown":f(T.addDays(s,7)),B.preventDefault();break;case"ArrowLeft":f(T.addDays(s,W.direction==="ltr"?-1:1)),B.preventDefault();break;case"ArrowRight":f(T.addDays(s,W.direction==="ltr"?1:-1)),B.preventDefault();break;case"Home":f(T.startOfWeek(s)),B.preventDefault();break;case"End":f(T.endOfWeek(s)),B.preventDefault();break;case"PageUp":f(T.getNextMonth(s)),B.preventDefault();break;case"PageDown":f(T.getPreviousMonth(s)),B.preventDefault();break}}return y&&!b?v.jsx(dj,{className:en(M.root,M.hiddenDaySpacingFiller,o),ownerState:C}):v.jsx(cj,X({className:en(M.root,o),ownerState:C,ref:R,centerRipple:!0,disabled:a,"aria-label":w?void 0:T.format(s,"fullDate"),tabIndex:x?0:-1,onFocus:z,onKeyDown:D,onClick:_},S,{children:w||T.format(s,"dayOfMonth")}))}),hj=(n,e)=>n.autoFocus===e.autoFocus&&n.isAnimating===e.isAnimating&&n.today===e.today&&n.disabled===e.disabled&&n.selected===e.selected&&n.disableMargin===e.disableMargin&&n.showDaysOutsideCurrentMonth===e.showDaysOutsideCurrentMonth&&n.disableHighlightToday===e.disableHighlightToday&&n.className===e.className&&n.outsideCurrentMonth===e.outsideCurrentMonth&&n.onDayFocus===e.onDayFocus&&n.onDaySelect===e.onDaySelect,mj=m.memo(pj,hj),gj=["children","className","reduceAnimations","slideDirection","transKey"],ir=Dt("PrivatePickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),zS=350,vj=Le(fC)(({theme:n})=>{const e=n.transitions.create("transform",{duration:zS,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${ir["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${ir["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${ir.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${ir.slideExit}`]:{transform:"translate(0%)"},[`& .${ir["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${ir["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}}),yj=n=>{let{children:e,className:t,reduceAnimations:r,slideDirection:i,transKey:o}=n,s=nt(n,gj);if(r)return v.jsx("div",{className:en(ir.root,t),children:e});const a={exit:ir.slideExit,enterActive:ir.slideEnterActive,enter:ir[`slideEnter-${i}`],exitActive:ir[`slideExitActiveLeft-${i}`]};return v.jsx(vj,{className:en(ir.root,t),childFactory:l=>m.cloneElement(l,{classNames:a}),children:v.jsx(Om,X({mountOnEnter:!0,unmountOnExit:!0,timeout:zS,classNames:a},s,{children:e}),o)})},HS=(wh+pg*2)*6,bj=Le("div")({display:"flex",justifyContent:"center",alignItems:"center"}),xj=Le(gi)(({theme:n})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:n.palette.text.secondary})),wj=Le("div")({display:"flex",justifyContent:"center",alignItems:"center",minHeight:HS}),Cj=Le(yj)({minHeight:HS}),Sj=Le("div")({overflow:"hidden"}),kj=Le("div")({margin:`${pg}px 0`,display:"flex",justifyContent:"center"});function Mj(n){const e=pl(),t=Ht(),{autoFocus:r,onFocusedDayChange:i,className:o,currentMonth:s,selectedDays:a,disabled:l,disableHighlightToday:u,focusedDay:c,isMonthSwitchingAnimating:d,loading:f,onSelectedDaysChange:p,onMonthSwitchingAnimationEnd:h,readOnly:g,reduceAnimations:y,renderDay:x,renderLoading:b=()=>v.jsx("span",{children:"..."}),showDaysOutsideCurrentMonth:w,slideDirection:k,TransitionProps:S,disablePast:C,disableFuture:M,minDate:T,maxDate:I,shouldDisableDate:R}=n,z=$S({shouldDisableDate:R,minDate:T,maxDate:I,disablePast:C,disableFuture:M}),_=m.useCallback((N,Z="finish")=>{g||p(N,Z)},[p,g]),W=t.getMonth(s),D=a.filter(N=>!!N).map(N=>t.startOfDay(N)),B=W,F=m.useMemo(()=>m.createRef(),[B]);return v.jsxs(m.Fragment,{children:[v.jsx(bj,{children:t.getWeekdays().map((N,Z)=>v.jsx(xj,{"aria-hidden":!0,variant:"caption",children:N.charAt(0).toUpperCase()},N+Z.toString()))}),f?v.jsx(wj,{children:b()}):v.jsx(Cj,X({transKey:B,onExited:h,reduceAnimations:y,slideDirection:k,className:o},S,{nodeRef:F,children:v.jsx(Sj,{ref:F,role:"grid",children:t.getWeekArray(s).map(N=>v.jsx(kj,{role:"row",children:N.map(Z=>{const me={key:Z==null?void 0:Z.toString(),day:Z,isAnimating:d,disabled:l||z(Z),autoFocus:r&&c!==null&&t.isSameDay(Z,c),today:t.isSameDay(Z,e),outsideCurrentMonth:t.getMonth(Z)!==W,selected:D.some(re=>t.isSameDay(re,Z)),disableHighlightToday:u,showDaysOutsideCurrentMonth:w,onDayFocus:i,onDaySelect:_};return x?x(Z,D,me):v.jsx("div",{role:"cell",children:v.jsx(mj,X({},me))},me.key)})},`week-${N[0]}`))})}))]})}const Ej=Le("div")({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),Tj=Le("div")(({theme:n})=>X({display:"flex",maxHeight:30,overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},n.typography.body1,{fontWeight:n.typography.fontWeightMedium})),Lj=Le("div")({marginRight:6}),Aj=Le(wi)({marginRight:"auto"}),Oj=Le(J3)(({theme:n,ownerState:e})=>X({willChange:"transform",transition:n.transitions.create("transform"),transform:"rotate(0deg)"},e.openView==="year"&&{transform:"rotate(180deg)"})),Rj=AS();function Pj(n){const{components:e={},componentsProps:t={},currentMonth:r,disabled:i,disableFuture:o,disablePast:s,getViewSwitchingButtonText:a,leftArrowButtonText:l,maxDate:u,minDate:c,onMonthChange:d,onViewChange:f,openView:p,reduceAnimations:h,rightArrowButtonText:g,views:y}=n;Rj({leftArrowButtonText:l,rightArrowButtonText:g,getViewSwitchingButtonText:a});const x=Ss(),b=l??x.previousMonth,w=g??x.nextMonth,k=a??x.calendarViewSwitchingButtonAriaLabel,S=Ht(),C=t.switchViewButton||{},M=()=>d(S.getNextMonth(r),"left"),T=()=>d(S.getPreviousMonth(r),"right"),I=FB(r,{disableFuture:o,maxDate:u}),R=BB(r,{disablePast:s,minDate:c}),z=()=>{if(!(y.length===1||!f||i))if(y.length===2)f(y.find(W=>W!==p)||y[0]);else{const W=y.indexOf(p)!==0?0:1;f(y[W])}};if(y.length===1&&y[0]==="year")return null;const _=n;return v.jsxs(Ej,{ownerState:_,children:[v.jsxs(Tj,{role:"presentation",onClick:z,ownerState:_,children:[v.jsx(FS,{reduceAnimations:h,transKey:S.format(r,"monthAndYear"),children:v.jsx(Lj,{"aria-live":"polite",ownerState:_,children:S.format(r,"monthAndYear")})}),y.length>1&&!i&&v.jsx(Aj,X({size:"small",as:e.SwitchViewButton,"aria-label":k(p)},C,{children:v.jsx(Oj,{as:e.SwitchViewIcon,ownerState:_})}))]}),v.jsx(nC,{in:p==="day",children:v.jsx(RS,{leftArrowButtonText:b,rightArrowButtonText:w,components:e,componentsProps:t,onLeftClick:T,onRightClick:M,isLeftDisabled:R,isRightDisabled:I})})]})}function Dj(n){return kn("PrivatePickersYear",n)}const A0=Dt("PrivatePickersYear",["root","modeMobile","modeDesktop","yearButton","disabled","selected"]),Ij=n=>{const{wrapperVariant:e,disabled:t,selected:r,classes:i}=n,o={root:["root",e&&`mode${ol(e)}`],yearButton:["yearButton",t&&"disabled",r&&"selected"]};return Mn(o,Dj,i)},Nj=Le("div")(({ownerState:n})=>X({flexBasis:"33.3%",display:"flex",alignItems:"center",justifyContent:"center"},(n==null?void 0:n.wrapperVariant)==="desktop"&&{flexBasis:"25%"})),_j=Le("button")(({theme:n})=>X({color:"unset",backgroundColor:"transparent",border:0,outline:0},n.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:wu(n.palette.action.active,n.palette.action.hoverOpacity)},[`&.${A0.disabled}`]:{color:n.palette.text.secondary},[`&.${A0.selected}`]:{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.main,"&:focus, &:hover":{backgroundColor:n.palette.primary.dark}}})),$j=m.forwardRef(function(e,t){const{autoFocus:r,className:i,children:o,disabled:s,onClick:a,onKeyDown:l,selected:u,value:c}=e,d=m.useRef(null),f=Vr(d,t),p=m.useContext(uo),h=X({},e,{wrapperVariant:p}),g=Ij(h);return m.useEffect(()=>{r&&d.current.focus()},[r]),v.jsx(Nj,{className:en(g.root,i),ownerState:h,children:v.jsx(_j,{ref:f,disabled:s,type:"button",tabIndex:u?0:-1,onClick:y=>a(y,c),onKeyDown:y=>l(y,c),className:g.yearButton,ownerState:h,children:o})})});function Fj(n){return kn("MuiYearPicker",n)}Dt("MuiYearPicker",["root"]);const Bj=n=>{const{classes:e}=n;return Mn({root:["root"]},Fj,e)},jj=Le("div",{name:"MuiYearPicker",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",margin:"0 4px"}),zj=m.forwardRef(function(e,t){const r=pl(),i=bs(),o=Ht(),s=Kc(),a=Gr({props:e,name:"MuiYearPicker"}),{autoFocus:l,className:u,date:c,disabled:d,disableFuture:f,disablePast:p,maxDate:h=s.maxDate,minDate:g=s.minDate,onChange:y,readOnly:x,shouldDisableYear:b}=a,w=a,k=Bj(w),S=c||r,C=o.getYear(S),M=m.useContext(uo),T=m.useRef(null),[I,R]=m.useState(C),z=m.useCallback(F=>!!(p&&o.isBeforeYear(F,r)||f&&o.isAfterYear(F,r)||g&&o.isBeforeYear(F,g)||h&&o.isAfterYear(F,h)||b&&b(F)),[f,p,h,g,r,b,o]),_=(F,N,Z="finish")=>{if(x)return;const me=o.setYear(S,N);y(me,Z)},W=m.useCallback(F=>{z(o.setYear(S,F))||R(F)},[S,z,o]),D=M==="desktop"?4:3,B=(F,N)=>{switch(F.key){case"ArrowUp":W(N-D),F.preventDefault();break;case"ArrowDown":W(N+D),F.preventDefault();break;case"ArrowLeft":W(N+(i.direction==="ltr"?-1:1)),F.preventDefault();break;case"ArrowRight":W(N+(i.direction==="ltr"?1:-1)),F.preventDefault();break}};return v.jsx(jj,{ref:t,className:en(k.root,u),ownerState:w,children:o.getYearRange(g,h).map(F=>{const N=o.getYear(F),Z=N===C;return v.jsx($j,{selected:Z,value:N,onClick:_,onKeyDown:B,autoFocus:l&&N===I,ref:Z?T:void 0,disabled:d||z(F),children:o.format(F,"year")},o.format(F,"year"))})})}),Hj=typeof navigator<"u"&&/(android)/i.test(navigator.userAgent),Vj=n=>kn("MuiCalendarPicker",n);Dt("MuiCalendarPicker",["root","viewTransitionContainer"]);const Wj=["autoFocus","onViewChange","date","disableFuture","disablePast","defaultCalendarMonth","loading","onChange","onYearChange","onMonthChange","reduceAnimations","renderLoading","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate"],Uj=n=>{const{classes:e}=n;return Mn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Vj,e)},qj=Le(hg,{name:"MuiCalendarPicker",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexDirection:"column"}),Gj=Le(FS,{name:"MuiCalendarPicker",slot:"ViewTransitionContainer",overridesResolver:(n,e)=>e.viewTransitionContainer})({overflowY:"auto"}),Kj=m.forwardRef(function(e,t){const r=Ht(),i=Kc(),o=Gr({props:e,name:"MuiCalendarPicker"}),{autoFocus:s,onViewChange:a,date:l,disableFuture:u,disablePast:c,defaultCalendarMonth:d,loading:f=!1,onChange:p,onYearChange:h,onMonthChange:g,reduceAnimations:y=Hj,renderLoading:x=()=>v.jsx("span",{children:"..."}),shouldDisableDate:b,shouldDisableMonth:w,shouldDisableYear:k,view:S,views:C=["year","day"],openTo:M="day",className:T,disabled:I,readOnly:R,minDate:z=i.minDate,maxDate:_=i.maxDate}=o,W=nt(o,Wj),{openView:D,setOpenView:B,openNext:F}=fg({view:S,views:C,openTo:M,onChange:p,onViewChange:a}),{calendarState:N,changeFocusedDay:Z,changeMonth:me,handleChangeMonth:re,isDateDisabled:U,onMonthSwitchingAnimationEnd:J}=ij({date:l,defaultCalendarMonth:d,reduceAnimations:y,onMonthChange:g,minDate:z,maxDate:_,shouldDisableDate:b,disablePast:c,disableFuture:u}),ue=m.useCallback((ge,ye)=>{const Ce=r.startOfMonth(ge),Me=r.endOfMonth(ge),O=U(ge)?gf({utils:r,date:ge,minDate:r.isBefore(z,Ce)?Ce:z,maxDate:r.isAfter(_,Me)?Me:_,disablePast:c,disableFuture:u,isDateDisabled:U}):ge;O?(p(O,ye),g==null||g(Ce)):(F(),me(Ce)),Z(O)},[Z,u,c,U,_,z,p,g,me,F,r]),Y=m.useCallback((ge,ye)=>{const Ce=r.startOfYear(ge),Me=r.endOfYear(ge),O=U(ge)?gf({utils:r,date:ge,minDate:r.isBefore(z,Ce)?Ce:z,maxDate:r.isAfter(_,Me)?Me:_,disablePast:c,disableFuture:u,isDateDisabled:U}):ge;O?(p(O,ye),h==null||h(O)):(F(),me(Ce)),Z(O)},[Z,u,c,U,_,z,p,h,F,r,me]),E=m.useCallback((ge,ye)=>p(l&&ge?r.mergeDateAndTime(ge,l):ge,ye),[r,l,p]);m.useEffect(()=>{if(l&&U(l)){const ge=gf({utils:r,date:l,minDate:z,maxDate:_,disablePast:c,disableFuture:u,isDateDisabled:U});p(ge,"partial")}},[]),m.useEffect(()=>{l&&me(l)},[l]);const $=o,Q=Uj($),te={disablePast:c,disableFuture:u,maxDate:_,minDate:z},ne=I&&l||z,be=I&&l||_;return v.jsxs(qj,{ref:t,className:en(Q.root,T),ownerState:$,children:[v.jsx(Pj,X({},W,{views:C,openView:D,currentMonth:N.currentMonth,onViewChange:B,onMonthChange:(ge,ye)=>re({newMonth:ge,direction:ye}),minDate:ne,maxDate:be,disabled:I,disablePast:c,disableFuture:u,reduceAnimations:y})),v.jsx(Gj,{reduceAnimations:y,className:Q.viewTransitionContainer,transKey:D,ownerState:$,children:v.jsxs("div",{children:[D==="year"&&v.jsx(zj,X({},W,te,{autoFocus:s,date:l,onChange:Y,shouldDisableYear:k,disabled:I,readOnly:R})),D==="month"&&v.jsx(ej,X({},te,{className:T,date:l,onChange:ue,disabled:I,readOnly:R,shouldDisableMonth:w})),D==="day"&&v.jsx(Mj,X({},W,N,te,{autoFocus:s,onMonthSwitchingAnimationEnd:J,onFocusedDayChange:Z,reduceAnimations:y,selectedDays:[l],onSelectedDaysChange:E,loading:f,renderLoading:x,disabled:I,readOnly:R,shouldDisableDate:b}))]})})]})}),Yj=n=>{const[,e]=m.useReducer(l=>l+1,0),t=m.useRef(null),{replace:r,append:i}=n,o=r?r(n.format(n.value)):n.format(n.value),s=m.useRef(!1),a=l=>{const u=l.target.value;t.current=[u,l.target,u.length>o.length,s.current,o===n.format(u)],e()};return m.useLayoutEffect(()=>{if(t.current==null)return;let[l,u,c,d,f]=t.current;t.current=null;const p=d&&f,g=l.slice(u.selectionStart).search(n.accept||/\d/g),y=g!==-1?g:0,x=C=>(C.match(n.accept||/\d/g)||[]).join(""),b=x(l.substr(0,u.selectionStart)),w=C=>{let M=0,T=0;for(let I=0;I!==b.length;++I){let R=C.indexOf(b[I],M)+1,z=x(C).indexOf(b[I],T)+1;z-T>1&&(R=M,z=T),T=Math.max(z,T),M=Math.max(M,R)}return M};if(n.mask===!0&&c&&!f){let C=w(l);const M=x(l.substr(C))[0];C=l.indexOf(M,C),l=`${l.substr(0,C)}${l.substr(C+1)}`}let k=n.format(l);i!=null&&u.selectionStart===l.length&&!f&&(c?k=i(k):x(k.slice(-1))===""&&(k=k.slice(0,-1)));const S=r?r(k):k;return o===S?e():n.onChange(S),()=>{let C=w(k);if(n.mask!=null&&(c||d&&!p))for(;k[C]&&x(k[C])==="";)C+=1;u.selectionStart=u.selectionEnd=C+(p?1+y:0)}}),m.useEffect(()=>{const l=c=>{c.code==="Delete"&&(s.current=!0)},u=c=>{c.code==="Delete"&&(s.current=!1)};return document.addEventListener("keydown",l),document.addEventListener("keyup",u),()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",u)}},[]),{value:t.current!=null?t.current[0]:o,onChange:a}},Sh=(n,e,t)=>{const r=n.date(e);return e===null?"":n.isValid(r)?n.formatByString(r,t):""},Ou="_",VS="2019-11-21T22:30:00.000",WS="2019-01-01T09:00:00.000";function Jj(n,e,t,r){if(n)return n;const o=r.formatByString(r.date(WS),e).replace(t,Ou),s=r.formatByString(r.date(VS),e).replace(t,"_");return o===s?o:""}function Zj(n,e,t,r){if(!n)return!1;const o=r.formatByString(r.date(WS),e).replace(t,Ou),s=r.formatByString(r.date(VS),e).replace(t,"_"),a=s===o&&n===s;return!a&&r.lib,a}const Xj=(n,e)=>t=>{let r=0;return t.split("").map((i,o)=>{if(e.lastIndex=0,r>n.length-1)return"";const s=n[r],a=n[r+1],l=e.test(i)?i:"",u=s===Ou?l:s+l;return r+=u.length,o===t.length-1&&a&&a!==Ou?u?u+a:"":u}).join("")},Qj=({acceptRegex:n=/[\d]/gi,disabled:e,disableMaskedInput:t,ignoreInvalidInputs:r,inputFormat:i,inputProps:o,label:s,mask:a,onChange:l,rawValue:u,readOnly:c,rifmFormatter:d,TextFieldProps:f,validationError:p})=>{const h=Ht(),g=h.getFormatHelperText(i),{shouldUseMaskedInput:y,maskToUse:x}=m.useMemo(()=>{if(t)return{shouldUseMaskedInput:!1,maskToUse:""};const _=Jj(a,i,n,h);return{shouldUseMaskedInput:Zj(_,i,n,h),maskToUse:_}},[n,t,i,a,h]),b=m.useMemo(()=>y&&x?Xj(x,n):_=>_,[n,x,y]),w=u===null?null:h.date(u),[k,S]=m.useState(w),[C,M]=m.useState(Sh(h,u,i)),T=m.useRef();m.useEffect(()=>{const _=u!==T.current;if(T.current=u,!_)return;const W=u===null?null:h.date(u);if(!(u===null||h.isValid(W))||h.isEqual(k,W))return;const B=Sh(h,u,i);S(W),M(B)},[h,u,i,k]);const I=_=>{const W=_===""||_===a?"":_;M(W);const D=W===null?null:h.parse(W,i);r&&!h.isValid(D)||(S(D),l(D,W||void 0))},R=Yj({value:C,onChange:I,format:d||b});return X({label:s,disabled:e,error:p,inputProps:X({},y?R:{value:C,onChange:_=>{I(_.currentTarget.value)}},{disabled:e,placeholder:g,readOnly:c,type:y?"tel":"text"},o)},f)},e5=["components","disableOpenPicker","getOpenDialogAriaText","InputAdornmentProps","InputProps","inputRef","openPicker","OpenPickerButtonProps","renderInput"],mg=m.forwardRef(function(e,t){const{components:r={},disableOpenPicker:i,getOpenDialogAriaText:o,InputAdornmentProps:s,InputProps:a,inputRef:l,openPicker:u,OpenPickerButtonProps:c,renderInput:d}=e,f=nt(e,e5),p=Ss(),h=o??p.openDatePickerDialogue,g=Ht(),y=Qj(f),x=(s==null?void 0:s.position)||"end",b=r.OpenPickerIcon||xS;return d(X({ref:t,inputRef:l},y,{InputProps:X({},a,{[`${x}Adornment`]:i?void 0:v.jsx(xu,X({position:x},s,{children:v.jsx(wi,X({edge:x,disabled:f.disabled||f.readOnly,"aria-label":h(f.rawValue,g)},c,{onClick:u,children:v.jsx(b,{})}))}))})}))});function O0(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const t5=(n,e)=>{const[t,r]=m.useState(O0);return km(()=>{const o=()=>{r(O0())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),Pi(n,["hours","minutes","seconds"])?!1:(e||t)==="landscape"},n5=["autoFocus","className","parsedValue","DateInputProps","isMobileKeyboardViewOpen","onDateChange","onViewChange","openTo","orientation","showToolbar","toggleMobileKeyboardView","ToolbarComponent","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],r5=Le("div")({padding:"16px 24px"}),i5=Le("div")(({ownerState:n})=>X({display:"flex",flexDirection:"column"},n.isLandscape&&{flexDirection:"row"})),o5={fullWidth:!0},R0=n=>n==="year"||n==="month"||n==="day",P0=n=>n==="hours"||n==="minutes"||n==="seconds";function gg(n){const{autoFocus:e,parsedValue:t,DateInputProps:r,isMobileKeyboardViewOpen:i,onDateChange:o,onViewChange:s,openTo:a,orientation:l,showToolbar:u,toggleMobileKeyboardView:c,ToolbarComponent:d=()=>null,toolbarFormat:f,toolbarPlaceholder:p,toolbarTitle:h,views:g}=n,y=nt(n,n5),x=t5(g,l),b=m.useContext(uo),w=u??b!=="desktop",k=m.useCallback((I,R)=>{o(I,b,R)},[o,b]),S=m.useCallback(I=>{i&&c(),s&&s(I)},[i,s,c]),{openView:C,setOpenView:M,handleChangeAndOpenNext:T}=fg({view:void 0,views:g,openTo:a,onChange:k,onViewChange:S});return v.jsxs(i5,{ownerState:{isLandscape:x},children:[w&&v.jsx(d,X({},y,{views:g,isLandscape:x,parsedValue:t,onChange:k,setOpenView:M,openView:C,toolbarTitle:h,toolbarFormat:f,toolbarPlaceholder:p,isMobileKeyboardViewOpen:i,toggleMobileKeyboardView:c})),v.jsx(hg,{children:i?v.jsx(r5,{children:v.jsx(mg,X({},r,{ignoreInvalidInputs:!0,disableOpenPicker:!0,TextFieldProps:o5}))}):v.jsxs(m.Fragment,{children:[R0(C)&&v.jsx(Kj,X({autoFocus:e,date:t,onViewChange:M,onChange:T,view:C,views:g.filter(R0)},y)),P0(C)&&v.jsx(qB,X({},y,{autoFocus:e,date:t,view:C,views:g.filter(P0),onChange:T,onViewChange:M,showViewSwitcher:b==="desktop"}))]})})]})}const s5=({open:n,onOpen:e,onClose:t})=>{const r=m.useRef(typeof n=="boolean").current,[i,o]=m.useState(!1);m.useEffect(()=>{if(r){if(typeof n!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(n)}},[r,n]);const s=m.useCallback(a=>{r||o(a),a&&e&&e(),!a&&t&&t()},[r,e,t]);return{isOpen:i,setIsOpen:s}},vg=(n,e)=>{const{onAccept:t,onChange:r,value:i,closeOnSelect:o}=n,s=Ht(),{isOpen:a,setIsOpen:l}=s5(n),u=m.useMemo(()=>e.parseInput(s,i),[e,s,i]),[c,d]=m.useState(u),[f,p]=m.useState(()=>({committed:u,draft:u,resetFallback:u})),h=m.useCallback(C=>{p(M=>{switch(C.action){case"setAll":case"acceptAndClose":return{draft:C.value,committed:C.value,resetFallback:C.value};case"setCommitted":return X({},M,{draft:C.value,committed:C.value});case"setDraft":return X({},M,{draft:C.value});default:return M}}),!C.skipOnChangeCall&&!e.areValuesEqual(s,f.committed,C.value)&&r(C.value),C.action==="acceptAndClose"&&(l(!1),t&&!e.areValuesEqual(s,f.resetFallback,C.value)&&t(C.value))},[t,r,l,f,s,e]);m.useEffect(()=>{s.isValid(u)&&d(u)},[s,u]),m.useEffect(()=>{a&&h({action:"setAll",value:u,skipOnChangeCall:!0})},[a]),e.areValuesEqual(s,f.committed,u)||h({action:"setCommitted",value:u,skipOnChangeCall:!0});const g=m.useMemo(()=>({open:a,onClear:()=>{h({value:e.emptyValue,action:"acceptAndClose"})},onAccept:()=>{h({value:f.draft,action:"acceptAndClose"})},onDismiss:()=>{h({value:f.committed,action:"acceptAndClose"})},onCancel:()=>{h({value:f.resetFallback,action:"acceptAndClose"})},onSetToday:()=>{h({value:e.getTodayValue(s),action:"acceptAndClose"})}}),[h,a,s,f,e]),[y,x]=m.useState(!1),b=m.useMemo(()=>({parsedValue:f.draft,isMobileKeyboardViewOpen:y,toggleMobileKeyboardView:()=>x(!y),onDateChange:(C,M,T="partial")=>{switch(T){case"shallow":return h({action:"setDraft",value:C,skipOnChangeCall:!0});case"partial":return h({action:"setDraft",value:C});case"finish":return h(o??M==="desktop"?{value:C,action:"acceptAndClose"}:{value:C,action:"setCommitted"});default:throw new Error("MUI: Invalid selectionState passed to `onDateChange`")}}}),[h,y,f.draft,o]),w=m.useCallback((C,M)=>{const T=e.valueReducer?e.valueReducer(s,c,C):C;r(T,M)},[r,e,c,s]),k=m.useMemo(()=>({onChange:w,open:a,rawValue:i,openPicker:()=>l(!0)}),[w,a,i,l]),S={pickerProps:b,inputProps:k,wrapperProps:g};return m.useDebugValue(S,()=>({MuiPickerState:{dateState:f,other:S}})),S},a5=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],l5=m.forwardRef(function(e,t){const r=a3(e,"MuiDesktopDatePicker"),i=nj(r)!==null,{pickerProps:o,inputProps:s,wrapperProps:a}=vg(r,l3),{PopperProps:l,PaperProps:u,ToolbarComponent:c=lB,TransitionComponent:d,components:f,componentsProps:p}=r,h=nt(r,a5),g=X({},s,h,{components:f,componentsProps:p,ref:t,validationError:i});return v.jsx(kS,X({},a,{DateInputProps:g,KeyboardDateInputComponent:mg,PopperProps:l,PaperProps:u,TransitionComponent:d,components:f,componentsProps:p,children:v.jsx(gg,X({},o,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:c,DateInputProps:g,components:f,componentsProps:p},h))}))}),u5={"& .MuiPaper-root":{border:`2px solid ${V.newColors.grey2[100]}`,boxShadow:"0px 1px 5px rgba(26, 26, 26, 0.161)"},"& .MuiPickersDay-today":{color:`${V.newColors.realTeal[100]} !important`,border:"none !important",fontFamily:V.fontFamily,fontWeight:V.fontWeight.bold,backgroundColor:"transparent !important","&:hover":{color:V.newColors.realTeal[100],backgroundColor:`${V.colors.tealOpacity} !important`}},"& .MuiPickersDay-dayWithMargin":{color:V.newColors.almostBlack[100],fontFamily:V.fontFamily,"&:hover":{color:V.newColors.realTeal[100],backgroundColor:V.colors.tealOpacity,fontWeight:V.fontWeight.bold}},"& .MuiIconButton-edgeStart, .MuiIconButton-edgeEnd":{color:V.newColors.grey4[100]},"& .MuiPickersDay-root.Mui-selected":{backgroundColor:`${V.newColors.realTeal[100]} !important`,color:"#FFFF !important",fontWeight:V.fontWeight.bold,"&:hover":{color:"#FFFF !important",backgroundColor:`${V.newColors.realTeal[100]} !important`}},"& .MuiCalendarPicker-root > div:first-of-type":{marginBottom:"16px",paddingLeft:"16px",paddingRight:"16px"}},US=ee.div`
	min-width: 0;

  	.MuiOutlinedInput-root {
		padding-right: 16px;

		& fieldset {
			border-radius: 0;
			border: ${({$isPickerOpen:n})=>n?`1px solid ${V.newColors.almostBlack[100]}`:V.borders.simplyGrey};
		}

		${({$disabled:n})=>n?`
			background-color: ${V.colors.disableBackground};
		`:`
			background-color: ${V.newColors.grey1[100]};
			&:hover {
				& fieldset {
					border-color: ${V.newColors.simplyGrey[100]};
				}
			}
		`}

		&.Mui-disabled fieldset.MuiOutlinedInput-notchedOutline{
			border-color: ${V.colors.disableBorder};
		}

		.MuiOutlinedInput-input {
			height: ${V.fieldSpecs.inputText.height};
			padding: ${V.fieldSpecs.inputText.padding};
		}

		&.Mui-focused fieldset {
			border-color: ${V.newColors.almostBlack[100]};
			border-width: 1px;
		}
  	}

	.MuiIconButton-root {
		color: ${({$isPickerOpen:n})=>n?V.newColors.almostBlack[100]:V.newColors.grey3[100]};
	}
`,c5=ee(ys)`
	width: 100%;
`,d5=n=>{var p,h;const{fieldDef:e,onChange:t,value:r=null,onBlur:i,disabled:o,inputRef:s,id:a,error:l}=n,[u,c]=m.useState(!1),d=async()=>{c(!u),u&&i&&i()},f=g=>{var y;return v.jsx(c5,{...g,id:a,onBlur:i,required:e.required,disabled:o,error:l,inputProps:{...g.inputProps,ref:s,placeholder:(y=e==null?void 0:e.inputSettings)==null?void 0:y.placeholder}})};return v.jsx(fS,{dateAdapter:uS,children:v.jsx(US,{"data-testid":"date-picker-test-id",$isPickerOpen:u,$disabled:o,children:v.jsx(l5,{renderInput:f,inputFormat:Zo,value:r,onChange:t,onOpen:d,onClose:d,PopperProps:{sx:u5},minDate:(p=e==null?void 0:e.inputSettings)==null?void 0:p.minDate,maxDate:(h=e==null?void 0:e.inputSettings)==null?void 0:h.maxDate,disabled:o})})})},f5=ee.div`
	display: flex;
	flex-direction: column;
`;function p5(){return v.jsx(Qe,{variant:"rectangular",width:"100%",height:43})}const h5=n=>{const{fieldDef:e,onChange:t,value:r,onBlur:i,disabled:o,error:s,inputRef:a,skeleton:l,id:u}=n,{inputSettings:{minDate:c=new Date(1100,1,1),maxDate:d=new Date(2999,11,31)}={}}=e,f=m.useMemo(()=>r||{date:null,keyboardInputValue:void 0},[r]),p=(h,g)=>t({date:h,keyboardInputValue:g});return l?v.jsx(p5,{}):v.jsx(f5,{children:v.jsx(d5,{id:u,error:s,onChange:p,fieldDef:{name:e==null?void 0:e.name,label:"",type:"",inputSettings:{placeholder:dA,minDate:c,maxDate:d},required:e==null?void 0:e.required},value:f==null?void 0:f.date,onBlur:i,disabled:o,inputRef:a})})},m5=m.memo(h5);var vf={},D0;function g5(){return D0||(D0=1,function(n){n.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},n.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},n.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},n.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},n.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},n.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},n.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},n.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},n.realToAlias=function(){var e=Object.prototype.hasOwnProperty,t=n.aliasToReal,r={};for(var i in t){var o=t[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),n.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},n.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},n.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}}(vf)),vf}var yf,I0;function yg(){return I0||(I0=1,yf={}),yf}var bf,N0;function v5(){if(N0)return bf;N0=1;var n=g5(),e=yg(),t=Array.prototype.push;function r(c,d){return d==2?function(f,p){return c.apply(void 0,arguments)}:function(f){return c.apply(void 0,arguments)}}function i(c,d){return d==2?function(f,p){return c(f,p)}:function(f){return c(f)}}function o(c){for(var d=c?c.length:0,f=Array(d);d--;)f[d]=c[d];return f}function s(c){return function(d){return c({},d)}}function a(c,d){return function(){for(var f=arguments.length,p=f-1,h=Array(f);f--;)h[f]=arguments[f];var g=h[d],y=h.slice(0,d);return g&&t.apply(y,g),d!=p&&t.apply(y,h.slice(d+1)),c.apply(this,y)}}function l(c,d){return function(){var f=arguments.length;if(f){for(var p=Array(f);f--;)p[f]=arguments[f];var h=p[0]=d.apply(void 0,p);return c.apply(void 0,p),h}}}function u(c,d,f,p){var h=typeof d=="function",g=d===Object(d);if(g&&(p=f,f=d,d=void 0),f==null)throw new TypeError;p||(p={});var y={cap:"cap"in p?p.cap:!0,curry:"curry"in p?p.curry:!0,fixed:"fixed"in p?p.fixed:!0,immutable:"immutable"in p?p.immutable:!0,rearg:"rearg"in p?p.rearg:!0},x=h?f:e,b="curry"in p&&p.curry,w="fixed"in p&&p.fixed,k="rearg"in p&&p.rearg,S=h?f.runInContext():void 0,C=h?f:{ary:c.ary,assign:c.assign,clone:c.clone,curry:c.curry,forEach:c.forEach,isArray:c.isArray,isError:c.isError,isFunction:c.isFunction,isWeakMap:c.isWeakMap,iteratee:c.iteratee,keys:c.keys,rearg:c.rearg,toInteger:c.toInteger,toPath:c.toPath},M=C.ary,T=C.assign,I=C.clone,R=C.curry,z=C.forEach,_=C.isArray,W=C.isError,D=C.isFunction,B=C.isWeakMap,F=C.keys,N=C.rearg,Z=C.toInteger,me=C.toPath,re=F(n.aryMethod),U={castArray:function(O){return function(){var P=arguments[0];return _(P)?O(o(P)):O.apply(void 0,arguments)}},iteratee:function(O){return function(){var P=arguments[0],H=arguments[1],j=O(P,H),K=j.length;return y.cap&&typeof H=="number"?(H=H>2?H-2:1,K&&K<=H?j:i(j,H)):j}},mixin:function(O){return function(P){var H=this;if(!D(H))return O(H,Object(P));var j=[];return z(F(P),function(K){D(P[K])&&j.push([K,H.prototype[K]])}),O(H,Object(P)),z(j,function(K){var ae=K[1];D(ae)?H.prototype[K[0]]=ae:delete H.prototype[K[0]]}),H}},nthArg:function(O){return function(P){var H=P<0?1:Z(P)+1;return R(O(P),H)}},rearg:function(O){return function(P,H){var j=H?H.length:0;return R(O(P,H),j)}},runInContext:function(O){return function(P){return u(c,O(P),p)}}};function J(O,P){if(y.cap){var H=n.iterateeRearg[O];if(H)return be(P,H);var j=!h&&n.iterateeAry[O];if(j)return ne(P,j)}return P}function ue(O,P,H){return b||y.curry&&H>1?R(P,H):P}function Y(O,P,H){if(y.fixed&&(w||!n.skipFixed[O])){var j=n.methodSpread[O],K=j&&j.start;return K===void 0?M(P,H):a(P,K)}return P}function E(O,P,H){return y.rearg&&H>1&&(k||!n.skipRearg[O])?N(P,n.methodRearg[O]||n.aryRearg[H]):P}function $(O,P){P=me(P);for(var H=-1,j=P.length,K=j-1,ae=I(Object(O)),he=ae;he!=null&&++H<j;){var pe=P[H],ce=he[pe];ce!=null&&!(D(ce)||W(ce)||B(ce))&&(he[pe]=I(H==K?ce:Object(ce))),he=he[pe]}return ae}function Q(O){return Ce.runInContext.convert(O)(void 0)}function te(O,P){var H=n.aliasToReal[O]||O,j=n.remap[H]||H,K=p;return function(ae){var he=h?S:C,pe=h?S[j]:P,ce=T(T({},K),ae);return u(he,H,pe,ce)}}function ne(O,P){return ge(O,function(H){return typeof H=="function"?i(H,P):H})}function be(O,P){return ge(O,function(H){var j=P.length;return r(N(i(H,j),P),j)})}function ge(O,P){return function(){var H=arguments.length;if(!H)return O();for(var j=Array(H);H--;)j[H]=arguments[H];var K=y.rearg?0:H-1;return j[K]=P(j[K]),O.apply(void 0,j)}}function ye(O,P,H){var j,K=n.aliasToReal[O]||O,ae=P,he=U[K];return he?ae=he(P):y.immutable&&(n.mutate.array[K]?ae=l(P,o):n.mutate.object[K]?ae=l(P,s(P)):n.mutate.set[K]&&(ae=l(P,$))),z(re,function(pe){return z(n.aryMethod[pe],function(ce){if(K==ce){var de=n.methodSpread[K],Ie=de&&de.afterRearg;return j=Ie?Y(K,E(K,ae,pe),pe):E(K,Y(K,ae,pe),pe),j=J(K,j),j=ue(K,j,pe),!1}}),!j}),j||(j=ae),j==P&&(j=b?R(j,1):function(){return P.apply(this,arguments)}),j.convert=te(K,P),j.placeholder=P.placeholder=H,j}if(!g)return ye(d,f,x);var Ce=f,Me=[];return z(re,function(O){z(n.aryMethod[O],function(P){var H=Ce[n.remap[P]||P];H&&Me.push([P,ye(P,H,Ce)])})}),z(F(Ce),function(O){var P=Ce[O];if(typeof P=="function"){for(var H=Me.length;H--;)if(Me[H][0]==O)return;P.convert=te(O,P),Me.push([O,P])}}),z(Me,function(O){Ce[O[0]]=O[1]}),Ce.convert=Q,Ce.placeholder=Ce,z(F(Ce),function(O){z(n.realToAlias[O]||[],function(P){Ce[P]=Ce[O]})}),Ce}return bf=u,bf}var xf,_0;function qS(){if(_0)return xf;_0=1;var n=YL(),e=n&&new n;return xf=e,xf}var wf,$0;function GS(){if($0)return wf;$0=1;var n=rC(),e=qS(),t=e?function(r,i){return e.set(r,i),r}:n;return wf=t,wf}var Cf,F0;function Yc(){if(F0)return Cf;F0=1;var n=$c(),e=Rc();function t(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var o=n(r.prototype),s=r.apply(o,i);return e(s)?s:o}}return Cf=t,Cf}var Sf,B0;function y5(){if(B0)return Sf;B0=1;var n=Yc(),e=al(),t=1;function r(i,o,s){var a=o&t,l=n(i);function u(){var c=this&&this!==e&&this instanceof u?l:i;return c.apply(a?s:this,arguments)}return u}return Sf=r,Sf}var kf,j0;function KS(){if(j0)return kf;j0=1;var n=Math.max;function e(t,r,i,o){for(var s=-1,a=t.length,l=i.length,u=-1,c=r.length,d=n(a-l,0),f=Array(c+d),p=!o;++u<c;)f[u]=r[u];for(;++s<l;)(p||s<a)&&(f[i[s]]=t[s]);for(;d--;)f[u++]=t[s++];return f}return kf=e,kf}var Mf,z0;function YS(){if(z0)return Mf;z0=1;var n=Math.max;function e(t,r,i,o){for(var s=-1,a=t.length,l=-1,u=i.length,c=-1,d=r.length,f=n(a-u,0),p=Array(f+d),h=!o;++s<f;)p[s]=t[s];for(var g=s;++c<d;)p[g+c]=r[c];for(;++l<u;)(h||s<a)&&(p[g+i[l]]=t[s++]);return p}return Mf=e,Mf}var Ef,H0;function b5(){if(H0)return Ef;H0=1;function n(e,t){for(var r=e.length,i=0;r--;)e[r]===t&&++i;return i}return Ef=n,Ef}var Tf,V0;function bg(){if(V0)return Tf;V0=1;function n(){}return Tf=n,Tf}var Lf,W0;function xg(){if(W0)return Lf;W0=1;var n=$c(),e=bg(),t=4294967295;function r(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=t,this.__views__=[]}return r.prototype=n(e.prototype),r.prototype.constructor=r,Lf=r,Lf}var Af,U0;function JS(){if(U0)return Af;U0=1;var n=qS(),e=JL(),t=n?function(r){return n.get(r)}:e;return Af=t,Af}var Of,q0;function x5(){if(q0)return Of;q0=1;var n={};return Of=n,Of}var Rf,G0;function w5(){if(G0)return Rf;G0=1;var n=x5(),e=Object.prototype,t=e.hasOwnProperty;function r(i){for(var o=i.name+"",s=n[o],a=t.call(n,o)?s.length:0;a--;){var l=s[a],u=l.func;if(u==null||u==i)return l.name}return o}return Rf=r,Rf}var Pf,K0;function ZS(){if(K0)return Pf;K0=1;var n=$c(),e=bg();function t(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=void 0}return t.prototype=n(e.prototype),t.prototype.constructor=t,Pf=t,Pf}var Df,Y0;function C5(){if(Y0)return Df;Y0=1;var n=xg(),e=ZS(),t=_c();function r(i){if(i instanceof n)return i.clone();var o=new e(i.__wrapped__,i.__chain__);return o.__actions__=t(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}return Df=r,Df}var If,J0;function S5(){if(J0)return If;J0=1;var n=xg(),e=ZS(),t=bg(),r=ll(),i=ro(),o=C5(),s=Object.prototype,a=s.hasOwnProperty;function l(u){if(i(u)&&!r(u)&&!(u instanceof n)){if(u instanceof e)return u;if(a.call(u,"__wrapped__"))return o(u)}return new e(u)}return l.prototype=t.prototype,l.prototype.constructor=l,If=l,If}var Nf,Z0;function k5(){if(Z0)return Nf;Z0=1;var n=xg(),e=JS(),t=w5(),r=S5();function i(o){var s=t(o),a=r[s];if(typeof a!="function"||!(s in n.prototype))return!1;if(o===a)return!0;var l=e(a);return!!l&&o===l[0]}return Nf=i,Nf}var _f,X0;function XS(){if(X0)return _f;X0=1;var n=GS(),e=ZL(),t=e(n);return _f=t,_f}var $f,Q0;function M5(){if(Q0)return $f;Q0=1;var n=/\{\n\/\* \[wrapped with (.+)\] \*/,e=/,? & /;function t(r){var i=r.match(n);return i?i[1].split(e):[]}return $f=t,$f}var Ff,eb;function E5(){if(eb)return Ff;eb=1;var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function e(t,r){var i=r.length;if(!i)return t;var o=i-1;return r[o]=(i>1?"& ":"")+r[o],r=r.join(i>2?", ":" "),t.replace(n,`{
/* [wrapped with `+r+`] */
`)}return Ff=e,Ff}var Bf,tb;function T5(){if(tb)return Bf;tb=1;var n=Dm(),e=XL(),t=1,r=2,i=8,o=16,s=32,a=64,l=128,u=256,c=512,d=[["ary",l],["bind",t],["bindKey",r],["curry",i],["curryRight",o],["flip",c],["partial",s],["partialRight",a],["rearg",u]];function f(p,h){return n(d,function(g){var y="_."+g[0];h&g[1]&&!e(p,y)&&p.push(y)}),p.sort()}return Bf=f,Bf}var jf,nb;function QS(){if(nb)return jf;nb=1;var n=M5(),e=E5(),t=QL(),r=T5();function i(o,s,a){var l=s+"";return t(o,e(l,r(n(l),a)))}return jf=i,jf}var zf,rb;function ek(){if(rb)return zf;rb=1;var n=k5(),e=XS(),t=QS(),r=4,i=8,o=32,s=64;function a(l,u,c,d,f,p,h,g,y,x){var b=u&i,w=b?h:void 0,k=b?void 0:h,S=b?p:void 0,C=b?void 0:p;u|=b?o:s,u&=~(b?s:o),u&r||(u&=-4);var M=[l,u,f,S,w,C,k,g,y,x],T=c.apply(void 0,M);return n(l)&&e(T,M),T.placeholder=d,t(T,l,u)}return zf=a,zf}var Hf,ib;function tk(){if(ib)return Hf;ib=1;function n(e){var t=e;return t.placeholder}return Hf=n,Hf}var Vf,ob;function L5(){if(ob)return Vf;ob=1;var n=_c(),e=eA(),t=Math.min;function r(i,o){for(var s=i.length,a=t(o.length,s),l=n(i);a--;){var u=o[a];i[a]=e(u,s)?l[u]:void 0}return i}return Vf=r,Vf}var Wf,sb;function wg(){if(sb)return Wf;sb=1;var n="__lodash_placeholder__";function e(t,r){for(var i=-1,o=t.length,s=0,a=[];++i<o;){var l=t[i];(l===r||l===n)&&(t[i]=n,a[s++]=i)}return a}return Wf=e,Wf}var Uf,ab;function nk(){if(ab)return Uf;ab=1;var n=KS(),e=YS(),t=b5(),r=Yc(),i=ek(),o=tk(),s=L5(),a=wg(),l=al(),u=1,c=2,d=8,f=16,p=128,h=512;function g(y,x,b,w,k,S,C,M,T,I){var R=x&p,z=x&u,_=x&c,W=x&(d|f),D=x&h,B=_?void 0:r(y);function F(){for(var N=arguments.length,Z=Array(N),me=N;me--;)Z[me]=arguments[me];if(W)var re=o(F),U=t(Z,re);if(w&&(Z=n(Z,w,k,W)),S&&(Z=e(Z,S,C,W)),N-=U,W&&N<I){var J=a(Z,re);return i(y,x,g,F.placeholder,b,Z,J,M,T,I-N)}var ue=z?b:this,Y=_?ue[y]:y;return N=Z.length,M?Z=s(Z,M):D&&N>1&&Z.reverse(),R&&T<N&&(Z.length=T),this&&this!==l&&this instanceof F&&(Y=B||r(Y)),Y.apply(ue,Z)}return F}return Uf=g,Uf}var qf,lb;function A5(){if(lb)return qf;lb=1;var n=uC(),e=Yc(),t=nk(),r=ek(),i=tk(),o=wg(),s=al();function a(l,u,c){var d=e(l);function f(){for(var p=arguments.length,h=Array(p),g=p,y=i(f);g--;)h[g]=arguments[g];var x=p<3&&h[0]!==y&&h[p-1]!==y?[]:o(h,y);if(p-=x.length,p<c)return r(l,u,t,f.placeholder,void 0,h,x,void 0,void 0,c-p);var b=this&&this!==s&&this instanceof f?d:l;return n(b,this,h)}return f}return qf=a,qf}var Gf,ub;function O5(){if(ub)return Gf;ub=1;var n=uC(),e=Yc(),t=al(),r=1;function i(o,s,a,l){var u=s&r,c=e(o);function d(){for(var f=-1,p=arguments.length,h=-1,g=l.length,y=Array(g+p),x=this&&this!==t&&this instanceof d?c:o;++h<g;)y[h]=l[h];for(;p--;)y[h++]=arguments[++f];return n(x,u?a:this,y)}return d}return Gf=i,Gf}var Kf,cb;function R5(){if(cb)return Kf;cb=1;var n=KS(),e=YS(),t=wg(),r="__lodash_placeholder__",i=1,o=2,s=4,a=8,l=128,u=256,c=Math.min;function d(f,p){var h=f[1],g=p[1],y=h|g,x=y<(i|o|l),b=g==l&&h==a||g==l&&h==u&&f[7].length<=p[8]||g==(l|u)&&p[7].length<=p[8]&&h==a;if(!(x||b))return f;g&i&&(f[2]=p[2],y|=h&i?0:s);var w=p[3];if(w){var k=f[3];f[3]=k?n(k,w,p[4]):w,f[4]=k?t(f[3],r):p[4]}return w=p[5],w&&(k=f[5],f[5]=k?e(k,w,p[6]):w,f[6]=k?t(f[5],r):p[6]),w=p[7],w&&(f[7]=w),g&l&&(f[8]=f[8]==null?p[8]:c(f[8],p[8])),f[9]==null&&(f[9]=p[9]),f[0]=p[0],f[1]=y,f}return Kf=d,Kf}var Yf,db;function P5(){if(db)return Yf;db=1;var n=_L(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-1/0){var o=i<0?-1:1;return o*t}return i===i?i:0}return Yf=r,Yf}var Jf,fb;function rk(){if(fb)return Jf;fb=1;var n=P5();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return Jf=e,Jf}var Zf,pb;function Cg(){if(pb)return Zf;pb=1;var n=GS(),e=y5(),t=A5(),r=nk(),i=O5(),o=JS(),s=R5(),a=XS(),l=QS(),u=rk(),c="Expected a function",d=1,f=2,p=8,h=16,g=32,y=64,x=Math.max;function b(w,k,S,C,M,T,I,R){var z=k&f;if(!z&&typeof w!="function")throw new TypeError(c);var _=C?C.length:0;if(_||(k&=-97,C=M=void 0),I=I===void 0?I:x(u(I),0),R=R===void 0?R:u(R),_-=M?M.length:0,k&y){var W=C,D=M;C=M=void 0}var B=z?void 0:o(w),F=[w,k,S,C,M,W,D,T,I,R];if(B&&s(F,B),w=F[0],k=F[1],S=F[2],C=F[3],M=F[4],R=F[9]=F[9]===void 0?z?0:w.length:x(F[9]-_,0),!R&&k&(p|h)&&(k&=-25),!k||k==d)var N=e(w,k,S);else k==p||k==h?N=t(w,k,R):(k==g||k==(d|g))&&!M.length?N=i(w,k,S,C):N=r.apply(void 0,F);var Z=B?n:a;return l(Z(N,F),w,k)}return Zf=b,Zf}var Xf,hb;function D5(){if(hb)return Xf;hb=1;var n=Cg(),e=128;function t(r,i,o){return i=o?void 0:i,i=r&&i==null?r.length:i,n(r,e,void 0,void 0,void 0,void 0,i)}return Xf=t,Xf}var Qf,mb;function I5(){if(mb)return Qf;mb=1;var n=_m(),e=4;function t(r){return n(r,e)}return Qf=t,Qf}var ep,gb;function N5(){if(gb)return ep;gb=1;var n=Cg(),e=8;function t(r,i,o){i=o?void 0:i;var s=n(r,e,void 0,void 0,void 0,void 0,void 0,i);return s.placeholder=t.placeholder,s}return t.placeholder={},ep=t,ep}var tp,vb;function _5(){if(vb)return tp;vb=1;var n=Mm(),e=ro(),t=wC(),r="[object DOMException]",i="[object Error]";function o(s){if(!e(s))return!1;var a=n(s);return a==i||a==r||typeof s.message=="string"&&typeof s.name=="string"&&!t(s)}return tp=o,tp}var np,yb;function $5(){if(yb)return np;yb=1;var n=Pc(),e=ro(),t="[object WeakMap]";function r(i){return e(i)&&n(i)==t}return np=r,np}var rp,bb;function F5(){if(bb)return rp;bb=1;var n=_m(),e=tA(),t=1;function r(i){return e(typeof i=="function"?i:n(i,t))}return rp=r,rp}var ip,xb;function B5(){if(xb)return ip;xb=1;var n=Cg(),e=nL(),t=256,r=e(function(i,o){return n(i,t,void 0,void 0,void 0,o)});return ip=r,ip}var op,wb;function j5(){if(wb)return op;wb=1;var n=nA(),e=_c(),t=ll(),r=$L(),i=rA(),o=cC(),s=iA();function a(l){return t(l)?n(l,o):r(l)?[l]:e(i(s(l)))}return op=a,op}var sp,Cb;function z5(){return Cb||(Cb=1,sp={ary:D5(),assign:CC(),clone:I5(),curry:N5(),forEach:Dm(),isArray:ll(),isError:_5(),isFunction:oA(),isWeakMap:$5(),iteratee:F5(),keys:sA(),rearg:B5(),toInteger:rk(),toPath:j5()}),sp}var ap,Sb;function ik(){if(Sb)return ap;Sb=1;var n=v5(),e=z5();function t(r,i,o){return n(e,r,i,o)}return ap=t,ap}var lp,kb;function H5(){if(kb)return lp;kb=1;var n=rL();function e(t,r,i){return t==null?t:n(t,r,i)}return lp=e,lp}var up,Mb;function V5(){if(Mb)return up;Mb=1;var n=ik(),e=n("set",H5());return e.placeholder=yg(),up=e,up}var W5=V5();const dr=it(W5);function ok(n,e){var t;const r=Gr({props:n,name:e}),i=Ht(),o=(t=r.ampm)!=null?t:i.is12HourCycleInCurrentLocale(),a=Ss().openTimePickerDialogue;return X({ampm:o,openTo:"hours",views:["hours","minutes"],acceptRegex:o?/[\dapAP]/gi:/\d/gi,disableMaskedInput:!1,getOpenDialogAriaText:a,inputFormat:o?i.formats.fullTime12h:i.formats.fullTime24h},r,{components:X({OpenPickerIcon:wS},r.components)})}const sk={emptyValue:null,parseInput:pS,getTodayValue:n=>n.date(),areValuesEqual:(n,e,t)=>n.isEqual(e,t),valueReducer:(n,e,t)=>!e||!n.isValid(t)?t:n.mergeDateAndTime(e,t)},U5=["className","selected","value"],ak=Dt("PrivatePickersToolbarText",["selected"]),q5=Le(gi)(({theme:n})=>({transition:n.transitions.create("color"),color:n.palette.text.secondary,[`&.${ak.selected}`]:{color:n.palette.text.primary}})),lk=m.forwardRef(function(e,t){const{className:r,selected:i,value:o}=e,s=nt(e,U5);return v.jsx(q5,X({ref:t,className:en(r,i&&ak.selected),component:"span"},s,{children:o}))}),G5=["align","className","selected","typographyClassName","value","variant"],K5=Le(ua)({padding:0,minWidth:16,textTransform:"none"}),Ps=m.forwardRef(function(e,t){const{align:r,className:i,selected:o,typographyClassName:s,value:a,variant:l}=e,u=nt(e,G5);return v.jsx(K5,X({variant:"text",ref:t,className:i},u,{children:v.jsx(lk,{align:r,className:s,variant:l,value:a,selected:o})}))});function Y5(n){return kn("MuiTimePickerToolbar",n)}const J5=Dt("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Z5=["ampm","ampmInClock","parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","openView","setOpenView","toggleMobileKeyboardView","toolbarTitle","views","disabled","readOnly"],X5=n=>{const{theme:e,isLandscape:t,classes:r}=n,i={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",t&&"hourMinuteLabelLandscape",e.direction==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",t&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return Mn(i,Y5,r)},Q5=Le(CS,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(n,e)=>e.root})({[`& .${Qo.penIconButtonLandscape}`]:{marginTop:"auto"}}),e4=Le(lk,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(n,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),t4=Le("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(n,e)=>e.hourMinuteLabel})(({theme:n,ownerState:e})=>X({display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},e.isLandscape&&{marginTop:"auto"},n.direction==="rtl"&&{flexDirection:"row-reverse"})),n4=Le("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(n,e)=>e.ampmSelection})(({ownerState:n})=>X({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12},n.isLandscape&&{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},{[`& .${J5.ampmLabel}`]:{fontSize:17}})),uk=n=>{const{ampm:e,ampmInClock:t,parsedValue:r,isLandscape:i,isMobileKeyboardViewOpen:o,onChange:s,openView:a,setOpenView:l,toggleMobileKeyboardView:u,toolbarTitle:c="Select time",views:d,disabled:f,readOnly:p}=n,h=nt(n,Z5),g=Ht(),y=bs(),x=!!(e&&!t),{meridiemMode:b,handleMeridiemChange:w}=DS(r,e,s),k=T=>e?g.format(T,"hours12h"):g.format(T,"hours24h"),S=n,C=X5(X({},S,{theme:y})),M=v.jsx(e4,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:C.separator});return v.jsxs(Q5,X({viewType:"clock",landscapeDirection:"row",toolbarTitle:c,isLandscape:i,isMobileKeyboardViewOpen:o,toggleMobileKeyboardView:u,ownerState:S,className:C.root},h,{children:[v.jsxs(t4,{className:C.hourMinuteLabel,ownerState:S,children:[Pi(d,"hours")&&v.jsx(Ps,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:a==="hours",value:r?k(r):"--"}),Pi(d,["hours","minutes"])&&M,Pi(d,"minutes")&&v.jsx(Ps,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:a==="minutes",value:r?g.format(r,"minutes"):"--"}),Pi(d,["minutes","seconds"])&&M,Pi(d,"seconds")&&v.jsx(Ps,{variant:"h3",onClick:()=>l("seconds"),selected:a==="seconds",value:r?g.format(r,"seconds"):"--"})]}),x&&v.jsxs(n4,{className:C.ampmSelection,ownerState:S,children:[v.jsx(Ps,{disableRipple:!0,variant:"subtitle2",selected:b==="am",typographyClassName:C.ampmLabel,value:g.getMeridiemText("am"),onClick:p?void 0:()=>w("am"),disabled:f}),v.jsx(Ps,{disableRipple:!0,variant:"subtitle2",selected:b==="pm",typographyClassName:C.ampmLabel,value:g.getMeridiemText("pm"),onClick:p?void 0:()=>w("pm"),disabled:f})]})]}))},r4=({adapter:n,value:e,props:t})=>{const{minTime:r,maxTime:i,minutesStep:o,shouldDisableTime:s,disableIgnoringDatePartForTimeValidation:a}=t,l=n.utils.date(e),u=PS(a,n.utils);if(e===null)return null;switch(!0){case!n.utils.isValid(e):return"invalidDate";case!!(r&&u(r,l)):return"minTime";case!!(i&&u(l,i)):return"maxTime";case!!(s&&s(n.utils.getHours(l),"hours")):return"shouldDisableTime-hours";case!!(s&&s(n.utils.getMinutes(l),"minutes")):return"shouldDisableTime-minutes";case!!(s&&s(n.utils.getSeconds(l),"seconds")):return"shouldDisableTime-seconds";case!!(o&&n.utils.getMinutes(l)%o!==0):return"minutesStep";default:return null}},i4=(n,e)=>n===e,ck=n=>NS(n,r4,i4),o4=["onChange","PaperProps","PopperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],s4=m.forwardRef(function(e,t){const r=ok(e,"MuiDesktopTimePicker"),i=ck(r)!==null,{pickerProps:o,inputProps:s,wrapperProps:a}=vg(r,sk),{PaperProps:l,PopperProps:u,ToolbarComponent:c=uk,TransitionComponent:d,components:f,componentsProps:p}=r,h=nt(r,o4),g=X({},s,h,{components:f,componentsProps:p,ref:t,validationError:i});return v.jsx(kS,X({},a,{DateInputProps:g,KeyboardDateInputComponent:mg,PopperProps:u,PaperProps:l,TransitionComponent:d,components:f,componentsProps:p,children:v.jsx(gg,X({},o,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:c,DateInputProps:g,components:f,componentsProps:p},h))}))}),a4=Le(bA)({[`& .${Ov.container}`]:{outline:0},[`& .${Ov.paper}`]:{outline:0,minWidth:IS}}),l4=Le(xA)({"&:first-of-type":{padding:0}}),u4=n=>{var e;const{children:t,DialogProps:r={},onAccept:i,onClear:o,onDismiss:s,onCancel:a,onSetToday:l,open:u,components:c,componentsProps:d}=n,f=(e=c==null?void 0:c.ActionBar)!=null?e:SS;return v.jsxs(a4,X({open:u,onClose:s},r,{children:[v.jsx(l4,{children:t}),v.jsx(f,X({onAccept:i,onClear:o,onCancel:a,onSetToday:l,actions:["cancel","accept"]},d==null?void 0:d.actionBar))]}))},c4=["children","DateInputProps","DialogProps","onAccept","onClear","onDismiss","onCancel","onSetToday","open","PureDateInputComponent","components","componentsProps"];function d4(n){const{children:e,DateInputProps:t,DialogProps:r,onAccept:i,onClear:o,onDismiss:s,onCancel:a,onSetToday:l,open:u,PureDateInputComponent:c,components:d,componentsProps:f}=n,p=nt(n,c4);return v.jsxs(uo.Provider,{value:"mobile",children:[v.jsx(c,X({components:d},p,t)),v.jsx(u4,{DialogProps:r,onAccept:i,onClear:o,onDismiss:s,onCancel:a,onSetToday:l,open:u,components:d,componentsProps:f,children:e})]})}const f4=m.forwardRef(function(e,t){const{disabled:r,getOpenDialogAriaText:i,inputFormat:o,InputProps:s,inputRef:a,label:l,openPicker:u,rawValue:c,renderInput:d,TextFieldProps:f={},validationError:p}=e,h=Ss(),g=i??h.openDatePickerDialogue,y=Ht(),x=m.useMemo(()=>X({},s,{readOnly:!0}),[s]),b=Sh(y,c,o);return d(X({label:l,disabled:r,ref:t,inputRef:a,error:p,InputProps:x,inputProps:X({disabled:r,readOnly:!0,"aria-readonly":!0,"aria-label":g(c,y),value:b},!e.readOnly&&{onClick:u},{onKeyDown:MS(u)})},f))}),p4=["ToolbarComponent","value","onChange","components","componentsProps"],h4=m.forwardRef(function(e,t){const r=ok(e,"MuiMobileTimePicker"),i=ck(r)!==null,{pickerProps:o,inputProps:s,wrapperProps:a}=vg(r,sk),{ToolbarComponent:l=uk,components:u,componentsProps:c}=r,d=nt(r,p4),f=X({},s,d,{components:u,componentsProps:c,ref:t,validationError:i});return v.jsx(d4,X({},d,a,{DateInputProps:f,PureDateInputComponent:f4,components:u,componentsProps:c,children:v.jsx(gg,X({},o,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:l,DateInputProps:f,components:u,componentsProps:c},d))}))}),m4=["desktopModeMediaQuery","DialogProps","PopperProps","TransitionComponent"],g4=m.forwardRef(function(e,t){const r=Gr({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:i="@media (pointer: fine)",DialogProps:o,PopperProps:s,TransitionComponent:a}=r,l=nt(r,m4);return CA(i)?v.jsx(s4,X({ref:t,PopperProps:s,TransitionComponent:a},l)):v.jsx(h4,X({ref:t,DialogProps:o},l))}),v4=yL({palette:{primary:{main:V.newColors.realTeal[100]}}}),y4=n=>{const{fieldDef:e,onChange:t,value:r=null,onBlur:i,disabled:o,inputRef:s,id:a,error:l}=n,[u,c]=m.useState(!1),d=m.useCallback(async()=>{c(p=>(p&&i&&i(),!p))},[i]),f=p=>{var h;return v.jsx(ys,{...p,id:a,onBlur:i,required:e.required,disabled:o,error:l,inputProps:{...p.inputProps,placeholder:(h=e==null?void 0:e.inputSettings)==null?void 0:h.placeholder,ref:s}})};return v.jsx(fS,{dateAdapter:uS,children:v.jsx(qA,{theme:v4,children:v.jsx(US,{$isPickerOpen:u,$disabled:o,children:v.jsx(g4,{value:r,onChange:t,renderInput:f,onOpen:d,onClose:d,disabled:o})})})})};function b4(n){if(Array.isArray(n))return n;const[e,t]=n.split(":");if(!e||e.length!==2||!t||t.length!==2)throw new Error(`${n} is not a valid 24hr time. It must contain hour and minute components separated by a colon.`);const r=Number(e),i=Number(t);if(r!==r||r<0||r>23||i!==i||i<0||i>59)throw new Error(`${n} is not a valid 24hr time`);return[r,i,0,0]}function Ru(n,e){const t=new Date(n.getTime()),[r,i,o]=typeof e=="string"?b4(e):Array.isArray(e)?e:[e.getHours(),e.getMinutes(),e.getSeconds()];return t.setHours(r,i,o,0),t}function Eb(n){if(!n)return;const e=n.getTime();if(e===e)return n}function dk(n,e){const t=aS(n,e,new Date);return Zw(t)&&Jo(t,e)===n}function qa(){return{internalData:{},data:{},errors:{},disabled:!0,touched:{},submitWarning:{open:!1,lead:"",reasons:[]},waits:[],loadingInitial:!0}}function x4(){return{...qa(),initialData:{},fields:{},mounted:{},hasBlurred:{},hasSubmitted:!1,moveToError:!1,loadingInitial:!0,hooks:{setFieldValueData:[]}}}function Qn(n){return function(){throw new Error(n)}}const co=m.createContext({state:qa(),methods:{addWait:Qn("addWait requires a FormContext provider"),disableForm:Qn("disableForm requires a FormContext provider"),init:Qn("init requires a FormContext provider"),mountField:Qn("mountField requires a FormContext provider"),removeWait:Qn("removeWait requires a FormContext provider"),reset:Qn("reset requires a FormContext provider"),setFieldBlur:Qn("setFieldBlur requires a FormContext provider"),setFieldValue:Qn("setFieldValue requires a FormContext provider"),setFormValues:Qn("setFormValues requires a FormContext provider"),setSubmitWarning:Qn("setSubmitWarning requires a FormContext provider"),submitForm:Qn("submitForm requires a FormContext provider"),addHook:Qn("addHook requires a FormContext provider")}}),w4=n=>{const{fieldDef:e,onChange:t,value:r,onBlur:i,disabled:o,error:s,inputRef:a,id:l,skeleton:u,path:c}=n,{name:d,inputSettings:f={}}=e,{defaultTime:p}=f,h=m.useMemo(()=>r||{time:null,keyboardInputValue:void 0},[r]),{methods:{addHook:g}}=m.useContext(co);m.useEffect(()=>{if(p){if(!c||!c.length)throw new Error("The `defaultTime` property can only be provided for a time field that works as a part of a group alongside a date field.");return g("setFieldValueData",({data:x,internalData:b,...w})=>{if(w.name!=="date"||w.path.join(".")!==(c||[]).join("."))return;const k=sr(b,[...c||[],"date"]),S=sr(b,[...c||[],d]);if(!S||S.usingDefaultTime)return!(k!=null&&k.date)||!Eb(k.date)?{data:x,internalData:dr([...c||[],"time"],{time:null,keyboardInputValue:void 0,usingDefaultTime:!0},b)}:{data:dr(c||[],Ru(k.date,p),x),internalData:dr([...c||[],"time"],{time:Ru(new Date,p),keyboardInputValue:void 0,usingDefaultTime:!0},b)}})}},[g,p,c,d]);const y=(x,b)=>t({time:x,keyboardInputValue:b,usingDefaultTime:!x||!Eb(x)});return u?v.jsx(Qe,{variant:"rectangular",width:"100%",height:43}):v.jsx(y4,{id:l,error:s,onChange:y,fieldDef:{name:e==null?void 0:e.name,label:"",type:"timePicker",inputSettings:{placeholder:fA}},value:h==null?void 0:h.time,onBlur:i,disabled:o,inputRef:a})},C4=m.memo(w4);var cp,Tb;function S4(){if(Tb)return cp;Tb=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return cp=n,cp}var dp,Lb;function k4(){if(Lb)return dp;Lb=1;function n(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+t];return s}return dp=n,dp}var fp,Ab;function M4(){if(Ab)return fp;Ab=1;var n=aA(),e=k4();function t(r,i){return i.length<2?r:n(r,e(i,0,-1))}return fp=t,fp}var pp,Ob;function E4(){if(Ob)return pp;Ob=1;var n=lA(),e=S4(),t=M4(),r=cC();function i(o,s){return s=n(s,o),o=t(o,s),o==null||delete o[r(e(s))]}return pp=i,pp}var hp,Rb;function T4(){if(Rb)return hp;Rb=1;var n=E4();function e(t,r){return t==null?!0:n(t,r)}return hp=e,hp}var mp,Pb;function L4(){if(Pb)return mp;Pb=1;var n=ik(),e=n("unset",T4());return e.placeholder=yg(),mp=e,mp}var A4=L4();const Db=it(A4);function O4(n,e){switch(e.type){case"SET_FIELD_ERRORS":return{...n,errors:e.merge?{...n.errors,...e.errors}:e.errors};case"SET_FIELD_VALUES":return{...n,data:e.values,internalData:e.internalValues,touched:e.touched||n.touched,loadingInitial:e.loadingInitial!==void 0?e.loadingInitial:n.loadingInitial,disabled:e.disabled!==void 0?e.disabled:n.disabled};case"SET_FORM_WAITS":return{...n,waits:e.waits};case"RESET":return{...qa(),data:e.data,internalData:e.internalData,disabled:!1,loadingInitial:!1};case"FORM_DISABLE":return{...n,disabled:e.disabled,loadingInitial:e.loadingInitial!==void 0?e.loadingInitial:n.loadingInitial};case"FIELD_TOUCHED":return!!n.touched[e.name]===e.value?n:{...n,touched:{...n.touched,[e.name]:e.value}};case"FIELD_VALIDATE":return{...n,errors:{...n.errors,[e.name]:e.value}};case"FIELD_UNVALIDATE":return{...n,errors:{...n.errors,[e.name]:void 0}};case"FORM_START_DISABLE":return{...n,disabled:e.value};case"FORM_END_DISABLE":return{...n,disabled:e.value};case"FORM_RESET":return{...n,data:{},errors:{},disabled:!1};case"SET_SUBMIT_WARNING":return{...n,submitWarning:{...e}};default:return n}}function is({stable:n,name:e,path:t}){let r=n;if(t){for(const i of t)if(r=r.fields[i],!r||!r.fields)throw new Error(`Field \`${e}\` is not registered with this form at path ${JSON.stringify(t)}.`)}if(!r.fields[e])throw new Error(`Field \`${e}\` is not registered with this form.`);return r.fields[e]}var q;(function(n){n.UK="UK",n.GB="GB",n.JE="JE",n.GG="GG",n.IM="IM",n.US="US",n.CA="CA",n.IE="IE",n.DE="DE",n.JP="JP",n.FR="FR",n.AU="AU",n.IT="IT",n.CH="CH",n.AT="AT",n.ES="ES",n.NL="NL",n.BE="BE",n.DK="DK",n.SE="SE",n.NO="NO",n.BR="BR",n.PT="PT",n.FI="FI",n.AX="AX",n.KR="KR",n.CN="CN",n.TW="TW",n.SG="SG",n.DZ="DZ",n.AD="AD",n.AR="AR",n.AM="AM",n.AZ="AZ",n.BH="BH",n.BD="BD",n.BB="BB",n.BY="BY",n.BM="BM",n.BA="BA",n.IO="IO",n.BN="BN",n.BG="BG",n.KH="KH",n.CV="CV",n.CL="CL",n.CR="CR",n.HR="HR",n.CY="CY",n.CZ="CZ",n.DO="DO",n.EC="EC",n.EG="EG",n.EE="EE",n.FO="FO",n.GE="GE",n.GR="GR",n.GL="GL",n.GT="GT",n.HT="HT",n.HN="HN",n.HU="HU",n.IS="IS",n.IN="IN",n.ID="ID",n.IL="IL",n.JO="JO",n.KZ="KZ",n.KE="KE",n.KW="KW",n.KY="KY",n.LA="LA",n.LV="LV",n.LB="LB",n.LI="LI",n.LT="LT",n.LU="LU",n.MK="MK",n.MY="MY",n.MV="MV",n.MT="MT",n.MU="MU",n.MX="MX",n.MD="MD",n.MC="MC",n.MA="MA",n.NP="NP",n.NZ="NZ",n.NI="NI",n.NG="NG",n.OM="OM",n.PA="PA",n.PK="PK",n.PY="PY",n.PH="PH",n.PL="PL",n.PR="PR",n.RO="RO",n.RU="RU",n.SM="SM",n.SA="SA",n.SN="SN",n.SK="SK",n.SI="SI",n.ZA="ZA",n.LK="LK",n.TJ="TJ",n.TH="TH",n.TN="TN",n.TR="TR",n.TM="TM",n.UA="UA",n.UY="UY",n.UZ="UZ",n.VA="VA",n.VE="VE",n.ZM="ZM",n.AS="AS",n.CC="CC",n.CK="CK",n.RS="RS",n.ME="ME",n.CS="CS",n.YU="YU",n.CX="CX",n.ET="ET",n.FK="FK",n.NF="NF",n.FM="FM",n.GF="GF",n.GN="GN",n.GP="GP",n.GS="GS",n.GU="GU",n.GW="GW",n.HM="HM",n.IQ="IQ",n.KG="KG",n.LR="LR",n.LS="LS",n.MG="MG",n.MH="MH",n.MN="MN",n.MP="MP",n.MQ="MQ",n.NC="NC",n.NE="NE",n.VI="VI",n.VN="VN",n.PF="PF",n.PG="PG",n.PM="PM",n.PN="PN",n.PW="PW",n.RE="RE",n.SH="SH",n.SJ="SJ",n.SO="SO",n.SZ="SZ",n.TC="TC",n.WF="WF",n.XK="XK",n.YT="YT",n.PE="PE",n.INTL="INTL",n.CO="CO"})(q||(q={}));const kh=new Map([[q.UK,/^([A-Z]){1}([0-9][0-9]|[0-9]|[A-Z][0-9][A-Z]|[A-Z][0-9][0-9]|[A-Z][0-9]|[0-9][A-Z]){1}([ ])?([0-9][A-z][A-z]){1}$/i],[q.GB,/^([A-Z]){1}([0-9][0-9]|[0-9]|[A-Z][0-9][A-Z]|[A-Z][0-9][0-9]|[A-Z][0-9]|[0-9][A-Z]){1}([ ])?([0-9][A-z][A-z]){1}$/i],[q.JE,/^JE\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[q.GG,/^GY\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[q.IM,/^IM\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[q.US,/^([0-9]{5})(?:-([0-9]{4}))?$/],[q.CA,/^([ABCEGHJKLMNPRSTVXY][0-9][ABCEGHJKLMNPRSTVWXYZ])\s*([0-9][ABCEGHJKLMNPRSTVWXYZ][0-9])$/i],[q.IE,/^([AC-FHKNPRTV-Y][0-9]{2}|D6W)[ -]?[0-9AC-FHKNPRTV-Y]{4}$/],[q.DE,/^\d{5}$/],[q.JP,/^\d{3}-\d{4}$/],[q.FR,/^\d{2}[ ]?\d{3}$/],[q.AU,/^\d{4}$/],[q.IT,/^\d{5}$/],[q.CH,/^\d{4}$/],[q.AT,/^(?!0)\d{4}$/],[q.ES,/^(?:0[1-9]|[1-4]\d|5[0-2])\d{3}$/],[q.NL,/^\d{4}[ ]?[A-Z]{2}$/],[q.BE,/^\d{4}$/],[q.DK,/^\d{4}$/],[q.SE,/^(SE-)?\d{3}[ ]?\d{2}$/],[q.NO,/^\d{4}$/],[q.BR,/^\d{5}[\-]?\d{3}$/],[q.PT,/^\d{4}([\-]\d{3})?$/],[q.FI,/^(FI-|AX-)?\d{5}$/],[q.AX,/^22\d{3}$/],[q.KR,/^\d{5}$/],[q.CN,/^\d{6}$/],[q.TW,/^\d{3}(\d{2,3})?$/],[q.SG,/^\d{6}$/],[q.DZ,/^\d{5}$/],[q.AD,/^AD\d{3}$/],[q.AR,/^([A-HJ-NP-Z])?\d{4}([A-Z]{3})?$/],[q.AM,/^(37)?\d{4}$/],[q.AZ,/^\d{4}$/],[q.BH,/^((1[0-2]|[2-9])\d{2})?$/],[q.BD,/^\d{4}$/],[q.BB,/^(BB\d{5})?$/],[q.BY,/^\d{6}$/],[q.BM,/^[A-Z]{2}[ ]?[A-Z0-9]{2}$/],[q.BA,/^\d{5}$/],[q.IO,/^BBND 1ZZ$/],[q.BN,/^[A-Z]{2}[ ]?\d{4}$/],[q.BG,/^\d{4}$/],[q.KH,/^\d{5}$/],[q.CV,/^\d{4}$/],[q.CL,/^\d{7}$/],[q.CR,/^(\d{4,5}|\d{3}-\d{4})$/],[q.HR,/^(HR-)?\d{5}$/],[q.CY,/^\d{4}$/],[q.CZ,/^\d{3}[ ]?\d{2}$/],[q.DO,/^\d{5}$/],[q.EC,/^([A-Z]\d{4}[A-Z]|(?:[A-Z]{2})?\d{6})?$/],[q.EG,/^\d{5}$/],[q.EE,/^\d{5}$/],[q.FO,/^\d{3}$/],[q.GE,/^\d{4}$/],[q.GR,/^\d{3}[ ]?\d{2}$/],[q.GL,/^39\d{2}$/],[q.GT,/^\d{5}$/],[q.HT,/^\d{4}$/],[q.HN,/^(?:\d{5})?$/],[q.HU,/^\d{4}$/],[q.IS,/^\d{3}$/],[q.IN,/^\d{6}$/],[q.ID,/^\d{5}$/],[q.IL,/^\d{5,7}$/],[q.JO,/^\d{5}$/],[q.KZ,/^\d{6}$/],[q.KE,/^\d{5}$/],[q.KW,/^\d{5}$/],[q.KY,/^KY[123]-\d{4}$/],[q.LA,/^\d{5}$/],[q.LV,/^(LV-)?\d{4}$/],[q.LB,/^(\d{4}([ ]?\d{4})?)?$/],[q.LI,/^(948[5-9])|(949[0-7])$/],[q.LT,/^(LT-)?\d{5}$/],[q.LU,/^(L-)?\d{4}$/],[q.MK,/^\d{4}$/],[q.MY,/^\d{5}$/],[q.MV,/^\d{5}$/],[q.MT,/^[A-Z]{3}[ ]?\d{2,4}$/],[q.MU,/^((\d|[A-Z])\d{4})?$/],[q.MX,/^\d{5}$/],[q.MD,/^\d{4}$/],[q.MC,/^980\d{2}$/],[q.MA,/^\d{5}$/],[q.NP,/^\d{5}$/],[q.NZ,/^\d{4}$/],[q.NI,/^((\d{4}-)?\d{3}-\d{3}(-\d{1})?)?$/],[q.NG,/^(\d{6})?$/],[q.OM,/^(PC )?\d{3}$/],[q.PA,/^\d{4}$/],[q.PK,/^\d{5}$/],[q.PY,/^\d{4}$/],[q.PH,/^\d{4}$/],[q.PL,/^\d{2}-\d{3}$/],[q.PR,/^00[679]\d{2}([ \-]\d{4})?$/],[q.RO,/^\d{6}$/],[q.RU,/^\d{6}$/],[q.SM,/^4789\d$/],[q.SA,/^\d{5}$/],[q.SN,/^\d{5}$/],[q.SK,/^\d{3}[ ]?\d{2}$/],[q.SI,/^(SI-)?\d{4}$/],[q.ZA,/^\d{4}$/],[q.LK,/^\d{5}$/],[q.TJ,/^\d{6}$/],[q.TH,/^\d{5}$/],[q.TN,/^\d{4}$/],[q.TR,/^\d{5}$/],[q.TM,/^\d{6}$/],[q.UA,/^\d{5}$/],[q.UY,/^\d{5}$/],[q.UZ,/^\d{6}$/],[q.VA,/^00120$/],[q.VE,/^\d{4}$/],[q.ZM,/^\d{5}$/],[q.AS,/^96799$/],[q.CC,/^6799$/],[q.CK,/^\d{4}$/],[q.RS,/^\d{5,6}$/],[q.ME,/^8\d{4}$/],[q.CS,/^\d{5}$/],[q.YU,/^\d{5}$/],[q.CX,/^6798$/],[q.ET,/^\d{4}$/],[q.FK,/^FIQQ 1ZZ$/],[q.NF,/^2899$/],[q.FM,/^(9694[1-4])([ \-]\d{4})?$/],[q.GF,/^9[78]3\d{2}$/],[q.GN,/^\d{3}$/],[q.GP,/^9[78][01]\d{2}$/],[q.GS,/^SIQQ 1ZZ$/],[q.GU,/^969[123]\d([ \-]\d{4})?$/],[q.GW,/^\d{4}$/],[q.HM,/^\d{4}$/],[q.IQ,/^\d{5}$/],[q.KG,/^\d{6}$/],[q.LR,/^\d{4}$/],[q.LS,/^\d{3}$/],[q.MG,/^\d{3}$/],[q.MH,/^969[67]\d([ \-]\d{4})?$/],[q.MN,/^\d{5}$/],[q.MP,/^9695[012]([ \-]\d{4})?$/],[q.MQ,/^9[78]2\d{2}$/],[q.NC,/^988\d{2}$/],[q.NE,/^\d{4}$/],[q.VI,/^008(([0-4]\d)|(5[01]))([ \-]\d{4})?$/],[q.VN,/^\d{6}$/],[q.PF,/^987\d{2}$/],[q.PG,/^\d{3}$/],[q.PM,/^9[78]5\d{2}$/],[q.PN,/^PCRN 1ZZ$/],[q.PW,/^96940$/],[q.RE,/^9[78]4\d{2}$/],[q.SH,/^(ASCN|STHL) 1ZZ$/],[q.SJ,/^\d{4}$/],[q.SO,/^\d{5}$/],[q.SZ,/^[HLMS]\d{3}$/],[q.TC,/^TKCA 1ZZ$/],[q.WF,/^986\d{2}$/],[q.XK,/^\d{5}$/],[q.YT,/^976\d{2}$/],[q.PE,/^[0-2]\d{4}$/],[q.INTL,/^(?:[A-Z0-9]+([- ]?[A-Z0-9]+)*)?$/i],[q.CO,/^(0[58]|1[135789]|2[0357]|4[147]|5[024]|6[368]|7[036]|8[1568]|9[4579])\d{4}$/]]),R4=(n,e)=>{if(!kh.has(e))throw Error(`Invalid country code: ${e}`);return kh.get(e).test(n)},P4=n=>kh.has(n);function D4(n){return!(n===null||typeof n!="object"||!("value"in n)||!("label"in n))}function fk(n,e=", ",t=" and "){if(n.length<3)return n.join(t);const r=n.slice(0,n.length-1).join(e),i=n[n.length-1];return`${r}${t}${i}`}const Ib="Segmenter"in Intl&&new Intl.Segmenter("en",{granularity:"grapheme"});function Sg(n){return Ib?[...Ib.segment(n)].length:Array.from(n).length}const pk=["https","http"];function I4(n,e=pk){if(!n)return"";const[t=""]=e;for(const r of e)if(n.substring(0,r.length+3)===`${r}://`)return n;return`${t}://${n}`}const N4=["address","article","aside","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","li","main","nav","noscript","ol","p","pre","section","table","tfoot","ul","video"];function Pu(n){return N4.includes(n.tagName.toLowerCase())}function hk(n){return n.nodeType===Node.TEXT_NODE}function Du(n){return n.nodeType===Node.ELEMENT_NODE}function mk(n,e,t){const r=e&&Du(e)&&Pu(e),i=t&&Du(t)&&Pu(t),o=r&&i;return n.textContent&&!o}function kg(n,e){const t=Array.from(n.childNodes);t.forEach((r,i)=>{const o=Du(r)?r:void 0,s=hk(r)?r:void 0;e({node:r,index:i,parent:n,elem:o,text:s,siblings:t}),o&&kg(o,e)})}function _4(n,e,t){const i=new DOMParser().parseFromString(n,"text/html");let o=t;return kg(i.body,s=>{const a=e(o,s);a!==void 0&&(o=a)}),o}function gk(n){return _4(n,(e,{index:t,parent:r,siblings:i,text:o,elem:s})=>{if(o&&mk(o,i[t-1],i[t+1])){const a=r.tagName.toLowerCase();if(a!=="script"&&a!=="style"){const l=document.createElement("div");l.appendChild(o.cloneNode());const u=l.innerHTML.replace(/\s+/g," ");return l.innerHTML=u,e+Sg(l.textContent||"")}}if(s){const a=s.tagName.toLowerCase();if(a!=="script"&&a!=="style"&&s!==i[0])return e+(Pu(s)?1:0)}},0)}const PX="validateDateRange",DX="validateNumberRange";function $4(n){if(!(!n||n.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)))return"The value is not a valid email"}function F4(n){if(n)return new Promise(function(e){setTimeout(function(){return n.includes("test")?e("String cannot include test"):e(void 0)},1e3)})}function Mg(n){if(!(isFinite(n)&&Math.abs(n)<=90))return"Latitude should be between -90 and 90"}function Eg(n){if(!(isFinite(n)&&Math.abs(n)<=180))return"Longitude should be between -180 and 180"}function B4(n,e,t,r,i,o){if(!o.hasValue({value:n,internalValue:r}))return"This field is required, please fill it"}function j4(n){if(n&&!(!isNaN(Number(n))&&!isNaN(parseFloat(n))))return"The value is not a number"}function z4(n){if(!n)return;if(!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n))return"The value is not a valid URL"}async function H4(n,e,t){const r=e[t.startDateName]?e[t.startDateName]:n,i=e[t.endDateName]?e[t.endDateName]:n;if(!r||!i)return;const o=r===n?"Start date should happen before the end date":"End date should happen after the start date",s=new Date(r),a=new Date(i);if(s.getTime()>a.getTime())return o}function V4(n,e,{minName:t,maxName:r}){if(n===void 0)return;const i=t&&e[t],o=r&&e[r],s=Number(n);if(!(Number.isNaN(s)||!Number.isFinite(s))){if(i&&!o&&s<i)return`Number must be greater than or equal to ${i}`;if(!i&&o&&s>o)return`Number must be less than or equal to ${o}`;if(i&&o&&(s<i||s>o))return`Number must be between ${i} and ${o}`}}function W4(n,e,{min:t,max:r},i){if(!(i!=null&&i.date))return;const{date:o}=i;if(o instanceof Date){if(t&&!r&&o<t)return`Date must fall on or after ${Jo(t,Zo)}`;if(!t&&r&&o>r)return`Date must fall on or before ${Jo(r,Zo)}`;if(t&&r&&(o<t||o>r))return`Date must fall between ${Jo(t,Zo)} and ${Jo(r,Zo)}`}}function U4(n,e,t){if(!t.max||typeof n!="string")return;const r="You have exceeded the maximum number of characters";if(t.ignoreHTML&&gk(n)>t.max||!t.ignoreHTML&&Sg(n)>t.max)return r}function q4(n){if(!(!n||n[0]!=="1"||n.length===11))return"Phone number must be exactly 10 numbers excluding the country code"}async function vk(n,e,{countryField:t}){if(!n)return;const r=e[t];if(!r)return;const i=D4(r)?r.value:r;if(!(!i||!P4(i))&&!R4(n,i))return"This is not a valid postal code in the selected country"}async function G4(n,e,t,r){if(!(r!=null&&r.date))return;const{date:i,keyboardInputValue:o}=r;if(isNaN(i.getTime())||o&&!dk(o,Zo))return"Please enter a valid MM/DD/YYYY date, e.g. 01/31/2024"}async function K4(n,e,t,r){if(!(r!=null&&r.time))return;const{time:i,keyboardInputValue:o}=r;if(isNaN(i.getTime())||o&&!dk(o,pA))return"Please enter a valid 12hr time, e.g. 01:30 pm"}function Y4({internalData:n,data:e,errors:t,disabled:r,touched:i,submitWarning:o,waits:s,loadingInitial:a}){return{internalData:n,data:e,errors:t,disabled:r,touched:i,submitWarning:o,waits:s,loadingInitial:a}}async function J4(n,e,t,r,i,o){for(const s of n){const a=await s.fn(e,t,s.options,r,i,o);if(a)return{errorMessage:a,validator:s}}}function Z4(n){const e={required:B4,validateLatitude:Mg,validateLongitude:Eg,validateDateRange:H4,validateMinDate:W4,validateDate:G4,validateTime:K4,validateNumberRange:V4,validateCharacterCount:U4,validateEmail:$4,validateNumber:j4,validateSlow:F4,validateURL:z4,validatePhoneNumber:q4,validatePostcode:vk};return n.map(t=>typeof t=="string"?{fn:e[t],options:{}}:typeof t=="function"?{fn:t,options:{}}:{fn:e[t.fn],options:t.options})}function yk({name:n,path:e=[],stable:t}){const{mounted:r}=t;if(!r[[...e,n].join(".")])return!1;const i=is({name:n,path:e,stable:t}),o=eu(i.disabled,Y4(t),!1);return!tu(o)}async function bk({name:n,include:e,path:t=[],stable:r}){var d,f,p,h,g;if(!yk({name:n,path:t,stable:r}))return;const{data:i,internalData:o}=r,s=is({name:n,path:t,stable:r}),{required:a,validators:l=[]}=s;a&&a.validator&&l.unshift({fn:"required",options:{}}),s.type==="phone"&&l.push({fn:"validatePhoneNumber",options:{}}),s.type==="date"&&l.push({fn:"validateDate",options:{}}),s.type==="time"&&l.push({fn:"validateTime",options:{}}),((d=s.inputSettings)==null?void 0:d.maxCharacters)>0&&l.push({fn:"validateCharacterCount",options:{max:s.inputSettings.maxCharacters,ignoreHTML:s.type==="textEditor"}}),((f=s.inputSettings)!=null&&f.minDate||(p=s.inputSettings)!=null&&p.maxDate)&&l.push({fn:"validateMinDate",options:{min:(h=s.inputSettings)==null?void 0:h.minDate,max:(g=s.inputSettings)==null?void 0:g.maxDate}});const u=Z4(l).filter(y=>!e||e.includes(y.fn)),c=await J4(u,sr(i,[...t,n]),t.length?sr(i,t):i,sr(o,[...t,n]),t.length?sr(o,t):o,s);if(c)return c.errorMessage}function Jc(n,e=[]){const t=Object.entries(n),r=[];t.sort(([,{order:i}],[,{order:o}])=>i-o);for(const[,i]of t){const o=[...e,i.name];if(i.type==="group"){r.push(o,...Jc(i.fields,o));continue}r.push(o)}return r}async function gp({stable:n,paths:e=Jc(n.fields)}){const t=await Promise.all(e.map(async o=>{const{path:s,include:a}=Array.isArray(o)?{path:o,include:void 0}:o,l=await bk({name:s.at(-1),include:a,path:s.slice(0,-1),stable:n});return[s.join("."),l]})),r=Object.fromEntries(t),i=Object.values(r).filter(Boolean).length;return{errors:r,count:i}}function Mh(n,e){const t=Object.entries(e),r={};for(const[i,o]of t)n&&("fields"in o&&o.fields?r[i]=Mh(o.getResolvedValue(n[i]).internalValue,o.fields):r[i]=o.getResolvedValue(n[i]).internalValue);return r}function xk({fields:n,sections:e,stable:t}){const r=e&&e.map(({fields:i})=>i).flat(3);return n.reduce((i,o,s)=>{const a=$T(o.type),l=o.getResolvedValue||a.getResolvedValue,u={...o,validateOn:o.validateOn||a.validate,getResolvedValue:c=>l(c,o),hasValue:o.hasValue||a.hasValue,order:(r?r.indexOf(o.name):s)+1,fields:o.type==="group"?xk({fields:o.inputSettings.fields,stable:t}):void 0,required:typeof o.required=="object"?o.required:o.required?{validator:!0,asterisk:!0}:void 0};return{...i,[o.name]:u}},{})}function X4({stable:n,path:e=[]}){let t=n.fields;for(const r of e)t=t[r].fields;return t}function wk({target:n,fieldName:e=n[0],path:t=[],value:r,currentValues:i,stable:o,depth:s=0}){const a=is({name:e,path:t,stable:o});if(a.type==="group"){const u=Object.keys(a.fields).reduce((c,d)=>{var p,h;const f=wk({target:n,fieldName:d,path:[...t,e],value:r,currentValues:{values:((p=i==null?void 0:i.values)==null?void 0:p[e])||{},internalValues:((h=i==null?void 0:i.internalValues)==null?void 0:h[e])||{}},stable:o,depth:s+1});return{internalValue:{...c.internalValue,[d]:f.internalValue},value:{...c.value,[d]:f.value}}},{internalValue:i.internalValues[e],value:i.values[e]});return{internalValue:u.internalValue,value:a.getResolvedValue(u.value).value}}const l=n.join(".")===[...t,e].join(".");return a.getResolvedValue(l?typeof r=="function"?r(sr(o.internalData,[...t,e])):r:i.internalValues[e])}function Zc(){const n=m.useRef(x4()),[e,t]=m.useReducer(O4,qa()),r=m.useCallback(async({name:b,path:w=[],validateLinkedFields:k})=>{const S=[...w,b];for(let C=0;C<S.length;C++){const M=S[C],T=S.slice(0,C),I=is({name:M,path:T,stable:n.current}),R=await bk({name:M,path:T,stable:n.current});if(n.current.errors={...n.current.errors,[`${[...T,I.name].join(".")}`]:R},k&&I.validates){const z=I.validates.map(W=>typeof W=="object"?W:{name:W,include:void 0}),{errors:_}=await gp({paths:z.map(W=>({...W,path:[...T,W.name]})),stable:n.current});n.current.errors={...n.current.errors,..._}}}t({type:"SET_FIELD_ERRORS",errors:n.current.errors})},[]),i=m.useCallback(async({values:b={},path:w=[],initial:k,validate:S})=>{const C=Mh(b,X4({stable:n.current,path:w}));if(n.current.data=w.length?dr(w,b,n.current.data):b,n.current.internalData=w.length?dr(w,C,n.current.internalData):C,k&&(n.current.initialData=w.length?dr(w,b,n.current.initialData):b,n.current.disabled=!1),S){const{errors:M}=await gp({stable:n.current});n.current.errors=w.length?dr(w,M,n.current.errors):M,t({type:"SET_FIELD_ERRORS",errors:n.current.errors})}return t({type:"SET_FIELD_VALUES",values:n.current.data,internalValues:n.current.internalData,...k?{disabled:!1,loadingInitial:!1}:{}})},[]),o=m.useCallback(({fields:b,sections:w})=>{n.current.fields=xk({fields:b,sections:w,stable:n.current})},[]),s=m.useCallback(()=>{const{initialData:b,fields:w}=n.current,k={...b},S=Mh(b,w);n.current={...qa(),...n.current,hasBlurred:{},data:k,internalData:S,disabled:!1,loadingInitial:!1},t({type:"RESET",data:k,internalData:S})},[]),a=m.useCallback(({name:b,value:w,touched:k,validate:S,path:C=[]})=>{const M=[...C,b],T=is({name:b,path:C,stable:n.current}),{errors:I,hasBlurred:R,hasSubmitted:z}=n.current,{value:_,internalValue:W}=wk({target:M,stable:n.current,value:w,currentValues:{values:n.current.data,internalValues:n.current.internalData}}),D=n.current.hooks.setFieldValueData.reduce((B,F)=>{const N=F({...B,name:b,path:C});return N===void 0?B:N},{data:dr(M[0],_,n.current.data),internalData:dr(M[0],W,n.current.internalData)});n.current.data=D.data,n.current.internalData=D.internalData,k&&(n.current.touched=dr(M,!0,n.current.touched)),t({type:"SET_FIELD_VALUES",values:n.current.data,internalValues:n.current.internalData,touched:n.current.touched}),(S||T.validateOn==="onChange")&&r({name:b,validateLinkedFields:!0,path:C}),T.validateOn==="onBlurChange"&&(z||sr(R,M))&&r({name:b,validateLinkedFields:!0,path:C}),T.validateOn==="onBlurAmend"&&(z||sr(R,M))&&sr(I,M)&&(n.current.hasBlurred=Db(M,n.current.hasBlurred),n.current.errors=Db(M,n.current.errors),t({type:"SET_FIELD_ERRORS",errors:n.current.errors}))},[r]),l=m.useCallback(({name:b,path:w=[]})=>{const k=is({name:b,path:w,stable:n.current});n.current.hasBlurred=dr([...w,b],!0,n.current.hasBlurred),(k.validateOn==="onBlur"||k.validateOn==="onBlurAmend"||k.validateOn==="onBlurChange")&&r({name:b,path:w,validateLinkedFields:!0})},[r]),u=m.useCallback(({disabled:b=!1,initial:w})=>{t({type:"FORM_DISABLE",disabled:b,loadingInitial:w})},[]),c=m.useCallback(b=>{t({type:"SET_SUBMIT_WARNING",...b})},[]),d=m.useCallback(async()=>{const{data:b,waits:w}=n.current;n.current.hasSubmitted=!0;const{count:k,errors:S}=await gp({stable:n.current});if(k)return n.current.errors=S,n.current.moveToError=!0,t({type:"SET_FIELD_ERRORS",errors:S}),{valid:!1,data:null};if(w.length>0)return c({open:!0,lead:"The form cannot be submitted at this time:",reasons:w.map(({message:M})=>M)}),{valid:!1,data:null};const C=Jc(n.current.fields).filter(M=>yk({name:M.at(-1),path:M.slice(0,-1),stable:n.current})).map(M=>M.join("."));return{valid:!0,data:b,activeFields:C}},[c]),f=m.useCallback(({names:b})=>{const{waits:w}=n.current,k=w.filter(({name:S})=>!b.includes(S));n.current.waits=k,t({type:"SET_FORM_WAITS",waits:k})},[]),p=m.useCallback(({name:b,message:w,disableForm:k=!1})=>{const{waits:S}=n.current,C=[...S,{name:b,message:w,disableForm:k}];return n.current.waits=C,t({type:"SET_FORM_WAITS",waits:C}),{remove:(M={})=>f({names:[b],...M})}},[f]),h=m.useCallback(({name:b,path:w=[],fieldRef:k,inputRef:S})=>{const C=[...w,b].join(".");return n.current.mounted[C]={fieldRef:k,inputRef:S},{unmount:()=>{n.current.mounted[C]=!1,t({type:"SET_FIELD_ERRORS",errors:{[C]:void 0},merge:!0})}}},[]),g=m.useCallback((b,w)=>(n.current.hooks[b].push(w),()=>{n.current.hooks[b]=n.current.hooks[b].filter(k=>k!==w)}),[]),y=m.useMemo(()=>({setFormValues:i,setFieldValue:a,setFieldBlur:l,submitForm:d,disableForm:u,addWait:p,removeWait:f,mountField:h,init:o,reset:s,setSubmitWarning:c,addHook:g}),[l,i,a,d,u,p,f,h,o,s,c,g]),x=m.useCallback((b,w)=>async()=>{const{data:k,activeFields:S,valid:C}=await d();if(!C){w&&w({data:k});return}b({data:k,activeFields:S})},[d]);return{state:e,stable:n.current,methods:y,handleSubmit:x}}function Ck(n,e){const t=new Set(n),r=new Set(e),i=[...n].filter(a=>!r.has(a)),o=[...e].filter(a=>!t.has(a));return[...i,...o]}function Q4(n,e){if(n===e||n===void 0&&Object.values(e).every(r=>r===void 0)||e===void 0&&Object.values(n).every(r=>r===void 0))return!0;if(!n||!e)return!1;const t=n.types===e.types||!Ck(n.types||[],e.types||[]).length;return String(n.address1)===String(e.address1)&&String(n.address2)===String(e.address2)&&String(n.address3)===String(e.address3)&&String(n.city)===String(e.city)&&String(n.state)===String(e.state)&&String(n.postalCode)===String(e.postalCode)&&String(n.country)===String(e.country)&&t}const ez=ee.div`
	display: flex;
	flex-direction: row;
	align-items: start;
	gap: 0 20px;
	min-width: 0;

	${Wt("lg","FORM")} {
		gap: 0 40px;
	}
`,tz=ee.div`
	font-family: ${V.fontFamily};
	position: relative;
	min-width: 0;
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	align-items: start;

	${({$error:n,$spacing:e})=>n&&`
		background-color: ${V.newColors.darkRed[5]};
		margin: ${e==="compact"?"-4px -4px -6px":"-4px -12px -8px"};
		padding: ${e==="compact"?"4px 4px 6px":"4px 12px 8px"};
	`}
`,nz=ee.div`
	max-width: 100%;

	${({$fullWidth:n})=>n&&`
		width: 100%;
	`}
`,rz=ee.div`
	display: flex;
	flex-direction: column;
	align-items: stretch;
	max-width: 100%;

	${({$size:n})=>`
		width: ${n!=="full"?n:"100%"};
	`}
`,iz=ee.div`
	display: flex;
	align-items: end;
	margin-bottom: 8px;
	font-family: ${V.fontFamily};
	gap: 8px;

	.MuiInputLabel-root {
		font-family: inherit;
		font-size: 16px;
		color:  ${V.newColors.almostBlack[100]};
		word-wrap: break-word;
		text-overflow: clip;
		white-space: normal;
	}
`,oz=ee.div`
	font-family: inherit;
	font-size: 16px;
	color:  ${V.newColors.almostBlack[100]};
	word-wrap: break-word;
`,sz=ee.div`
	color: ${({$invalid:n})=>n?V.newColors.darkRed[100]:V.newColors.grey3[100]};
	font-size: 12px;
	margin-left: auto;
`,az=ee(Qw)`
	font-weight: ${V.fontWeight.semiBold} !important;
  	align-self: center;
	color: ${V.newColors.grey4[100]} !important;
`,lz=ee.span`
	color: ${V.newColors.darkRed[100]};
`,uz=ee.div`
  	${({$alwaysShow:n,$colsInRow:e=1})=>!n&&e===1&&`
		${Wt("sm","FORM_COL")} {
			display: none;
		}
	`}

	svg {
		vertical-align: middle;
	}
`,cz=n=>{const{children:e,className:t,required:r,name:i,limit:o,instructionText:s,forceInstructionTooltip:a,colsInRow:l,as:u="label"}=n,{anchorProps:c,tooltipProps:d}=wm();return v.jsxs(iz,{className:t,children:[v.jsxs(az,{htmlFor:u==="label"&&i?`${i}-input`:void 0,as:u==="label"?Qw:oz,"data-testid":i&&`${Ar.FORM_FIELD_LABEL}:${i}`,title:typeof e=="string"?e:void 0,children:[e,r&&v.jsx(lz,{children:"*"})]}),s&&v.jsxs(uz,{$colsInRow:l,$alwaysShow:a,children:[v.jsx(LA,{...c}),v.jsx(Cm,{...d,children:s})]}),o&&v.jsxs(sz,{$invalid:o[0]>o[1],children:[o[0],"/",o[1]]})]})},dz=ee.div`
  align-items: center;
  display: flex;
  flex-direction: row;
  margin-top: ${V.fieldSpecs.inputSpacing.helperText.marginTop};
`,fz=ee(yC)`
  &.MuiSvgIcon-root {
    font-size: 16px;
    color: ${({$error:n})=>n?V.newColors.darkRed[100]:"transparent"};
	margin-right: 8px;
  }
`,Nb=ee(Xw)`
  &.MuiFormHelperText-root {
    color: ${V.newColors.grey3[100]};
    font-family: ${V.fontFamily};
    font-size: 12px;
    margin-top: ${V.fieldSpecs.inputSpacing.helperText.marginTop};
  }

  &.MuiFormHelperText-root.Mui-error {
    color: ${V.newColors.darkRed[100]};
    margin: 0;
  }
`,Eh=({children:n,error:e=!1})=>e?v.jsxs(dz,{children:[v.jsx(fz,{$error:!!n,"data-testid":"error-icon-test-id"}),v.jsx(Nb,{error:e,children:n})]}):v.jsx(Nb,{error:e,children:n}),pz=ee.div`
	padding-left: 20px;
	border-left: 2px solid ${V.newColors.grey2[100]};
	flex: none;
	align-self: stretch;
	margin-left: auto;
	display: none;
	width: 180px;

	${({$colsInRow:n=1})=>n===1&&`
		${Wt("sm","FORM_COL")} {
			display: block;
		}

		${Wt("md","FORM_COL")} {
			width: 420px;
		}
	`}
`,hz=ee.p`
	color: ${V.newColors.grey3[100]};
	font-family: ${V.fontFamily};
	font-size: 14px;
	margin: 0;
`,Sk=n=>{const{children:e,colsInRow:t}=n;return v.jsx(pz,{$colsInRow:t,children:v.jsx(hz,{children:e})})};Sk.displayName="InstructionText";function kk(n){const{fieldDef:{name:e}={},path:t,skeleton:r,methods:{mountField:i}={},inputRef:o,fieldRef:s}=n;m.useEffect(()=>{if(!i||!e||r)return;const{unmount:a}=i({name:e,path:t,fieldRef:s==null?void 0:s.current,inputRef:o==null?void 0:o.current});return a},[i,e,t,o,r,s])}function mz(n){if(!(!n||!n.inputSettings)){if(n.type==="text"||n.type==="textEditor")return n.inputSettings.maxCharacters;if(n.type==="advancedSelection")return n.inputSettings.selectLimit<2?void 0:n.inputSettings.selectLimit}}function gz(n,e){return typeof n=="string"?e.type==="textEditor"?gk(n):Sg(n):Array.isArray(n)?n.length:0}function vz(n,e){return m.useMemo(()=>{const t=mz(e);return t===void 0?void 0:[gz(n,e),t]},[e,n])}const yz=["color","date","dropdown","number","phone","text","textEditor","time"],bz=n=>{var x;const{children:e,error:t,fieldDef:r,colsInRow:i,value:o,id:s,spacing:a,disabled:l,skeleton:u,useRealLabel:c}=n,d=m.useRef(),f=typeof t=="string"?(t==null?void 0:t.trim().length)>0:!1,p=f||f&&!!(r!=null&&r.required)||typeof t=="boolean"&&t===!0,h=vz(o,r),g=(r==null?void 0:r.label)&&((x=r==null?void 0:r.label)==null?void 0:x.length)>0||h||(r==null?void 0:r.instructionText);kk({...n,fieldRef:d});const y=c||yz.includes(r==null?void 0:r.type);return v.jsxs(ez,{id:s,className:r==null?void 0:r.className,style:r==null?void 0:r.style,"data-testid":"field-test-id",ref:d,"aria-disabled":l,children:[v.jsxs(tz,{$error:p,$spacing:a,children:[v.jsxs(nz,{$fullWidth:(r==null?void 0:r.size)==="full",children:[g&&(u?v.jsx(Qe,{width:92,height:28,sx:{marginBottom:"8px"}}):v.jsx(cz,{required:typeof r.required=="object"&&r.required.asterisk||!!r.required,limit:h,value:o,instructionText:r==null?void 0:r.instructionText,forceInstructionTooltip:r==null?void 0:r.forceInstructionTooltip,colsInRow:i,name:r.name,as:y?"label":"div",children:r==null?void 0:r.label})),v.jsx(rz,{$size:r==null?void 0:r.size,children:e})]}),p?v.jsx(Eh,{error:!!t,children:typeof t=="string"?t:void 0}):(r==null?void 0:r.helperText)&&v.jsx(Eh,{children:r==null?void 0:r.helperText})]}),(r==null?void 0:r.instructionText)&&!(r!=null&&r.forceInstructionTooltip)&&v.jsx(Sk,{colsInRow:i,children:r.instructionText})]})},Tg=m.memo(bz);function xz({children:n,...e}){return kk(e),v.jsx(v.Fragment,{children:n})}const wz=m.memo(xz);var wr={},Hl={},vp,_b;function Cz(){if(_b)return vp;_b=1;var n="Expected a function",e=NaN,t="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof Ll=="object"&&Ll&&Ll.Object===Object&&Ll,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,p=Math.max,h=Math.min,g=function(){return c.Date.now()};function y(S,C,M){var T,I,R,z,_,W,D=0,B=!1,F=!1,N=!0;if(typeof S!="function")throw new TypeError(n);C=k(C)||0,x(M)&&(B=!!M.leading,F="maxWait"in M,R=F?p(k(M.maxWait)||0,C):R,N="trailing"in M?!!M.trailing:N);function Z(Q){var te=T,ne=I;return T=I=void 0,D=Q,z=S.apply(ne,te),z}function me(Q){return D=Q,_=setTimeout(J,C),B?Z(Q):z}function re(Q){var te=Q-W,ne=Q-D,be=C-te;return F?h(be,R-ne):be}function U(Q){var te=Q-W,ne=Q-D;return W===void 0||te>=C||te<0||F&&ne>=R}function J(){var Q=g();if(U(Q))return ue(Q);_=setTimeout(J,re(Q))}function ue(Q){return _=void 0,N&&T?Z(Q):(T=I=void 0,z)}function Y(){_!==void 0&&clearTimeout(_),D=0,T=W=I=_=void 0}function E(){return _===void 0?z:ue(g())}function $(){var Q=g(),te=U(Q);if(T=arguments,I=this,W=Q,te){if(_===void 0)return me(W);if(F)return _=setTimeout(J,C),Z(W)}return _===void 0&&(_=setTimeout(J,C)),z}return $.cancel=Y,$.flush=E,$}function x(S){var C=typeof S;return!!S&&(C=="object"||C=="function")}function b(S){return!!S&&typeof S=="object"}function w(S){return typeof S=="symbol"||b(S)&&f.call(S)==t}function k(S){if(typeof S=="number")return S;if(w(S))return e;if(x(S)){var C=typeof S.valueOf=="function"?S.valueOf():S;S=x(C)?C+"":C}if(typeof S!="string")return S===0?S:+S;S=S.replace(r,"");var M=o.test(S);return M||s.test(S)?a(S.slice(2),M?2:8):i.test(S)?e:+S}return vp=y,vp}var Ds={},$b;function Sz(){return $b||($b=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.compose=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];t.forEach(function(a){return a&&a.apply(void 0,o)})}},Ds.pick=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce(function(o,s){return e&&e.hasOwnProperty(s)&&(o[s]=e[s]),o},{})}),Ds}var Fb;function kz(){if(Fb)return Hl;Fb=1,Object.defineProperty(Hl,"__esModule",{value:!0});var n=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var x=arguments[y];for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&(g[b]=x[b])}return g},e=function(){function g(y,x){for(var b=0;b<x.length;b++){var w=x[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,x,b){return x&&g(y.prototype,x),b&&g(y,b),y}}(),t=vs(),r=u(t),i=hC(),o=u(i),s=Cz(),a=u(s),l=Sz();function u(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function f(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=function(y){return{mainText:y.main_text,secondaryText:y.secondary_text}},h=function(g){f(y,g);function y(x){c(this,y);var b=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x));return b.init=function(){if(!window.google)throw new Error("[react-places-autocomplete]: Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");if(!window.google.maps.places)throw new Error("[react-places-autocomplete]: Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");b.autocompleteService=new window.google.maps.places.AutocompleteService,b.autocompleteOK=window.google.maps.places.PlacesServiceStatus.OK,b.setState(function(w){return w.ready?null:{ready:!0}})},b.autocompleteCallback=function(w,k){if(b.setState({loading:!1}),k!==b.autocompleteOK){b.props.onError(k,b.clearSuggestions);return}var S=b.props.highlightFirstSuggestion;b.setState({suggestions:w.map(function(C,M){return{id:C.id,description:C.description,placeId:C.place_id,active:!!(S&&M===0),index:M,formattedSuggestion:p(C.structured_formatting),matchedSubstrings:C.matched_substrings,terms:C.terms,types:C.types}})})},b.fetchPredictions=function(){var w=b.props.value;w.length&&(b.setState({loading:!0}),b.autocompleteService.getPlacePredictions(n({},b.props.searchOptions,{input:w}),b.autocompleteCallback))},b.clearSuggestions=function(){b.setState({suggestions:[]})},b.clearActive=function(){b.setState({suggestions:b.state.suggestions.map(function(w){return n({},w,{active:!1})})})},b.handleSelect=function(w,k,S){b.clearSuggestions(),b.props.onSelect?b.props.onSelect(w,k,S):b.props.onChange(w)},b.getActiveSuggestion=function(){return b.state.suggestions.find(function(w){return w.active})},b.selectActiveAtIndex=function(w){var k=b.state.suggestions.find(function(S){return S.index===w}).description;b.setActiveAtIndex(w),b.props.onChange(k)},b.selectUserInputValue=function(){b.clearActive(),b.props.onChange(b.state.userInputValue)},b.handleEnterKey=function(){var w=b.getActiveSuggestion();w===void 0?b.handleSelect(b.props.value,null,null):b.handleSelect(w.description,w.placeId,w)},b.handleDownKey=function(){if(b.state.suggestions.length!==0){var w=b.getActiveSuggestion();w===void 0?b.selectActiveAtIndex(0):w.index===b.state.suggestions.length-1?b.selectUserInputValue():b.selectActiveAtIndex(w.index+1)}},b.handleUpKey=function(){if(b.state.suggestions.length!==0){var w=b.getActiveSuggestion();w===void 0?b.selectActiveAtIndex(b.state.suggestions.length-1):w.index===0?b.selectUserInputValue():b.selectActiveAtIndex(w.index-1)}},b.handleInputKeyDown=function(w){switch(w.key){case"Enter":w.preventDefault(),b.handleEnterKey();break;case"ArrowDown":w.preventDefault(),b.handleDownKey();break;case"ArrowUp":w.preventDefault(),b.handleUpKey();break;case"Escape":b.clearSuggestions();break}},b.setActiveAtIndex=function(w){b.setState({suggestions:b.state.suggestions.map(function(k,S){return S===w?n({},k,{active:!0}):n({},k,{active:!1})})})},b.handleInputChange=function(w){var k=w.target.value;if(b.props.onChange(k),b.setState({userInputValue:k}),!k){b.clearSuggestions();return}b.props.shouldFetchSuggestions&&b.debouncedFetchPredictions()},b.handleInputOnBlur=function(){b.mousedownOnSuggestion||b.clearSuggestions()},b.getActiveSuggestionId=function(){var w=b.getActiveSuggestion();return w?"PlacesAutocomplete__suggestion-"+w.placeId:void 0},b.getIsExpanded=function(){return b.state.suggestions.length>0},b.getInputProps=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(w.hasOwnProperty("value"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `value`. Use `value` prop instead");if(w.hasOwnProperty("onChange"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `onChange`. Use `onChange` prop instead");var k={type:"text",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-expanded":b.getIsExpanded(),"aria-activedescendant":b.getActiveSuggestionId(),disabled:!b.state.ready};return n({},k,w,{onKeyDown:(0,l.compose)(b.handleInputKeyDown,w.onKeyDown),onBlur:(0,l.compose)(b.handleInputOnBlur,w.onBlur),value:b.props.value,onChange:function(C){b.handleInputChange(C)}})},b.getSuggestionItemProps=function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=b.handleSuggestionMouseEnter.bind(b,w.index),C=b.handleSuggestionClick.bind(b,w);return n({},k,{key:w.id,id:b.getActiveSuggestionId(),role:"option",onMouseEnter:(0,l.compose)(S,k.onMouseEnter),onMouseLeave:(0,l.compose)(b.handleSuggestionMouseLeave,k.onMouseLeave),onMouseDown:(0,l.compose)(b.handleSuggestionMouseDown,k.onMouseDown),onMouseUp:(0,l.compose)(b.handleSuggestionMouseUp,k.onMouseUp),onTouchStart:(0,l.compose)(b.handleSuggestionTouchStart,k.onTouchStart),onTouchEnd:(0,l.compose)(b.handleSuggestionMouseUp,k.onTouchEnd),onClick:(0,l.compose)(C,k.onClick)})},b.handleSuggestionMouseEnter=function(w){b.setActiveAtIndex(w)},b.handleSuggestionMouseLeave=function(){b.mousedownOnSuggestion=!1,b.clearActive()},b.handleSuggestionMouseDown=function(w){w.preventDefault(),b.mousedownOnSuggestion=!0},b.handleSuggestionTouchStart=function(){b.mousedownOnSuggestion=!0},b.handleSuggestionMouseUp=function(){b.mousedownOnSuggestion=!1},b.handleSuggestionClick=function(w,k){k&&k.preventDefault&&k.preventDefault();var S=w.description,C=w.placeId;b.handleSelect(S,C,w),setTimeout(function(){b.mousedownOnSuggestion=!1})},b.state={loading:!1,suggestions:[],userInputValue:x.value,ready:!x.googleCallbackName},b.debouncedFetchPredictions=(0,a.default)(b.fetchPredictions,x.debounce),b}return e(y,[{key:"componentDidMount",value:function(){var b=this.props.googleCallbackName;if(b){var w=window.google&&window.google.maps&&window.google.maps.places;w?this.init():window[b]=this.init}else this.init()}},{key:"componentWillUnmount",value:function(){var b=this.props.googleCallbackName;b&&window[b]&&delete window[b]}},{key:"render",value:function(){return this.props.children({getInputProps:this.getInputProps,getSuggestionItemProps:this.getSuggestionItemProps,loading:this.state.loading,suggestions:this.state.suggestions})}}]),y}(r.default.Component);return h.propTypes={onChange:o.default.func.isRequired,value:o.default.string.isRequired,children:o.default.func.isRequired,onError:o.default.func,onSelect:o.default.func,searchOptions:o.default.shape({bounds:o.default.object,componentRestrictions:o.default.object,location:o.default.object,offset:o.default.oneOfType([o.default.number,o.default.string]),radius:o.default.oneOfType([o.default.number,o.default.string]),types:o.default.array}),debounce:o.default.number,highlightFirstSuggestion:o.default.bool,shouldFetchSuggestions:o.default.bool,googleCallbackName:o.default.string},h.defaultProps={onError:function(y,x){return console.error(`[react-places-autocomplete]: error happened when fetching data from Google Maps API.
Please check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)
Status: `,y)},searchOptions:{},debounce:200,highlightFirstSuggestion:!1,shouldFetchSuggestions:!0},Hl.default=h,Hl}var So={},Bb;function Mz(){return Bb||(Bb=1,Object.defineProperty(So,"__esModule",{value:!0}),So.geocodeByAddress=function(e){var t=new window.google.maps.Geocoder,r=window.google.maps.GeocoderStatus.OK;return new Promise(function(i,o){t.geocode({address:e},function(s,a){a!==r&&o(a),i(s)})})},So.getLatLng=function(e){return new Promise(function(t,r){try{var i={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};t(i)}catch(o){r(o)}})},So.geocodeByPlaceId=function(e){var t=new window.google.maps.Geocoder,r=window.google.maps.GeocoderStatus.OK;return new Promise(function(i,o){t.geocode({placeId:e},function(s,a){a!==r&&o(a),i(s)})})}),So}var jb;function Ez(){if(jb)return wr;jb=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.getLatLng=wr.geocodeByPlaceId=wr.geocodeByAddress=void 0;var n=kz(),e=r(n),t=Mz();function r(i){return i&&i.__esModule?i:{default:i}}return wr.geocodeByAddress=t.geocodeByAddress,wr.geocodeByPlaceId=t.geocodeByPlaceId,wr.getLatLng=t.getLatLng,wr.default=e.default,wr}var Iu=Ez();const Tz=it(Iu);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Th=function(n,e){return Th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Th(n,e)};function xt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Th(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ze=function(){return ze=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ze.apply(this,arguments)};function Lg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Lz(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(n,[])).next())})}function Az(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Mk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Oz=function(n,e,t,r,i,o,s,a){if(!n){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[t,r,i,o,s,a],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Rz=Oz,zt=Mk(Rz),Ue=m.createContext(null);function Ek(){zt(!!m.useContext,"useGoogleMap is React hook and requires React version 16.8+");var n=m.useContext(Ue);return zt(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function Pz(n,e,t){return Object.keys(n).reduce(function(i,o){return e(i,n[o],o)},t)}function Dz(n,e){Object.keys(n).forEach(function(t){return e(n[t],t)})}function Iz(n,e,t,r){var i={},o=function(s,a){var l=t[a];l!==e[a]&&(i[a]=l,s(r,l))};return Dz(n,o),i}function Nz(n,e,t){var r=Pz(t,function(o,s,a){return typeof n[a]=="function"&&o.push(google.maps.event.addListener(e,s,n[a])),o},[]);return r}function _z(n){google.maps.event.removeListener(n)}function et(n){n===void 0&&(n=[]),n.forEach(_z)}function Ye(n){var e=n.updaterMap,t=n.eventMap,r=n.prevProps,i=n.nextProps,o=n.instance,s=Nz(i,o,t);return Iz(e,r,i,o),s}var zb={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Hb={extraMapTypes:function(n,e){e.forEach(function(r,i){n.mapTypes.set(String(i),r)})},center:function(n,e){n.setCenter(e)},clickableIcons:function(n,e){n.setClickableIcons(e)},heading:function(n,e){n.setHeading(e)},mapTypeId:function(n,e){n.setMapTypeId(e)},options:function(n,e){n.setOptions(e)},streetView:function(n,e){n.setStreetView(e)},tilt:function(n,e){n.setTilt(e)},zoom:function(n,e){n.setZoom(e)}};function $z(n){var e=n.children,t=n.options,r=n.id,i=n.mapContainerStyle,o=n.mapContainerClassName,s=n.center,a=n.onClick,l=n.onDblClick,u=n.onDrag,c=n.onDragEnd,d=n.onDragStart,f=n.onMouseMove,p=n.onMouseOut,h=n.onMouseOver,g=n.onMouseDown,y=n.onMouseUp,x=n.onRightClick,b=n.onCenterChanged,w=n.onLoad,k=n.onUnmount,S=m.useState(null),C=S[0],M=S[1],T=m.useRef(null),I=m.useState(null),R=I[0],z=I[1],_=m.useState(null),W=_[0],D=_[1],B=m.useState(null),F=B[0],N=B[1],Z=m.useState(null),me=Z[0],re=Z[1],U=m.useState(null),J=U[0],ue=U[1],Y=m.useState(null),E=Y[0],$=Y[1],Q=m.useState(null),te=Q[0],ne=Q[1],be=m.useState(null),ge=be[0],ye=be[1],Ce=m.useState(null),Me=Ce[0],O=Ce[1],P=m.useState(null),H=P[0],j=P[1],K=m.useState(null),ae=K[0],he=K[1],pe=m.useState(null),ce=pe[0],de=pe[1];return m.useEffect(function(){t&&C!==null&&C.setOptions(t)},[C,t]),m.useEffect(function(){C!==null&&typeof s<"u"&&C.setCenter(s)},[C,s]),m.useEffect(function(){C&&l&&(W!==null&&google.maps.event.removeListener(W),D(google.maps.event.addListener(C,"dblclick",l)))},[l]),m.useEffect(function(){C&&c&&(F!==null&&google.maps.event.removeListener(F),N(google.maps.event.addListener(C,"dragend",c)))},[c]),m.useEffect(function(){C&&d&&(me!==null&&google.maps.event.removeListener(me),re(google.maps.event.addListener(C,"dragstart",d)))},[d]),m.useEffect(function(){C&&g&&(J!==null&&google.maps.event.removeListener(J),ue(google.maps.event.addListener(C,"mousedown",g)))},[g]),m.useEffect(function(){C&&f&&(E!==null&&google.maps.event.removeListener(E),$(google.maps.event.addListener(C,"mousemove",f)))},[f]),m.useEffect(function(){C&&p&&(te!==null&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(C,"mouseout",p)))},[p]),m.useEffect(function(){C&&h&&(ge!==null&&google.maps.event.removeListener(ge),ye(google.maps.event.addListener(C,"mouseover",h)))},[h]),m.useEffect(function(){C&&y&&(Me!==null&&google.maps.event.removeListener(Me),O(google.maps.event.addListener(C,"mouseup",y)))},[y]),m.useEffect(function(){C&&x&&(H!==null&&google.maps.event.removeListener(H),j(google.maps.event.addListener(C,"rightclick",x)))},[x]),m.useEffect(function(){C&&a&&(ae!==null&&google.maps.event.removeListener(ae),he(google.maps.event.addListener(C,"click",a)))},[a]),m.useEffect(function(){C&&u&&(ce!==null&&google.maps.event.removeListener(ce),de(google.maps.event.addListener(C,"drag",u)))},[u]),m.useEffect(function(){C&&b&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(C,"center_changed",b)))},[a]),m.useEffect(function(){var Ie=T.current===null?null:new google.maps.Map(T.current,t);return M(Ie),Ie!==null&&w&&w(Ie),function(){Ie!==null&&k&&k(Ie)}},[]),v.jsx("div",{id:r,ref:T,style:i,className:o,children:v.jsx(Ue.Provider,{value:C,children:C!==null?e:null})})}m.memo($z);var Fz=function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={map:null},t.registeredEvents=[],t.mapRef=null,t.getInstance=function(){return t.mapRef===null?null:new google.maps.Map(t.mapRef,t.props.options)},t.panTo=function(r){var i=t.getInstance();i&&i.panTo(r)},t.setMapCallback=function(){t.state.map!==null&&t.props.onLoad&&t.props.onLoad(t.state.map)},t.getRef=function(r){t.mapRef=r},t}return e.prototype.componentDidMount=function(){var t=this.getInstance();this.registeredEvents=Ye({updaterMap:Hb,eventMap:zb,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)},e.prototype.componentDidUpdate=function(t){this.state.map!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Hb,eventMap:zb,prevProps:t,nextProps:this.props,instance:this.state.map}))},e.prototype.componentWillUnmount=function(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),et(this.registeredEvents))},e.prototype.render=function(){return v.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:v.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})},e}(m.PureComponent),Ni=typeof document<"u";function Tk(n){var e=n.url,t=n.id,r=n.nonce;return Ni?new Promise(function(o,s){var a=document.getElementById(t),l=window;if(a){var u=a.getAttribute("data-state");if(a.src===e&&u!=="error"){if(u==="ready")return o(t);var c=l.initMap,d=a.onerror;l.initMap=function(){c&&c(),o(t)},a.onerror=function(p){d&&d(p),s(p)};return}else a.remove()}var f=document.createElement("script");f.type="text/javascript",f.src=e,f.id=t,f.async=!0,f.nonce=r||"",f.onerror=function(h){f.setAttribute("data-state","error"),s(h)},l.initMap=function(){f.setAttribute("data-state","ready"),o(t)},document.head.appendChild(f)}).catch(function(i){throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function Vb(n){var e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function Lk(){var n=document.getElementsByTagName("head")[0];if(n){var e=n.insertBefore.bind(n);n.insertBefore=function(i,o){return Vb(i)||Reflect.apply(e,n,[i,o]),i};var t=n.appendChild.bind(n);n.appendChild=function(i){return Vb(i)||Reflect.apply(t,n,[i]),i}}}function Ak(n){var e=n.googleMapsApiKey,t=n.googleMapsClientId,r=n.version,i=r===void 0?"weekly":r,o=n.language,s=n.region,a=n.libraries,l=n.channel,u=n.mapIds,c=n.authReferrerPolicy,d=[];return zt(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?d.push("key=".concat(e)):t&&d.push("client=".concat(t)),i&&d.push("v=".concat(i)),o&&d.push("language=".concat(o)),s&&d.push("region=".concat(s)),a&&a.length&&d.push("libraries=".concat(a.sort().join(","))),l&&d.push("channel=".concat(l)),u&&u.length&&d.push("map_ids=".concat(u.join(","))),c&&d.push("auth_referrer_policy=".concat(c)),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var Is=!1;function Ok(){return v.jsx("div",{children:"Loading..."})}var Lh={id:"script-loader",version:"weekly"};(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.check=m.createRef(),t.state={loaded:!1},t.cleanupCallback=function(){delete window.google.maps,t.injectScript()},t.isCleaningUp=function(){return Lz(t,void 0,void 0,function(){function r(i){if(!Is)i();else if(Ni)var o=window.setInterval(function(){Is||(window.clearInterval(o),i())},1)}return Az(this,function(i){return[2,new Promise(r)]})})},t.cleanup=function(){Is=!0;var r=document.getElementById(t.props.id);r&&r.parentNode&&r.parentNode.removeChild(r),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(o){return typeof o.src=="string"&&o.src.includes("maps.googleapis")}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(o){return o.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(o){return o.innerText!==void 0&&o.innerText.length>0&&o.innerText.includes(".gm-")}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)})},t.injectScript=function(){t.props.preventGoogleFontsLoading&&Lk(),zt(!!t.props.id,'LoadScript requires "id" prop to be a string: %s',t.props.id);var r={id:t.props.id,nonce:t.props.nonce,url:Ak(t.props)};Tk(r).then(function(){t.props.onLoad&&t.props.onLoad(),t.setState(function(){return{loaded:!0}})}).catch(function(i){t.props.onError&&t.props.onError(i),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(t.props.googleMapsApiKey||"-",") or Client ID (").concat(t.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})},t}return e.prototype.componentDidMount=function(){if(Ni){if(window.google&&window.google.maps&&!Is){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}},e.prototype.componentDidUpdate=function(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ni&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))},e.prototype.componentWillUnmount=function(){var t=this;if(Ni){this.cleanup();var r=function(){t.check.current||(delete window.google,Is=!1)};window.setTimeout(r,1),this.props.onUnmount&&this.props.onUnmount()}},e.prototype.render=function(){return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||v.jsx(Ok,{})]})},e.defaultProps=Lh,e})(m.PureComponent);var Wb;function Ag(n){var e=n.id,t=e===void 0?Lh.id:e,r=n.version,i=r===void 0?Lh.version:r,o=n.nonce,s=n.googleMapsApiKey,a=n.googleMapsClientId,l=n.language,u=n.region,c=n.libraries,d=n.preventGoogleFontsLoading,f=n.channel,p=n.mapIds,h=n.authReferrerPolicy,g=m.useRef(!1),y=m.useState(!1),x=y[0],b=y[1],w=m.useState(void 0),k=w[0],S=w[1];m.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]),m.useEffect(function(){Ni&&d&&Lk()},[d]),m.useEffect(function(){x&&zt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[x]);var C=Ak({version:i,googleMapsApiKey:s,googleMapsClientId:a,language:l,region:u,libraries:c,channel:f,mapIds:p,authReferrerPolicy:h});m.useEffect(function(){if(!Ni)return;function I(){g.current&&(b(!0),Wb=C)}if(window.google&&window.google.maps&&Wb===C){I();return}Tk({id:t,url:C,nonce:o}).then(I).catch(function(z){g.current&&S(z),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(z)})},[t,C,o]);var M=m.useRef();return m.useEffect(function(){M.current&&c!==M.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),M.current=c},[c]),{isLoaded:x,loadError:k,url:C}}var Bz=v.jsx(Ok,{});function jz(n){var e=n.loadingElement,t=n.onLoad,r=n.onError,i=n.onUnmount,o=n.children,s=Lg(n,["loadingElement","onLoad","onError","onUnmount","children"]),a=Ag(s),l=a.isLoaded,u=a.loadError;return m.useEffect(function(){l&&typeof t=="function"&&t()},[l,t]),m.useEffect(function(){u&&typeof r=="function"&&r(u)},[u,r]),m.useEffect(function(){return function(){i&&i()}},[i]),l?o:e||Bz}m.memo(jz);var Ub;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(Ub||(Ub={}));var qb={},Gb={options:function(n,e){n.setOptions(e)}};function zz(n){var e=n.options,t=n.onLoad,r=n.onUnmount,i=m.useContext(Ue),o=m.useState(null),s=o[0],a=o[1];return m.useEffect(function(){s!==null&&s.setMap(i)},[i]),m.useEffect(function(){e&&s!==null&&s.setOptions(e)},[s,e]),m.useEffect(function(){var l=new google.maps.TrafficLayer(ze(ze({},e||{}),{map:i}));return a(l),t&&t(l),function(){s!==null&&(r&&r(s),s.setMap(null))}},[]),null}m.memo(zz);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={trafficLayer:null},t.setTrafficLayerCallback=function(){t.state.trafficLayer!==null&&t.props.onLoad&&t.props.onLoad(t.state.trafficLayer)},t.registeredEvents=[],t}return e.prototype.componentDidMount=function(){var t=new google.maps.TrafficLayer(ze(ze({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:Gb,eventMap:qb,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)},e.prototype.componentDidUpdate=function(t){this.state.trafficLayer!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Gb,eventMap:qb,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))},e.prototype.componentWillUnmount=function(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),et(this.registeredEvents),this.state.trafficLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);function Hz(n){var e=n.onLoad,t=n.onUnmount,r=m.useContext(Ue),i=m.useState(null),o=i[0],s=i[1];return m.useEffect(function(){o!==null&&o.setMap(r)},[r]),m.useEffect(function(){var a=new google.maps.BicyclingLayer;return s(a),a.setMap(r),e&&e(a),function(){a!==null&&(t&&t(a),a.setMap(null))}},[]),null}m.memo(Hz);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={bicyclingLayer:null},t.setBicyclingLayerCallback=function(){t.state.bicyclingLayer!==null&&(t.state.bicyclingLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.bicyclingLayer))},t}return e.prototype.componentDidMount=function(){var t=new google.maps.BicyclingLayer;this.setState(function(){return{bicyclingLayer:t}},this.setBicyclingLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);function Vz(n){var e=n.onLoad,t=n.onUnmount,r=m.useContext(Ue),i=m.useState(null),o=i[0],s=i[1];return m.useEffect(function(){o!==null&&o.setMap(r)},[r]),m.useEffect(function(){var a=new google.maps.TransitLayer;return s(a),a.setMap(r),e&&e(a),function(){o!==null&&(t&&t(o),o.setMap(null))}},[]),null}m.memo(Vz);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={transitLayer:null},t.setTransitLayerCallback=function(){t.state.transitLayer!==null&&(t.state.transitLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.transitLayer))},t}return e.prototype.componentDidMount=function(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);var Kb={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Yb={drawingMode:function(n,e){n.setDrawingMode(e)},options:function(n,e){n.setOptions(e)}};function Wz(n){var e=n.options,t=n.drawingMode,r=n.onCircleComplete,i=n.onMarkerComplete,o=n.onOverlayComplete,s=n.onPolygonComplete,a=n.onPolylineComplete,l=n.onRectangleComplete,u=n.onLoad,c=n.onUnmount,d=m.useContext(Ue),f=m.useState(null),p=f[0],h=f[1],g=m.useState(null),y=g[0],x=g[1],b=m.useState(null),w=b[0],k=b[1],S=m.useState(null),C=S[0],M=S[1],T=m.useState(null),I=T[0],R=T[1],z=m.useState(null),_=z[0],W=z[1],D=m.useState(null),B=D[0],F=D[1];return m.useEffect(function(){p!==null&&p.setMap(d)},[d]),m.useEffect(function(){e&&p!==null&&p.setOptions(e)},[p,e]),m.useEffect(function(){p!==null&&p.setDrawingMode(t??null)},[p,t]),m.useEffect(function(){p&&r&&(y!==null&&google.maps.event.removeListener(y),x(google.maps.event.addListener(p,"circlecomplete",r)))},[p,r]),m.useEffect(function(){p&&i&&(w!==null&&google.maps.event.removeListener(w),k(google.maps.event.addListener(p,"markercomplete",i)))},[p,i]),m.useEffect(function(){p&&o&&(C!==null&&google.maps.event.removeListener(C),M(google.maps.event.addListener(p,"overlaycomplete",o)))},[p,o]),m.useEffect(function(){p&&s&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(p,"polygoncomplete",s)))},[p,s]),m.useEffect(function(){p&&a&&(_!==null&&google.maps.event.removeListener(_),W(google.maps.event.addListener(p,"polylinecomplete",a)))},[p,a]),m.useEffect(function(){p&&l&&(B!==null&&google.maps.event.removeListener(B),F(google.maps.event.addListener(p,"rectanglecomplete",l)))},[p,l]),m.useEffect(function(){zt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var N=new google.maps.drawing.DrawingManager(ze(ze({},e||{}),{map:d}));return t&&N.setDrawingMode(t),r&&x(google.maps.event.addListener(N,"circlecomplete",r)),i&&k(google.maps.event.addListener(N,"markercomplete",i)),o&&M(google.maps.event.addListener(N,"overlaycomplete",o)),s&&R(google.maps.event.addListener(N,"polygoncomplete",s)),a&&W(google.maps.event.addListener(N,"polylinecomplete",a)),l&&F(google.maps.event.addListener(N,"rectanglecomplete",l)),h(N),u&&u(N),function(){p!==null&&(y&&google.maps.event.removeListener(y),w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),I&&google.maps.event.removeListener(I),_&&google.maps.event.removeListener(_),B&&google.maps.event.removeListener(B),c&&c(p),p.setMap(null))}},[]),null}m.memo(Wz);(function(n){xt(e,n);function e(t){var r=n.call(this,t)||this;return r.registeredEvents=[],r.state={drawingManager:null},r.setDrawingManagerCallback=function(){r.state.drawingManager!==null&&r.props.onLoad&&r.props.onLoad(r.state.drawingManager)},zt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),r}return e.prototype.componentDidMount=function(){var t=new google.maps.drawing.DrawingManager(ze(ze({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:Yb,eventMap:Kb,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)},e.prototype.componentDidUpdate=function(t){this.state.drawingManager!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Yb,eventMap:Kb,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))},e.prototype.componentWillUnmount=function(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),et(this.registeredEvents),this.state.drawingManager.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);var Jb={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Zb={animation:function(n,e){n.setAnimation(e)},clickable:function(n,e){n.setClickable(e)},cursor:function(n,e){n.setCursor(e)},draggable:function(n,e){n.setDraggable(e)},icon:function(n,e){n.setIcon(e)},label:function(n,e){n.setLabel(e)},map:function(n,e){n.setMap(e)},opacity:function(n,e){n.setOpacity(e)},options:function(n,e){n.setOptions(e)},position:function(n,e){n.setPosition(e)},shape:function(n,e){n.setShape(e)},title:function(n,e){n.setTitle(e)},visible:function(n,e){n.setVisible(e)},zIndex:function(n,e){n.setZIndex(e)}},Nu={};function Uz(n){var e=n.position,t=n.options,r=n.clusterer,i=n.noClustererRedraw,o=n.children,s=n.draggable,a=n.visible,l=n.animation,u=n.clickable,c=n.cursor,d=n.icon,f=n.label,p=n.opacity,h=n.shape,g=n.title,y=n.zIndex,x=n.onClick,b=n.onDblClick,w=n.onDrag,k=n.onDragEnd,S=n.onDragStart,C=n.onMouseOut,M=n.onMouseOver,T=n.onMouseUp,I=n.onMouseDown,R=n.onRightClick,z=n.onClickableChanged,_=n.onCursorChanged,W=n.onAnimationChanged,D=n.onDraggableChanged,B=n.onFlatChanged,F=n.onIconChanged,N=n.onPositionChanged,Z=n.onShapeChanged,me=n.onTitleChanged,re=n.onVisibleChanged,U=n.onZindexChanged,J=n.onLoad,ue=n.onUnmount,Y=m.useContext(Ue),E=m.useState(null),$=E[0],Q=E[1],te=m.useState(null),ne=te[0],be=te[1],ge=m.useState(null),ye=ge[0],Ce=ge[1],Me=m.useState(null),O=Me[0],P=Me[1],H=m.useState(null),j=H[0],K=H[1],ae=m.useState(null),he=ae[0],pe=ae[1],ce=m.useState(null),de=ce[0],Ie=ce[1],Te=m.useState(null),Oe=Te[0],Be=Te[1],Re=m.useState(null),Je=Re[0],It=Re[1],kt=m.useState(null),mt=kt[0],gt=kt[1],qt=m.useState(null),ut=qt[0],yn=qt[1],Dn=m.useState(null),Ft=Dn[0],un=Dn[1],Gt=m.useState(null),En=Gt[0],In=Gt[1],Gn=m.useState(null),cn=Gn[0],dn=Gn[1],Dr=m.useState(null),Kn=Dr[0],Yn=Dr[1],Nt=m.useState(null),Mt=Nt[0],Kt=Nt[1],Nn=m.useState(null),Jn=Nn[0],Ir=Nn[1],Nr=m.useState(null),Zt=Nr[0],Zn=Nr[1],_n=m.useState(null),$n=_n[0],se=_n[1],ie=m.useState(null),Ee=ie[0],xe=ie[1],He=m.useState(null),tt=He[0],A=He[1],G=m.useState(null),fe=G[0],ve=G[1];m.useEffect(function(){$!==null&&$.setMap(Y)},[Y]),m.useEffect(function(){typeof t<"u"&&$!==null&&$.setOptions(t)},[$,t]),m.useEffect(function(){typeof s<"u"&&$!==null&&$.setDraggable(s)},[$,s]),m.useEffect(function(){e&&$!==null&&$.setPosition(e)},[$,e]),m.useEffect(function(){typeof a<"u"&&$!==null&&$.setVisible(a)},[$,a]),m.useEffect(function(){$==null||$.setAnimation(l)},[$,l]),m.useEffect(function(){$&&u!==void 0&&$.setClickable(u)},[$,u]),m.useEffect(function(){$&&c!==void 0&&$.setCursor(c)},[$,c]),m.useEffect(function(){$&&d!==void 0&&$.setIcon(d)},[$,d]),m.useEffect(function(){$&&f!==void 0&&$.setLabel(f)},[$,f]),m.useEffect(function(){$&&p!==void 0&&$.setOpacity(p)},[$,p]),m.useEffect(function(){$&&h!==void 0&&$.setShape(h)},[$,h]),m.useEffect(function(){$&&g!==void 0&&$.setTitle(g)},[$,g]),m.useEffect(function(){$&&y!==void 0&&$.setZIndex(y)},[$,y]),m.useEffect(function(){$&&b&&(ne!==null&&google.maps.event.removeListener(ne),be(google.maps.event.addListener($,"dblclick",b)))},[b]),m.useEffect(function(){$&&k&&(ye!==null&&google.maps.event.removeListener(ye),Ce(google.maps.event.addListener($,"dragend",k)))},[k]),m.useEffect(function(){$&&S&&(O!==null&&google.maps.event.removeListener(O),P(google.maps.event.addListener($,"dragstart",S)))},[S]),m.useEffect(function(){$&&I&&(j!==null&&google.maps.event.removeListener(j),K(google.maps.event.addListener($,"mousedown",I)))},[I]),m.useEffect(function(){$&&C&&(he!==null&&google.maps.event.removeListener(he),pe(google.maps.event.addListener($,"mouseout",C)))},[C]),m.useEffect(function(){$&&M&&(de!==null&&google.maps.event.removeListener(de),Ie(google.maps.event.addListener($,"mouseover",M)))},[M]),m.useEffect(function(){$&&T&&(Oe!==null&&google.maps.event.removeListener(Oe),Be(google.maps.event.addListener($,"mouseup",T)))},[T]),m.useEffect(function(){$&&R&&(Je!==null&&google.maps.event.removeListener(Je),It(google.maps.event.addListener($,"rightclick",R)))},[R]),m.useEffect(function(){$&&x&&(mt!==null&&google.maps.event.removeListener(mt),gt(google.maps.event.addListener($,"click",x)))},[x]),m.useEffect(function(){$&&w&&(ut!==null&&google.maps.event.removeListener(ut),yn(google.maps.event.addListener($,"drag",w)))},[w]),m.useEffect(function(){$&&z&&(Ft!==null&&google.maps.event.removeListener(Ft),un(google.maps.event.addListener($,"clickable_changed",z)))},[z]),m.useEffect(function(){$&&_&&(En!==null&&google.maps.event.removeListener(En),In(google.maps.event.addListener($,"cursor_changed",_)))},[_]),m.useEffect(function(){$&&W&&(cn!==null&&google.maps.event.removeListener(cn),dn(google.maps.event.addListener($,"animation_changed",W)))},[W]),m.useEffect(function(){$&&D&&(Kn!==null&&google.maps.event.removeListener(Kn),Yn(google.maps.event.addListener($,"draggable_changed",D)))},[D]),m.useEffect(function(){$&&B&&(Mt!==null&&google.maps.event.removeListener(Mt),Kt(google.maps.event.addListener($,"flat_changed",B)))},[B]),m.useEffect(function(){$&&F&&(Jn!==null&&google.maps.event.removeListener(Jn),Ir(google.maps.event.addListener($,"icon_changed",F)))},[F]),m.useEffect(function(){$&&N&&(Zt!==null&&google.maps.event.removeListener(Zt),Zn(google.maps.event.addListener($,"position_changed",N)))},[N]),m.useEffect(function(){$&&Z&&($n!==null&&google.maps.event.removeListener($n),se(google.maps.event.addListener($,"shape_changed",Z)))},[Z]),m.useEffect(function(){$&&me&&(Ee!==null&&google.maps.event.removeListener(Ee),xe(google.maps.event.addListener($,"title_changed",me)))},[me]),m.useEffect(function(){$&&re&&(tt!==null&&google.maps.event.removeListener(tt),A(google.maps.event.addListener($,"visible_changed",re)))},[re]),m.useEffect(function(){$&&U&&(fe!==null&&google.maps.event.removeListener(fe),ve(google.maps.event.addListener($,"zindex_changed",U)))},[U]),m.useEffect(function(){var _e=ze(ze(ze({},t||Nu),r?Nu:{map:Y}),{position:e}),we=new google.maps.Marker(_e);return r?r.addMarker(we,!!i):we.setMap(Y),e&&we.setPosition(e),typeof a<"u"&&we.setVisible(a),typeof s<"u"&&we.setDraggable(s),typeof u<"u"&&we.setClickable(u),typeof c=="string"&&we.setCursor(c),d&&we.setIcon(d),typeof f<"u"&&we.setLabel(f),typeof p<"u"&&we.setOpacity(p),h&&we.setShape(h),typeof g=="string"&&we.setTitle(g),typeof y=="number"&&we.setZIndex(y),b&&be(google.maps.event.addListener(we,"dblclick",b)),k&&Ce(google.maps.event.addListener(we,"dragend",k)),S&&P(google.maps.event.addListener(we,"dragstart",S)),I&&K(google.maps.event.addListener(we,"mousedown",I)),C&&pe(google.maps.event.addListener(we,"mouseout",C)),M&&Ie(google.maps.event.addListener(we,"mouseover",M)),T&&Be(google.maps.event.addListener(we,"mouseup",T)),R&&It(google.maps.event.addListener(we,"rightclick",R)),x&&gt(google.maps.event.addListener(we,"click",x)),w&&yn(google.maps.event.addListener(we,"drag",w)),z&&un(google.maps.event.addListener(we,"clickable_changed",z)),_&&In(google.maps.event.addListener(we,"cursor_changed",_)),W&&dn(google.maps.event.addListener(we,"animation_changed",W)),D&&Yn(google.maps.event.addListener(we,"draggable_changed",D)),B&&Kt(google.maps.event.addListener(we,"flat_changed",B)),F&&Ir(google.maps.event.addListener(we,"icon_changed",F)),N&&Zn(google.maps.event.addListener(we,"position_changed",N)),Z&&se(google.maps.event.addListener(we,"shape_changed",Z)),me&&xe(google.maps.event.addListener(we,"title_changed",me)),re&&A(google.maps.event.addListener(we,"visible_changed",re)),U&&ve(google.maps.event.addListener(we,"zindex_changed",U)),Q(we),J&&J(we),function(){ne!==null&&google.maps.event.removeListener(ne),ye!==null&&google.maps.event.removeListener(ye),O!==null&&google.maps.event.removeListener(O),j!==null&&google.maps.event.removeListener(j),he!==null&&google.maps.event.removeListener(he),de!==null&&google.maps.event.removeListener(de),Oe!==null&&google.maps.event.removeListener(Oe),Je!==null&&google.maps.event.removeListener(Je),mt!==null&&google.maps.event.removeListener(mt),Ft!==null&&google.maps.event.removeListener(Ft),En!==null&&google.maps.event.removeListener(En),cn!==null&&google.maps.event.removeListener(cn),Kn!==null&&google.maps.event.removeListener(Kn),Mt!==null&&google.maps.event.removeListener(Mt),Jn!==null&&google.maps.event.removeListener(Jn),Zt!==null&&google.maps.event.removeListener(Zt),Ee!==null&&google.maps.event.removeListener(Ee),tt!==null&&google.maps.event.removeListener(tt),fe!==null&&google.maps.event.removeListener(fe),ue&&ue(we),r?r.removeMarker(we,!!i):we&&we.setMap(null)}},[]);var je=m.useMemo(function(){return o?m.Children.map(o,function(_e){if(!m.isValidElement(_e))return _e;var we=_e;return m.cloneElement(we,{anchor:$})}):null},[o,$]);return v.jsx(v.Fragment,{children:je})||null}m.memo(Uz);var qz=function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t}return e.prototype.componentDidMount=function(){var t=ze(ze(ze({},this.props.options||Nu),this.props.clusterer?Nu:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(t),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=Ye({updaterMap:Zb,eventMap:Jb,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},e.prototype.componentDidUpdate=function(t){this.marker&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Zb,eventMap:Jb,prevProps:t,nextProps:this.props,instance:this.marker}))},e.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),et(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},e.prototype.render=function(){var t=this,r=null;return this.props.children&&(r=m.Children.map(this.props.children,function(i){if(!m.isValidElement(i))return i;var o=i;return m.cloneElement(o,{anchor:t.marker})})),r||null},e.contextType=Ue,e}(m.PureComponent),Gz=function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var r=t.getMaxZoom(),i=this.cluster.getBounds(),o=t.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(i),this.timeOut=window.setTimeout(function(){var s=t.getMap();if(s!==null){"fitBounds"in s&&s.fitBounds(i);var a=s.getZoom()||0;r!==null&&a>r&&s.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,r,i,o,s;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),u=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt(((t=l[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(d!==null?"".concat(d.y,"px"):"0","; left: ").concat(d!==null?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var f=document.createElement("img");f.alt=a,f.src=this.url,f.width=this.width,f.height=this.height,f.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(f.style.clip="rect(-".concat(c,"px, -").concat(u+this.width,"px, -").concat(c+this.height,", -").concat(u,")"));var p=document.createElement("div");p.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(p.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(p.innerHTML="".concat((s=this.sums)===null||s===void 0?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(f),this.div.appendChild(p),this.div.title=a,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),r=t[Math.min(t.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n}(),Kz=function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Gz(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),r=0,i=t;r<i.length;r++){var o=i[r],s=o.getPosition();s&&e.extend(s)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var o=this.markers.length,s=this.markerClusterer.getMaxZoom(),a=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(s!==null&&typeof a<"u"&&a>s)e.getMap()!==this.map&&e.setMap(this.map);else if(o<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(o===this.minClusterSize)for(var l=0,u=this.markers;l<u.length;l++){var c=u[l];c.setMap(null)}else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n}();function Yz(n,e){var t=n.length,r=t.toString().length,i=Math.min(r,e);return{text:t.toString(),index:i,title:""}}var Jz=2e3,Zz=500,Xz="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",Qz="png",e6=[53,56,66,78,90],t6="cluster",Rk=function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||Xz,this.imageExtension=r.imageExtension||Qz,this.imageSizes=r.imageSizes||e6,this.calculator=r.calculator||Yz,this.batchSize=r.batchSize||Jz,this.batchSizeIE=r.batchSizeIE||Zz,this.clusterClass=r.clusterClass||t6,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var r=t[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,o=this.clusters;i<o.length;i++){var s=o[i];s.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var u=l[a];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.getMap=function(){return null},n.prototype.getPanes=function(){return null},n.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},n.prototype.setMap=function(){},n.prototype.addListener=function(){return{remove:function(){}}},n.prototype.bindTo=function(){},n.prototype.get=function(){},n.prototype.notify=function(){},n.prototype.set=function(){},n.prototype.setValues=function(){},n.prototype.unbind=function(){},n.prototype.unbindAll=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var o=i[r],s=o.getPosition();s&&t.extend(s)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){t=r;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!t&&r&&this.repaint(),r},n.prototype.removeMarkers=function(e,t){for(var r=!1,i=0,o=e;i<o.length;i++){var s=o[i];r=r||this.removeMarker_(s)}return!t&&r&&this.repaint(),r},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var o=i[r];o.remove()}},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var o=t.fromDivPixelToLatLng(r);o!==null&&e.extend(o)}if(i!==null){var s=t.fromDivPixelToLatLng(i);s!==null&&e.extend(s)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0,r=this.clusters;t<r.length;t++){var i=r[t];i.remove()}this.clusters=[];for(var o=0,s=this.markers;o<s.length;o++){var a=s[o];a.isAdded=!1,e&&a.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var r=6371,i=(t.lat()-e.lat())*Math.PI/180,o=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return r*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},n.prototype.isMarkerInBounds=function(e,t){var r=e.getPosition();return r?t.contains(r):!1},n.prototype.addToClosestCluster=function(e){for(var t,r=4e4,i=null,o=0,s=this.clusters;o<s.length;o++){var a=s[o];t=a;var l=t.getCenter(),u=e.getPosition();if(l&&u){var c=this.distanceBetweenPoints(l,u);c<r&&(r=c,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(t=new Kz(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,o=(r==null?void 0:r.getZoom())||0,s=o>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(s),l=Math.min(e+this.batchSize,this.markers.length),u=e;u<l;u++){var c=this.markers[u];c&&!c.isAdded&&this.isMarkerInBounds(c,a)&&(!this.ignoreHidden||this.ignoreHidden&&c.getVisible())&&this.addToClosestCluster(c)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var d=0,f=this.clusters;d<f.length;d++){var p=f[d];p.updateIcon()}}}},n.prototype.extend=function(e,t){return(function(i){for(var o in i.prototype){var s=o;this.prototype[s]=i.prototype[s]}return this}).apply(e,[t])},n}(),nr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},dt={averageCenter:function(n,e){n.setAverageCenter(e)},batchSizeIE:function(n,e){n.setBatchSizeIE(e)},calculator:function(n,e){n.setCalculator(e)},clusterClass:function(n,e){n.setClusterClass(e)},enableRetinaIcons:function(n,e){n.setEnableRetinaIcons(e)},gridSize:function(n,e){n.setGridSize(e)},ignoreHidden:function(n,e){n.setIgnoreHidden(e)},imageExtension:function(n,e){n.setImageExtension(e)},imagePath:function(n,e){n.setImagePath(e)},imageSizes:function(n,e){n.setImageSizes(e)},maxZoom:function(n,e){n.setMaxZoom(e)},minimumClusterSize:function(n,e){n.setMinimumClusterSize(e)},styles:function(n,e){n.setStyles(e)},title:function(n,e){n.setTitle(e)},zoomOnClick:function(n,e){n.setZoomOnClick(e)}},n6={};function r6(n){var e=n.children,t=n.options,r=n.averageCenter,i=n.batchSizeIE,o=n.calculator,s=n.clusterClass,a=n.enableRetinaIcons,l=n.gridSize,u=n.ignoreHidden,c=n.imageExtension,d=n.imagePath,f=n.imageSizes,p=n.maxZoom,h=n.minimumClusterSize,g=n.styles,y=n.title,x=n.zoomOnClick,b=n.onClick,w=n.onClusteringBegin,k=n.onClusteringEnd,S=n.onMouseOver,C=n.onMouseOut,M=n.onLoad,T=n.onUnmount,I=m.useState(null),R=I[0],z=I[1],_=m.useContext(Ue),W=m.useState(null),D=W[0],B=W[1],F=m.useState(null),N=F[0],Z=F[1],me=m.useState(null),re=me[0],U=me[1],J=m.useState(null),ue=J[0],Y=J[1],E=m.useState(null),$=E[0],Q=E[1];return m.useEffect(function(){R&&C&&(ue!==null&&google.maps.event.removeListener(ue),Y(google.maps.event.addListener(R,nr.onMouseOut,C)))},[C]),m.useEffect(function(){R&&S&&($!==null&&google.maps.event.removeListener($),Q(google.maps.event.addListener(R,nr.onMouseOver,S)))},[S]),m.useEffect(function(){R&&b&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(R,nr.onClick,b)))},[b]),m.useEffect(function(){R&&w&&(N!==null&&google.maps.event.removeListener(N),Z(google.maps.event.addListener(R,nr.onClusteringBegin,w)))},[w]),m.useEffect(function(){R&&k&&(re!==null&&google.maps.event.removeListener(re),Z(google.maps.event.addListener(R,nr.onClusteringEnd,k)))},[k]),m.useEffect(function(){typeof r<"u"&&R!==null&&dt.averageCenter(R,r)},[R,r]),m.useEffect(function(){typeof i<"u"&&R!==null&&dt.batchSizeIE(R,i)},[R,i]),m.useEffect(function(){typeof o<"u"&&R!==null&&dt.calculator(R,o)},[R,o]),m.useEffect(function(){typeof s<"u"&&R!==null&&dt.clusterClass(R,s)},[R,s]),m.useEffect(function(){typeof a<"u"&&R!==null&&dt.enableRetinaIcons(R,a)},[R,a]),m.useEffect(function(){typeof l<"u"&&R!==null&&dt.gridSize(R,l)},[R,l]),m.useEffect(function(){typeof u<"u"&&R!==null&&dt.ignoreHidden(R,u)},[R,u]),m.useEffect(function(){typeof c<"u"&&R!==null&&dt.imageExtension(R,c)},[R,c]),m.useEffect(function(){typeof d<"u"&&R!==null&&dt.imagePath(R,d)},[R,d]),m.useEffect(function(){typeof f<"u"&&R!==null&&dt.imageSizes(R,f)},[R,f]),m.useEffect(function(){typeof p<"u"&&R!==null&&dt.maxZoom(R,p)},[R,p]),m.useEffect(function(){typeof h<"u"&&R!==null&&dt.minimumClusterSize(R,h)},[R,h]),m.useEffect(function(){typeof g<"u"&&R!==null&&dt.styles(R,g)},[R,g]),m.useEffect(function(){typeof y<"u"&&R!==null&&dt.title(R,y)},[R,y]),m.useEffect(function(){typeof x<"u"&&R!==null&&dt.zoomOnClick(R,x)},[R,x]),m.useEffect(function(){if(_){var te=ze({},t||n6),ne=new Rk(_,[],te);return r&&dt.averageCenter(ne,r),i&&dt.batchSizeIE(ne,i),o&&dt.calculator(ne,o),s&&dt.clusterClass(ne,s),a&&dt.enableRetinaIcons(ne,a),l&&dt.gridSize(ne,l),u&&dt.ignoreHidden(ne,u),c&&dt.imageExtension(ne,c),d&&dt.imagePath(ne,d),f&&dt.imageSizes(ne,f),p&&dt.maxZoom(ne,p),h&&dt.minimumClusterSize(ne,h),g&&dt.styles(ne,g),y&&dt.title(ne,y),x&&dt.zoomOnClick(ne,x),C&&Y(google.maps.event.addListener(ne,nr.onMouseOut,C)),S&&Q(google.maps.event.addListener(ne,nr.onMouseOver,S)),b&&B(google.maps.event.addListener(ne,nr.onClick,b)),w&&Z(google.maps.event.addListener(ne,nr.onClusteringBegin,w)),k&&U(google.maps.event.addListener(ne,nr.onClusteringEnd,k)),z(ne),M&&M(ne),function(){ue!==null&&google.maps.event.removeListener(ue),$!==null&&google.maps.event.removeListener($),D!==null&&google.maps.event.removeListener(D),N!==null&&google.maps.event.removeListener(N),re!==null&&google.maps.event.removeListener(re),T&&T(ne)}}},[]),R!==null&&e(R)||null}m.memo(r6);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={markerClusterer:null},t.setClustererCallback=function(){t.state.markerClusterer!==null&&t.props.onLoad&&t.props.onLoad(t.state.markerClusterer)},t}return e.prototype.componentDidMount=function(){if(this.context){var t=new Rk(this.context,[],this.props.options);this.registeredEvents=Ye({updaterMap:dt,eventMap:nr,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{markerClusterer:t}},this.setClustererCallback)}},e.prototype.componentDidUpdate=function(t){this.state.markerClusterer&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:dt,eventMap:nr,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))},e.prototype.componentWillUnmount=function(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),et(this.registeredEvents),this.state.markerClusterer.setMap(null))},e.prototype.render=function(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null},e.contextType=Ue,e})(m.PureComponent);function Xb(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var Pk=function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(u){u.returnValue=!1,u.preventDefault&&u.preventDefault(),e.enableEventPropagation||Xb(u)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],s=0,a=o;s<a.length;s++){var l=a[s];this.eventListeners.push(google.maps.event.addListener(this.div,l,Xb))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var r=0,i=0,o=t.getBounds();o&&!o.contains(this.position)&&t.setCenter(this.position);var s=t.getDiv(),a=s.offsetWidth,l=s.offsetHeight,u=this.pixelOffset.width,c=this.pixelOffset.height,d=this.div.offsetWidth,f=this.div.offsetHeight,p=this.infoBoxClearance.width,h=this.infoBoxClearance.height,g=this.getProjection(),y=g.fromLatLngToContainerPixel(this.position);y!==null&&(y.x<-u+p?r=y.x+u-p:y.x+d+u+p>a&&(r=y.x+d+u+p-a),this.alignBottom?y.y<-c+h+f?i=y.y+c-h-f:y.y+c+h>l&&(i=y.y+c+h-l):y.y<-c+h?i=y.y+c-h:y.y+f+c+h>l&&(i=y.y+f+c+h-l)),r===0&&i===0||t.panBy(r,i)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,r=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var r=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var i=t.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){r.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var r=t[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return(function(i){for(var o in i.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=i.prototype[o]);return this}).apply(e,[t])},n}(),Qb={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},ex={options:function(n,e){n.setOptions(e)},position:function(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible:function(n,e){n.setVisible(e)},zIndex:function(n,e){n.setZIndex(e)}},i6={};function o6(n){var e=n.children,t=n.anchor,r=n.options,i=n.position,o=n.zIndex,s=n.onCloseClick,a=n.onDomReady,l=n.onContentChanged,u=n.onPositionChanged,c=n.onZindexChanged,d=n.onLoad,f=n.onUnmount,p=m.useContext(Ue),h=m.useState(null),g=h[0],y=h[1],x=m.useState(null),b=x[0],w=x[1],k=m.useState(null),S=k[0],C=k[1],M=m.useState(null),T=M[0],I=M[1],R=m.useState(null),z=R[0],_=R[1],W=m.useState(null),D=W[0],B=W[1],F=m.useRef(null);return m.useEffect(function(){p&&g!==null&&(g.close(),t?g.open(p,t):g.getPosition()&&g.open(p))},[p,g,t]),m.useEffect(function(){r&&g!==null&&g.setOptions(r)},[g,r]),m.useEffect(function(){if(i&&g!==null){var N=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);g.setPosition(N)}},[i]),m.useEffect(function(){typeof o=="number"&&g!==null&&g.setZIndex(o)},[o]),m.useEffect(function(){g&&s&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(g,"closeclick",s)))},[s]),m.useEffect(function(){g&&a&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(g,"domready",a)))},[a]),m.useEffect(function(){g&&l&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(g,"content_changed",l)))},[l]),m.useEffect(function(){g&&u&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(g,"position_changed",u)))},[u]),m.useEffect(function(){g&&c&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(g,"zindex_changed",c)))},[c]),m.useEffect(function(){if(p){var N=r||i6,Z=N.position,me=Lg(N,["position"]),re=void 0;Z&&!(Z instanceof google.maps.LatLng)&&(re=new google.maps.LatLng(Z.lat,Z.lng));var U=new Pk(ze(ze({},me),re?{position:re}:{}));F.current=document.createElement("div"),y(U),s&&w(google.maps.event.addListener(U,"closeclick",s)),a&&C(google.maps.event.addListener(U,"domready",a)),l&&I(google.maps.event.addListener(U,"content_changed",l)),u&&_(google.maps.event.addListener(U,"position_changed",u)),c&&B(google.maps.event.addListener(U,"zindex_changed",c)),U.setContent(F.current),t?U.open(p,t):U.getPosition()?U.open(p):zt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(U)}return function(){g!==null&&(b&&google.maps.event.removeListener(b),T&&google.maps.event.removeListener(T),S&&google.maps.event.removeListener(S),z&&google.maps.event.removeListener(z),D&&google.maps.event.removeListener(D),f&&f(g),g.close())}},[]),F.current?Ci.createPortal(m.Children.only(e),F.current):null}m.memo(o6);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoBox:null},t.open=function(r,i){i?t.context!==null&&r.open(t.context,i):r.getPosition()?t.context!==null&&r.open(t.context):zt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},t.setInfoBoxCallback=function(){t.state.infoBox!==null&&t.containerElement!==null&&(t.state.infoBox.setContent(t.containerElement),t.open(t.state.infoBox,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoBox))},t}return e.prototype.componentDidMount=function(){var t=this.props.options||{},r=t.position,i=Lg(t,["position"]),o;r&&!(r instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(r.lat,r.lng));var s=new Pk(ze(ze({},i),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ye({updaterMap:ex,eventMap:Qb,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)},e.prototype.componentDidUpdate=function(t){var r=this.state.infoBox;r!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:ex,eventMap:Qb,prevProps:t,nextProps:this.props,instance:r}))},e.prototype.componentWillUnmount=function(){var t=this.props.onUnmount,r=this.state.infoBox;r!==null&&(t&&t(r),et(this.registeredEvents),r.close())},e.prototype.render=function(){return this.containerElement?Ci.createPortal(m.Children.only(this.props.children),this.containerElement):null},e.contextType=Ue,e})(m.PureComponent);var s6=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t},tx=Mk(s6);const nx=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],yp=1,Ns=8;class Og{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,r]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==yp)throw new Error(`Got v${i} data when expected v${yp}.`);const o=nx[r&15];if(!o)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Og(a,s,o,e)}constructor(e,t=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=nx.indexOf(this.ArrayType),s=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Ns,e),this.coords=new this.ArrayType(this.data,Ns+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Ns+s+a+l),this.ids=new this.IndexArrayType(this.data,Ns,e),this.coords=new this.ArrayType(this.data,Ns+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(yp<<4)+o]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Ah(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:a}=this,l=[0,o.length-1,0],u=[];for(;l.length;){const c=l.pop()||0,d=l.pop()||0,f=l.pop()||0;if(d-f<=a){for(let y=f;y<=d;y++){const x=s[2*y],b=s[2*y+1];x>=e&&x<=r&&b>=t&&b<=i&&u.push(o[y])}continue}const p=f+d>>1,h=s[2*p],g=s[2*p+1];h>=e&&h<=r&&g>=t&&g<=i&&u.push(o[p]),(c===0?e<=h:t<=g)&&(l.push(f),l.push(p-1),l.push(1-c)),(c===0?r>=h:i>=g)&&(l.push(p+1),l.push(d),l.push(1-c))}return u}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],l=[],u=r*r;for(;a.length;){const c=a.pop()||0,d=a.pop()||0,f=a.pop()||0;if(d-f<=s){for(let y=f;y<=d;y++)rx(o[2*y],o[2*y+1],e,t)<=u&&l.push(i[y]);continue}const p=f+d>>1,h=o[2*p],g=o[2*p+1];rx(h,g,e,t)<=u&&l.push(i[p]),(c===0?e-r<=h:t-r<=g)&&(a.push(f),a.push(p-1),a.push(1-c)),(c===0?e+r>=h:t+r>=g)&&(a.push(p+1),a.push(d),a.push(1-c))}return l}}function Ah(n,e,t,r,i,o){if(i-r<=t)return;const s=r+i>>1;Dk(n,e,s,r,i,o),Ah(n,e,t,r,s-1,1-o),Ah(n,e,t,s+1,i,1-o)}function Dk(n,e,t,r,i,o){for(;i>r;){if(i-r>600){const u=i-r+1,c=t-r+1,d=Math.log(u),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(u-f)/u)*(c-u/2<0?-1:1),h=Math.max(r,Math.floor(t-c*f/u+p)),g=Math.min(i,Math.floor(t+(u-c)*f/u+p));Dk(n,e,t,h,g,o)}const s=e[2*t+o];let a=r,l=i;for(_s(n,e,r,t),e[2*i+o]>s&&_s(n,e,r,i);a<l;){for(_s(n,e,a,l),a++,l--;e[2*a+o]<s;)a++;for(;e[2*l+o]>s;)l--}e[2*r+o]===s?_s(n,e,r,l):(l++,_s(n,e,l,i)),l<=t&&(r=l+1),t<=l&&(i=l-1)}}function _s(n,e,t,r){bp(n,t,r),bp(e,2*t,2*r),bp(e,2*t+1,2*r+1)}function bp(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function rx(n,e,t,r){const i=n-t,o=e-r;return i*i+o*o}const a6={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},ix=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),Li=2,ii=3,xp=4,ti=5,Ik=6;class l6{constructor(e){this.options=Object.assign(Object.create(a6),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:r,maxZoom:i}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;const s=[];for(let l=0;l<e.length;l++){const u=e[l];if(!u.geometry)continue;const[c,d]=u.geometry.coordinates,f=ix(Vl(c)),p=ix(Wl(d));s.push(f,p,1/0,l,-1,1),this.options.reduce&&s.push(0)}let a=this.trees[i+1]=this._createTree(s);t&&console.timeEnd(o);for(let l=i;l>=r;l--){const u=+Date.now();a=this.trees[l]=this._createTree(this._cluster(a,l)),t&&console.log("z%d: %d clusters in %dms",l,a.numItems,+Date.now()-u)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let o=e[2]===180?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){const d=this.getClusters([r,i,180,s],t),f=this.getClusters([-180,i,o,s],t);return d.concat(f)}const a=this.trees[this._limitZoom(t)],l=a.range(Vl(r),Wl(s),Vl(o),Wl(i)),u=a.data,c=[];for(const d of l){const f=this.stride*d;c.push(u[f+ti]>1?ox(u,f,this.clusterProps):this.points[u[f+ii]])}return c}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(i);const s=o.data;if(t*this.stride>=s.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=s[t*this.stride],u=s[t*this.stride+1],c=o.within(l,u,a),d=[];for(const f of c){const p=f*this.stride;s[p+xp]===e&&d.push(s[p+ti]>1?ox(s,p,this.clusterProps):this.points[s[p+ii]])}if(d.length===0)throw new Error(i);return d}getLeaves(e,t,r){t=t||10,r=r||0;const i=[];return this._appendLeaves(i,e,t,r,0),i}getTile(e,t,r){const i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:s,radius:a}=this.options,l=a/s,u=(r-l)/o,c=(r+1+l)/o,d={features:[]};return this._addTileFeatures(i.range((t-l)/o,u,(t+1+l)/o,c),i.data,t,r,o,d),t===0&&this._addTileFeatures(i.range(1-l/o,u,1,c),i.data,o,r,o,d),t===o-1&&this._addTileFeatures(i.range(0,u,l/o,c),i.data,-1,r,o,d),d.features.length?d:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,r.length!==1)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,i,o){const s=this.getChildren(t);for(const a of s){const l=a.properties;if(l&&l.cluster?o+l.point_count<=i?o+=l.point_count:o=this._appendLeaves(e,l.cluster_id,r,i,o):o<i?o++:e.push(a),e.length===r)break}return o}_createTree(e){const t=new Og(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,i,o,s){for(const a of e){const l=a*this.stride,u=t[l+ti]>1;let c,d,f;if(u)c=Nk(t,l,this.clusterProps),d=t[l],f=t[l+1];else{const g=this.points[t[l+ii]];c=g.properties;const[y,x]=g.geometry.coordinates;d=Vl(y),f=Wl(x)}const p={type:1,geometry:[[Math.round(this.options.extent*(d*o-r)),Math.round(this.options.extent*(f*o-i))]],tags:c};let h;u||this.options.generateId?h=t[l+ii]:h=this.points[t[l+ii]].id,h!==void 0&&(p.id=h),s.features.push(p)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:r,extent:i,reduce:o,minPoints:s}=this.options,a=r/(i*Math.pow(2,t)),l=e.data,u=[],c=this.stride;for(let d=0;d<l.length;d+=c){if(l[d+Li]<=t)continue;l[d+Li]=t;const f=l[d],p=l[d+1],h=e.within(l[d],l[d+1],a),g=l[d+ti];let y=g;for(const x of h){const b=x*c;l[b+Li]>t&&(y+=l[b+ti])}if(y>g&&y>=s){let x=f*g,b=p*g,w,k=-1;const S=((d/c|0)<<5)+(t+1)+this.points.length;for(const C of h){const M=C*c;if(l[M+Li]<=t)continue;l[M+Li]=t;const T=l[M+ti];x+=l[M]*T,b+=l[M+1]*T,l[M+xp]=S,o&&(w||(w=this._map(l,d,!0),k=this.clusterProps.length,this.clusterProps.push(w)),o(w,this._map(l,M)))}l[d+xp]=S,u.push(x/y,b/y,1/0,S,-1,y),o&&u.push(k)}else{for(let x=0;x<c;x++)u.push(l[d+x]);if(y>1)for(const x of h){const b=x*c;if(!(l[b+Li]<=t)){l[b+Li]=t;for(let w=0;w<c;w++)u.push(l[b+w])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+ti]>1){const s=this.clusterProps[e[t+Ik]];return r?Object.assign({},s):s}const i=this.points[e[t+ii]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}function ox(n,e,t){return{type:"Feature",id:n[e+ii],properties:Nk(n,e,t),geometry:{type:"Point",coordinates:[u6(n[e]),c6(n[e+1])]}}}function Nk(n,e,t){const r=n[e+ti],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,o=n[e+Ik],s=o===-1?{}:Object.assign({},t[o]);return Object.assign(s,{cluster:!0,cluster_id:n[e+ii],point_count:r,point_count_abbreviated:i})}function Vl(n){return n/360+.5}function Wl(n){const e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function u6(n){return(n-.5)*360}function c6(n){const e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function d6(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}class jn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Oh{constructor({markers:e,position:t}){this.markers=e,t&&(t instanceof google.maps.LatLng?this._position=t:this._position=new google.maps.LatLng(t))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(jn.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>jn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(jn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class f6{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return p6(e)}}const p6=n=>n.map(t=>new Oh({position:jn.getPosition(t),markers:[t]}));class h6 extends f6{constructor(e){var{maxZoom:t,radius:r=60}=e,i=d6(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new l6(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let t=!1;const r={zoom:e.map.getZoom()};if(!tx(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=jn.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return t||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(t=!tx(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(t=>this.transformCluster(t))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){if(r.cluster)return new Oh({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:t,lng:e}});const i=r.marker;return new Oh({markers:[i],position:jn.getPosition(i)})}}class m6{constructor(e,t){this.markers={sum:e.length};const r=t.map(o=>o.count),i=r.reduce((o,s)=>o+s,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class g6{render({count:e,position:t},r,i){const s=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,l=Number(google.maps.Marker.MAX_ZINDEX)+e;if(jn.isAdvancedMarkerAvailable(i)){const d=new DOMParser().parseFromString(s,"image/svg+xml").documentElement;d.setAttribute("transform","translate(0 25)");const f={map:i,position:t,zIndex:l,title:a,content:d};return new google.maps.marker.AdvancedMarkerElement(f)}const u={position:t,zIndex:l,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(u)}}function v6(n,e){for(let t in e.prototype)n.prototype[t]=e.prototype[t]}class Rg{constructor(){v6(Rg,google.maps.OverlayView)}}var Pa;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(Pa||(Pa={}));const y6=(n,e,t)=>{t.fitBounds(e.bounds)};class b6 extends Rg{constructor({map:e,markers:t=[],algorithmOptions:r={},algorithm:i=new h6(r),renderer:o=new g6,onClusterClick:s=y6}){super(),this.markers=[...t],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){const r=this.markers.indexOf(e);return r===-1?!1:(jn.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Pa.CLUSTERING_BEGIN,this);const{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const s of t)s.markers.length==1&&i.add(s.markers[0]);const o=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||jn.setMap(s.marker,null):o.push(s.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>o.forEach(s=>jn.setMap(s,null)))}google.maps.event.trigger(this,Pa.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>jn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new m6(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,t),r.markers.forEach(i=>jn.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Pa.CLUSTER_CLICK,r),this.onClusterClick(i,r,t)})),jn.setMap(r.marker,t)})}}function x6(n){var e=Ek(),t=m.useState(null),r=t[0],i=t[1];return m.useEffect(function(){if(e&&r===null){var o=new b6(ze(ze({},n),{map:e}));i(o)}},[e]),r}function w6(n){var e=n.children,t=n.options,r=x6(t);return r!==null?e(r):null}m.memo(w6);var sx={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},ax={options:function(n,e){n.setOptions(e)},position:function(n,e){n.setPosition(e)},zIndex:function(n,e){n.setZIndex(e)}};function C6(n){var e=n.children,t=n.anchor,r=n.options,i=n.position,o=n.zIndex,s=n.onCloseClick,a=n.onDomReady,l=n.onContentChanged,u=n.onPositionChanged,c=n.onZindexChanged,d=n.onLoad,f=n.onUnmount,p=m.useContext(Ue),h=m.useState(null),g=h[0],y=h[1],x=m.useState(null),b=x[0],w=x[1],k=m.useState(null),S=k[0],C=k[1],M=m.useState(null),T=M[0],I=M[1],R=m.useState(null),z=R[0],_=R[1],W=m.useState(null),D=W[0],B=W[1],F=m.useRef(null);return m.useEffect(function(){g!==null&&(g.close(),t?g.open(p,t):g.getPosition()&&g.open(p))},[p,g,t]),m.useEffect(function(){r&&g!==null&&g.setOptions(r)},[g,r]),m.useEffect(function(){i&&g!==null&&g.setPosition(i)},[i]),m.useEffect(function(){typeof o=="number"&&g!==null&&g.setZIndex(o)},[o]),m.useEffect(function(){g&&s&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(g,"closeclick",s)))},[s]),m.useEffect(function(){g&&a&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(g,"domready",a)))},[a]),m.useEffect(function(){g&&l&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(g,"content_changed",l)))},[l]),m.useEffect(function(){g&&u&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(g,"position_changed",u)))},[u]),m.useEffect(function(){g&&c&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(g,"zindex_changed",c)))},[c]),m.useEffect(function(){var N=new google.maps.InfoWindow(ze({},r||{}));return y(N),F.current=document.createElement("div"),s&&w(google.maps.event.addListener(N,"closeclick",s)),a&&C(google.maps.event.addListener(N,"domready",a)),l&&I(google.maps.event.addListener(N,"content_changed",l)),u&&_(google.maps.event.addListener(N,"position_changed",u)),c&&B(google.maps.event.addListener(N,"zindex_changed",c)),N.setContent(F.current),i&&N.setPosition(i),o&&N.setZIndex(o),t?N.open(p,t):N.getPosition()?N.open(p):zt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(N),function(){b&&google.maps.event.removeListener(b),T&&google.maps.event.removeListener(T),S&&google.maps.event.removeListener(S),z&&google.maps.event.removeListener(z),D&&google.maps.event.removeListener(D),f&&f(N),N.close()}},[]),F.current?Ci.createPortal(m.Children.only(e),F.current):null}m.memo(C6);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoWindow:null},t.open=function(r,i){i?r.open(t.context,i):r.getPosition()?r.open(t.context):zt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},t.setInfoWindowCallback=function(){t.state.infoWindow!==null&&t.containerElement!==null&&(t.state.infoWindow.setContent(t.containerElement),t.open(t.state.infoWindow,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoWindow))},t}return e.prototype.componentDidMount=function(){var t=new google.maps.InfoWindow(ze({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ye({updaterMap:ax,eventMap:sx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{infoWindow:t}},this.setInfoWindowCallback)},e.prototype.componentDidUpdate=function(t){this.state.infoWindow!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:ax,eventMap:sx,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))},e.prototype.componentWillUnmount=function(){this.state.infoWindow!==null&&(et(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},e.prototype.render=function(){return this.containerElement?Ci.createPortal(m.Children.only(this.props.children),this.containerElement):null},e.contextType=Ue,e})(m.PureComponent);var lx={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ux={draggable:function(n,e){n.setDraggable(e)},editable:function(n,e){n.setEditable(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)},path:function(n,e){n.setPath(e)},visible:function(n,e){n.setVisible(e)}},S6={};function k6(n){var e=n.options,t=n.draggable,r=n.editable,i=n.visible,o=n.path,s=n.onDblClick,a=n.onDragEnd,l=n.onDragStart,u=n.onMouseDown,c=n.onMouseMove,d=n.onMouseOut,f=n.onMouseOver,p=n.onMouseUp,h=n.onRightClick,g=n.onClick,y=n.onDrag,x=n.onLoad,b=n.onUnmount,w=m.useContext(Ue),k=m.useState(null),S=k[0],C=k[1],M=m.useState(null),T=M[0],I=M[1],R=m.useState(null),z=R[0],_=R[1],W=m.useState(null),D=W[0],B=W[1],F=m.useState(null),N=F[0],Z=F[1],me=m.useState(null),re=me[0],U=me[1],J=m.useState(null),ue=J[0],Y=J[1],E=m.useState(null),$=E[0],Q=E[1],te=m.useState(null),ne=te[0],be=te[1],ge=m.useState(null),ye=ge[0],Ce=ge[1],Me=m.useState(null),O=Me[0],P=Me[1],H=m.useState(null),j=H[0],K=H[1];return m.useEffect(function(){S!==null&&S.setMap(w)},[w]),m.useEffect(function(){typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),m.useEffect(function(){typeof t<"u"&&S!==null&&S.setDraggable(t)},[S,t]),m.useEffect(function(){typeof r<"u"&&S!==null&&S.setEditable(r)},[S,r]),m.useEffect(function(){typeof i<"u"&&S!==null&&S.setVisible(i)},[S,i]),m.useEffect(function(){typeof o<"u"&&S!==null&&S.setPath(o)},[S,o]),m.useEffect(function(){S&&s&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(S,"dblclick",s)))},[s]),m.useEffect(function(){S&&a&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(S,"dragend",a)))},[a]),m.useEffect(function(){S&&l&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(S,"dragstart",l)))},[l]),m.useEffect(function(){S&&u&&(N!==null&&google.maps.event.removeListener(N),Z(google.maps.event.addListener(S,"mousedown",u)))},[u]),m.useEffect(function(){S&&c&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(S,"mousemove",c)))},[c]),m.useEffect(function(){S&&d&&(ue!==null&&google.maps.event.removeListener(ue),Y(google.maps.event.addListener(S,"mouseout",d)))},[d]),m.useEffect(function(){S&&f&&($!==null&&google.maps.event.removeListener($),Q(google.maps.event.addListener(S,"mouseover",f)))},[f]),m.useEffect(function(){S&&p&&(ne!==null&&google.maps.event.removeListener(ne),be(google.maps.event.addListener(S,"mouseup",p)))},[p]),m.useEffect(function(){S&&h&&(ye!==null&&google.maps.event.removeListener(ye),Ce(google.maps.event.addListener(S,"rightclick",h)))},[h]),m.useEffect(function(){S&&g&&(O!==null&&google.maps.event.removeListener(O),P(google.maps.event.addListener(S,"click",g)))},[g]),m.useEffect(function(){S&&y&&(j!==null&&google.maps.event.removeListener(j),K(google.maps.event.addListener(S,"drag",y)))},[y]),m.useEffect(function(){var ae=new google.maps.Polyline(ze(ze({},e||S6),{map:w}));return o&&ae.setPath(o),typeof i<"u"&&ae.setVisible(i),typeof r<"u"&&ae.setEditable(r),typeof t<"u"&&ae.setDraggable(t),s&&I(google.maps.event.addListener(ae,"dblclick",s)),a&&_(google.maps.event.addListener(ae,"dragend",a)),l&&B(google.maps.event.addListener(ae,"dragstart",l)),u&&Z(google.maps.event.addListener(ae,"mousedown",u)),c&&U(google.maps.event.addListener(ae,"mousemove",c)),d&&Y(google.maps.event.addListener(ae,"mouseout",d)),f&&Q(google.maps.event.addListener(ae,"mouseover",f)),p&&be(google.maps.event.addListener(ae,"mouseup",p)),h&&Ce(google.maps.event.addListener(ae,"rightclick",h)),g&&P(google.maps.event.addListener(ae,"click",g)),y&&K(google.maps.event.addListener(ae,"drag",y)),C(ae),x&&x(ae),function(){T!==null&&google.maps.event.removeListener(T),z!==null&&google.maps.event.removeListener(z),D!==null&&google.maps.event.removeListener(D),N!==null&&google.maps.event.removeListener(N),re!==null&&google.maps.event.removeListener(re),ue!==null&&google.maps.event.removeListener(ue),$!==null&&google.maps.event.removeListener($),ne!==null&&google.maps.event.removeListener(ne),ye!==null&&google.maps.event.removeListener(ye),O!==null&&google.maps.event.removeListener(O),b&&b(ae),ae.setMap(null)}},[]),null}m.memo(k6);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polyline:null},t.setPolylineCallback=function(){t.state.polyline!==null&&t.props.onLoad&&t.props.onLoad(t.state.polyline)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.Polyline(ze(ze({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:ux,eventMap:lx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)},e.prototype.componentDidUpdate=function(t){this.state.polyline!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:ux,eventMap:lx,prevProps:t,nextProps:this.props,instance:this.state.polyline}))},e.prototype.componentWillUnmount=function(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),et(this.registeredEvents),this.state.polyline.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);var cx={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},dx={draggable:function(n,e){n.setDraggable(e)},editable:function(n,e){n.setEditable(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)},path:function(n,e){n.setPath(e)},paths:function(n,e){n.setPaths(e)},visible:function(n,e){n.setVisible(e)}};function M6(n){var e=n.options,t=n.draggable,r=n.editable,i=n.visible,o=n.path,s=n.paths,a=n.onDblClick,l=n.onDragEnd,u=n.onDragStart,c=n.onMouseDown,d=n.onMouseMove,f=n.onMouseOut,p=n.onMouseOver,h=n.onMouseUp,g=n.onRightClick,y=n.onClick,x=n.onDrag,b=n.onLoad,w=n.onUnmount,k=n.onEdit,S=m.useContext(Ue),C=m.useState(null),M=C[0],T=C[1],I=m.useState(null),R=I[0],z=I[1],_=m.useState(null),W=_[0],D=_[1],B=m.useState(null),F=B[0],N=B[1],Z=m.useState(null),me=Z[0],re=Z[1],U=m.useState(null),J=U[0],ue=U[1],Y=m.useState(null),E=Y[0],$=Y[1],Q=m.useState(null),te=Q[0],ne=Q[1],be=m.useState(null),ge=be[0],ye=be[1],Ce=m.useState(null),Me=Ce[0],O=Ce[1],P=m.useState(null),H=P[0],j=P[1],K=m.useState(null),ae=K[0],he=K[1];return m.useEffect(function(){M!==null&&M.setMap(S)},[S]),m.useEffect(function(){typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),m.useEffect(function(){typeof t<"u"&&M!==null&&M.setDraggable(t)},[M,t]),m.useEffect(function(){typeof r<"u"&&M!==null&&M.setEditable(r)},[M,r]),m.useEffect(function(){typeof i<"u"&&M!==null&&M.setVisible(i)},[M,i]),m.useEffect(function(){typeof o<"u"&&M!==null&&M.setPath(o)},[M,o]),m.useEffect(function(){typeof s<"u"&&M!==null&&M.setPaths(s)},[M,s]),m.useEffect(function(){M&&a&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(M,"dblclick",a)))},[a]),m.useEffect(function(){M&&(google.maps.event.addListener(M.getPath(),"insert_at",function(){k==null||k(M)}),google.maps.event.addListener(M.getPath(),"set_at",function(){k==null||k(M)}))},[M,k]),m.useEffect(function(){M&&l&&(W!==null&&google.maps.event.removeListener(W),D(google.maps.event.addListener(M,"dragend",l)))},[l]),m.useEffect(function(){M&&u&&(F!==null&&google.maps.event.removeListener(F),N(google.maps.event.addListener(M,"dragstart",u)))},[u]),m.useEffect(function(){M&&c&&(me!==null&&google.maps.event.removeListener(me),re(google.maps.event.addListener(M,"mousedown",c)))},[c]),m.useEffect(function(){M&&d&&(J!==null&&google.maps.event.removeListener(J),ue(google.maps.event.addListener(M,"mousemove",d)))},[d]),m.useEffect(function(){M&&f&&(E!==null&&google.maps.event.removeListener(E),$(google.maps.event.addListener(M,"mouseout",f)))},[f]),m.useEffect(function(){M&&p&&(te!==null&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(M,"mouseover",p)))},[p]),m.useEffect(function(){M&&h&&(ge!==null&&google.maps.event.removeListener(ge),ye(google.maps.event.addListener(M,"mouseup",h)))},[h]),m.useEffect(function(){M&&g&&(Me!==null&&google.maps.event.removeListener(Me),O(google.maps.event.addListener(M,"rightclick",g)))},[g]),m.useEffect(function(){M&&y&&(H!==null&&google.maps.event.removeListener(H),j(google.maps.event.addListener(M,"click",y)))},[y]),m.useEffect(function(){M&&x&&(ae!==null&&google.maps.event.removeListener(ae),he(google.maps.event.addListener(M,"drag",x)))},[x]),m.useEffect(function(){var pe=new google.maps.Polygon(ze(ze({},e||{}),{map:S}));return o&&pe.setPath(o),s&&pe.setPaths(s),typeof i<"u"&&pe.setVisible(i),typeof r<"u"&&pe.setEditable(r),typeof t<"u"&&pe.setDraggable(t),a&&z(google.maps.event.addListener(pe,"dblclick",a)),l&&D(google.maps.event.addListener(pe,"dragend",l)),u&&N(google.maps.event.addListener(pe,"dragstart",u)),c&&re(google.maps.event.addListener(pe,"mousedown",c)),d&&ue(google.maps.event.addListener(pe,"mousemove",d)),f&&$(google.maps.event.addListener(pe,"mouseout",f)),p&&ne(google.maps.event.addListener(pe,"mouseover",p)),h&&ye(google.maps.event.addListener(pe,"mouseup",h)),g&&O(google.maps.event.addListener(pe,"rightclick",g)),y&&j(google.maps.event.addListener(pe,"click",y)),x&&he(google.maps.event.addListener(pe,"drag",x)),T(pe),b&&b(pe),function(){R!==null&&google.maps.event.removeListener(R),W!==null&&google.maps.event.removeListener(W),F!==null&&google.maps.event.removeListener(F),me!==null&&google.maps.event.removeListener(me),J!==null&&google.maps.event.removeListener(J),E!==null&&google.maps.event.removeListener(E),te!==null&&google.maps.event.removeListener(te),ge!==null&&google.maps.event.removeListener(ge),Me!==null&&google.maps.event.removeListener(Me),H!==null&&google.maps.event.removeListener(H),w&&w(pe),pe.setMap(null)}},[]),null}m.memo(M6);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polygon:null},t.setPolygonCallback=function(){t.state.polygon!==null&&t.props.onLoad&&t.props.onLoad(t.state.polygon)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.Polygon(ze(ze({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:dx,eventMap:cx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polygon:t}},this.setPolygonCallback)},e.prototype.componentDidUpdate=function(t){this.state.polygon!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:dx,eventMap:cx,prevProps:t,nextProps:this.props,instance:this.state.polygon}))},e.prototype.componentWillUnmount=function(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),et(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);var fx={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},px={bounds:function(n,e){n.setBounds(e)},draggable:function(n,e){n.setDraggable(e)},editable:function(n,e){n.setEditable(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)},visible:function(n,e){n.setVisible(e)}};function E6(n){var e=n.options,t=n.bounds,r=n.draggable,i=n.editable,o=n.visible,s=n.onDblClick,a=n.onDragEnd,l=n.onDragStart,u=n.onMouseDown,c=n.onMouseMove,d=n.onMouseOut,f=n.onMouseOver,p=n.onMouseUp,h=n.onRightClick,g=n.onClick,y=n.onDrag,x=n.onBoundsChanged,b=n.onLoad,w=n.onUnmount,k=m.useContext(Ue),S=m.useState(null),C=S[0],M=S[1],T=m.useState(null),I=T[0],R=T[1],z=m.useState(null),_=z[0],W=z[1],D=m.useState(null),B=D[0],F=D[1],N=m.useState(null),Z=N[0],me=N[1],re=m.useState(null),U=re[0],J=re[1],ue=m.useState(null),Y=ue[0],E=ue[1],$=m.useState(null),Q=$[0],te=$[1],ne=m.useState(null),be=ne[0],ge=ne[1],ye=m.useState(null),Ce=ye[0],Me=ye[1],O=m.useState(null),P=O[0],H=O[1],j=m.useState(null),K=j[0],ae=j[1],he=m.useState(null),pe=he[0],ce=he[1];return m.useEffect(function(){C!==null&&C.setMap(k)},[k]),m.useEffect(function(){typeof e<"u"&&C!==null&&C.setOptions(e)},[C,e]),m.useEffect(function(){typeof r<"u"&&C!==null&&C.setDraggable(r)},[C,r]),m.useEffect(function(){typeof i<"u"&&C!==null&&C.setEditable(i)},[C,i]),m.useEffect(function(){typeof o<"u"&&C!==null&&C.setVisible(o)},[C,o]),m.useEffect(function(){typeof t<"u"&&C!==null&&C.setBounds(t)},[C,t]),m.useEffect(function(){C&&s&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(C,"dblclick",s)))},[s]),m.useEffect(function(){C&&a&&(_!==null&&google.maps.event.removeListener(_),W(google.maps.event.addListener(C,"dragend",a)))},[a]),m.useEffect(function(){C&&l&&(B!==null&&google.maps.event.removeListener(B),F(google.maps.event.addListener(C,"dragstart",l)))},[l]),m.useEffect(function(){C&&u&&(Z!==null&&google.maps.event.removeListener(Z),me(google.maps.event.addListener(C,"mousedown",u)))},[u]),m.useEffect(function(){C&&c&&(U!==null&&google.maps.event.removeListener(U),J(google.maps.event.addListener(C,"mousemove",c)))},[c]),m.useEffect(function(){C&&d&&(Y!==null&&google.maps.event.removeListener(Y),E(google.maps.event.addListener(C,"mouseout",d)))},[d]),m.useEffect(function(){C&&f&&(Q!==null&&google.maps.event.removeListener(Q),te(google.maps.event.addListener(C,"mouseover",f)))},[f]),m.useEffect(function(){C&&p&&(be!==null&&google.maps.event.removeListener(be),ge(google.maps.event.addListener(C,"mouseup",p)))},[p]),m.useEffect(function(){C&&h&&(Ce!==null&&google.maps.event.removeListener(Ce),Me(google.maps.event.addListener(C,"rightclick",h)))},[h]),m.useEffect(function(){C&&g&&(P!==null&&google.maps.event.removeListener(P),H(google.maps.event.addListener(C,"click",g)))},[g]),m.useEffect(function(){C&&y&&(K!==null&&google.maps.event.removeListener(K),ae(google.maps.event.addListener(C,"drag",y)))},[y]),m.useEffect(function(){C&&x&&(pe!==null&&google.maps.event.removeListener(pe),ce(google.maps.event.addListener(C,"bounds_changed",x)))},[x]),m.useEffect(function(){var de=new google.maps.Rectangle(ze(ze({},e||{}),{map:k}));return typeof o<"u"&&de.setVisible(o),typeof i<"u"&&de.setEditable(i),typeof r<"u"&&de.setDraggable(r),typeof t<"u"&&de.setBounds(t),s&&R(google.maps.event.addListener(de,"dblclick",s)),a&&W(google.maps.event.addListener(de,"dragend",a)),l&&F(google.maps.event.addListener(de,"dragstart",l)),u&&me(google.maps.event.addListener(de,"mousedown",u)),c&&J(google.maps.event.addListener(de,"mousemove",c)),d&&E(google.maps.event.addListener(de,"mouseout",d)),f&&te(google.maps.event.addListener(de,"mouseover",f)),p&&ge(google.maps.event.addListener(de,"mouseup",p)),h&&Me(google.maps.event.addListener(de,"rightclick",h)),g&&H(google.maps.event.addListener(de,"click",g)),y&&ae(google.maps.event.addListener(de,"drag",y)),x&&ce(google.maps.event.addListener(de,"bounds_changed",x)),M(de),b&&b(de),function(){I!==null&&google.maps.event.removeListener(I),_!==null&&google.maps.event.removeListener(_),B!==null&&google.maps.event.removeListener(B),Z!==null&&google.maps.event.removeListener(Z),U!==null&&google.maps.event.removeListener(U),Y!==null&&google.maps.event.removeListener(Y),Q!==null&&google.maps.event.removeListener(Q),be!==null&&google.maps.event.removeListener(be),Ce!==null&&google.maps.event.removeListener(Ce),P!==null&&google.maps.event.removeListener(P),K!==null&&google.maps.event.removeListener(K),pe!==null&&google.maps.event.removeListener(pe),w&&w(de),de.setMap(null)}},[]),null}m.memo(E6);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={rectangle:null},t.setRectangleCallback=function(){t.state.rectangle!==null&&t.props.onLoad&&t.props.onLoad(t.state.rectangle)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.Rectangle(ze(ze({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:px,eventMap:fx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)},e.prototype.componentDidUpdate=function(t){this.state.rectangle!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:px,eventMap:fx,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))},e.prototype.componentWillUnmount=function(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),et(this.registeredEvents),this.state.rectangle.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);var hx={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},mx={center:function(n,e){n.setCenter(e)},draggable:function(n,e){n.setDraggable(e)},editable:function(n,e){n.setEditable(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)},radius:function(n,e){n.setRadius(e)},visible:function(n,e){n.setVisible(e)}},T6={};function L6(n){var e=n.options,t=n.center,r=n.radius,i=n.draggable,o=n.editable,s=n.visible,a=n.onDblClick,l=n.onDragEnd,u=n.onDragStart,c=n.onMouseDown,d=n.onMouseMove,f=n.onMouseOut,p=n.onMouseOver,h=n.onMouseUp,g=n.onRightClick,y=n.onClick,x=n.onDrag,b=n.onCenterChanged,w=n.onRadiusChanged,k=n.onLoad,S=n.onUnmount,C=m.useContext(Ue),M=m.useState(null),T=M[0],I=M[1],R=m.useState(null),z=R[0],_=R[1],W=m.useState(null),D=W[0],B=W[1],F=m.useState(null),N=F[0],Z=F[1],me=m.useState(null),re=me[0],U=me[1],J=m.useState(null),ue=J[0],Y=J[1],E=m.useState(null),$=E[0],Q=E[1],te=m.useState(null),ne=te[0],be=te[1],ge=m.useState(null),ye=ge[0],Ce=ge[1],Me=m.useState(null),O=Me[0],P=Me[1],H=m.useState(null),j=H[0],K=H[1],ae=m.useState(null),he=ae[0],pe=ae[1],ce=m.useState(null),de=ce[0],Ie=ce[1],Te=m.useState(null),Oe=Te[0],Be=Te[1];return m.useEffect(function(){T!==null&&T.setMap(C)},[C]),m.useEffect(function(){typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),m.useEffect(function(){typeof i<"u"&&T!==null&&T.setDraggable(i)},[T,i]),m.useEffect(function(){typeof o<"u"&&T!==null&&T.setEditable(o)},[T,o]),m.useEffect(function(){typeof s<"u"&&T!==null&&T.setVisible(s)},[T,s]),m.useEffect(function(){typeof r=="number"&&T!==null&&T.setRadius(r)},[T,r]),m.useEffect(function(){typeof t<"u"&&T!==null&&T.setCenter(t)},[T,t]),m.useEffect(function(){T&&a&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(T,"dblclick",a)))},[a]),m.useEffect(function(){T&&l&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(T,"dragend",l)))},[l]),m.useEffect(function(){T&&u&&(N!==null&&google.maps.event.removeListener(N),Z(google.maps.event.addListener(T,"dragstart",u)))},[u]),m.useEffect(function(){T&&c&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(T,"mousedown",c)))},[c]),m.useEffect(function(){T&&d&&(ue!==null&&google.maps.event.removeListener(ue),Y(google.maps.event.addListener(T,"mousemove",d)))},[d]),m.useEffect(function(){T&&f&&($!==null&&google.maps.event.removeListener($),Q(google.maps.event.addListener(T,"mouseout",f)))},[f]),m.useEffect(function(){T&&p&&(ne!==null&&google.maps.event.removeListener(ne),be(google.maps.event.addListener(T,"mouseover",p)))},[p]),m.useEffect(function(){T&&h&&(ye!==null&&google.maps.event.removeListener(ye),Ce(google.maps.event.addListener(T,"mouseup",h)))},[h]),m.useEffect(function(){T&&g&&(O!==null&&google.maps.event.removeListener(O),P(google.maps.event.addListener(T,"rightclick",g)))},[g]),m.useEffect(function(){T&&y&&(j!==null&&google.maps.event.removeListener(j),K(google.maps.event.addListener(T,"click",y)))},[y]),m.useEffect(function(){T&&x&&(he!==null&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(T,"drag",x)))},[x]),m.useEffect(function(){T&&b&&(de!==null&&google.maps.event.removeListener(de),Ie(google.maps.event.addListener(T,"center_changed",b)))},[y]),m.useEffect(function(){T&&w&&(Oe!==null&&google.maps.event.removeListener(Oe),Be(google.maps.event.addListener(T,"radius_changed",w)))},[w]),m.useEffect(function(){var Re=new google.maps.Circle(ze(ze({},e||T6),{map:C}));return typeof r=="number"&&Re.setRadius(r),typeof t<"u"&&Re.setCenter(t),typeof r=="number"&&Re.setRadius(r),typeof s<"u"&&Re.setVisible(s),typeof o<"u"&&Re.setEditable(o),typeof i<"u"&&Re.setDraggable(i),a&&_(google.maps.event.addListener(Re,"dblclick",a)),l&&B(google.maps.event.addListener(Re,"dragend",l)),u&&Z(google.maps.event.addListener(Re,"dragstart",u)),c&&U(google.maps.event.addListener(Re,"mousedown",c)),d&&Y(google.maps.event.addListener(Re,"mousemove",d)),f&&Q(google.maps.event.addListener(Re,"mouseout",f)),p&&be(google.maps.event.addListener(Re,"mouseover",p)),h&&Ce(google.maps.event.addListener(Re,"mouseup",h)),g&&P(google.maps.event.addListener(Re,"rightclick",g)),y&&K(google.maps.event.addListener(Re,"click",y)),x&&pe(google.maps.event.addListener(Re,"drag",x)),b&&Ie(google.maps.event.addListener(Re,"center_changed",b)),w&&Be(google.maps.event.addListener(Re,"radius_changed",w)),I(Re),k&&k(Re),function(){z!==null&&google.maps.event.removeListener(z),D!==null&&google.maps.event.removeListener(D),N!==null&&google.maps.event.removeListener(N),re!==null&&google.maps.event.removeListener(re),ue!==null&&google.maps.event.removeListener(ue),$!==null&&google.maps.event.removeListener($),ne!==null&&google.maps.event.removeListener(ne),ye!==null&&google.maps.event.removeListener(ye),O!==null&&google.maps.event.removeListener(O),j!==null&&google.maps.event.removeListener(j),de!==null&&google.maps.event.removeListener(de),Oe!==null&&google.maps.event.removeListener(Oe),S&&S(Re),Re.setMap(null)}},[]),null}m.memo(L6);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={circle:null},t.setCircleCallback=function(){t.state.circle!==null&&t.props.onLoad&&t.props.onLoad(t.state.circle)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.Circle(ze(ze({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:mx,eventMap:hx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)},e.prototype.componentDidUpdate=function(t){this.state.circle!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:mx,eventMap:hx,prevProps:t,nextProps:this.props,instance:this.state.circle}))},e.prototype.componentWillUnmount=function(){var t;this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),et(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);var gx={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},vx={add:function(n,e){n.add(e)},addgeojson:function(n,e,t){n.addGeoJson(e,t)},contains:function(n,e){n.contains(e)},foreach:function(n,e){n.forEach(e)},loadgeojson:function(n,e,t,r){n.loadGeoJson(e,t,r)},overridestyle:function(n,e,t){n.overrideStyle(e,t)},remove:function(n,e){n.remove(e)},revertstyle:function(n,e){n.revertStyle(e)},controlposition:function(n,e){n.setControlPosition(e)},controls:function(n,e){n.setControls(e)},drawingmode:function(n,e){n.setDrawingMode(e)},map:function(n,e){n.setMap(e)},style:function(n,e){n.setStyle(e)},togeojson:function(n,e){n.toGeoJson(e)}};function A6(n){var e=n.options,t=n.onClick,r=n.onDblClick,i=n.onMouseDown,o=n.onMouseMove,s=n.onMouseOut,a=n.onMouseOver,l=n.onMouseUp,u=n.onRightClick,c=n.onAddFeature,d=n.onRemoveFeature,f=n.onRemoveProperty,p=n.onSetGeometry,h=n.onSetProperty,g=n.onLoad,y=n.onUnmount,x=m.useContext(Ue),b=m.useState(null),w=b[0],k=b[1],S=m.useState(null),C=S[0],M=S[1],T=m.useState(null),I=T[0],R=T[1],z=m.useState(null),_=z[0],W=z[1],D=m.useState(null),B=D[0],F=D[1],N=m.useState(null),Z=N[0],me=N[1],re=m.useState(null),U=re[0],J=re[1],ue=m.useState(null),Y=ue[0],E=ue[1],$=m.useState(null),Q=$[0],te=$[1],ne=m.useState(null),be=ne[0],ge=ne[1],ye=m.useState(null),Ce=ye[0],Me=ye[1],O=m.useState(null),P=O[0],H=O[1],j=m.useState(null),K=j[0],ae=j[1],he=m.useState(null),pe=he[0],ce=he[1];return m.useEffect(function(){w!==null&&w.setMap(x)},[x]),m.useEffect(function(){w&&r&&(C!==null&&google.maps.event.removeListener(C),M(google.maps.event.addListener(w,"dblclick",r)))},[r]),m.useEffect(function(){w&&i&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(w,"mousedown",i)))},[i]),m.useEffect(function(){w&&o&&(_!==null&&google.maps.event.removeListener(_),W(google.maps.event.addListener(w,"mousemove",o)))},[o]),m.useEffect(function(){w&&s&&(B!==null&&google.maps.event.removeListener(B),F(google.maps.event.addListener(w,"mouseout",s)))},[s]),m.useEffect(function(){w&&a&&(Z!==null&&google.maps.event.removeListener(Z),me(google.maps.event.addListener(w,"mouseover",a)))},[a]),m.useEffect(function(){w&&l&&(U!==null&&google.maps.event.removeListener(U),J(google.maps.event.addListener(w,"mouseup",l)))},[l]),m.useEffect(function(){w&&u&&(Y!==null&&google.maps.event.removeListener(Y),E(google.maps.event.addListener(w,"rightclick",u)))},[u]),m.useEffect(function(){w&&t&&(Q!==null&&google.maps.event.removeListener(Q),te(google.maps.event.addListener(w,"click",t)))},[t]),m.useEffect(function(){w&&c&&(be!==null&&google.maps.event.removeListener(be),ge(google.maps.event.addListener(w,"addfeature",c)))},[c]),m.useEffect(function(){w&&d&&(Ce!==null&&google.maps.event.removeListener(Ce),Me(google.maps.event.addListener(w,"removefeature",d)))},[d]),m.useEffect(function(){w&&f&&(P!==null&&google.maps.event.removeListener(P),H(google.maps.event.addListener(w,"removeproperty",f)))},[f]),m.useEffect(function(){w&&p&&(K!==null&&google.maps.event.removeListener(K),ae(google.maps.event.addListener(w,"setgeometry",p)))},[p]),m.useEffect(function(){w&&h&&(pe!==null&&google.maps.event.removeListener(pe),ce(google.maps.event.addListener(w,"setproperty",h)))},[h]),m.useEffect(function(){if(x!==null){var de=new google.maps.Data(ze(ze({},e||{}),{map:x}));r&&M(google.maps.event.addListener(de,"dblclick",r)),i&&R(google.maps.event.addListener(de,"mousedown",i)),o&&W(google.maps.event.addListener(de,"mousemove",o)),s&&F(google.maps.event.addListener(de,"mouseout",s)),a&&me(google.maps.event.addListener(de,"mouseover",a)),l&&J(google.maps.event.addListener(de,"mouseup",l)),u&&E(google.maps.event.addListener(de,"rightclick",u)),t&&te(google.maps.event.addListener(de,"click",t)),c&&ge(google.maps.event.addListener(de,"addfeature",c)),d&&Me(google.maps.event.addListener(de,"removefeature",d)),f&&H(google.maps.event.addListener(de,"removeproperty",f)),p&&ae(google.maps.event.addListener(de,"setgeometry",p)),h&&ce(google.maps.event.addListener(de,"setproperty",h)),k(de),g&&g(de)}return function(){w&&(C!==null&&google.maps.event.removeListener(C),I!==null&&google.maps.event.removeListener(I),_!==null&&google.maps.event.removeListener(_),B!==null&&google.maps.event.removeListener(B),Z!==null&&google.maps.event.removeListener(Z),U!==null&&google.maps.event.removeListener(U),Y!==null&&google.maps.event.removeListener(Y),Q!==null&&google.maps.event.removeListener(Q),be!==null&&google.maps.event.removeListener(be),Ce!==null&&google.maps.event.removeListener(Ce),P!==null&&google.maps.event.removeListener(P),K!==null&&google.maps.event.removeListener(K),pe!==null&&google.maps.event.removeListener(pe),y&&y(w),w.setMap(null))}},[]),null}m.memo(A6);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={data:null},t.setDataCallback=function(){t.state.data!==null&&t.props.onLoad&&t.props.onLoad(t.state.data)},t}return e.prototype.componentDidMount=function(){if(this.context!==null){var t=new google.maps.Data(ze(ze({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ye({updaterMap:vx,eventMap:gx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{data:t}},this.setDataCallback)}},e.prototype.componentDidUpdate=function(t){this.state.data!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:vx,eventMap:gx,prevProps:t,nextProps:this.props,instance:this.state.data}))},e.prototype.componentWillUnmount=function(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),et(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);var yx={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},bx={options:function(n,e){n.setOptions(e)},url:function(n,e){n.setUrl(e)},zIndex:function(n,e){n.setZIndex(e)}};(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={kmlLayer:null},t.setKmlLayerCallback=function(){t.state.kmlLayer!==null&&t.props.onLoad&&t.props.onLoad(t.state.kmlLayer)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.KmlLayer(ze(ze({},this.props.options),{map:this.context}));this.registeredEvents=Ye({updaterMap:bx,eventMap:yx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)},e.prototype.componentDidUpdate=function(t){this.state.kmlLayer!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:bx,eventMap:yx,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))},e.prototype.componentWillUnmount=function(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),et(this.registeredEvents),this.state.kmlLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);function _k(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function O6(n,e){return new e(n.lat,n.lng)}function R6(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function P6(n,e,t){return n instanceof e?n:t(n,e)}function D6(n,e,t){return n instanceof e?n:t(n,e)}function I6(n,e,t){var r=n&&n.fromLatLngToDivPixel(t.getNorthEast()),i=n&&n.fromLatLngToDivPixel(t.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function N6(n,e,t){var r=n&&n.fromLatLngToDivPixel(t);if(r){var i=r.x,o=r.y;return{left:"".concat(i+e.x,"px"),top:"".concat(o+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function $k(n,e,t,r){return t!==void 0?I6(n,e,D6(t,google.maps.LatLngBounds,R6)):N6(n,e,P6(r,google.maps.LatLng,O6))}function _6(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function $6(n,e,t,r,i){var o=function(s){xt(a,s);function a(l,u,c,d){var f=s.call(this)||this;return f.container=l,f.pane=u,f.position=c,f.bounds=d,f}return a.prototype.onAdd=function(){var l,u=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];u==null||u.appendChild(this.container)},a.prototype.draw=function(){for(var l=this.getProjection(),u=ze({},this.container?_k(this.container,i):{x:0,y:0}),c=$k(l,u,this.bounds,this.position),d=0,f=Object.entries(c);d<f.length;d++){var p=f[d],h=p[0],g=p[1];this.container.style[h]=g}},a.prototype.onRemove=function(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)},a}(google.maps.OverlayView);return new o(n,e,t,r)}function xx(n){if(!n)return"";var e=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);return e+""}function wx(n){if(!n)return"";var e=n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west));return e+""}function F6(n){var e=n.position,t=n.bounds,r=n.mapPaneName,i=n.zIndex,o=n.onLoad,s=n.onUnmount,a=n.getPixelPositionOffset,l=n.children,u=m.useContext(Ue),c=m.useMemo(function(){var f=document.createElement("div");return f.style.position="absolute",f},[]),d=m.useMemo(function(){return $6(c,r,e,t,a)},[c,r,e,t]);return m.useEffect(function(){return o==null||o(d),d==null||d.setMap(u),function(){s==null||s(d),d==null||d.setMap(null)}},[u,d]),m.useEffect(function(){c.style.zIndex="".concat(i)},[i,c]),Ci.createPortal(l,c)}m.memo(F6);(function(n){xt(e,n);function e(t){var r=n.call(this,t)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var o=r.props.mapPaneName,s=r.overlayView.getPanes();zt(!!o,"OverlayView requires props.mapPaneName but got %s",o),s?r.setState({paneEl:s[o]}):r.setState({paneEl:null})},r.onAdd=function(){var o,s;r.updatePane(),(s=(o=r.props).onLoad)===null||s===void 0||s.call(o,r.overlayView)},r.onPositionElement=function(){var o=r.overlayView.getProjection(),s=ze({x:0,y:0},r.containerRef.current?_k(r.containerRef.current,r.props.getPixelPositionOffset):{}),a=$k(o,s,r.props.bounds,r.props.position),l=r.state.containerStyle,u=l.left,c=l.top,d=l.width,f=l.height;_6(a,{left:u,top:c,width:d,height:f})||r.setState({containerStyle:{top:a.top||0,left:a.left||0,width:a.width||0,height:a.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var o,s;r.setState(function(){return{paneEl:null}}),(s=(o=r.props).onUnmount)===null||s===void 0||s.call(o,r.overlayView)},r.containerRef=m.createRef();var i=new google.maps.OverlayView;return i.onAdd=r.onAdd,i.draw=r.draw,i.onRemove=r.onRemove,r.overlayView=i,r}return e.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},e.prototype.componentDidUpdate=function(t){var r=xx(t.position),i=xx(this.props.position),o=wx(t.bounds),s=wx(this.props.bounds);(r!==i||o!==s)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()},e.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},e.prototype.render=function(){var t=this.state.paneEl;return t?Ci.createPortal(v.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:m.Children.only(this.props.children)}),t):null},e.FLOAT_PANE="floatPane",e.MAP_PANE="mapPane",e.MARKER_LAYER="markerLayer",e.OVERLAY_LAYER="overlayLayer",e.OVERLAY_MOUSE_TARGET="overlayMouseTarget",e.contextType=Ue,e})(m.PureComponent);function B6(){}var Cx={onDblClick:"dblclick",onClick:"click"},Sx={opacity:function(n,e){n.setOpacity(e)}};function j6(n){var e=n.url,t=n.bounds,r=n.options,i=n.visible,o=m.useContext(Ue),s=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),a=m.useMemo(function(){var l=new google.maps.GroundOverlay(e,s,ze({},r));return l},[]);return m.useEffect(function(){a!==null&&a.setMap(o)},[o]),m.useEffect(function(){typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(o))},[a,e]),m.useEffect(function(){typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),m.useEffect(function(){var l=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&a!==null&&(a.set("bounds",l),a.setMap(o))},[a,t]),null}m.memo(j6);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={groundOverlay:null},t.setGroundOverlayCallback=function(){t.state.groundOverlay!==null&&t.props.onLoad&&t.props.onLoad(t.state.groundOverlay)},t}return e.prototype.componentDidMount=function(){zt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ze(ze({},this.props.options),{map:this.context}));this.registeredEvents=Ye({updaterMap:Sx,eventMap:Cx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)},e.prototype.componentDidUpdate=function(t){this.state.groundOverlay!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Sx,eventMap:Cx,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))},e.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},e.prototype.render=function(){return null},e.defaultProps={onLoad:B6},e.contextType=Ue,e})(m.PureComponent);var kx={},Mx={data:function(n,e){n.setData(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)}};function z6(n){var e=n.data,t=n.onLoad,r=n.onUnmount,i=n.options,o=m.useContext(Ue),s=m.useState(null),a=s[0],l=s[1];return m.useEffect(function(){google.maps.visualization||zt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),m.useEffect(function(){zt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),m.useEffect(function(){a!==null&&a.setMap(o)},[o]),m.useEffect(function(){i&&a!==null&&a.setOptions(i)},[a,i]),m.useEffect(function(){var u=new google.maps.visualization.HeatmapLayer(ze(ze({},i||{}),{data:e,map:o}));return l(u),t&&t(u),function(){a!==null&&(r&&r(a),a.setMap(null))}},[]),null}m.memo(z6);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={heatmapLayer:null},t.setHeatmapLayerCallback=function(){t.state.heatmapLayer!==null&&t.props.onLoad&&t.props.onLoad(t.state.heatmapLayer)},t}return e.prototype.componentDidMount=function(){zt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),zt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(ze(ze({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=Ye({updaterMap:Mx,eventMap:kx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)},e.prototype.componentDidUpdate=function(t){et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Mx,eventMap:kx,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})},e.prototype.componentWillUnmount=function(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),et(this.registeredEvents),this.state.heatmapLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);var Ex={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Tx={register:function(n,e,t){n.registerPanoProvider(e,t)},links:function(n,e){n.setLinks(e)},motionTracking:function(n,e){n.setMotionTracking(e)},options:function(n,e){n.setOptions(e)},pano:function(n,e){n.setPano(e)},position:function(n,e){n.setPosition(e)},pov:function(n,e){n.setPov(e)},visible:function(n,e){n.setVisible(e)},zoom:function(n,e){n.setZoom(e)}};(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={streetViewPanorama:null},t.setStreetViewPanoramaCallback=function(){t.state.streetViewPanorama!==null&&t.props.onLoad&&t.props.onLoad(t.state.streetViewPanorama)},t}return e.prototype.componentDidMount=function(){var t,r,i=(r=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&r!==void 0?r:null;this.registeredEvents=Ye({updaterMap:Tx,eventMap:Ex,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{streetViewPanorama:i}},this.setStreetViewPanoramaCallback)},e.prototype.componentDidUpdate=function(t){this.state.streetViewPanorama!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Tx,eventMap:Ex,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))},e.prototype.componentWillUnmount=function(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),et(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={streetViewService:null},t.setStreetViewServiceCallback=function(){t.state.streetViewService!==null&&t.props.onLoad&&t.props.onLoad(t.state.streetViewService)},t}return e.prototype.componentDidMount=function(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)},e.prototype.componentWillUnmount=function(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},e.prototype.render=function(){return null},e.contextType=Ue,e})(m.PureComponent);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={directionsService:null},t.setDirectionsServiceCallback=function(){t.state.directionsService!==null&&t.props.onLoad&&t.props.onLoad(t.state.directionsService)},t}return e.prototype.componentDidMount=function(){zt(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var t=new google.maps.DirectionsService;this.setState(function(){return{directionsService:t}},this.setDirectionsServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},e.prototype.render=function(){return null},e})(m.PureComponent);var Lx={onDirectionsChanged:"directions_changed"},Ax={directions:function(n,e){n.setDirections(e)},map:function(n,e){n.setMap(e)},options:function(n,e){n.setOptions(e)},panel:function(n,e){n.setPanel(e)},routeIndex:function(n,e){n.setRouteIndex(e)}};(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.state={directionsRenderer:null},t.setDirectionsRendererCallback=function(){t.state.directionsRenderer!==null&&(t.state.directionsRenderer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.directionsRenderer))},t}return e.prototype.componentDidMount=function(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ye({updaterMap:Ax,eventMap:Lx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)},e.prototype.componentDidUpdate=function(t){this.state.directionsRenderer!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Ax,eventMap:Lx,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))},e.prototype.componentWillUnmount=function(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),et(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},e.prototype.render=function(){return v.jsx(v.Fragment,{})},e.contextType=Ue,e})(m.PureComponent);(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={distanceMatrixService:null},t.setDistanceMatrixServiceCallback=function(){t.state.distanceMatrixService!==null&&t.props.onLoad&&t.props.onLoad(t.state.distanceMatrixService)},t}return e.prototype.componentDidMount=function(){zt(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var t=new google.maps.DistanceMatrixService;this.setState(function(){return{distanceMatrixService:t}},this.setDistanceMatrixServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.distanceMatrixService!==null&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.distanceMatrixService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},e.prototype.render=function(){return null},e})(m.PureComponent);var Ox={onPlacesChanged:"places_changed"},Rx={bounds:function(n,e){n.setBounds(e)}};(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=m.createRef(),t.state={searchBox:null},t.setSearchBoxCallback=function(){t.state.searchBox!==null&&t.props.onLoad&&t.props.onLoad(t.state.searchBox)},t}return e.prototype.componentDidMount=function(){if(zt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var r=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=Ye({updaterMap:Rx,eventMap:Ox,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}},e.prototype.componentDidUpdate=function(t){this.state.searchBox!==null&&(et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Rx,eventMap:Ox,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))},e.prototype.componentWillUnmount=function(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),et(this.registeredEvents))},e.prototype.render=function(){return v.jsx("div",{ref:this.containerElement,children:m.Children.only(this.props.children)})},e.contextType=Ue,e})(m.PureComponent);var Px={onPlaceChanged:"place_changed"},Dx={bounds:function(n,e){n.setBounds(e)},restrictions:function(n,e){n.setComponentRestrictions(e)},fields:function(n,e){n.setFields(e)},options:function(n,e){n.setOptions(e)},types:function(n,e){n.setTypes(e)}};(function(n){xt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=m.createRef(),t.state={autocomplete:null},t.setAutocompleteCallback=function(){t.state.autocomplete!==null&&t.props.onLoad&&t.props.onLoad(t.state.autocomplete)},t}return e.prototype.componentDidMount=function(){var t;zt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(r){var i=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=Ye({updaterMap:Dx,eventMap:Px,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{autocomplete:i}},this.setAutocompleteCallback)}},e.prototype.componentDidUpdate=function(t){et(this.registeredEvents),this.registeredEvents=Ye({updaterMap:Dx,eventMap:Px,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})},e.prototype.componentWillUnmount=function(){this.state.autocomplete!==null&&et(this.registeredEvents)},e.prototype.render=function(){return v.jsx("div",{ref:this.containerElement,className:this.props.className,children:m.Children.only(this.props.children)})},e.defaultProps={className:""},e.contextType=Ue,e})(m.PureComponent);const Fk=["places"],Pg={lat:0,lng:0};async function H6(n){const e=n.getBounds();if(e)return e;let t;return new Promise(r=>{t=google.maps.event.addListener(n,"bounds_changed",()=>{r(n.getBounds()),google.maps.event.removeListener(t)})})}function us(n){return!(!n||n.lat===void 0||n.lng===void 0||Number.isNaN(n.lat)||Number.isNaN(n.lng)||typeof Mg(n.lat)=="string"||typeof Eg(n.lng)=="string")}function V6(n){return n?/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/.test(n):!1}function Ix(n,e){return n===e||n&&e&&n.lat===e.lat&&n.lng===e.lng}const W6=ee.div`
	&.mapCoordinates {
		margin-bottom: 8px;
	}
`,Nx=ee(ys)`
  min-width: 684px;

  &.MuiTextField-root {
    display: flex;
  }
`,U6=ee(eC)`
  cursor: pointer;
  color: ${V.newColors.almostBlack[100]};
`,q6=ee.div`
  background-color: white;
  border: ${V.borders.fieldGray};
  border-top: 0;
  font-family: ${V.fontFamily};
  padding: 8px 0;
  box-shadow: 0 1px 3px rgba(0,0,0,.05);
`,G6=ee.div`
  	background-color: ${({$isSuggestionActive:n})=>n?V.colors.gray200:"white"};
  	cursor: pointer;
	padding: 6px 16px;
	width: 100%;
`,K6=ee.p`
  font-size: 14px;
  margin: 0;

  &:active {
    color: ${V.colors.gray800};
    font-weight: ${V.fontWeight.bold};
  }
`,Y6=n=>{const{className:e,value:t,onChange:r,onBlur:i,onSelect:o,textField:s,placeholder:a,googleMapsApiKey:l,disabled:u,id:c}=n,[d,f]=L.useState(null),{isLoaded:p,loadError:h}=Ag({googleMapsApiKey:l,libraries:Fk}),g=b=>{f(b.target)},y=()=>{f(null),i&&i()},x={...s,inputProps:{"data-testid":"location-search-input"},variant:"outlined",value:t,onFocus:g,onBlur:y};return!p||h?v.jsx(Nx,{...x,fieldSize:"lg",onChange:({target:{value:b}})=>r(b),disabled:u,id:c}):v.jsx(W6,{className:e,children:v.jsx(Tz,{value:t,onChange:r,onSelect:o,children:({getInputProps:b,suggestions:w,getSuggestionItemProps:k})=>v.jsxs("div",{style:{position:"relative"},children:[v.jsx(Nx,{...x,...b({placeholder:a}),fieldSize:"",onFocus:g,onBlur:y,disabled:u,id:c}),v.jsx(wL,{open:!!d&&(w==null?void 0:w.length)>0,anchorEl:d,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"left"},disableAutoFocus:!0,disableEnforceFocus:!0,children:v.jsx(q6,{children:w==null?void 0:w.map(S=>m.createElement(G6,{...k(S),key:S==null?void 0:S.placeId,$isSuggestionActive:S==null?void 0:S.active},v.jsx(K6,{children:S==null?void 0:S.description})))})})]})})})},Bk=m.memo(Y6),Cr={no:"street_number",street:"route",neighborhood:"neighborhood",locality:"locality",town:"postal_town",area1:"administrative_area_level_1",area2:"administrative_area_level_2",country:"country",postcode:"postal_code"};function J6(n){const{fieldDef:e,path:t,skeleton:r}=n,{inputSettings:i}=e,{getOptionsCountries:o,getOptionsStates:s,googleMapsApiKey:a}=i,{methods:l}=m.useContext(co),{setFormValues:u}=l,[c,d]=m.useState(""),[f,p]=m.useState(!1),h=m.useCallback(async g=>{const[y]=await Iu.geocodeByAddress(g),x=y.address_components,b=W=>{const D=x.find(({types:B})=>B.includes(W));return!D||!D.long_name?"":D.long_name},w=!!b(Cr.town),k=[{label:"Address 1",value:[b(Cr.no),b(Cr.street)].filter(Boolean).join(" "),dataKey:"address1",emptyWarning:!0},{label:"Address 2",value:w?b(Cr.locality):"",dataKey:"address2"},{label:"City",value:b(w?Cr.town:Cr.locality),dataKey:"city",emptyWarning:!0},{label:"Postal Code",value:b(Cr.postcode),dataKey:"postalCode",emptyWarning:!0}],S=await o(),C=b(Cr.country),M=S.find(({label:W})=>W.toLowerCase().includes(C.toLowerCase()));k.push({label:"Country",value:M||"",dataKey:"country",emptyWarning:!0});const T=M?await s(M.value):[],I=b(w?Cr.area2:Cr.area1),R=T.find(({label:W})=>W.toLowerCase().includes(I.toLowerCase()));k.push({label:"State",value:R||"",dataKey:"state",emptyWarning:!0});const z=k.reduce((W,D)=>({...W,[D.dataKey]:D.value}),{}),_=k.filter(({emptyWarning:W,value:D})=>W&&!D);u({values:z,path:t,validate:!0}),_.length&&(console.warn("Some components could not be resolved.",`

Components received:
`,x,`

By type they are:
`,x.map(({types:[W],long_name:D})=>`${W}: ${D}`).join(`
`),`

Mosaic Result:
`,k),d(_.map(({label:W})=>W).join(", ")),p(!0))},[o,s,t,u]);return v.jsxs(v.Fragment,{children:[v.jsx(Tg,{error:n.error,id:e.name,fieldDef:{name:e.name,type:"autocomplete",label:e.label,required:e.required,size:ht.lg},path:t,methods:n.methods,disabled:n.disabled,useRealLabel:!0,skeleton:r,children:r?v.jsx(Qe,{variant:"rectangular",width:"100%",height:43}):v.jsx(Bk,{onChange:g=>n.onChange(g),onBlur:n.onBlur,value:n.value??"",onSelect:h,googleMapsApiKey:a,disabled:n.disabled,id:`${e.name}-input`})}),Ci.createPortal(v.jsx(Tm,{autoHideDuration:4e3,label:`The following fields could not be autocompleted: ${c}.`,open:f,onClose:()=>p(!1)}),document.body)]})}const Z6=m.memo(J6);function X6(n){const{fieldDef:e,path:t,value:r}=n,{inputSettings:i}=e,{getOptionsStates:o}=i,{state:s,methods:a}=m.useContext(co),{setFieldValue:l}=a,u=m.useMemo(()=>sr(s.data,[...t||[],"country"]),[s,t]),c=m.useCallback(async()=>u?o(u.value):[],[u,o]);return m.useEffect(()=>{if(!r)return;(async()=>{if(!u){l({name:"state",path:t,value:void 0});return}(await o(u.value)).find(({label:h})=>h.toLowerCase().includes(r.label.toLowerCase()))||l({name:"state",path:t,value:void 0})})()},[u,t,o,l,r]),v.jsx(Tg,{error:n.error,id:e.name,fieldDef:{name:e.name,type:"addressState",label:e.label,required:e.required,size:e.size},path:t,methods:n.methods,disabled:n.disabled,useRealLabel:!0,skeleton:n.skeleton,children:v.jsx(xC,{...n,fieldDef:{...e,inputSettings:{...i,options:c}}})})}const Q6=m.memo(X6);function jk(n,e,{by:t=(r,i,o)=>o in i}={}){return Object.fromEntries(Object.entries(n).map(([r,i])=>t(n,e,r)?uh(i)&&uh(e[r])?[r,jk(i,e[r])]:[r,e[r]]:[r,i]))}const _x={address1:["country","city","state","postalCode"],address2:["address1"],address3:["address2"],state:["country","postalCode"],city:["country","state","postalCode"]};function eH(n){const e=[],t=n.map(r=>typeof r=="string"?r:r.name);for(const r of t)if(_x[r])for(const i of _x[r])t.includes(i)||e.push(`The "${r}" sub field requires the ${i} to also be included.`);return e.join(`
`)}function zk({getOptionsCountries:n,getOptionsStates:e,googleMapsApiKey:t,required:r,disabled:i,include:o}){const s=o&&eH(o);if(s)throw new Error(s);const a={address1:{name:"address1",required:r,disabled:i,label:"Address",size:"lg",...t?{type:Z6,inputSettings:{getOptionsCountries:n,getOptionsStates:e,googleMapsApiKey:t}}:{type:"text"}},address2:{name:"address2",type:"text",label:void 0,size:"lg",disabled:i},address3:{name:"address3",type:"text",label:void 0,size:"lg",disabled:i},country:{name:"country",type:"dropdown",label:"Country",size:"sm",required:r,disabled:i,inputSettings:{options:n},validates:[{name:"postalCode",include:[vk]}]},city:{name:"city",type:"text",label:"City",size:"sm",required:r,disabled:i},state:{name:"state",type:Q6,label:"State",size:"sm",disabled:i,inputSettings:{getOptionsStates:e}},postalCode:{name:"postalCode",type:"text",label:"Postal Code",size:"sm",required:r,disabled:i,inputSettings:{type:"string"},validators:[{fn:"validatePostcode",options:{countryField:"country"}}]}};return o?o.map(l=>typeof l=="string"?a[l]:jk(a[l.name],l)):Object.values(a)}const tH=n=>{const{onSave:e,addressToEdit:t,handleClose:r,handleUnsavedChanges:i,dialogOpen:o,handleDialogClose:s,addressTypes:a,getOptionsCountries:l,getOptionsStates:u,googleMapsApiKey:c}=n,d=Zc(),{state:f,handleSubmit:p}=d;m.useEffect(()=>{i&&i(!Q4(t,f.data))},[t,f.data]);const h=p(m.useCallback(async()=>{e({...t||{},address1:f.data.address1,address2:f.data.address2,address3:f.data.address3,city:f.data.city,state:f.data.state,postalCode:f.data.postalCode,country:f.data.country,types:f.data.types}),r(!0)},[r,e,t,f.data.address1,f.data.address2,f.data.address3,f.data.city,f.data.state,f.data.postalCode,f.data.country,f.data.types])),g=m.useMemo(()=>[{fields:[[["address1"]],[["address2"]],[["address3"]],[["country"]],[["city"],["state"],["postalCode"]],...a?[[["types"]]]:[]]}],[a]),y=m.useMemo(()=>a?[{name:"types",type:"checkbox",label:"Type",size:"sm",required:!0,inputSettings:{options:[...a,...t?t.types.filter(k=>!a.find(({value:S})=>S===k.value)):[]]}}]:[],[a,t]),x=m.useMemo(()=>[...zk({getOptionsCountries:l,getOptionsStates:u,googleMapsApiKey:c,required:!0}),...y],[l,u,c,y]),b=m.useCallback(async()=>{if(!t)return{};const k={address1:t.address1,address2:t.address2,address3:t.address3,city:t.city,state:t.state,postalCode:t.postalCode,country:t.country};return a&&(k.types=t.types),k},[t,a]),w=m.useMemo(()=>[{label:"Cancel",onClick:()=>r(),color:"gray",variant:"outlined"},{label:"Save",onClick:h,color:"yellow",variant:"contained",type:"submit"}],[r,h]);return v.jsx(Lm,{className:"address",children:v.jsx(pd,{...d,onBack:r,backLabel:"Cancel address entry",title:"Address Information",buttons:w,"data-testid":"address-testid",sections:g,fields:x,dialogOpen:o,handleDialogClose:s,getFormValues:b})})},nH=ee.div`
  display: flex;
  flex-direction: column;
  color: ${V.newColors.almostBlack[100]};
  background-color: ${V.newColors.grey1[100]};
  font-family: ${V.fontFamily};
  height: 204px;
  padding: 24px 16px 16px 24px;
  width: 300px;

  & span {
    font-size: 14px;
    margin: 0;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
	line-height: 20px;
  }
`,rH=ee.span`
  font-weight: ${V.fontWeight.semiBold};
  margin-bottom: 12px !important;
`,iH=ee(il)`
  align-self: flex-end;
  margin-top: auto;
`,oH=n=>{var s,a;const{address:e,onEdit:t,onRemoveAddress:r,disabled:i}=n,o=(e.types||[]).map(l=>l.label);return v.jsxs(nH,{"data-testid":"address-card-test",children:[v.jsx(rH,{children:`${fk(o)} Address`}),v.jsx("span",{children:e==null?void 0:e.address1}),(e==null?void 0:e.address2)&&v.jsx("span",{children:e==null?void 0:e.address2}),(e==null?void 0:e.address3)&&v.jsx("span",{children:e==null?void 0:e.address3}),v.jsx("span",{children:`${e==null?void 0:e.city}, ${(s=e==null?void 0:e.state)!=null&&s.label?e.state.label:""} ${e==null?void 0:e.postalCode}`}),v.jsx("span",{children:(a=e==null?void 0:e.country)==null?void 0:a.label}),v.jsxs(iH,{separator:!0,children:[v.jsx(ln,{label:"Edit",color:"teal",variant:"text",disabled:i,onClick:()=>t(e)}),v.jsx(ln,{color:"red",variant:"text",disabled:i,label:"Remove",onClick:()=>r(e)})]})]})},sH=m.memo(oH);ee.div`
  align-items: center;
  background-color: ${V.newColors.grey2[100]};
  display: flex;
  justify-content: center;
  min-height: 204px;
  width: 300px;
`;const aH=ee.div`
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
`,lH=ee.div`
  margin-bottom: 16px;
`,uH=ee.div`
  display: flex;
  gap: 16px;
`;function cH(){return v.jsxs("div",{children:[v.jsx(Qe,{variant:"rectangular",width:143,height:36,sx:{marginBottom:2}}),v.jsxs(uH,{children:[v.jsx(Qe,{variant:"rectangular",width:300,height:204}),v.jsx(Qe,{variant:"rectangular",width:300,height:204})]})]})}const wp=[{label:"Physical",value:"physical",inputSettingsKey:"amountPhysical"},{label:"Billing",value:"billing",inputSettingsKey:"amountBilling"},{label:"Shipping",value:"shipping",inputSettingsKey:"amountShipping"}],dH=n=>{var I,R,z;const{disabled:e,value:t,onBlur:r,onChange:i,fieldDef:o,skeleton:s}=n,[a,l]=m.useState(!1),u=m.useMemo(()=>!t||Array.isArray(t)?t:[t],[t]),[c,d]=m.useState(!1),[f,p]=m.useState(!1),[h,g]=m.useState(null),{singleType:y,limits:x}=m.useMemo(()=>{var N,Z;const W=wp.map(me=>{var re;return{...me,limit:(re=o==null?void 0:o.inputSettings)==null?void 0:re[me.inputSettingsKey]}}).filter(me=>me.limit!==void 0),D=W.length===1&&((N=o==null?void 0:o.inputSettings)==null?void 0:N.amountPerType)===void 0?W[0]:!1,B=((Z=o==null?void 0:o.inputSettings)==null?void 0:Z.amountPerType)??+!W.length;return{limits:wp.reduce((me,re)=>{var U;return{...me,[re.value]:((U=o==null?void 0:o.inputSettings)==null?void 0:U[re.inputSettingsKey])??B}},{}),singleType:D}},[o==null?void 0:o.inputSettings]),b=m.useMemo(()=>wp.filter(W=>{const D=(u||[]).filter(B=>{var F;return(F=B==null?void 0:B.types)==null?void 0:F.map(({value:N})=>N).includes(W.value)});return!(x[W.value]>-1&&D.length>=x[W.value])}),[x,u]),w=()=>{l(!0)},k=m.useCallback(async _=>{i((u||[]).filter(W=>W!==_)),await r()},[r,i,u]),S=async(_=!1)=>{typeof _=="boolean"&&_?(l(!1),r&&await r()):c?p(!0):(l(!1),r&&await r())},C=async _=>{_&&l(!1),p(!1)},M=_=>{const W=[...u||[]],D={..._,types:y?[{value:y.value,label:y.label}]:_.types};if(typeof a=="object"){const B=u.findIndex(F=>F===a);W.splice(B,1,D)}else W.push(D);i(W)},T=m.useMemo(()=>[{label:"No, keep it",onClick:()=>g(void 0),color:"gray",variant:"outlined"},{label:"Yes, remove it",onClick:()=>{k(h),g(void 0)},color:"yellow",variant:"contained"}],[k,h]);return s?v.jsx(cH,{}):v.jsxs(v.Fragment,{children:[b.length>0&&v.jsx(lH,{children:v.jsx(ln,{disabled:e,color:"gray",variant:"outlined",label:"ADD ADDRESS",onClick:w})}),!!u&&v.jsx(aH,{children:u.map((_,W)=>v.jsx(sH,{address:_,onEdit:l,disabled:e,onRemoveAddress:g},`${W}`))}),v.jsx(ym,{open:!!a,onClose:S,children:v.jsx(tH,{googleMapsApiKey:(I=o==null?void 0:o.inputSettings)==null?void 0:I.googleMapsApiKey,handleClose:S,addressToEdit:typeof a=="object"?a:void 0,handleUnsavedChanges:_=>d(_),dialogOpen:f,handleDialogClose:C,addressTypes:y?void 0:b,getOptionsCountries:(R=o==null?void 0:o.inputSettings)==null?void 0:R.getOptionsCountries,getOptionsStates:(z=o==null?void 0:o.inputSettings)==null?void 0:z.getOptionsStates,onSave:M})}),v.jsx(Em,{buttons:T,dialogTitle:"Are you sure you want to remove this address?",open:!!h,children:"All data for this address will be lost. This action is irreversible."})]})},fH=m.memo(dH);function on(n){this.content=n}on.prototype={constructor:on,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new on(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new on(t)},addToStart:function(n,e){return new on([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new on(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new on(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=on.from(n),n.size?new on(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=on.from(n),n.size?new on(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=on.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};on.from=function(n){if(n instanceof on)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new on(e)};function Hk(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)t++;return t}if(i.content.size||o.content.size){let s=Hk(i.content,o.content,t+1);if(s!=null)return s}t+=i.nodeSize}}function Vk(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let s=n.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){t-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:t,b:r};if(s.isText&&s.text!=a.text){let u=0,c=Math.min(s.text.length,a.text.length);for(;u<c&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,t--,r--;return{a:t,b:r}}if(s.content.size||a.content.size){let u=Vk(s.content,a.content,t-1,r-1);if(u)return u}t-=l,r-=l}}class oe{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let s=0,a=0;a<t;s++){let l=this.content[s],u=a+l.nodeSize;if(u>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,t-c),r,i+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",s=!0;return this.nodesBetween(e,t,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new oe(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,s=0;s<t;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,t-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,t-s-1))),r.push(a),i+=a.nodeSize),s=l}return new oe(r,i)}cutByIndex(e,t){return e==t?oe.empty:e==0&&t==this.content.length?this:new oe(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new oe(i,o)}addToStart(e){return new oe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new oe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return Hk(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Vk(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Ul(0,e);if(e==this.size)return Ul(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||t>0?Ul(r+1,s):Ul(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return oe.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new oe(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return oe.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new oe(t||e,r)}static from(e){if(!e)return oe.empty;if(e instanceof oe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new oe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}oe.empty=new oe([],0);const Cp={index:0,offset:0};function Ul(n,e){return Cp.index=n,Cp.offset=e,Cp}function _u(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!_u(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!_u(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let yt=class Rh{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&_u(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Rh.none;if(e instanceof Rh)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};yt.none=[];class cs extends Error{}class le{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Uk(this.content,e+this.openStart,t);return r&&new le(r,this.openStart,this.openEnd)}removeBetween(e,t){return new le(Wk(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return le.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new le(oe.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new le(e,r,i)}}le.empty=new le(oe.empty,0,0);function Wk(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:s,offset:a}=n.findIndex(t);if(i==e||o.isText){if(a!=t&&!n.child(s).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=s)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(Wk(o.content,e-i-1,t-i-1)))}function Uk(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),s=n.maybeChild(i);if(o==e||s.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=Uk(s.content,e-o-1,t);return a&&n.replaceChild(i,s.copy(a))}function pH(n,e,t){if(t.openStart>n.depth)throw new cs("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new cs("Inconsistent open depths");return qk(n,e,t,0)}function qk(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let s=qk(n,e,t,r+1);return o.copy(o.content.replaceChild(i,s))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let s=n.parent,a=s.content;return Vi(s,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=hH(t,n);return Vi(o,Kk(n,s,a,e,r))}else return Vi(o,$u(n,e,r))}function Gk(n,e){if(!e.type.compatibleContent(n.type))throw new cs("Cannot join "+e.type.name+" onto "+n.type.name)}function Ph(n,e,t){let r=n.node(t);return Gk(r,e.node(t)),r}function Hi(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Da(n,e,t,r){let i=(e||n).node(t),o=0,s=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(Hi(n.nodeAfter,r),o++));for(let a=o;a<s;a++)Hi(i.child(a),r);e&&e.depth==t&&e.textOffset&&Hi(e.nodeBefore,r)}function Vi(n,e){return n.type.checkContent(e),n.copy(e)}function Kk(n,e,t,r,i){let o=n.depth>i&&Ph(n,e,i+1),s=r.depth>i&&Ph(t,r,i+1),a=[];return Da(null,n,i,a),o&&s&&e.index(i)==t.index(i)?(Gk(o,s),Hi(Vi(o,Kk(n,e,t,r,i+1)),a)):(o&&Hi(Vi(o,$u(n,e,i+1)),a),Da(e,t,i,a),s&&Hi(Vi(s,$u(t,r,i+1)),a)),Da(r,null,i,a),new oe(a)}function $u(n,e,t){let r=[];if(Da(null,n,t,r),n.depth>t){let i=Ph(n,e,t+1);Hi(Vi(i,$u(n,e,t+1)),r)}return Da(e,null,t,r),new oe(r)}function hH(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(oe.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Ga{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return yt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Fu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),u=o-l;if(r.push(s,a,i+l),!u||(s=s.child(a),s.isText))break;o=u-1,i+=l+1}return new Ga(t,r,o)}static resolveCached(e,t){let r=$x.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==t)return s}else $x.set(e,r=new mH);let i=r.elts[r.i]=Ga.resolve(e,t);return r.i=(r.i+1)%gH,i}}class mH{constructor(){this.elts=[],this.i=0}}const gH=12,$x=new WeakMap;class Fu{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const vH=Object.create(null);let Wi=class Dh{constructor(e,t,r,i=yt.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||oe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&_u(this.attrs,t||e.defaultAttrs||vH)&&yt.sameSet(this.marks,r||yt.none)}copy(e=null){return e==this.content?this:new Dh(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Dh(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return le.empty;let i=this.resolve(e),o=this.resolve(t),s=r?0:i.sharedDepth(t),a=i.start(s),u=i.node(s).content.cut(i.pos-a,o.pos-a);return new le(u,i.depth-s,o.depth-s)}replace(e,t,r){return pH(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Ga.resolveCached(this,e)}resolveNoCache(e){return Ga.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Yk(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=oe.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,t);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=yt.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!yt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=oe.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Wi.prototype.text=void 0;class Bu extends Wi{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Yk(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Bu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Bu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Yk(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Yi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new yH(e,t);if(r.next==null)return Yi.empty;let i=Jk(r);r.next&&r.err("Unexpected trailing text");let o=MH(kH(i));return EH(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!t||l.validEnd))return oe.from(a.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:d}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,a.concat(c));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Yi.empty=new Yi(!0);class yH{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Jk(n){let e=[];do e.push(bH(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function bH(n){let e=[];do e.push(xH(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function xH(n){let e=SH(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=wH(n,e);else break;return e}function Fx(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function wH(n,e){let t=Fx(n),r=t;return n.eat(",")&&(n.next!="}"?r=Fx(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function CH(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let s=t[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function SH(n){if(n.eat("(")){let e=Jk(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=CH(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function kH(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(s,a,l){let u={term:l,to:a};return e[s].push(u),u}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(o(u,a)),[]);if(s.type=="seq")for(let l=0;;l++){let u=o(s.exprs[l],a);if(l==s.exprs.length-1)return u;i(u,a=t())}else if(s.type=="star"){let l=t();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=t();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let u=0;u<s.min;u++){let c=t();i(o(s.expr,l),c),l=c}if(s.max==-1)i(o(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let c=t();r(l,c),i(o(s.expr,l),c),l=c}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function Zk(n,e){return e-n}function Bx(n,e){let t=[];return r(e),t.sort(Zk);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&t.indexOf(l)==-1&&r(l)}}}function MH(n){let e=Object.create(null);return t(Bx(n,0));function t(r){let i=[];r.forEach(s=>{n[s].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);Bx(n,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new Yi(r.indexOf(n.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(Zk);o.next.push({type:i[s][0],next:e[a.join(",")]||t(a)})}return o}}function EH(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Xk(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Qk(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function eM(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(e[i])}}function tM(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new LH(n,r,e[r]);return t}let jx=class nM{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=tM(e,r.attrs),this.defaultAttrs=Xk(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Yi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Qk(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wi(this,this.computeAttrs(e),oe.from(t),yt.setFrom(r))}createChecked(e=null,t,r){return t=oe.from(t),this.checkContent(t),new Wi(this,this.computeAttrs(e),t,yt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=oe.from(t),t.size){let s=this.contentMatch.fillBefore(t);if(!s)return null;t=s.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(oe.empty,!0);return o?new Wi(this,e,t.append(o),yt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){eM(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:yt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,s)=>r[o]=new nM(o,t,s));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function TH(n,e,t){let r=t.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class LH{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?TH(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class hl{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=tM(e,i.attrs),this.excluded=null;let o=Xk(this.attrs);this.instance=o?new yt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new yt(this,Qk(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new hl(o,i++,t,s)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){eM(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class rM{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=on.from(e.nodes),t.marks=on.from(e.marks||{}),this.nodes=jx.compile(this.spec.nodes,this),this.marks=hl.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Yi.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?zx(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:zx(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof jx){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Bu(r,r.defaultAttrs,e,yt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Wi.fromJSON(this,e)}markFromJSON(e){return yt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function zx(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],s=o;if(o)t.push(o);else for(let a in n.marks){let l=n.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function AH(n){return n.tag!=null}function OH(n){return n.style!=null}let Ia=class Ih{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(AH(i))this.tags.push(i);else if(OH(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new Vx(this,t,!1);return r.addAll(e,yt.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new Vx(this,t,!0);return r.addAll(e,yt.none,t.from,t.to),le.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(DH(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(s.getAttrs){let l=s.getAttrs(t);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<t.length;s++){let a=t[s];if((a.priority==null?50:a.priority)<o)break}t.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Wx(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Wx(s)),s.node||s.ignore||s.mark||(s.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ih(e,Ih.schemaRules(e)))}};const iM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},RH={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},oM={ol:!0,ul:!0},ju=1,zu=2,ru=4;function Hx(n,e,t){return e!=null?(e?ju:0)|(e==="full"?zu:0):n&&n.whitespace=="pre"?ju|zu:t&-5}class ql{constructor(e,t,r,i,o,s){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=yt.none,this.match=o||(s&ru?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(oe.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ju)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=oe.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(oe.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!iM.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Vx{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0;let i=t.topNode,o,s=Hx(null,t.preserveWhitespace,0)|(r?ru:0);i?o=new ql(i.type,i.attrs,yt.none,!0,t.topMatch||i.type.contentMatch,s):r?o=new ql(null,null,yt.none,!0,null,s):o=new ql(e.schema.topNodeType,null,yt.none,!0,null,s),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top;if(i.options&zu||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&ju)i.options&zu?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=e.nodeName.toLowerCase(),o;oM.hasOwnProperty(i)&&this.parser.normalizeLists&&PH(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(s?s.ignore:RH.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,l=this.top,u=this.needsBlock;if(iM.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);return}let c=s&&s.skip?t:this.readStyles(e,t);c&&this.addAll(e,c),a&&this.sync(l),this.needsBlock=u}else{let a=this.readStyles(e,t);a&&this.addElementByRule(e,s,a,s.consuming===!1?o:void 0)}}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(u=>!l.clearMark(u)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,r,i){let o,s;if(t.node)if(s=this.parser.schema.nodes[t.node],s.isLeaf)this.insertNode(s.create(t.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,t.attrs||null,r,t.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[t.mark];r=r.concat(l.create(t.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,r)}o&&this.sync(a)&&this.open--}addAll(e,t,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,t);this.findAtPoint(e,o)}findPlace(e,t){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)t=this.enterInner(r[o],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(t=this.enterInner(i,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=yt.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):Ux(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let o=this.findPlace(e.create(t),r);return o&&(o=this.enterInner(e,t,r,!0,i)),o}enterInner(e,t,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=Hx(e,o,s.options);s.options&ru&&s.content.length==0&&(a|=ru);let l=yt.none;return r=r.filter(u=>(s.type?s.type.allowsMarkType(u.type):Ux(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new ql(e,t,l,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let u=t[a];if(u==""){if(a==t.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function PH(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&oM.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function DH(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function Wx(n){let e={};for(let t in n)e[t]=n[t];return e}function Ux(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}class fo{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Sp(t).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],c=this.serializeMark(u,s.isInline,t);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=iu(Sp(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&iu(Sp(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return iu(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new fo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=qx(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return qx(e.marks)}}function qx(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Sp(n){return n.document||window.document}const Gx=new WeakMap;function IH(n){let e=Gx.get(n);return e===void 0&&Gx.set(n,e=NH(n)),e}function NH(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function iu(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=IH(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(t=i.slice(0,s),i=i.slice(s+1));let a,l=t?n.createElementNS(t,i):n.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):l.setAttribute(d,u[d])}}for(let d=c;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:h}=iu(n,f,t,r);if(l.appendChild(p),h){if(a)throw new RangeError("Multiple content holes");a=h}}}return{dom:l,contentDOM:a}}const sM=65535,aM=Math.pow(2,16);function _H(n,e){return n+e*aM}function Kx(n){return n&sM}function $H(n){return(n-(n&sM))/aM}const lM=1,uM=2,ou=4,cM=8;let Nh=class{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&cM)>0}get deletedBefore(){return(this.delInfo&(lM|ou))>0}get deletedAfter(){return(this.delInfo&(uM|ou))>0}get deletedAcross(){return(this.delInfo&ou)>0}},Ji=class Uo{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Uo.empty)return Uo.empty}recover(e){let t=0,r=Kx(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+$H(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+o],c=this.ranges[a+s],d=l+u;if(e<=d){let f=u?e==l?-1:e==d?1:t:t,p=l+i+(f<0?0:c);if(r)return p;let h=e==(t<0?l:d)?null:_H(a/3,e-l),g=e==l?uM:e==d?lM:ou;return(t<0?e!=l:e!=d)&&(g|=cM),new Nh(p,g,h)}i+=c-u}return r?e+i:new Nh(e+i,0,null)}touches(e,t){let r=0,i=Kx(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+o],c=l+u;if(e<=c&&a==i*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+t],c=this.ranges[i+r];e(a,a+u,l,l+c),o+=c-u}}invert(){return new Uo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Uo.empty:new Uo(e<0?[0,-e,0]:[0,0,e])}};Ji.empty=new Ji([]);let dM=class su{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new su(this.maps,this.mirror,e,t)}copy(){return new su(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new su;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Nh(e,i,null)}};const kp=Object.create(null);let hn=class{getMap(){return Ji.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=kp[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in kp)throw new RangeError("Duplicate use of step JSON ID "+e);return kp[e]=t,t.prototype.jsonID=e,t}},bn=class ma{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ma(e,null)}static fail(e){return new ma(null,e)}static fromReplace(e,t,r,i){try{return ma.ok(e.replace(t,r,i))}catch(o){if(o instanceof cs)return ma.fail(o.message);throw o}}};function Dg(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(Dg(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return oe.fromArray(r)}let Ig=class ga extends hn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new le(Dg(t.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return bn.fromReplace(e,this.from,this.to,o)}invert(){return new ml(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ga(t.pos,r.pos,this.mark)}merge(e){return e instanceof ga&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ga(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ga(t.from,t.to,e.markFromJSON(t.mark))}};hn.jsonID("addMark",Ig);let ml=class va extends hn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new le(Dg(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return bn.fromReplace(e,this.from,this.to,r)}invert(){return new Ig(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new va(t.pos,r.pos,this.mark)}merge(e){return e instanceof va&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new va(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new va(t.from,t.to,e.markFromJSON(t.mark))}};hn.jsonID("removeMark",ml);let Ng=class ya extends hn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return bn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return bn.fromReplace(e,this.pos,this.pos+1,new le(oe.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new ya(this.pos,t.marks[i]);return new ya(this.pos,this.mark)}}return new _g(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ya(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ya(t.pos,e.markFromJSON(t.mark))}};hn.jsonID("addNodeMark",Ng);let _g=class _h extends hn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return bn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return bn.fromReplace(e,this.pos,this.pos+1,new le(oe.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ng(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new _h(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _h(t.pos,e.markFromJSON(t.mark))}};hn.jsonID("removeNodeMark",_g);let Wr=class Oi extends hn{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&$h(e,this.from,this.to)?bn.fail("Structure replace would overwrite content"):bn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ji([this.from,this.to-this.from,this.slice.size])}invert(e){return new Oi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Oi(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Oi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?le.empty:new le(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Oi(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?le.empty:new le(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Oi(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Oi(t.from,t.to,le.fromJSON(e,t.slice),!!t.structure)}};hn.jsonID("replace",Wr);let xr=class au extends hn{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&($h(e,this.from,this.gapFrom)||$h(e,this.gapTo,this.to)))return bn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return bn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?bn.fromReplace(e,this.from,this.to,r):bn.fail("Content does not fit in gap")}getMap(){return new Ji([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new au(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new au(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new au(t.from,t.to,t.gapFrom,t.gapTo,le.fromJSON(e,t.slice),t.insert,!!t.structure)}};hn.jsonID("replaceAround",xr);function $h(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function FH(n,e,t,r){let i=[],o=[],s,a;n.doc.nodesBetween(e,t,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),p=Math.min(u+l.nodeSize,t),h=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(h)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=p:i.push(s=new ml(f,p,d[g])));a&&a.to==f?a.to=p:o.push(a=new Ig(f,p,r))}}),i.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function BH(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof hl){let u=s.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let u=Math.min(a+s.nodeSize,t);for(let c=0;c<l.length;c++){let d=l[c],f;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&d.eq(i[p].style)&&(f=h)}f?(f.to=u,f.step=o):i.push({style:d,from:Math.max(a,e),to:u,step:o})}}}),i.forEach(s=>n.step(new ml(s.from,s.to,s.style)))}function fM(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let u=o.child(l),c=a+u.nodeSize,d=r.matchType(u.type);if(!d)s.push(new Wr(a,c,le.empty));else{r=d;for(let f=0;f<u.marks.length;f++)t.allowsMarkType(u.marks[f].type)||n.step(new ml(a,c,u.marks[f]));if(i&&u.isText&&t.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(u.text);)h||(h=new le(oe.from(t.schema.text(" ",t.allowedMarks(u.marks))),0,0)),s.push(new Wr(a+f.index,a+f.index+f[0].length,h))}}a=c}if(!r.validEnd){let l=r.fillBefore(oe.empty,!0);n.replace(a,a,new le(l,0,0))}for(let l=s.length-1;l>=0;l--)n.step(s[l])}function jH(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function zH(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(r==0||i.type.spec.isolating||!jH(i,o,s))break}return null}function HH(n,e,t){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,u=a,c=oe.empty,d=0;for(let h=o,g=!1;h>t;h--)g||r.index(h)>0?(g=!0,c=oe.from(r.node(h).copy(c)),d++):l--;let f=oe.empty,p=0;for(let h=o,g=!1;h>t;h--)g||i.after(h+1)<i.end(h)?(g=!0,f=oe.from(i.node(h).copy(f)),p++):u++;n.step(new xr(l,u,s,a,new le(c.append(f),d,p),c.size-d,!0))}function VH(n,e,t=null,r=n){let i=WH(n,e),o=i&&UH(r,e);return o?i.map(Yx).concat({type:e,attrs:t}).concat(o.map(Yx)):null}function Yx(n){return{type:n,attrs:null}}function WH(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(r,i,s)?o:null}function UH(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:s}function qH(n,e,t){let r=oe.empty;for(let s=t.length-1;s>=0;s--){if(r.size){let a=t[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=oe.from(t[s].type.create(t[s].attrs,r))}let i=e.start,o=e.end;n.step(new xr(i,o,i,o,new le(r,0,0),t.length,!0))}function GH(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&JH(n.doc,n.mapping.slice(o).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!h?u=!1:!p&&h&&(u=!0)}u===!1&&YH(n,s,a,o),fM(n,n.mapping.slice(o).map(a,1),r,void 0,u===null);let c=n.mapping.slice(o),d=c.map(a,1),f=c.map(a+s.nodeSize,1);return n.step(new xr(d,f,d+1,f-1,new le(oe.from(r.create(l,null,s.marks)),0,0),1,!0)),u===!0&&KH(n,s,a,o),!1}})}function KH(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+o+s.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function YH(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=n.mapping.slice(r).map(t+1+o);n.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function JH(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function ZH(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let s=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new xr(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new le(oe.from(s),0,0),1,!0))}function XH(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let l=i.depth-1,u=t-2;l>o;l--,u--){let c=i.node(l),d=i.index(l);if(c.type.spec.isolating)return!1;let f=c.content.cutByIndex(d,c.childCount),p=c;if(!c.canReplace(d+1,c.childCount)||!p.type.validContent(f))return!1}let a=i.indexAfter(o);return i.node(o).canReplaceWith(a,a,i.node(o+1).type)}function QH(n,e,t=1,r){let i=n.doc.resolve(e),o=oe.empty,s=oe.empty;for(let a=i.depth,l=i.depth-t,u=t-1;a>l;a--,u--){o=oe.from(i.node(a).copy(o));let c=r&&r[u];s=oe.from(c?c.type.create(c.attrs,s):i.node(a).copy(s))}n.step(new Wr(e,e,new le(o.append(s),t,t),!0))}function e8(n,e){let t=n.resolve(e),r=t.index();return t8(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function t8(n,e){return!!(n&&e&&!n.isLeaf&&n.canAppend(e))}function n8(n,e,t){let r=new Wr(e-t,e+t,le.empty,!0);n.step(r)}function r8(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function pM(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function i8(n,e,t=e,r=le.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return hM(i,o,r)?new Wr(e,t,r):new o8(i,o,r).fit()}function hM(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}let o8=class{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=oe.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=oe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new le(o,s,a);return e>-1?new xr(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new Wr(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Mp(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,d=null;if(t==1&&(s?u.matchType(s.type)||(d=u.fillBefore(oe.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(t==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Mp(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new le(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Mp(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new le(ba(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new le(ba(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));d=d.matchFragment(i)}let p=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let g=a.child(u),y=d.matchType(g.type);if(!y)break;u++,(u>1||l==0||g.content.size)&&(d=y,c.push(mM(g.mark(f.allowedMarks(g.marks)),u==1?l:0,u==a.childCount?p:-1)))}let h=u==a.childCount;h||(p=-1),this.placed=xa(this.placed,t,oe.from(c)),this.frontier[t].match=d,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<p;g++){let x=y.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),y=x.content}this.unplaced=h?e==0?le.empty:new le(ba(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new le(ba(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Ep(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=Ep(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=Ep(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=xa(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=xa(this.placed,this.depth,oe.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(oe.empty,!0);t.childCount&&(this.placed=xa(this.placed,this.frontier.length,t))}};function ba(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(ba(n.firstChild.content,e-1,t)))}function xa(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(xa(n.lastChild.content,e-1,t)))}function Mp(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function mM(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,mM(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(oe.empty,!0)))),n.copy(r)}function Ep(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!s8(t,o.content,s)?a:null}function s8(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function a8(n){return n.spec.defining||n.spec.definingForContent}function l8(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(hM(i,o,r))return n.step(new Wr(e,t,r));let s=vM(i,n.doc.resolve(t));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let h=i.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==p&&s.splice(1,0,-f)}let l=s.indexOf(a),u=[],c=r.openStart;for(let f=r.content,p=0;;p++){let h=f.firstChild;if(u.push(h),p==r.openStart)break;f=h.content}for(let f=c-1;f>=0;f--){let p=u[f],h=a8(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(a)-1)))c=f;else if(h||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+c+1)%(r.openStart+1),h=u[p];if(h)for(let g=0;g<s.length;g++){let y=s[(g+l)%s.length],x=!0;y<0&&(x=!1,y=-y);let b=i.node(y-1),w=i.index(y-1);if(b.canReplaceWith(w,w,h.type,h.marks))return n.replace(i.before(y),x?o.after(y):t,new le(gM(r.content,0,r.openStart,p),p,r.openEnd))}}let d=n.steps.length;for(let f=s.length-1;f>=0&&(n.replace(e,t,r),!(n.steps.length>d));f--){let p=s[f];p<0||(e=i.before(p),t=o.after(p))}}function gM(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(gM(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore(oe.empty,!0))}return n}function u8(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=r8(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new le(oe.from(r),0,0))}function c8(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=vM(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&t>r.end(s)&&i.end(s)-t!=i.depth-s)return n.delete(r.before(s),t);n.delete(e,t)}function vM(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}let yM=class lu extends hn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return bn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return bn.fromReplace(e,this.pos,this.pos+1,new le(oe.from(i),0,t.isLeaf?0:1))}getMap(){return Ji.empty}invert(e){return new lu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new lu(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new lu(t.pos,t.attr,t.value)}};hn.jsonID("attr",yM);let bM=class Fh extends hn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return bn.ok(r)}getMap(){return Ji.empty}invert(e){return new Fh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Fh(t.attr,t.value)}};hn.jsonID("docAttr",bM);let ds=class extends Error{};ds=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};ds.prototype=Object.create(Error.prototype);ds.prototype.constructor=ds;ds.prototype.name="TransformError";let d8=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new dM}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new ds(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=le.empty){let i=i8(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new le(oe.from(r),0,0))}delete(e,t){return this.replace(e,t,le.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return l8(this,e,t,r),this}replaceRangeWith(e,t,r){return u8(this,e,t,r),this}deleteRange(e,t){return c8(this,e,t),this}lift(e,t){return HH(this,e,t),this}join(e,t=1){return n8(this,e,t),this}wrap(e,t){return qH(this,e,t),this}setBlockType(e,t=e,r,i=null){return GH(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return ZH(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new yM(e,t,r)),this}setDocAttribute(e,t){return this.step(new bM(e,t)),this}addNodeMark(e,t){return this.step(new Ng(e,t)),this}removeNodeMark(e,t){if(!(t instanceof yt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new _g(e,t)),this}split(e,t=1,r){return QH(this,e,t,r),this}addMark(e,t,r){return FH(this,e,t,r),this}removeMark(e,t,r){return BH(this,e,t,r),this}clearIncompatible(e,t,r){return fM(this,e,t,r),this}};const Tp=Object.create(null);class Xe{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new f8(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=le.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),a?le.empty:t),a==0&&Xx(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),u=l.map(s.pos),c=l.map(a.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),Xx(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Ke(e):qo(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=t<0?qo(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):qo(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new vr(e.node(0))}static atStart(e){return qo(e,e,0,0,1)||new vr(e)}static atEnd(e){return qo(e,e,e.content.size,e.childCount,-1)||new vr(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Tp[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Tp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Tp[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ke.between(this.$anchor,this.$head).getBookmark()}}Xe.prototype.visible=!0;class f8{constructor(e,t){this.$from=e,this.$to=t}}let Jx=!1;function Zx(n){!Jx&&!n.parent.inlineContent&&(Jx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Ke extends Xe{constructor(e,t=e){Zx(e),Zx(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Xe.near(r);let i=e.resolve(t.map(this.anchor));return new Ke(i.parent.inlineContent?i:r,r)}replace(e,t=le.empty){if(super.replace(e,t),t==le.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ke&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Xc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ke(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=Xe.findFrom(t,r,!0)||Xe.findFrom(t,-r,!0);if(o)t=o.$head;else return Xe.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(Xe.findFrom(e,-r,!0)||Xe.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Ke(e,t)}}Xe.jsonID("text",Ke);class Xc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Xc(e.map(this.anchor),e.map(this.head))}resolve(e){return Ke.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ve extends Xe{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?Xe.near(o):new Ve(o)}content(){return new le(oe.from(this.node),0,0)}eq(e){return e instanceof Ve&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new $g(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ve(e.resolve(t.anchor))}static create(e,t){return new Ve(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ve.prototype.visible=!1;Xe.jsonID("node",Ve);class $g{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Xc(r,r):new $g(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Ve.isSelectable(r)?new Ve(t):Xe.near(t)}}class vr extends Xe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=le.empty){if(t==le.empty){e.delete(0,e.doc.content.size);let r=Xe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new vr(e)}map(e){return new vr(e)}eq(e){return e instanceof vr}getBookmark(){return p8}}Xe.jsonID("all",vr);const p8={map(){return this},resolve(n){return new vr(n)}};function qo(n,e,t,r,i,o=!1){if(e.inlineContent)return Ke.create(n,t);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&Ve.isSelectable(a))return Ve.create(n,t-(i<0?a.nodeSize:0))}else{let l=qo(n,a,t+i,i<0?a.childCount:0,i,o);if(l)return l}t+=a.nodeSize*i}return null}function Xx(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Wr||i instanceof xr))return;let o=n.mapping.maps[r],s;o.forEach((a,l,u,c)=>{s==null&&(s=c)}),n.setSelection(Xe.near(n.doc.resolve(s),t))}const Qx=1,e1=2,t1=4;class h8 extends d8{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Qx)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&Qx)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=e1,this}ensureMarks(e){return yt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&e1)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||yt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(t);o=r==t?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),this.selection.empty||this.setSelection(Xe.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=t1,this}get scrolledIntoView(){return(this.updated&t1)>0}}function n1(n,e){return!e||!n?n:n.bind(e)}class wa{constructor(e,t,r){this.name=e,this.init=n1(t.init,r),this.apply=n1(t.apply,r)}}const m8=[new wa("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new wa("selection",{init(n,e){return n.selection||Xe.atStart(e.doc)},apply(n){return n.selection}}),new wa("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new wa("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Lp{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=m8.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new wa(r.key,r.spec.state,r))})}}class es{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,u=i?i[s].state:this,c=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:t.length}:{state:this,n:0})}t.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new es(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new h8(this)}static create(e){let t=new Lp(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new es(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new Lp(this.schema,e.plugins),r=t.fields,i=new es(t);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Lp(e.schema,e.plugins),o=new es(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Wi.fromJSON(e.schema,t.doc);else if(s.name=="selection")o.selection=Xe.fromJSON(o.doc,t.selection);else if(s.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){o[s.name]=u.fromJSON.call(l,e,t[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function xM(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=xM(i,e,{})),t[r]=i}return t}class mn{constructor(e){this.spec=e,this.props={},e.props&&xM(e.props,this,this.props),this.key=e.key?e.key.key:wM("plugin")}getState(e){return e[this.key]}}const Ap=Object.create(null);function wM(n){return n in Ap?n+"$"+ ++Ap[n]:(Ap[n]=0,n+"$")}class Un{constructor(e="key"){this.key=wM(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const sn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ka=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Bh=null;const jr=function(n,e,t){let r=Bh||(Bh=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},g8=function(){Bh=null},Zi=function(n,e,t,r){return t&&(r1(n,e,t,r,-1)||r1(n,e,t,r,1))},v8=/^(img|br|input|textarea|hr)$/i;function r1(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:or(n))){let o=n.parentNode;if(!o||o.nodeType!=1||gl(n)||v8.test(n.nodeName)||n.contentEditable=="false")return!1;e=sn(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?or(n):0}else return!1}}function or(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function y8(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=or(n)}else if(n.parentNode&&!gl(n))e=sn(n),n=n.parentNode;else return null}}function b8(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!gl(n))e=sn(n)+1,n=n.parentNode;else return null}}function x8(n,e,t){for(let r=e==0,i=e==or(n);r||i;){if(n==t)return!0;let o=sn(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==or(n)}}function gl(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Qc=function(n){return n.focusNode&&Zi(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Di(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function w8(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function C8(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(or(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(or(r.startContainer),r.startOffset)}}}const Rr=typeof navigator<"u"?navigator:null,i1=typeof document<"u"?document:null,ki=Rr&&Rr.userAgent||"",jh=/Edge\/(\d+)/.exec(ki),CM=/MSIE \d/.exec(ki),zh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ki),An=!!(CM||zh||jh),fi=CM?document.documentMode:zh?+zh[1]:jh?+jh[1]:0,yr=!An&&/gecko\/(\d+)/i.test(ki);yr&&+(/Firefox\/(\d+)/.exec(ki)||[0,0])[1];const Hh=!An&&/Chrome\/(\d+)/.exec(ki),pn=!!Hh,SM=Hh?+Hh[1]:0,wn=!An&&!!Rr&&/Apple Computer/.test(Rr.vendor),fs=wn&&(/Mobile\/\w+/.test(ki)||!!Rr&&Rr.maxTouchPoints>2),rr=fs||(Rr?/Mac/.test(Rr.platform):!1),S8=Rr?/Win/.test(Rr.platform):!1,fr=/Android \d/.test(ki),vl=!!i1&&"webkitFontSmoothing"in i1.documentElement.style,k8=vl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function M8(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Fr(n,e){return typeof n=="number"?n:n[e]}function E8(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function o1(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let s=t||n.dom;s;s=Ka(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,u=l?M8(o):E8(a),c=0,d=0;if(e.top<u.top+Fr(r,"top")?d=-(u.top-e.top+Fr(i,"top")):e.bottom>u.bottom-Fr(r,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+Fr(i,"top")-u.top:e.bottom-u.bottom+Fr(i,"bottom")),e.left<u.left+Fr(r,"left")?c=-(u.left-e.left+Fr(i,"left")):e.right>u.right-Fr(r,"right")&&(c=e.right-u.right+Fr(i,"right")),c||d)if(l)o.defaultView.scrollBy(c,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),c&&(a.scrollLeft+=c);let h=a.scrollLeft-f,g=a.scrollTop-p;e={left:e.left-h,top:e.top-g,right:e.right-h,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function T8(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=t+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=n.root.elementFromPoint(o,s);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:kM(n.dom)}}function kM(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ka(r));return e}function L8({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;MM(t,r==0?0:r-e)}function MM(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ko=null;function A8(n){if(n.setActive)return n.setActive();if(ko)return n.focus(ko);let e=kM(n);n.focus(ko==null?{get preventScroll(){return ko={preventScroll:!0},!0}}:void 0),ko||(ko=!1,MM(e,0))}function EM(n,e){let t,r=2e8,i,o=0,s=e.top,a=e.top,l,u;for(let c=n.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=jr(c).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=s&&h.bottom>=a){s=Math.max(h.bottom,s),a=Math.min(h.top,a);let g=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(g<r){t=c,r=g,i=g&&t.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&g&&(o=d+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!l&&h.left<=e.left&&h.right>=e.left&&(l=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!t&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=d+1)}}return!t&&l&&(t=l,i=u,r=0),t&&t.nodeType==3?O8(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:EM(t,i)}function O8(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=ni(r,1);if(o.top!=o.bottom&&Fg(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function Fg(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function R8(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function P8(n,e,t){let{node:r,offset:i}=EM(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&t.left>(s.left+s.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function D8(n,e,t,r){let i=-1;for(let o=e,s=!1;o!=n.dom;){let a=n.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function TM(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let s=n.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(Fg(e,u))return TM(s,e,u)}}if((o=(o+1)%r)==i)break}return n}function I8(n,e){let t=n.dom.ownerDocument,r,i=0,o=C8(t,e.left,e.top);o&&({node:r,offset:i}=o);let s=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!s||!n.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=n.dom.getBoundingClientRect();if(!Fg(e,u)||(s=TM(n.dom,e,u),!s))return null}if(wn)for(let u=s;r&&u;u=Ka(u))u.draggable&&(r=void 0);if(s=R8(s,e),r){if(yr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let u;vl&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=D8(n,r,i,e))}a==null&&(a=P8(n,s,e));let l=n.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function s1(n){return n.top<n.bottom||n.left<n.right}function ni(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(s1(r))return r}return Array.prototype.find.call(t,s1)||n.getBoundingClientRect()}const N8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function LM(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),s=vl||yr;if(r.nodeType==3)if(s&&(N8.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let l=ni(jr(r,i,i),t);if(yr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=ni(jr(r,i-1,i-1),-1);if(u.top==l.top){let c=ni(jr(r,i,i+1),-1);if(c.top!=l.top)return $s(c,c.left<u.left)}}return l}else{let l=i,u=i,c=t<0?1:-1;return t<0&&!i?(u++,c=-1):t>=0&&i==r.nodeValue.length?(l--,c=1):t<0?l--:u++,$s(ni(jr(r,l,u),c),c<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==or(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return Op(l.getBoundingClientRect(),!1)}if(o==null&&i<or(r)){let l=r.childNodes[i];if(l.nodeType==1)return Op(l.getBoundingClientRect(),!0)}return Op(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==or(r))){let l=r.childNodes[i-1],u=l.nodeType==3?jr(l,or(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return $s(ni(u,1),!1)}if(o==null&&i<or(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?jr(l,0,s?0:1):l.nodeType==1?l:null:null;if(u)return $s(ni(u,-1),!0)}return $s(ni(r.nodeType==3?jr(r):r,-t),t>=0)}function $s(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Op(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function AM(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function _8(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return AM(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=LM(n,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=jr(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(t=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const $8=/[\u0590-\u08ac]/;function F8(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=n.domSelection();return a?!$8.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?o:s:AM(n,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=n.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",t,"character");let p=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:h,focusOffset:g}=n.domSelectionRange(),y=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&u==g;try{a.collapse(c,d),l&&(l!=c||u!=d)&&a.extend&&a.extend(l,u)}catch{}return f!=null&&(a.caretBidiLevel=f),y}):r.pos==r.start()||r.pos==r.end()}let a1=null,l1=null,u1=!1;function B8(n,e,t){return a1==e&&l1==t?u1:(a1=e,l1=t,u1=t=="up"||t=="down"?_8(n,e,t):F8(n,e,t))}const ar=0,c1=1,_i=2,Pr=3;class yl{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=ar,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>sn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!t||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof RM){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof OM&&o.side>=0;r--);if(t<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&t&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?sn(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?sn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],u=s+l.size;if(i==-1&&e<=u){let c=s+l.border;if(e>=c&&t<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,c);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=sn(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>t||a==this.children.length-1)){t=u;for(let c=a+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=sn(d.dom);break}t+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),s=Math.max(e,t);for(let f=0,p=0;f<this.children.length;f++){let h=this.children[f],g=p+h.size;if(o>p&&s<g)return h.setSelection(e-p-h.border,t-p-h.border,r,i);p=g}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),u=r.getSelection(),c=!1;if((yr||wn)&&e==t){let{node:f,offset:p}=a;if(f.nodeType==3){if(c=!!(p&&f.nodeValue[p-1]==`
`),c&&p==f.nodeValue.length)for(let h=f,g;h;h=h.parentNode){if(g=h.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:sn(g)+1});break}let y=h.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let h=f.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(yr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||c&&wn)&&Zi(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Zi(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==t)&&!c){u.collapse(a.node,a.offset);try{e!=t&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>t){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&t>=r:e<s&&t>r){let a=r+o.border,l=s-o.border;if(e>=a&&t<=l){this.dirty=e==r||t==s?_i:c1,e==a&&t==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Pr:o.markDirty(e-a,t-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?_i:Pr}r=s}this.dirty=_i}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?_i:c1;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class OM extends yl{constructor(e,t,r,i){let o,s=t.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==ar&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class j8 extends yl{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Xi extends yl{constructor(e,t,r,i){super(e,[],r,i),this.mark=t}static create(e,t,r,i){let o=i.nodeViews[t.type.name],s=o&&o(t,i,r);return(!s||!s.dom)&&(s=fo.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Xi(e,t,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Pr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Pr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=ar){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ar}}slice(e,t,r){let i=Xi.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;t<s&&(o=Wh(o,t,s,r)),e>0&&(o=Wh(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class pi extends yl{constructor(e,t,r,i,o,s,a,l,u){super(e,[],o,s),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,o,s){let a=o.nodeViews[t.type.name],l,u=a&&a(t,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(t.isText){if(!c)c=document.createTextNode(t.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=fo.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!d&&!t.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let f=c;return c=IM(c,r,t),u?l=new z8(e,t,r,i,c,d||null,f,u,o,s+1):t.isText?new ed(e,t,r,i,c,f,o):new pi(e,t,r,i,c,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>oe.empty)}return e}matchesNode(e,t,r){return this.dirty==ar&&e.eq(this.node)&&Hu(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new V8(this,s&&s.node,e);q8(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?yt.none:this.node.child(c).marks,r,e),l.placeWidget(u,e,i)},(u,c,d,f)=>{l.syncToMarks(u.marks,r,e);let p;l.findNodeMatch(u,c,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,d,p,e)||l.updateNextNode(u,c,d,e,f,i)||l.addNode(u,c,d,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==_i)&&(s&&this.protectLocalComposition(e,s),PM(this.contentDOM,this.children,e),fs&&G8(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ke)||r<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=K8(this.node.content,s,r-t,i-t);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new j8(this,o,t,i);e.input.compositionNodes.push(s),this.children=Wh(this.children,r,r+i.length,e,s)}update(e,t,r,i){return this.dirty==Pr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ar}updateOuterDeco(e){if(Hu(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=DM(this.dom,this.nodeDOM,Vh(this.outerDeco,this.node,t),Vh(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function d1(n,e,t,r,i){IM(r,e,n);let o=new pi(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class ed extends pi{constructor(e,t,r,i,o,s,a){super(e,t,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Pr||this.dirty!=ar&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=ar||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ar,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new ed(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Pr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class RM extends yl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ar&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class z8 extends pi{constructor(e,t,r,i,o,s,a,l,u,c){super(e,t,r,i,o,s,a,u,c),this.spec=l}update(e,t,r,i){if(this.dirty==Pr)return!1;if(this.spec.update){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function PM(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==n){for(;a!=r;)r=f1(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(s instanceof Xi){let l=r?r.previousSibling:n.lastChild;PM(s.contentDOM,s.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=f1(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Na=function(n){n&&(this.nodeName=n)};Na.prototype=Object.create(null);const $i=[new Na];function Vh(n,e,t){if(n.length==0)return $i;let r=t?$i[0]:new Na,i=[r];for(let o=0;o<n.length;o++){let s=n[o].type.attrs;if(s){s.nodeName&&i.push(r=new Na(s.nodeName));for(let a in s){let l=s[a];l!=null&&(t&&i.length==1&&i.push(r=new Na(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function DM(n,e,t,r){if(t==$i&&r==$i)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=$i[0]),i=l}H8(i,a||$i[0],s)}return i}function H8(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function IM(n,e,t){return DM(n,n,$i,Vh(e,t,n.nodeType!=1))}function Hu(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function f1(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class V8{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=W8(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=ar,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Xi.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,t,r)&&!this.preMatch.matched.has(u)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let s=this.top.children[i];return s.dirty==Pr&&s.dom==s.contentDOM&&(s.dirty=_i),s.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof pi){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let c=l.dom,d,f=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Pr&&Hu(t,l.outerDeco));if(!f&&l.update(e,t,r,i))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,t,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=_i,d.updateChildren(i,s+1),d.dirty=ar),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,s){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Hu(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=pi.create(this.top,t,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,r,i,o){let s=pi.create(this.top,e,t,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new OM(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Xi;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof ed)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((wn||pn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new RM(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function W8(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let u=t.children[r-1];if(u instanceof Xi)t=u,r=u.children.length;else{a=u,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function U8(n,e){return n.type.side-e.type.side}function q8(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let u=0;u<n.childCount;u++){let c=n.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,a=[],l=null;for(let u=0;;){let c,d;for(;s<i.length&&i[s].to==o;){let y=i[s++];y.widget&&(c?(d||(d=[c])).push(y):c=y)}if(c)if(d){d.sort(U8);for(let y=0;y<d.length;y++)t(d[y],u,!!l)}else t(c,u,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(u<n.childCount)p=u,f=n.child(u++);else break;for(let y=0;y<a.length;y++)a[y].to<=o&&a.splice(y--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let h=o+f.nodeSize;if(f.isText){let y=h;s<i.length&&i[s].from<y&&(y=i[s].from);for(let x=0;x<a.length;x++)a[x].to<y&&(y=a[x].to);y<h&&(l=f.cut(y-o),f=f.cut(0,y-o),h=y,p=-1)}else for(;s<i.length&&i[s].to<h;)s++;let g=f.isInline&&!f.isLeaf?a.filter(y=>!y.inline):a.slice();r(f,g,e.forChild(o,f),p),o=h}}function G8(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function K8(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let s=n.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<n.childCount;){let u=n.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=t){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=t)return a+u;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Wh(n,e,t,r,i){let o=[];for(let s=0,a=0;s<n.length;s++){let l=n[s],u=a,c=a+=l.size;u>=t||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>t&&o.push(l.slice(t-u,l.size,r)))}return o}function Bg(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,s=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,u;if(Qc(t)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Ve.isSelectable(d)&&i.parent&&!(d.isInline&&x8(t.focusNode,t.focusOffset,i.dom))){let f=i.posBefore;u=new Ve(s==f?a:r.resolve(f))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let d=s,f=s;for(let p=0;p<t.rangeCount;p++){let h=t.getRangeAt(p);d=Math.min(d,n.docView.posFromDOM(h.startContainer,h.startOffset,1)),f=Math.max(f,n.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(d<0)return null;[l,s]=f==n.state.selection.anchor?[f,d]:[d,f],a=r.resolve(s)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!u){let d=e=="pointer"||n.state.selection.head<a.pos&&!o?1:-1;u=jg(n,c,a,d)}return u}function NM(n){return n.editable?n.hasFocus():$M(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Hr(n,e=!1){let t=n.state.selection;if(_M(n,t),!!NM(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&pn){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Zi(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)J8(n);else{let{anchor:r,head:i}=t,o,s;p1&&!(t instanceof Ke)&&(t.$from.parent.inlineContent||(o=h1(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(s=h1(n,t.to))),n.docView.setSelection(r,i,n.root,e),p1&&(o&&m1(o),s&&m1(s)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Y8(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const p1=wn||pn&&SM<63;function h1(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(wn&&i&&i.contentEditable=="false")return Rp(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Rp(i);if(o)return Rp(o)}}function Rp(n){return n.contentEditable="true",wn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function m1(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Y8(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!NM(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function J8(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,sn(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&An&&fi<=11&&(r.disabled=!0,r.disabled=!1)}function _M(n,e){if(e instanceof Ve){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(g1(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else g1(n)}function g1(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function jg(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Ke.between(e,t,r)}function v1(n){return n.editable&&!n.hasFocus()?!1:$M(n)}function $M(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Z8(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Zi(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Uh(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Xe.findFrom(o,e)}function oi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function y1(n,e,t){let r=n.state.selection;if(r instanceof Ke)if(t.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=n.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return oi(n,new Ke(r.$anchor,s))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=Uh(n.state,e);return i&&i instanceof Ve?oi(n,i):!1}else if(!(rr&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=n.docView.descAt(a))&&!s.contentDOM?Ve.isSelectable(o)?oi(n,new Ve(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):vl?oi(n,new Ke(n.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ve&&r.node.isInline)return oi(n,new Ke(e>0?r.$to:r.$from));{let i=Uh(n.state,e);return i?oi(n,i):!1}}}function Vu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function _a(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Mo(n,e){return e<0?X8(n):Q8(n)}function X8(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,s=!1;for(yr&&t.nodeType==1&&r<Vu(t)&&_a(t.childNodes[r],-1)&&(s=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(_a(a,-1))i=t,o=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(FM(t))break;{let a=t.previousSibling;for(;a&&_a(a,-1);)i=t.parentNode,o=sn(a),a=a.previousSibling;if(a)t=a,r=Vu(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}s?qh(n,t,r):i&&qh(n,i,o)}function Q8(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Vu(t),o,s;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(_a(a,1))o=t,s=++r;else break}else{if(FM(t))break;{let a=t.nextSibling;for(;a&&_a(a,1);)o=a.parentNode,s=sn(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=Vu(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&qh(n,o,s)}function FM(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function e9(n,e){for(;n&&e==n.childNodes.length&&!gl(n);)e=sn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function t9(n,e){for(;n&&!e&&!gl(n);)e=sn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function qh(n,e,t){if(e.nodeType!=3){let o,s;(s=e9(e,t))?(e=s,t=0):(o=t9(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Qc(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Hr(n)},50)}function b1(n,e){let t=n.state.doc.resolve(e);if(!(pn||S8)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function x1(n,e,t){let r=n.state.selection;if(r instanceof Ke&&!r.empty||t.indexOf("s")>-1||rr&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let s=Uh(n.state,e);if(s&&s instanceof Ve)return oi(n,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof vr?Xe.near(s,e):Xe.findFrom(s,e);return a?oi(n,a):!1}return!1}function w1(n,e){if(!(n.state.selection instanceof Ke))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let s=n.state.tr;return e<0?s.delete(t.pos-o.nodeSize,t.pos):s.delete(t.pos,t.pos+o.nodeSize),n.dispatch(s),!0}return!1}function C1(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function n9(n){if(!wn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;C1(n,r,"true"),setTimeout(()=>C1(n,r,"false"),20)}return!1}function r9(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function i9(n,e){let t=e.keyCode,r=r9(e);if(t==8||rr&&t==72&&r=="c")return w1(n,-1)||Mo(n,-1);if(t==46&&!e.shiftKey||rr&&t==68&&r=="c")return w1(n,1)||Mo(n,1);if(t==13||t==27)return!0;if(t==37||rr&&t==66&&r=="c"){let i=t==37?b1(n,n.state.selection.from)=="ltr"?-1:1:-1;return y1(n,i,r)||Mo(n,i)}else if(t==39||rr&&t==70&&r=="c"){let i=t==39?b1(n,n.state.selection.from)=="ltr"?1:-1:1;return y1(n,i,r)||Mo(n,i)}else{if(t==38||rr&&t==80&&r=="c")return x1(n,-1,r)||Mo(n,-1);if(t==40||rr&&t==78&&r=="c")return n9(n)||x1(n,1,r)||Mo(n,1);if(r==(rr?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function BM(n,e){n.someProp("transformCopied",p=>{e=p(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=n.someProp("clipboardSerializer")||fo.fromSchema(n.state.schema),a=UM(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=WM[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=a.createElement(c[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(t)}`);let f=n.someProp("clipboardTextSerializer",p=>p(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function jM(n,e,t,r,i){let o=i.parent.type.spec.code,s,a;if(!t&&!e)return null;let l=e&&(r||o||!t);if(l){if(n.someProp("transformPastedText",f=>{e=f(e,o||r,n)}),o)return e?new le(oe.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):le.empty;let d=n.someProp("clipboardTextParser",f=>f(e,i,r,n));if(d)a=d;else{let f=i.marks(),{schema:p}=n.state,h=fo.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=s.appendChild(document.createElement("p"));g&&y.appendChild(h.serializeNode(p.text(g,f)))})}}else n.someProp("transformPastedHTML",d=>{t=d(t,n)}),s=l9(t),vl&&u9(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Ia.fromSchema(n.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!o9.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)a=c9(S1(a,+c[1],+c[2]),c[4]);else if(a=le.maxOpen(s9(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=S1(a,d,f)}return n.someProp("transformPasted",d=>{a=d(a,n)}),a}const o9=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function s9(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,s=[];if(n.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),u;if(!l)return s=null;if(u=s.length&&o.length&&HM(l,o,a,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=VM(s[s.length-1],o.length));let c=zM(a,l);s.push(c),i=i.matchType(c.type),o=l}}),s)return oe.from(s)}return n}function zM(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,oe.from(n));return n}function HM(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=HM(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(oe.from(zM(t,n,i+1))))}}function VM(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,VM(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(oe.empty,!0);return n.copy(t.append(r))}function Gh(n,e,t,r,i,o){let s=e<0?n.firstChild:n.lastChild,a=s.content;return n.childCount>1&&(o=0),i<r-1&&(a=Gh(a,e,t,r,i+1,o)),i>=t&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(oe.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,s.copy(a))}function S1(n,e,t){return e<n.openStart&&(n=new le(Gh(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new le(Gh(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const WM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let k1=null;function UM(){return k1||(k1=document.implementation.createHTMLDocument("title"))}function a9(n){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:t=>t}).createHTML(n):n}function l9(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=UM().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&WM[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=a9(n),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function u9(n){let e=n.querySelectorAll(pn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent=="Â "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function c9(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:s}=n;for(let a=r.length-2;a>=0;a-=2){let l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=oe.from(l.create(r[a+1],i)),o++,s++}return new le(i,o,s)}const Cn={},Sn={},d9={touchstart:!0,touchmove:!0};class f9{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function p9(n){for(let e in Cn){let t=Cn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{m9(n,r)&&!zg(n,r)&&(n.editable||!(r.type in Sn))&&t(n,r)},d9[e]?{passive:!0}:void 0)}wn&&n.dom.addEventListener("input",()=>null),Kh(n)}function ci(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function h9(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Kh(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>zg(n,r))})}function zg(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function m9(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function g9(n,e){!zg(n,e)&&Cn[e.type]&&(n.editable||!(e.type in Sn))&&Cn[e.type](n,e)}Sn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!GM(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(fr&&pn&&t.keyCode==13)))if(n.domObserver.selectionChanged(n.domSelectionRange())?n.domObserver.flush():t.keyCode!=229&&n.domObserver.forceFlush(),fs&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Di(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||i9(n,t)?t.preventDefault():ci(n,"key")};Sn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Sn.keypress=(n,e)=>{let t=e;if(GM(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||rr&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Ke)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function td(n){return{left:n.clientX,top:n.clientY}}function v9(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Hg(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(n.someProp(e,a=>s>o.depth?a(n,t,o.nodeAfter,o.before(s),i,!0):a(n,t,o.node(s),o.before(s),i,!1)))return!0;return!1}function ss(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function y9(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Ve.isSelectable(r)?(ss(n,new Ve(t)),!0):!1}function b9(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Ve&&(r=t.node);let o=n.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(Ve.isSelectable(a)){r&&t.$from.depth>0&&s>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(s);break}}return i!=null?(ss(n,Ve.create(n.state.doc,i)),!0):!1}function x9(n,e,t,r,i){return Hg(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?b9(n,t):y9(n,t))}function w9(n,e,t,r){return Hg(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function C9(n,e,t,r){return Hg(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||S9(n,t,r)}function S9(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(ss(n,Ke.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)ss(n,Ke.create(r,a+1,a+1+s.content.size));else if(Ve.isSelectable(s))ss(n,Ve.create(r,a));else continue;return!0}}function Vg(n){return Wu(n)}const qM=rr?"metaKey":"ctrlKey";Cn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Vg(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&v9(t,n.input.lastClick)&&!t[qM]&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o};let s=n.posAtCoords(td(t));s&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new k9(n,s,t,!!r)):(o=="doubleClick"?w9:C9)(n,s.pos,s.inside,t)?t.preventDefault():ci(n,"pointer"))};class k9{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[qM],this.allowDefault=r.shiftKey;let o,s;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{let c=e.state.doc.resolve(t.pos);o=c.parent,s=c.depth?c.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof Ve&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&yr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ci(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Hr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(td(e))),this.updateAllowDefault(e),this.allowDefault||!t?ci(this.view,"pointer"):x9(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||wn&&this.mightDrag&&!this.mightDrag.node.isAtom||pn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ss(this.view,Xe.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):ci(this.view,"pointer")}move(e){this.updateAllowDefault(e),ci(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Cn.touchstart=n=>{n.input.lastTouch=Date.now(),Vg(n),ci(n,"pointer")};Cn.touchmove=n=>{n.input.lastTouch=Date.now(),ci(n,"pointer")};Cn.contextmenu=n=>Vg(n);function GM(n,e){return n.composing?!0:wn&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const M9=fr?5e3:-1;Sn.compositionstart=Sn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Ke&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Wu(n,!0),n.markCursor=null;else if(Wu(n,!e.selection.empty),yr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=n.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}n.input.composing=!0}KM(n,M9)};Sn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,KM(n,20))};function KM(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Wu(n),e))}function YM(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=T9());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function E9(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=y8(e.focusNode,e.focusOffset),r=b8(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let s=t.pmViewDesc;if(!(!s||!s.isText(t.nodeValue)))return r}}return t||r}function T9(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Wu(n,e=!1){if(!(fr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),YM(n),e||n.docView&&n.docView.dirty){let t=Bg(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function L9(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Ya=An&&fi<15||fs&&k8<604;Cn.copy=Sn.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=Ya?null:t.clipboardData,s=r.content(),{dom:a,text:l}=BM(n,s);o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):L9(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function A9(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function O9(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Ja(n,r.value,null,i,e):Ja(n,r.textContent,r.innerHTML,i,e)},50)}function Ja(n,e,t,r,i){let o=jM(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,o||le.empty)))return!0;if(!o)return!1;let s=A9(o),a=s?n.state.tr.replaceSelectionWith(s,r):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function JM(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Sn.paste=(n,e)=>{let t=e;if(n.composing&&!fr)return;let r=Ya?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Ja(n,JM(r),r.getData("text/html"),i,t)?t.preventDefault():O9(n,t)};class ZM{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const XM=rr?"altKey":"ctrlKey";Cn.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(td(t)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Ve?i.to-1:i.to))){if(r&&r.mightDrag)s=Ve.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let d=n.docView.nearestDesc(t.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&(s=Ve.create(n.state.doc,d.posBefore))}}let a=(s||n.state.selection).content(),{dom:l,text:u,slice:c}=BM(n,a);(!t.dataTransfer.files.length||!pn||SM>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Ya?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Ya||t.dataTransfer.setData("text/plain",u),n.dragging=new ZM(c,!t[XM],s)};Cn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Sn.dragover=Sn.dragenter=(n,e)=>e.preventDefault();Sn.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(td(t));if(!i)return;let o=n.state.doc.resolve(i.pos),s=r&&r.slice;s?n.someProp("transformPasted",h=>{s=h(s,n)}):s=jM(n,JM(t.dataTransfer),Ya?null:t.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!t[XM]);if(n.someProp("handleDrop",h=>h(n,t,s||le.empty,a))){t.preventDefault();return}if(!s)return;t.preventDefault();let l=s?pM(n.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let u=n.state.tr;if(a){let{node:h}=r;h?h.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(f))return;let p=u.doc.resolve(c);if(d&&Ve.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new Ve(p));else{let h=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,y,x,b)=>h=b),u.setSelection(jg(n,p,u.doc.resolve(h)))}n.focus(),n.dispatch(u.setMeta("uiEvent","drop"))};Cn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Hr(n)},20))};Cn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Cn.beforeinput=(n,e)=>{if(pn&&fr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Di(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Sn)Cn[n]=Sn[n];function Za(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Uu{constructor(e,t){this.toDOM=e,this.spec=t||Ui,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:s}=e.mapResult(t.from+i,this.side<0?-1:1);return s?null:new gr(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Uu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Za(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class hi{constructor(e,t){this.attrs=e,this.spec=t||Ui}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new gr(o,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof hi&&Za(this.attrs,e.attrs)&&Za(this.spec,e.spec)}static is(e){return e.type instanceof hi}destroy(){}}class Wg{constructor(e,t){this.attrs=e,this.spec=t||Ui}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let s=e.mapResult(t.to+i,-1);return s.deleted||s.pos<=o.pos?null:new gr(o.pos-r,s.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof Wg&&Za(this.attrs,e.attrs)&&Za(this.spec,e.spec)}destroy(){}}class gr{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new gr(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new gr(e,e,new Uu(t,r))}static inline(e,t,r,i){return new gr(e,t,new hi(r,i))}static node(e,t,r,i){return new gr(e,t,new Wg(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof hi}get widget(){return this.type instanceof Uu}}const Go=[],Ui={};class Qt{constructor(e,t){this.local=e.length?e:Go,this.children=t.length?t:Go}static create(e,t){return t.length?qu(t,e,0,Ui):fn}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,t-a,r,i+a,o)}}map(e,t,r){return this==fn||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Ui)}mapInner(e,t,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?R9(this.children,s||[],e,t,r,i,o):s?new Qt(s.sort(qi),Go):fn}add(e,t){return t.length?this==fn?Qt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((a,l)=>{let u=l+r,c;if(c=eE(t,a,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,c,u+1):i.splice(o,0,l,l+a.nodeSize,qu(c,a,u+1,Ui)),o+=3}});let s=QM(o?tE(t):t,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Qt(s.length?this.local.concat(s).sort(qi):this.local,i||this.children)}remove(e){return e.length==0||this==fn?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+t,l=r[o+1]+t;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>a&&d.to<l&&(e[c]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,a+1);u!=fn?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Qt(i,r):fn}forChild(e,t){if(this==fn)return this;if(t.isLeaf)return Qt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof hi){let u=Math.max(o,l.from)-o,c=Math.min(s,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new Qt(i.sort(qi),Go);return r?new li([a,r]):a}return r||fn}eq(e){if(this==e)return!0;if(!(e instanceof Qt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Ug(this.localsInner(e))}localsInner(e){if(this==fn)return Go;if(e.inlineContent||!this.local.some(hi.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof hi||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Qt.empty=new Qt([],[]);Qt.removeOverlap=Ug;const fn=Qt.empty;class li{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Ui));return li.from(r)}forChild(e,t){if(t.isLeaf)return Qt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=fn&&(o instanceof li?r=r.concat(o.members):r.push(o))}return li.from(r)}eq(e){if(!(e instanceof li)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let s=0;s<o.length;s++)t.push(o[s])}}return t?Ug(r?t:t.sort(qi)):Go}static from(e){switch(e.length){case 0:return fn;case 1:return e[0];default:return new li(e.every(t=>t instanceof Qt)?e:e.reduce((t,r)=>t.concat(r instanceof Qt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function R9(n,e,t,r,i,o,s){let a=n.slice();for(let u=0,c=o;u<t.maps.length;u++){let d=0;t.maps[u].forEach((f,p,h,g)=>{let y=g-h-(p-f);for(let x=0;x<a.length;x+=3){let b=a[x+1];if(b<0||f>b+c-d)continue;let w=a[x]+c-d;p>=w?a[x+1]=f<=w?-2:-1:f>=c&&y&&(a[x]+=y,a[x+1]+=y)}d+=y}),c=t.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=t.map(n[u]+o),d=c-i;if(d<0||d>=r.content.size){l=!0;continue}let f=t.map(n[u+1]+o,-1),p=f-i,{index:h,offset:g}=r.content.findIndex(d),y=r.maybeChild(h);if(y&&g==d&&g+y.nodeSize==p){let x=a[u+2].mapInner(t,y,c+1,n[u]+o+1,s);x!=fn?(a[u]=d,a[u+1]=p,a[u+2]=x):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=P9(a,n,e,t,i,o,s),c=qu(u,r,0,s);e=c.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let p=c.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Qt(e.sort(qi),a)}function QM(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new gr(i.from+e,i.to+e,i.type))}return t}function P9(n,e,t,r,i,o,s){function a(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(r,i,u);d?t.push(d):s.onRemove&&s.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+o+1);return t}function eE(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,s;o<n.length;o++)(s=n[o])&&s.from>t&&s.to<r&&((i||(i=[])).push(s),n[o]=null);return i}function tE(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function qu(n,e,t,r){let i=[],o=!1;e.forEach((a,l)=>{let u=eE(n,a,l+t);if(u){o=!0;let c=qu(u,a,t+l+1,r);c!=fn&&i.push(l,l+a.nodeSize,c)}});let s=QM(o?tE(n):n,-t).sort(qi);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Qt(s,i):fn}function qi(n,e){return n.from-e.from||n.to-e.to}function Ug(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),M1(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),M1(e,i,r.copy(o.from,r.to)));break}}}return e}function M1(n,e,t){for(;e<n.length&&qi(t,n[e])>0;)e++;n.splice(e,0,t)}function Pp(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=fn&&e.push(r)}),n.cursorWrapper&&e.push(Qt.create(n.state.doc,[n.cursorWrapper.deco])),li.from(e)}const D9={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},I9=An&&fi<=11;class N9{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class _9{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new N9,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);An&&fi<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),I9&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,D9)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(v1(this.view)){if(this.suppressingSelectionUpdates)return Hr(this.view);if(An&&fi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Zi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=Ka(o))t.add(o);for(let o=e.anchorNode;o;o=Ka(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&v1(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=this.selectionChanged(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let c=0;c<t.length;c++){let d=this.registerMutation(t[c],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(yr&&l.length){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||B9(e,d)!=p)&&f.remove()}}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Qc(r)&&(u=Bg(e))&&u.eq(Xe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Hr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),$9(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Hr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let d=e.addedNodes[c];t.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(An&&fi<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?sn(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?sn(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let E1=new WeakMap,T1=!1;function $9(n){if(!E1.has(n)&&(E1.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=yr,T1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),T1=!0}}function L1(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.domAtPos(n.state.selection.anchor);return Zi(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function F9(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return L1(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?L1(n,t):null}function B9(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function j9(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),u,c=l.anchorNode;if(c&&n.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],Qc(l)||u.push({node:l.focusNode,offset:l.focusOffset})),pn&&n.input.lastKeyCode===8)for(let y=o;y>i;y--){let x=r.childNodes[y-1],b=x.pmViewDesc;if(x.nodeName=="BR"&&!b){o=y;break}if(!b||b.size)break}let d=n.state.doc,f=n.someProp("domParser")||Ia.fromSchema(n.state.schema),p=d.resolve(s),h=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:z9,context:p});if(u&&u[0].pos!=null){let y=u[0].pos,x=u[1]&&u[1].pos;x==null&&(x=y),h={anchor:y+s,head:x+s}}return{doc:g,sel:h,from:s,to:a}}function z9(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(wn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||wn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const H9=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function V9(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let I=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,R=Bg(n,I);if(R&&!n.state.selection.eq(R)){if(pn&&fr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",_=>_(n,Di(13,"Enter"))))return;let z=n.state.tr.setSelection(R);I=="pointer"?z.setMeta("pointer",!0):I=="key"&&z.scrollIntoView(),o&&z.setMeta("composition",o),n.dispatch(z)}return}let s=n.state.doc.resolve(e),a=s.sharedDepth(t);e=s.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,u=j9(n,e,t),c=n.state.doc,d=c.slice(u.from,u.to),f,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(f=n.state.selection.to,p="end"):(f=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let h=q9(d.content,u.doc.content,u.from,f,p);if(h&&n.input.domChangeCount++,(fs&&n.input.lastIOSEnter>Date.now()-225||fr)&&i.some(I=>I.nodeType==1&&!H9.test(I.nodeName))&&(!h||h.endA>=h.endB)&&n.someProp("handleKeyDown",I=>I(n,Di(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!h)if(r&&l instanceof Ke&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let I=A1(n,n.state.doc,u.sel);if(I&&!I.eq(n.state.selection)){let R=n.state.tr.setSelection(I);o&&R.setMeta("composition",o),n.dispatch(R)}}return}n.state.selection.from<n.state.selection.to&&h.start==h.endB&&n.state.selection instanceof Ke&&(h.start>n.state.selection.from&&h.start<=n.state.selection.from+2&&n.state.selection.from>=u.from?h.start=n.state.selection.from:h.endA<n.state.selection.to&&h.endA>=n.state.selection.to-2&&n.state.selection.to<=u.to&&(h.endB+=n.state.selection.to-h.endA,h.endA=n.state.selection.to)),An&&fi<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)==" Â "&&(h.start--,h.endA--,h.endB--);let g=u.doc.resolveNoCache(h.start-u.from),y=u.doc.resolveNoCache(h.endB-u.from),x=c.resolve(h.start),b=g.sameParent(y)&&g.parent.inlineContent&&x.end()>=h.endA,w;if((fs&&n.input.lastIOSEnter>Date.now()-225&&(!b||i.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!b&&g.pos<u.doc.content.size&&!g.sameParent(y)&&(w=Xe.findFrom(u.doc.resolve(g.pos+1),1,!0))&&w.head==y.pos)&&n.someProp("handleKeyDown",I=>I(n,Di(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>h.start&&U9(c,h.start,h.endA,g,y)&&n.someProp("handleKeyDown",I=>I(n,Di(8,"Backspace")))){fr&&pn&&n.domObserver.suppressSelectionUpdates();return}pn&&fr&&h.endB==h.start&&(n.input.lastAndroidDelete=Date.now()),fr&&!b&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,y=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{n.someProp("handleKeyDown",function(I){return I(n,Di(13,"Enter"))})},20));let k=h.start,S=h.endA,C,M,T;if(b){if(g.pos==y.pos)An&&fi<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Hr(n),20)),C=n.state.tr.delete(k,S),M=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(T=W9(g.parent.content.cut(g.parentOffset,y.parentOffset),x.parent.content.cut(x.parentOffset,h.endA-x.start()))))C=n.state.tr,T.type=="add"?C.addMark(k,S,T.mark):C.removeMark(k,S,T.mark);else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let I=g.parent.textBetween(g.parentOffset,y.parentOffset);if(n.someProp("handleTextInput",R=>R(n,k,S,I)))return;C=n.state.tr.insertText(I,k,S)}}if(C||(C=n.state.tr.replace(k,S,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let I=A1(n,C.doc,u.sel);I&&!(pn&&fr&&n.composing&&I.empty&&(h.start!=h.endB||n.input.lastAndroidDelete<Date.now()-100)&&(I.head==k||I.head==C.mapping.map(S)-1)||An&&I.empty&&I.head==k)&&C.setSelection(I)}M&&C.ensureMarks(M),o&&C.setMeta("composition",o),n.dispatch(C.scrollIntoView())}function A1(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:jg(n,e.resolve(t.anchor),e.resolve(t.head))}function W9(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,s,a,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<t.length;c++)o=t[c].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(oe.from(u).eq(n))return{mark:a,type:s}}function U9(n,e,t,r,i){if(t-e<=i.pos-r.pos||Dp(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&t==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=n.resolve(Dp(o,!0,!0));return!s.parent.isTextblock||s.pos>t||Dp(s,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Dp(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function q9(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:s,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&n.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&O1(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<n.size&&O1(n.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function O1(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class G9{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new f9,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(N1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=D1(this),P1(this),this.nodeViews=I1(this),this.docView=d1(this.state.doc,R1(this),Pp(this),this.dom,this),this.domObserver=new _9(this,(r,i,o,s)=>V9(this,r,i,o,s)),this.domObserver.start(),p9(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Kh(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(N1),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(YM(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=I1(this);Y9(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&Kh(this),this.editable=D1(this),P1(this);let l=Pp(this),u=R1(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,u,l);(d||!e.selection.eq(i.selection))&&(s=!0);let f=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&T8(this);if(s){this.domObserver.stop();let p=d&&(An||pn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&K9(i.selection,e.selection);if(d){let h=pn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=E9(this)),(o||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=d1(e.doc,u,l,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Z8(this))?Hr(this,p):(_M(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&L8(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ve){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&o1(this,t.getBoundingClientRect(),e)}else o1(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new ZM(e.slice,e.move,i<0?void 0:Ve.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=t?t(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(An){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&A8(this.dom),Hr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return I8(this,e)}coordsAtPos(e,t=1){return LM(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return B8(this,t||this.state,e)}pasteHTML(e,t){return Ja(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ja(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(h9(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Pp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,g8())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return g9(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?wn&&this.root.nodeType===11&&w8(this.dom.ownerDocument)==this.dom&&F9(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function R1(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[gr.node(0,n.state.doc.content.size,e)]}function P1(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:gr.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function D1(n){return!n.someProp("editable",e=>e(n.state)===!1)}function K9(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function I1(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Y9(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function N1(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var bi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Gu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},J9=typeof navigator<"u"&&/Mac/.test(navigator.platform),Z9=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var an=0;an<10;an++)bi[48+an]=bi[96+an]=String(an);for(var an=1;an<=24;an++)bi[an+111]="F"+an;for(var an=65;an<=90;an++)bi[an]=String.fromCharCode(an+32),Gu[an]=String.fromCharCode(an);for(var Ip in bi)Gu.hasOwnProperty(Ip)||(Gu[Ip]=bi[Ip]);function X9(n){var e=J9&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Z9&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Gu:bi)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Q9=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function eV(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Q9?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),s&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function tV(n){let e=Object.create(null);for(let t in n)e[eV(t)]=n[t];return e}function Np(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function nV(n){return new mn({props:{handleKeyDown:rV(n)}})}function rV(n){let e=tV(n);return function(t,r){let i=X9(r),o,s=e[Np(i,r)];if(s&&s(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Np(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=bi[r.keyCode])&&o!=i){let a=e[Np(o,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const nE=65535,rE=Math.pow(2,16);function iV(n,e){return n+e*rE}function _1(n){return n&nE}function oV(n){return(n-(n&nE))/rE}const iE=1,oE=2,uu=4,sE=8;let Yh=class{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&sE)>0}get deletedBefore(){return(this.delInfo&(iE|uu))>0}get deletedAfter(){return(this.delInfo&(oE|uu))>0}get deletedAcross(){return(this.delInfo&uu)>0}},Qi=class Ko{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ko.empty)return Ko.empty}recover(e){let t=0,r=_1(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+oV(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+o],c=this.ranges[a+s],d=l+u;if(e<=d){let f=u?e==l?-1:e==d?1:t:t,p=l+i+(f<0?0:c);if(r)return p;let h=e==(t<0?l:d)?null:iV(a/3,e-l),g=e==l?oE:e==d?iE:uu;return(t<0?e!=l:e!=d)&&(g|=sE),new Yh(p,g,h)}i+=c-u}return r?e+i:new Yh(e+i,0,null)}touches(e,t){let r=0,i=_1(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+o],c=l+u;if(e<=c&&a==i*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+t],c=this.ranges[i+r];e(a,a+u,l,l+c),o+=c-u}}invert(){return new Ko(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ko.empty:new Ko(e<0?[0,-e,0]:[0,0,e])}};Qi.empty=new Qi([]);class $a{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new $a(this.maps,this.mirror,e,t)}copy(){return new $a(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new $a;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Yh(e,i,null)}}const _p=Object.create(null);let gn=class{getMap(){return Qi.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=_p[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in _p)throw new RangeError("Duplicate use of step JSON ID "+e);return _p[e]=t,t.prototype.jsonID=e,t}},xn=class Ca{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ca(e,null)}static fail(e){return new Ca(null,e)}static fromReplace(e,t,r,i){try{return Ca.ok(e.replace(t,r,i))}catch(o){if(o instanceof cs)return Ca.fail(o.message);throw o}}};function qg(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(qg(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return oe.fromArray(r)}let Gg=class Sa extends gn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new le(qg(t.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return xn.fromReplace(e,this.from,this.to,o)}invert(){return new bl(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Sa(t.pos,r.pos,this.mark)}merge(e){return e instanceof Sa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Sa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Sa(t.from,t.to,e.markFromJSON(t.mark))}};gn.jsonID("addMark",Gg);let bl=class ka extends gn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new le(qg(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return xn.fromReplace(e,this.from,this.to,r)}invert(){return new Gg(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ka(t.pos,r.pos,this.mark)}merge(e){return e instanceof ka&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ka(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ka(t.from,t.to,e.markFromJSON(t.mark))}};gn.jsonID("removeMark",bl);let Kg=class Ma extends gn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return xn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return xn.fromReplace(e,this.pos,this.pos+1,new le(oe.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Ma(this.pos,t.marks[i]);return new Ma(this.pos,this.mark)}}return new Yg(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ma(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ma(t.pos,e.markFromJSON(t.mark))}};gn.jsonID("addNodeMark",Kg);let Yg=class Jh extends gn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return xn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return xn.fromReplace(e,this.pos,this.pos+1,new le(oe.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Kg(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Jh(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Jh(t.pos,e.markFromJSON(t.mark))}};gn.jsonID("removeNodeMark",Yg);let Ur=class Ri extends gn{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Zh(e,this.from,this.to)?xn.fail("Structure replace would overwrite content"):xn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Qi([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ri(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Ri(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Ri)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?le.empty:new le(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ri(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?le.empty:new le(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ri(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ri(t.from,t.to,le.fromJSON(e,t.slice),!!t.structure)}};gn.jsonID("replace",Ur);let po=class cu extends gn{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Zh(e,this.from,this.gapFrom)||Zh(e,this.gapTo,this.to)))return xn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return xn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?xn.fromReplace(e,this.from,this.to,r):xn.fail("Content does not fit in gap")}getMap(){return new Qi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new cu(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new cu(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new cu(t.from,t.to,t.gapFrom,t.gapTo,le.fromJSON(e,t.slice),t.insert,!!t.structure)}};gn.jsonID("replaceAround",po);function Zh(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function sV(n,e,t,r){let i=[],o=[],s,a;n.doc.nodesBetween(e,t,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),p=Math.min(u+l.nodeSize,t),h=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(h)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=p:i.push(s=new bl(f,p,d[g])));a&&a.to==f?a.to=p:o.push(a=new Gg(f,p,r))}}),i.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function aV(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof hl){let u=s.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let u=Math.min(a+s.nodeSize,t);for(let c=0;c<l.length;c++){let d=l[c],f;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&d.eq(i[p].style)&&(f=h)}f?(f.to=u,f.step=o):i.push({style:d,from:Math.max(a,e),to:u,step:o})}}}),i.forEach(s=>n.step(new bl(s.from,s.to,s.style)))}function Jg(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let u=o.child(l),c=a+u.nodeSize,d=r.matchType(u.type);if(!d)s.push(new Ur(a,c,le.empty));else{r=d;for(let f=0;f<u.marks.length;f++)t.allowsMarkType(u.marks[f].type)||n.step(new bl(a,c,u.marks[f]));if(i&&u.isText&&t.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(u.text);)h||(h=new le(oe.from(t.schema.text(" ",t.allowedMarks(u.marks))),0,0)),s.push(new Ur(a+f.index,a+f.index+f[0].length,h))}}a=c}if(!r.validEnd){let l=r.fillBefore(oe.empty,!0);n.replace(a,a,new le(l,0,0))}for(let l=s.length-1;l>=0;l--)n.step(s[l])}function lV(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function uV(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(r==0||i.type.spec.isolating||!lV(i,o,s))break}return null}function cV(n,e,t){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,u=a,c=oe.empty,d=0;for(let h=o,g=!1;h>t;h--)g||r.index(h)>0?(g=!0,c=oe.from(r.node(h).copy(c)),d++):l--;let f=oe.empty,p=0;for(let h=o,g=!1;h>t;h--)g||i.after(h+1)<i.end(h)?(g=!0,f=oe.from(i.node(h).copy(f)),p++):u++;n.step(new po(l,u,s,a,new le(c.append(f),d,p),c.size-d,!0))}function dV(n,e,t=null,r=n){let i=fV(n,e),o=i&&pV(r,e);return o?i.map($1).concat({type:e,attrs:t}).concat(o.map($1)):null}function $1(n){return{type:n,attrs:null}}function fV(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(r,i,s)?o:null}function pV(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:s}function hV(n,e,t){let r=oe.empty;for(let s=t.length-1;s>=0;s--){if(r.size){let a=t[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=oe.from(t[s].type.create(t[s].attrs,r))}let i=e.start,o=e.end;n.step(new po(i,o,i,o,new le(r,0,0),t.length,!0))}function mV(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&gV(n.doc,n.mapping.slice(o).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!h?u=!1:!p&&h&&(u=!0)}u===!1&&lE(n,s,a,o),Jg(n,n.mapping.slice(o).map(a,1),r,void 0,u===null);let c=n.mapping.slice(o),d=c.map(a,1),f=c.map(a+s.nodeSize,1);return n.step(new po(d,f,d+1,f-1,new le(oe.from(r.create(l,null,s.marks)),0,0),1,!0)),u===!0&&aE(n,s,a,o),!1}})}function aE(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+o+s.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function lE(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=n.mapping.slice(r).map(t+1+o);n.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function gV(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function vV(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let s=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new po(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new le(oe.from(s),0,0),1,!0))}function du(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=t-2;u>o;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),h=r&&r[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let g=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(p))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function yV(n,e,t=1,r){let i=n.doc.resolve(e),o=oe.empty,s=oe.empty;for(let a=i.depth,l=i.depth-t,u=t-1;a>l;a--,u--){o=oe.from(i.node(a).copy(o));let c=r&&r[u];s=oe.from(c?c.type.create(c.attrs,s):i.node(a).copy(s))}n.step(new Ur(e,e,new le(o.append(s),t,t),!0))}function Zg(n,e){let t=n.resolve(e),r=t.index();return uE(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function bV(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(s),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function uE(n,e){return!!(n&&e&&!n.isLeaf&&bV(n,e))}function cE(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):t>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&uE(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function xV(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(e-t),s=o.node().type;if(i&&s.inlineContent){let c=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);c&&!d?r=!1:!c&&d&&(r=!0)}let a=n.steps.length;if(r===!1){let c=n.doc.resolve(e+t);lE(n,c.node(),c.before(),a)}s.inlineContent&&Jg(n,e+t-1,s,o.node().contentMatchAt(o.index()),r==null);let l=n.mapping.slice(a),u=l.map(e-t);if(n.step(new Ur(u,l.map(e+t,-1),le.empty,!0)),r===!0){let c=n.doc.resolve(u);aE(n,c.node(),c.before(),n.steps.length)}return n}function wV(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function CV(n,e,t=e,r=le.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return dE(i,o,r)?new Ur(e,t,r):new SV(i,o,r).fit()}function dE(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}let SV=class{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=oe.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=oe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new le(o,s,a);return e>-1?new po(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new Ur(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=$p(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,d=null;if(t==1&&(s?u.matchType(s.type)||(d=u.fillBefore(oe.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(t==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=$p(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new le(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=$p(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new le(Ea(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new le(Ea(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));d=d.matchFragment(i)}let p=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let g=a.child(u),y=d.matchType(g.type);if(!y)break;u++,(u>1||l==0||g.content.size)&&(d=y,c.push(fE(g.mark(f.allowedMarks(g.marks)),u==1?l:0,u==a.childCount?p:-1)))}let h=u==a.childCount;h||(p=-1),this.placed=Ta(this.placed,t,oe.from(c)),this.frontier[t].match=d,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<p;g++){let x=y.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),y=x.content}this.unplaced=h?e==0?le.empty:new le(Ea(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new le(Ea(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Fp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=Fp(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=Fp(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ta(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ta(this.placed,this.depth,oe.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(oe.empty,!0);t.childCount&&(this.placed=Ta(this.placed,this.frontier.length,t))}};function Ea(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Ea(n.firstChild.content,e-1,t)))}function Ta(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Ta(n.lastChild.content,e-1,t)))}function $p(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function fE(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,fE(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(oe.empty,!0)))),n.copy(r)}function Fp(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!kV(t,o.content,s)?a:null}function kV(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function MV(n){return n.spec.defining||n.spec.definingForContent}function EV(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(dE(i,o,r))return n.step(new Ur(e,t,r));let s=hE(i,n.doc.resolve(t));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let h=i.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==p&&s.splice(1,0,-f)}let l=s.indexOf(a),u=[],c=r.openStart;for(let f=r.content,p=0;;p++){let h=f.firstChild;if(u.push(h),p==r.openStart)break;f=h.content}for(let f=c-1;f>=0;f--){let p=u[f],h=MV(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(a)-1)))c=f;else if(h||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+c+1)%(r.openStart+1),h=u[p];if(h)for(let g=0;g<s.length;g++){let y=s[(g+l)%s.length],x=!0;y<0&&(x=!1,y=-y);let b=i.node(y-1),w=i.index(y-1);if(b.canReplaceWith(w,w,h.type,h.marks))return n.replace(i.before(y),x?o.after(y):t,new le(pE(r.content,0,r.openStart,p),p,r.openEnd))}}let d=n.steps.length;for(let f=s.length-1;f>=0&&(n.replace(e,t,r),!(n.steps.length>d));f--){let p=s[f];p<0||(e=i.before(p),t=o.after(p))}}function pE(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(pE(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore(oe.empty,!0))}return n}function TV(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=wV(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new le(oe.from(r),0,0))}function LV(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=hE(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&t>r.end(s)&&i.end(s)-t!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return n.delete(r.before(s),t);n.delete(e,t)}function hE(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}let mE=class fu extends gn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return xn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return xn.fromReplace(e,this.pos,this.pos+1,new le(oe.from(i),0,t.isLeaf?0:1))}getMap(){return Qi.empty}invert(e){return new fu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new fu(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new fu(t.pos,t.attr,t.value)}};gn.jsonID("attr",mE);let gE=class Xh extends gn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return xn.ok(r)}getMap(){return Qi.empty}invert(e){return new Xh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Xh(t.attr,t.value)}};gn.jsonID("docAttr",gE);let ps=class extends Error{};ps=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};ps.prototype=Object.create(Error.prototype);ps.prototype.constructor=ps;ps.prototype.name="TransformError";class AV{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new $a}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new ps(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=le.empty){let i=CV(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new le(oe.from(r),0,0))}delete(e,t){return this.replace(e,t,le.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return EV(this,e,t,r),this}replaceRangeWith(e,t,r){return TV(this,e,t,r),this}deleteRange(e,t){return LV(this,e,t),this}lift(e,t){return cV(this,e,t),this}join(e,t=1){return xV(this,e,t),this}wrap(e,t){return hV(this,e,t),this}setBlockType(e,t=e,r,i=null){return mV(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return vV(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new mE(e,t,r)),this}setDocAttribute(e,t){return this.step(new gE(e,t)),this}addNodeMark(e,t){return this.step(new Kg(e,t)),this}removeNodeMark(e,t){if(!(t instanceof yt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new Yg(e,t)),this}split(e,t=1,r){return yV(this,e,t,r),this}addMark(e,t,r){return sV(this,e,t,r),this}removeMark(e,t,r){return aV(this,e,t,r),this}clearIncompatible(e,t,r){return Jg(this,e,t,r),this}}const vE=65535,yE=Math.pow(2,16);function OV(n,e){return n+e*yE}function F1(n){return n&vE}function RV(n){return(n-(n&vE))/yE}const bE=1,xE=2,pu=4,wE=8;class B1{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&wE)>0}get deletedBefore(){return(this.delInfo&(bE|pu))>0}get deletedAfter(){return(this.delInfo&(xE|pu))>0}get deletedAcross(){return(this.delInfo&pu)>0}}class Hn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Hn.empty)return Hn.empty}recover(e){let t=0,r=F1(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+RV(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+o],c=this.ranges[a+s],d=l+u;if(e<=d){let f=u?e==l?-1:e==d?1:t:t,p=l+i+(f<0?0:c);if(r)return p;let h=e==(t<0?l:d)?null:OV(a/3,e-l),g=e==l?xE:e==d?bE:pu;return(t<0?e!=l:e!=d)&&(g|=wE),new B1(p,g,h)}i+=c-u}return r?e+i:new B1(e+i,0,null)}touches(e,t){let r=0,i=F1(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+o],c=l+u;if(e<=c&&a==i*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+t],c=this.ranges[i+r];e(a,a+u,l,l+c),o+=c-u}}invert(){return new Hn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Hn.empty:new Hn(e<0?[0,-e,0]:[0,0,e])}}Hn.empty=new Hn([]);const Bp=Object.create(null);class vn{getMap(){return Hn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Bp[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Bp)throw new RangeError("Duplicate use of step JSON ID "+e);return Bp[e]=t,t.prototype.jsonID=e,t}}class Ut{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ut(e,null)}static fail(e){return new Ut(null,e)}static fromReplace(e,t,r,i){try{return Ut.ok(e.replace(t,r,i))}catch(o){if(o instanceof cs)return Ut.fail(o.message);throw o}}}function Xg(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(Xg(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return oe.fromArray(r)}class Fi extends vn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new le(Xg(t.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return Ut.fromReplace(e,this.from,this.to,o)}invert(){return new Bi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Fi(t.pos,r.pos,this.mark)}merge(e){return e instanceof Fi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Fi(t.from,t.to,e.markFromJSON(t.mark))}}vn.jsonID("addMark",Fi);class Bi extends vn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new le(Xg(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Ut.fromReplace(e,this.from,this.to,r)}invert(){return new Fi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Bi(t.pos,r.pos,this.mark)}merge(e){return e instanceof Bi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Bi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Bi(t.from,t.to,e.markFromJSON(t.mark))}}vn.jsonID("removeMark",Bi);class ji extends vn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ut.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ut.fromReplace(e,this.pos,this.pos+1,new le(oe.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new ji(this.pos,t.marks[i]);return new ji(this.pos,this.mark)}}return new Xa(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ji(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ji(t.pos,e.markFromJSON(t.mark))}}vn.jsonID("addNodeMark",ji);class Xa extends vn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ut.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ut.fromReplace(e,this.pos,this.pos+1,new le(oe.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ji(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xa(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Xa(t.pos,e.markFromJSON(t.mark))}}vn.jsonID("removeNodeMark",Xa);class pr extends vn{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Qh(e,this.from,this.to)?Ut.fail("Structure replace would overwrite content"):Ut.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Hn([this.from,this.to-this.from,this.slice.size])}invert(e){return new pr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new pr(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof pr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?le.empty:new le(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new pr(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?le.empty:new le(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new pr(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new pr(t.from,t.to,le.fromJSON(e,t.slice),!!t.structure)}}vn.jsonID("replace",pr);class mi extends vn{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Qh(e,this.from,this.gapFrom)||Qh(e,this.gapTo,this.to)))return Ut.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ut.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Ut.fromReplace(e,this.from,this.to,r):Ut.fail("Content does not fit in gap")}getMap(){return new Hn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new mi(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new mi(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new mi(t.from,t.to,t.gapFrom,t.gapTo,le.fromJSON(e,t.slice),t.insert,!!t.structure)}}vn.jsonID("replaceAround",mi);function Qh(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function PV(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function nd(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(r==0||i.type.spec.isolating||!PV(i,o,s))break}return null}function DV(n,e,t=null,r=n){let i=IV(n,e),o=i&&NV(r,e);return o?i.map(j1).concat({type:e,attrs:t}).concat(o.map(j1)):null}function j1(n){return{type:n,attrs:null}}function IV(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(r,i,s)?o:null}function NV(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:s}function _V(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let l=i.depth-1,u=t-2;l>o;l--,u--){let c=i.node(l),d=i.index(l);if(c.type.spec.isolating)return!1;let f=c.content.cutByIndex(d,c.childCount),p=c;if(!c.canReplace(d+1,c.childCount)||!p.type.validContent(f))return!1}let a=i.indexAfter(o);return i.node(o).canReplaceWith(a,a,i.node(o+1).type)}function rd(n,e){let t=n.resolve(e),r=t.index();return CE(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function $V(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(s),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function CE(n,e){return!!(n&&e&&!n.isLeaf&&$V(n,e))}function SE(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):t>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&CE(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Qg(n,e,t=e,r=le.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return FV(i,o,r)?new pr(e,t,r):new BV(i,o,r).fit()}function FV(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class BV{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=oe.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=oe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new le(o,s,a);return e>-1?new mi(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new pr(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=jp(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,d=null;if(t==1&&(s?u.matchType(s.type)||(d=u.fillBefore(oe.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(t==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=jp(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new le(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=jp(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new le(La(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new le(La(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));d=d.matchFragment(i)}let p=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let g=a.child(u),y=d.matchType(g.type);if(!y)break;u++,(u>1||l==0||g.content.size)&&(d=y,c.push(kE(g.mark(f.allowedMarks(g.marks)),u==1?l:0,u==a.childCount?p:-1)))}let h=u==a.childCount;h||(p=-1),this.placed=Aa(this.placed,t,oe.from(c)),this.frontier[t].match=d,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<p;g++){let x=y.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),y=x.content}this.unplaced=h?e==0?le.empty:new le(La(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new le(La(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!zp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=zp(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=zp(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Aa(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Aa(this.placed,this.depth,oe.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(oe.empty,!0);t.childCount&&(this.placed=Aa(this.placed,this.frontier.length,t))}}function La(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(La(n.firstChild.content,e-1,t)))}function Aa(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Aa(n.lastChild.content,e-1,t)))}function jp(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function kE(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,kE(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(oe.empty,!0)))),n.copy(r)}function zp(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!jV(t,o.content,s)?a:null}function jV(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}class Fa extends vn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ut.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Ut.fromReplace(e,this.pos,this.pos+1,new le(oe.from(i),0,t.isLeaf?0:1))}getMap(){return Hn.empty}invert(e){return new Fa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Fa(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Fa(t.pos,t.attr,t.value)}}vn.jsonID("attr",Fa);class Ku extends vn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Ut.ok(r)}getMap(){return Hn.empty}invert(e){return new Ku(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ku(t.attr,t.value)}}vn.jsonID("docAttr",Ku);let Qa=class extends Error{};Qa=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Qa.prototype=Object.create(Error.prototype);Qa.prototype.constructor=Qa;Qa.prototype.name="TransformError";const zV=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function ME(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const HV=(n,e,t)=>{let r=ME(n,t);if(!r)return!1;let i=ev(r);if(!i){let s=r.blockRange(),a=s&&nd(s);return a==null?!1:(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(AE(n,i,e,-1))return!0;if(r.parent.content.size==0&&(hs(o,"end")||Ve.isSelectable(o)))for(let s=r.depth;;s--){let a=Qg(n.doc,r.before(s),r.after(s),le.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(hs(o,"end")?Xe.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Ve.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},VV=(n,e,t)=>{let r=ME(n,t);if(!r)return!1;let i=ev(r);return i?EE(n,i,e):!1},WV=(n,e,t)=>{let r=TE(n,t);if(!r)return!1;let i=tv(r);return i?EE(n,i,e):!1};function EE(n,e,t){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=Qg(n.doc,o,l,le.empty);if(!u||u.from!=o||u instanceof pr&&u.slice.size>=l-o)return!1;if(t){let c=n.tr.step(u);c.setSelection(Ke.create(c.doc,o)),t(c.scrollIntoView())}return!0}function hs(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const UV=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=ev(r)}let s=o&&o.nodeBefore;return!s||!Ve.isSelectable(s)?!1:(e&&e(n.tr.setSelection(Ve.create(n.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function ev(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function TE(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const qV=(n,e,t)=>{let r=TE(n,t);if(!r)return!1;let i=tv(r);if(!i)return!1;let o=i.nodeAfter;if(AE(n,i,e,1))return!0;if(r.parent.content.size==0&&(hs(o,"start")||Ve.isSelectable(o))){let s=Qg(n.doc,r.before(),r.after(),le.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=n.tr.step(s);a.setSelection(hs(o,"start")?Xe.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Ve.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},GV=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=tv(r)}let s=o&&o.nodeAfter;return!s||!Ve.isSelectable(s)?!1:(e&&e(n.tr.setSelection(Ve.create(n.doc,o.pos)).scrollIntoView()),!0)};function tv(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const KV=(n,e)=>{let t=n.selection,r=t instanceof Ve,i;if(r){if(t.node.isTextblock||!rd(n.doc,t.from))return!1;i=t.from}else if(i=SE(n.doc,t.from,-1),i==null)return!1;if(e){let o=n.tr.join(i);r&&o.setSelection(Ve.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},YV=(n,e)=>{let t=n.selection,r;if(t instanceof Ve){if(t.node.isTextblock||!rd(n.doc,t.to))return!1;r=t.to}else if(r=SE(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},JV=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&nd(i);return o==null?!1:(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)},ZV=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function LE(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const XV=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),s=LE(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Xe.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},QV=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof vr||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=LE(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(s,o.createAndFill());a.setSelection(Ke.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},eW=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(_V(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&nd(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},tW=(n,e)=>{let{$from:t,to:r}=n.selection,i,o=t.sharedDepth(r);return o==0?!1:(i=t.before(o),e&&e(n.tr.setSelection(Ve.create(n.doc,i))),!0)};function nW(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||rd(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function AE(n,e,t,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&nW(n,e,t))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(t){let p=e.pos+o.nodeSize,h=oe.empty;for(let x=s.length-1;x>=0;x--)h=oe.from(s[x].create(null,h));h=oe.from(i.copy(h));let g=n.tr.step(new mi(e.pos-1,p,e.pos,p,new le(h,1,0),s.length,!0)),y=g.doc.resolve(p+2*s.length);y.nodeAfter&&y.nodeAfter.type==i.type&&rd(g.doc,y.pos)&&g.join(y.pos),t(g.scrollIntoView())}return!0}let c=o.type.spec.isolating||r>0&&l?null:Xe.findFrom(e,1),d=c&&c.$from.blockRange(c.$to),f=d&&nd(d);if(f!=null&&f>=e.depth)return t&&t(n.tr.lift(d,f).scrollIntoView()),!0;if(u&&hs(o,"start",!0)&&hs(i,"end")){let p=i,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let g=o,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(t){let x=oe.empty;for(let w=h.length-1;w>=0;w--)x=oe.from(h[w].copy(x));let b=n.tr.step(new mi(e.pos-h.length,e.pos+o.nodeSize,e.pos+y,e.pos+o.nodeSize-y,new le(x,h.length,0),0,!0));t(b.scrollIntoView())}return!0}}return!1}function OE(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(Ke.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const rW=OE(-1),iW=OE(1);function oW(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=s&&DV(s,n,e);return a?(r&&r(t.tr.wrap(s,a).scrollIntoView()),!0):!1}}function z1(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=t.selection.ranges[o];t.doc.nodesBetween(s,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let c=t.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let s=0;s<t.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[s];o.setBlockType(a,l,n,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function sW(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(n)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=t.doc.resolve(s.start-2);l=new Fu(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new Fu(i,t.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let u=VH(l,n,e,s);return u?(r&&r(aW(t.tr,s,u,a,n).scrollIntoView()),!0):!1}}function aW(n,e,t,r,i){let o=oe.empty;for(let c=t.length-1;c>=0;c--)o=oe.from(t[c].type.create(t[c].attrs,o));n.step(new xr(e.start-(r?2:0),e.end,e.start,e.end,new le(o,0,0),t.length,!0));let s=0;for(let c=0;c<t.length;c++)t[c].type==i&&(s=c+1);let a=t.length-s,l=e.start+t.length-(r?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,f=!0;c<d;c++,f=!1)!f&&XH(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return n}function lW(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?uW(e,t,n,o):cW(e,t,o):!0:!1}}function uW(n,e,t,r){let i=n.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new xr(o-1,s,o,s,new le(oe.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Fu(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=zH(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return e8(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function cW(n,e,t){let r=n.tr,i=t.parent;for(let p=t.end,h=t.endIndex-1,g=t.startIndex;h>g;h--)p-=i.child(h).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(t.start),s=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(a?0:1),c+1,s.content.append(l?oe.empty:oe.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new xr(d-(a?1:0),f+(l?1:0),d+1,f-1,new le((a?oe.empty:oe.from(i.copy(oe.empty))).append(l?oe.empty:oe.from(i.copy(oe.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function dW(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==n);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=n)return!1;if(t){let u=l.lastChild&&l.lastChild.type==a.type,c=oe.from(u?n.create():null),d=new le(oe.from(n.create(null,oe.from(a.type.create(null,c)))),u?3:1,0),f=o.start,p=o.end;t(e.tr.step(new xr(f-(u?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}function id(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,o=t.storedMarks,t}}}class od{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>{const d=l(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,u=e||o.tr,c=()=>(!l&&t&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...g)=>{const y=this.buildProps(u,t),x=p(...g)(y);return a.push(x),d}])),run:c};return d}createCan(e){const{rawCommands:t,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...c)=>u(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:id({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)(a)]))}};return a}}class fW{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Ne(n,e,t){return n.config[e]===void 0&&n.parent?Ne(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Ne(n.parent,e,t):null}):n.config[e]}function sd(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function RE(n){const e=[],{nodeExtensions:t,markExtensions:r}=sd(n),i=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=Ne(s,"addGlobalAttributes",a);if(!l)return;l().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...o,...p}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=Ne(s,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([c,d])=>{const f={...o,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:c,attribute:f})})}),e}function nn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function $t(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?o.split(" "):[],l=r[i]?r[i].split(" "):[],u=a.filter(c=>!l.includes(c));r[i]=[...l,...u].join(" ")}else if(i==="style"){const a=o?o.split(";").map(c=>c.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{const[d,f]=c.split(":").map(p=>p.trim());u.set(d,f)}),a.forEach(c=>{const[d,f]=c.split(":").map(p=>p.trim());u.set(d,f)}),r[i]=Array.from(u.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else r[i]=o}),r},{})}function Yu(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>$t(t,r),{})}function PE(n){return typeof n=="function"}function Ze(n,e=void 0,...t){return PE(n)?e?n.bind(e)(...t):n(...t):n}function pW(n={}){return Object.keys(n).length===0&&n.constructor===Object}function hW(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function H1(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(t):hW(t.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function V1(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&pW(t)?!1:t!=null))}function mW(n,e){var t;const r=RE(n),{nodeExtensions:i,markExtensions:o}=sd(n),s=(t=i.find(u=>Ne(u,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(u=>{const c=r.filter(x=>x.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=n.reduce((x,b)=>{const w=Ne(b,"extendNodeSchema",d);return{...x,...w?w(u):{}}},{}),p=V1({...f,content:Ze(Ne(u,"content",d)),marks:Ze(Ne(u,"marks",d)),group:Ze(Ne(u,"group",d)),inline:Ze(Ne(u,"inline",d)),atom:Ze(Ne(u,"atom",d)),selectable:Ze(Ne(u,"selectable",d)),draggable:Ze(Ne(u,"draggable",d)),code:Ze(Ne(u,"code",d)),whitespace:Ze(Ne(u,"whitespace",d)),defining:Ze(Ne(u,"defining",d)),isolating:Ze(Ne(u,"isolating",d)),attrs:Object.fromEntries(c.map(x=>{var b;return[x.name,{default:(b=x==null?void 0:x.attribute)===null||b===void 0?void 0:b.default}]}))}),h=Ze(Ne(u,"parseHTML",d));h&&(p.parseDOM=h.map(x=>H1(x,c)));const g=Ne(u,"renderHTML",d);g&&(p.toDOM=x=>g({node:x,HTMLAttributes:Yu(x,c)}));const y=Ne(u,"renderText",d);return y&&(p.toText=y),[u.name,p]})),l=Object.fromEntries(o.map(u=>{const c=r.filter(y=>y.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=n.reduce((y,x)=>{const b=Ne(x,"extendMarkSchema",d);return{...y,...b?b(u):{}}},{}),p=V1({...f,inclusive:Ze(Ne(u,"inclusive",d)),excludes:Ze(Ne(u,"excludes",d)),group:Ze(Ne(u,"group",d)),spanning:Ze(Ne(u,"spanning",d)),code:Ze(Ne(u,"code",d)),attrs:Object.fromEntries(c.map(y=>{var x;return[y.name,{default:(x=y==null?void 0:y.attribute)===null||x===void 0?void 0:x.default}]}))}),h=Ze(Ne(u,"parseHTML",d));h&&(p.parseDOM=h.map(y=>H1(y,c)));const g=Ne(u,"renderHTML",d);return g&&(p.toDOM=y=>g({mark:y,HTMLAttributes:Yu(y,c)})),[u.name,p]}));return new rM({topNode:s,nodes:a,marks:l})}function Hp(n,e){return e.nodes[n]||e.marks[n]||null}function W1(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}const gW=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,u;const c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,r-o))}),t};function nv(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class ad{constructor(e){this.find=e.find,this.handler=e.handler}}const vW=(n,e)=>{if(nv(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Gl(n){var e;const{editor:t,from:r,to:i,text:o,rules:s,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=gW(u)+o;return s.forEach(f=>{if(c)return;const p=vW(d,f.find);if(!p)return;const h=l.state.tr,g=id({state:l.state,transaction:h}),y={from:r-(p[0].length-o.length),to:i},{commands:x,chain:b,can:w}=new od({editor:t,state:g});f.handler({state:g,range:y,match:p,commands:x,chain:b,can:w})===null||!h.steps.length||(h.setMeta(a,{transform:h,from:r,to:i,text:o}),l.dispatch(h),c=!0)}),c}function yW(n){const{editor:e,rules:t}=n,r=new mn({state:{init(){return null},apply(i,o){const s=i.getMeta(r);if(s)return s;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:u,text:c}=a,d=u+c.length;Gl({editor:e,from:u,to:d,text:c,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return Gl({editor:e,from:o,to:s,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Gl({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Gl({editor:e,from:s.pos,to:s.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function bW(n){return Object.prototype.toString.call(n).slice(8,-1)}function Kl(n){return bW(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function ld(n,e){const t={...n};return Kl(n)&&Kl(e)&&Object.keys(e).forEach(r=>{Kl(e[r])&&Kl(n[r])?t[r]=ld(n[r],e[r]):t[r]=e[r]}),t}class Wn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ze(Ne(this,"addOptions",{name:this.name}))),this.storage=Ze(Ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Wn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ld(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Wn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ze(Ne(t,"addOptions",{name:t.name})),t.storage=Ze(Ne(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===t.name))return!1;const l=s.find(u=>(u==null?void 0:u.type.name)===t.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function xW(n){return typeof n=="number"}class wW{constructor(e){this.find=e.find,this.handler=e.handler}}const CW=(n,e,t)=>{if(nv(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function SW(n){const{editor:e,state:t,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=n,{commands:l,chain:u,can:c}=new od({editor:e,state:t}),d=[];return t.doc.nodesBetween(r,i,(p,h)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(r,h),y=Math.min(i,h+p.content.size),x=p.textBetween(g-h,y-h,void 0,"ï¿¼");CW(x,o.find,s).forEach(w=>{if(w.index===void 0)return;const k=g+w.index+1,S=k+w[0].length,C={from:t.tr.mapping.map(k),to:t.tr.mapping.map(S)},M=o.handler({state:t,range:C,match:w,commands:l,chain:u,can:c,pasteEvent:s,dropEvent:a});d.push(M)})}),d.every(p=>p!==null)}const kW=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function MW(n){const{editor:e,rules:t}=n;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:c,from:d,to:f,rule:p,pasteEvt:h})=>{const g=c.tr,y=id({state:c,transaction:g});if(!(!SW({editor:e,state:y,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:h,dropEvent:a})||!g.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return t.map(c=>new mn({view(d){const f=p=>{var h;r=!((h=d.dom.parentElement)===null||h===void 0)&&h.contains(p.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(o=r===d.dom.parentElement,a=f,!1),paste:(d,f)=>{var p;const h=(p=f.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return s=f,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,p)=>{const h=d[0],g=h.getMeta("uiEvent")==="paste"&&!i,y=h.getMeta("uiEvent")==="drop"&&!o,x=h.getMeta("applyPasteRules"),b=!!x;if(!g&&!y&&!b)return;if(b){const{from:S,text:C}=x,M=S+C.length,T=kW(C);return l({rule:c,state:p,from:S,to:{b:M},pasteEvt:T})}const w=f.doc.content.findDiffStart(p.doc.content),k=f.doc.content.findDiffEnd(p.doc.content);if(!(!xW(w)||!k||w===k.b))return l({rule:c,state:p,from:w,to:k,pasteEvt:s})}}))}function EW(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class ts{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ts.resolve(e),this.schema=mW(this.extensions,t),this.setupExtensions()}static resolve(e){const t=ts.sort(ts.flatten(e)),r=EW(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=Ne(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=Ne(r,"priority")||100,s=Ne(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Hp(t.name,this.schema)},i=Ne(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=ts.sort([...this.extensions].reverse()),r=[],i=[],o=t.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:Hp(s.name,this.schema)},l=[],u=Ne(s,"addKeyboardShortcuts",a);let c={};if(s.type==="mark"&&Ne(s,"exitable",a)&&(c.ArrowRight=()=>Wn.handleExit({editor:e,mark:s})),u){const g=Object.fromEntries(Object.entries(u()).map(([y,x])=>[y,()=>x({editor:e})]));c={...c,...g}}const d=nV(c);l.push(d);const f=Ne(s,"addInputRules",a);W1(s,e.options.enableInputRules)&&f&&r.push(...f());const p=Ne(s,"addPasteRules",a);W1(s,e.options.enablePasteRules)&&p&&i.push(...p());const h=Ne(s,"addProseMirrorPlugins",a);if(h){const g=h();l.push(...g)}return l}).flat();return[yW({editor:e,rules:r}),...MW({editor:e,rules:i}),...o]}get attributes(){return RE(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=sd(this.extensions);return Object.fromEntries(t.filter(r=>!!Ne(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:nn(r.name,this.schema)},s=Ne(r,"addNodeView",o);if(!s)return[];const a=(l,u,c,d,f)=>{const p=Yu(l,i);return s()({node:l,view:u,getPos:c,decorations:d,innerDecorations:f,editor:e,extension:r,HTMLAttributes:p})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Hp(e.name,this.schema)};e.type==="mark"&&(!((t=Ze(Ne(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=Ne(e,"onBeforeCreate",r),o=Ne(e,"onCreate",r),s=Ne(e,"onUpdate",r),a=Ne(e,"onSelectionUpdate",r),l=Ne(e,"onTransaction",r),u=Ne(e,"onFocus",r),c=Ne(e,"onBlur",r),d=Ne(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class On{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ze(Ne(this,"addOptions",{name:this.name}))),this.storage=Ze(Ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new On(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ld(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new On({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ze(Ne(t,"addOptions",{name:t.name})),t.storage=Ze(Ne(t,"addStorage",{name:t.name,options:t.options})),t}}function DE(n,e,t){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=t||{};let a="";return n.nodesBetween(r,i,(l,u,c,d)=>{var f;l.isBlock&&u>r&&(a+=o);const p=s==null?void 0:s[l.type.name];if(p)return c&&(a+=p({node:l,pos:u,parent:c,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)===null||f===void 0?void 0:f.slice(Math.max(r,u)-u,i-u))}),a}function IE(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const TW=On.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new mn({key:new Un("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(c=>c.$from.pos)),a=Math.max(...o.map(c=>c.$to.pos)),l=IE(t);return DE(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),LW=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),AW=(n=!1)=>({commands:e})=>e.setContent("",n),OW=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:o,$to:s})=>{n.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(l)),f=u.resolve(c.map(l+a.nodeSize)),p=d.blockRange(f);if(!p)return;const h=uV(p);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,g)}(h||h===0)&&e.lift(p,h)})}),!0},RW=n=>e=>n(e),PW=()=>({state:n,dispatch:e})=>QV(n,e),DW=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,o=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new Ke(r.doc.resolve(s-1))),!0},IW=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);n.delete(a,l).scrollIntoView()}return!0}return!1},NW=n=>({tr:e,state:t,dispatch:r})=>{const i=nn(n,t.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),u=o.after(s);e.delete(l,u).scrollIntoView()}return!0}return!1},_W=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},$W=()=>({state:n,dispatch:e})=>zV(n,e),FW=()=>({commands:n})=>n.keyboardShortcut("Enter"),BW=()=>({state:n,dispatch:e})=>XV(n,e);function Ju(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:nv(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function em(n,e,t={}){return n.find(r=>r.type===e&&Ju(r.attrs,t))}function jW(n,e,t={}){return!!em(n,e,t)}function rv(n,e,t={}){if(!n||!e)return;let r=n.parent.childAfter(n.parentOffset);if(n.parentOffset===r.offset&&r.offset!==0&&(r=n.parent.childBefore(n.parentOffset)),!r.node)return;const i=em([...r.node.marks],e,t);if(!i)return;let o=r.index,s=n.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(em([...r.node.marks],e,t);o>0&&i.isInSet(n.parent.child(o-1).marks);)o-=1,s-=n.parent.child(o).nodeSize;for(;a<n.parent.childCount&&jW([...n.parent.child(a).marks],e,t);)l+=n.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function Mi(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const zW=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const o=Mi(n,r.schema),{doc:s,selection:a}=t,{$from:l,from:u,to:c}=a;if(i){const d=rv(l,o,e);if(d&&d.from<=u&&d.to>=c){const f=Ke.create(s,d.from,d.to);t.setSelection(f)}}return!0},HW=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function NE(n){return n instanceof Ke}function zr(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function _E(n,e=null){if(!e)return null;const t=Xe.atStart(n),r=Xe.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,o=r.to;return e==="all"?Ke.create(n,zr(0,i,o),zr(n.content.size,i,o)):Ke.create(n,zr(e,i,o),zr(e,i,o))}function ud(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const VW=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{ud()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!NE(t.state.selection))return s(),!0;const a=_E(i.doc,n)||t.state.selection,l=t.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},WW=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),UW=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),$E=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&$E(r)}return n};function Yl(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return $E(t)}function Zu(n,e,t){t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return oe.fromArray(n.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(n);return t.errorOnInvalidContent&&s.check(),s}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),Zu("",e,t)}if(i){if(t.errorOnInvalidContent){let s=!1,a="";const l=new rM({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(s=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(t.slice?Ia.fromSchema(l).parseSlice(Yl(n),t.parseOptions):Ia.fromSchema(l).parse(Yl(n),t.parseOptions),t.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Ia.fromSchema(e);return t.slice?o.parseSlice(Yl(n),t.parseOptions).content:o.parse(Yl(n),t.parseOptions)}return Zu("",e,t)}function qW(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Ur||i instanceof po))return;const o=n.mapping.maps[r];let s=0;o.forEach((a,l,u,c)=>{s===0&&(s=c)}),n.setSelection(Xe.near(n.doc.resolve(s),t))}const GW=n=>!("type"in n),KW=(n,e,t)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){t={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=Zu(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(s=t.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(h){return o.emit("contentError",{editor:o,error:h,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:l,to:u}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},c=!0,d=!0;if((GW(a)?a:[a]).forEach(h=>{h.check(),c=c?h.isText&&h.marks.length===0:!1,d=d?h.isBlock:!1}),l===u&&d){const{parent:h}=r.doc.resolve(l);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(l-=1,u+=1)}let p;c?(Array.isArray(e)?p=e.map(h=>h.text||"").join(""):typeof e=="object"&&e&&e.text?p=e.text:p=e,r.insertText(p,l,u)):(p=a,r.replaceWith(l,u,p)),t.updateSelection&&qW(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:p}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:p})}return!0},YW=()=>({state:n,dispatch:e})=>KV(n,e),JW=()=>({state:n,dispatch:e})=>YV(n,e),ZW=()=>({state:n,dispatch:e})=>HV(n,e),XW=()=>({state:n,dispatch:e})=>qV(n,e),QW=()=>({state:n,dispatch:e,tr:t})=>{try{const r=cE(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},eU=()=>({state:n,dispatch:e,tr:t})=>{try{const r=cE(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},tU=()=>({state:n,dispatch:e})=>VV(n,e),nU=()=>({state:n,dispatch:e})=>WV(n,e);function FE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function rU(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))ud()||FE()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),s&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const iU=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const o=rU(n).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",u=>u(t,a))});return l==null||l.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function el(n,e,t={}){const{from:r,to:i,empty:o}=n.selection,s=e?nn(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),h=Math.min(i,f+d.nodeSize);a.push({node:d,from:p,to:h})});const l=i-r,u=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Ju(d.node.attrs,t,{strict:!1}));return o?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=l}const oU=(n,e={})=>({state:t,dispatch:r})=>{const i=nn(n,t.schema);return el(t,i,e)?JV(t,r):!1},sU=()=>({state:n,dispatch:e})=>eW(n,e),aU=n=>({state:e,dispatch:t})=>{const r=nn(n,e.schema);return lW(r)(e,t)},lU=()=>({state:n,dispatch:e})=>ZV(n,e);function cd(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function U1(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const uU=(n,e)=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=cd(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=nn(n,r.schema)),a==="mark"&&(s=Mi(n,r.schema)),i&&t.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{o&&o===u.type&&t.setNodeMarkup(c,void 0,U1(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(d=>{s===d.type&&t.addMark(c,c+u.nodeSize,s.create(U1(d.attrs,e)))})})}),!0):!1},cU=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),dU=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),fU=()=>({state:n,dispatch:e})=>UV(n,e),pU=()=>({state:n,dispatch:e})=>GV(n,e),hU=()=>({state:n,dispatch:e})=>tW(n,e),mU=()=>({state:n,dispatch:e})=>iW(n,e),gU=()=>({state:n,dispatch:e})=>rW(n,e);function tm(n,e,t={},r={}){return Zu(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const vU=(n,e=!1,t={},r={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{var l,u;const{doc:c}=o;if(t.preserveWhitespace!=="full"){const d=tm(n,i.schema,t,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&o.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:c.content.size},n,{parseOptions:t,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function iv(n,e){const t=Mi(e,n.schema),{from:r,to:i,empty:o}=n.selection,s=[];o?(n.storedMarks&&s.push(...n.storedMarks),s.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function yU(n,e){const t=new AV(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function bU(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function xU(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,o)=>{t(i)&&r.push({node:i,pos:o})}),r}function wU(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function ov(n){return e=>wU(e.$from,n)}function CU(n,e){const t=fo.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}function SU(n,e){const t={from:0,to:n.content.size};return DE(n,t,e)}function kU(n,e){const t=nn(e,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===t.name);return s?{...s.attrs}:{}}function BE(n,e){const t=cd(typeof e=="string"?e:e.name,n.schema);return t==="node"?kU(n,e):t==="mark"?iv(n,e):{}}function MU(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function EU(n){const e=MU(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,s)=>s!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function TU(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=t[o];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const u=e.slice(o).map(a,-1),c=e.slice(o).map(l),d=e.invert().map(u,-1),f=e.invert().map(c);r.push({oldRange:{from:d,to:f},newRange:{from:u,to:c}})})}),EU(r)}function sv(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const o=t.resolve(n),s=rv(o,i.type);s&&r.push({mark:i,...s})}):t.nodesBetween(n,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function hu(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function nm(n,e,t={}){const{empty:r,ranges:i}=n.selection,o=e?Mi(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>Ju(d.attrs,t,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const p=d.pos,h=f.pos;n.doc.nodesBetween(p,h,(g,y)=>{if(!g.isText&&!g.marks.length)return;const x=Math.max(p,y),b=Math.min(h,y+g.nodeSize),w=b-x;s+=w,a.push(...g.marks.map(k=>({mark:k,from:x,to:b})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>Ju(d.mark.attrs,t,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+u:l)>=s}function LU(n,e,t={}){if(!e)return el(n,null,t)||nm(n,null,t);const r=cd(e,n.schema);return r==="node"?el(n,e,t):r==="mark"?nm(n,e,t):!1}function q1(n,e){const{nodeExtensions:t}=sd(e),r=t.find(s=>s.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ze(Ne(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function av(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(o=>{i!==!1&&(av(o,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function AU(n,e,t){const i=n.state.doc.content.size,o=zr(e,0,i),s=zr(t,0,i),a=n.coordsAtPos(o),l=n.coordsAtPos(s,-1),u=Math.min(a.top,l.top),c=Math.max(a.bottom,l.bottom),d=Math.min(a.left,l.left),f=Math.max(a.right,l.right),p=f-d,h=c-u,x={top:u,bottom:c,left:d,right:f,width:p,height:h,x:d,y:u};return{...x,toJSON:()=>x}}function OU(n,e,t){var r;const{selection:i}=e;let o=null;if(NE(i)&&(o=i.$cursor),o){const a=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let u=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const p=!f||f.type.allowsMarkType(t),h=!!t.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(t));u=p&&h}return!u}),u})}const RU=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=t,{empty:s,ranges:a}=o,l=Mi(n,r.schema);if(i)if(s){const u=iv(r,l);t.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,p)=>{const h=Math.max(p,c),g=Math.min(p+f.nodeSize,d);f.marks.find(x=>x.type===l)?f.marks.forEach(x=>{l===x.type&&t.addMark(h,g,l.create({...x.attrs,...e}))}):t.addMark(h,g,l.create(e))})});return OU(r,t,l)},PU=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),DU=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const o=nn(n,t.schema);return o.isTextblock?i().command(({commands:s})=>z1(o,e)(t)?!0:s.clearNodes()).command(({state:s})=>z1(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},IU=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=zr(n,0,r.content.size),o=Ve.create(r,i);e.setSelection(o)}return!0},NU=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:o}=typeof n=="number"?{from:n,to:n}:n,s=Ke.atStart(r).from,a=Ke.atEnd(r).to,l=zr(i,s,a),u=zr(o,s,a),c=Ke.create(r,l,u);e.setSelection(c)}return!0},_U=n=>({state:e,dispatch:t})=>{const r=nn(n,e.schema);return dW(r)(e,t)};function G1(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const $U=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,u=i.extensionManager.attributes,c=hu(u,a.node().type.name,a.node().attrs);if(o instanceof Ve&&o.node.isBlock)return!a.parentOffset||!du(s,a.pos)?!1:(r&&(n&&G1(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:bU(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&f?[{type:f,attrs:c}]:void 0,h=du(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!h&&du(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(h=!0,p=f?[{type:f,attrs:c}]:void 0),r){if(h&&(o instanceof Ke&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),y=e.doc.resolve(g);a.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}n&&G1(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return h},FU=(n,e={})=>({tr:t,state:r,dispatch:i,editor:o})=>{var s;const a=nn(n,r.schema),{$from:l,$to:u}=r.selection,c=r.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let x=oe.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-b;T>=l.depth-3;T-=1)x=oe.from(l.node(T).copy(x));const w=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...hu(f,l.node().type.name,l.node().attrs),...e},S=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(k))||void 0;x=x.append(oe.from(a.createAndFill(null,S)||void 0));const C=l.before(l.depth-(b-1));t.replace(C,l.after(-w),new le(x,4-b,0));let M=-1;t.doc.nodesBetween(C,t.doc.content.size,(T,I)=>{if(M>-1)return!1;T.isTextblock&&T.content.size===0&&(M=I+1)}),M>-1&&t.setSelection(Ke.near(t.doc.resolve(M))),t.scrollIntoView()}return!0}const p=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,h={...hu(f,d.type.name,d.attrs),...e},g={...hu(f,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,u.pos);const y=p?[{type:a,attrs:h},{type:p,attrs:g}]:[{type:a,attrs:h}];if(!du(t.doc,l.pos,2))return!1;if(i){const{selection:x,storedMarks:b}=r,{splittableMarks:w}=o.extensionManager,k=b||x.$to.parentOffset&&x.$from.marks();if(t.split(l.pos,2,y).scrollIntoView(),!k||!i)return!0;const S=k.filter(C=>w.includes(C.type.name));t.ensureMarks(S)}return!0},Vp=(n,e)=>{const t=ov(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Zg(n.doc,t.pos)&&n.join(t.pos),!0},Wp=(n,e)=>{const t=ov(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Zg(n.doc,r)&&n.join(r),!0},BU=(n,e,t,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,p=nn(n,s.schema),h=nn(e,s.schema),{selection:g,storedMarks:y}=s,{$from:x,$to:b}=g,w=x.blockRange(b),k=y||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;const S=ov(C=>q1(C.type.name,d))(g);if(w.depth>=1&&S&&w.depth-S.depth<=1){if(S.node.type===p)return u.liftListItem(h);if(q1(S.node.type.name,d)&&p.validContent(S.node.content)&&a)return l().command(()=>(o.setNodeMarkup(S.pos,p),!0)).command(()=>Vp(o,p)).command(()=>Wp(o,p)).run()}return!t||!k||!a?l().command(()=>c().wrapInList(p,r)?!0:u.clearNodes()).wrapInList(p,r).command(()=>Vp(o,p)).command(()=>Wp(o,p)).run():l().command(()=>{const C=c().wrapInList(p,r),M=k.filter(T=>f.includes(T.type.name));return o.ensureMarks(M),C?!0:u.clearNodes()}).wrapInList(p,r).command(()=>Vp(o,p)).command(()=>Wp(o,p)).run()},jU=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,s=Mi(n,r.schema);return nm(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},zU=(n,e,t={})=>({state:r,commands:i})=>{const o=nn(n,r.schema),s=nn(e,r.schema),a=el(r,o,t);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...t})},HU=(n,e={})=>({state:t,commands:r})=>{const i=nn(n,t.schema);return el(t,i,e)?r.lift(i):r.wrapIn(i,e)},VU=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){const s=n.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,n.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},WU=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},UU=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=t,l=Mi(n,r.schema),{$from:u,empty:c,ranges:d}=a;if(!i)return!0;if(c&&s){let{from:f,to:p}=a;const h=(o=u.marks().find(y=>y.type===l))===null||o===void 0?void 0:o.attrs,g=rv(u,l,h);g&&(f=g.from,p=g.to),t.removeMark(f,p,l)}else d.forEach(f=>{t.removeMark(f.$from.pos,f.$to.pos,l)});return t.removeStoredMark(l),!0},qU=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=cd(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=nn(n,r.schema)),a==="mark"&&(s=Mi(n,r.schema)),i&&t.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;r.doc.nodesBetween(u,c,(d,f)=>{o&&o===d.type&&t.setNodeMarkup(f,void 0,{...d.attrs,...e}),s&&d.marks.length&&d.marks.forEach(p=>{if(s===p.type){const h=Math.max(f,u),g=Math.min(f+d.nodeSize,c);t.addMark(h,g,s.create({...p.attrs,...e}))}})})}),!0):!1},GU=(n,e={})=>({state:t,dispatch:r})=>{const i=nn(n,t.schema);return oW(i,e)(t,r)},KU=(n,e={})=>({state:t,dispatch:r})=>{const i=nn(n,t.schema);return sW(i,e)(t,r)};var YU=Object.freeze({__proto__:null,blur:LW,clearContent:AW,clearNodes:OW,command:RW,createParagraphNear:PW,cut:DW,deleteCurrentNode:IW,deleteNode:NW,deleteRange:_W,deleteSelection:$W,enter:FW,exitCode:BW,extendMarkRange:zW,first:HW,focus:VW,forEach:WW,insertContent:UW,insertContentAt:KW,joinBackward:ZW,joinDown:JW,joinForward:XW,joinItemBackward:QW,joinItemForward:eU,joinTextblockBackward:tU,joinTextblockForward:nU,joinUp:YW,keyboardShortcut:iU,lift:oU,liftEmptyBlock:sU,liftListItem:aU,newlineInCode:lU,resetAttributes:uU,scrollIntoView:cU,selectAll:dU,selectNodeBackward:fU,selectNodeForward:pU,selectParentNode:hU,selectTextblockEnd:mU,selectTextblockStart:gU,setContent:vU,setMark:RU,setMeta:PU,setNode:DU,setNodeSelection:IU,setTextSelection:NU,sinkListItem:_U,splitBlock:$U,splitListItem:FU,toggleList:BU,toggleMark:jU,toggleNode:zU,toggleWrap:HU,undoInputRule:VU,unsetAllMarks:WU,unsetMark:UU,updateAttributes:qU,wrapIn:GU,wrapInList:KU});const JU=On.create({name:"commands",addCommands(){return{...YU}}}),ZU=On.create({name:"drop",addProseMirrorPlugins(){return[new mn({key:new Un("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),XU=On.create({name:"editable",addProseMirrorPlugins(){return[new mn({key:new Un("editable"),props:{editable:()=>this.editor.options.editable}})]}}),QU=On.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new mn({key:new Un("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),eq=On.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:c,$anchor:d}=l,{pos:f,parent:p}=d,h=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,g=h.parent.type.spec.isolating,y=d.pos-d.parentOffset,x=g&&h.parent.childCount===1?y===d.pos:Xe.atStart(u).from===f;return!c||!p.type.isTextblock||p.textContent.length||!x||x&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ud()||FE()?o:i},addProseMirrorPlugins(){return[new mn({key:new Un("clearDocument"),appendTransaction:(n,e,t)=>{const r=n.some(g=>g.docChanged)&&!e.doc.eq(t.doc),i=n.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,l=Xe.atStart(e.doc).from,u=Xe.atEnd(e.doc).to;if(o||!(s===l&&a===u)||!av(t.doc))return;const f=t.tr,p=id({state:t,transaction:f}),{commands:h}=new od({editor:this.editor,state:p});if(h.clearNodes(),!!f.steps.length)return f}})]}}),tq=On.create({name:"paste",addProseMirrorPlugins(){return[new mn({key:new Un("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),nq=On.create({name:"tabindex",addProseMirrorPlugins(){return[new mn({key:new Un("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ii{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You canâ€™t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Ii(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ii(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ii(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,o=this.pos+r+1,s=this.resolvedPos.doc.resolve(o);if(!i&&s.depth<=this.depth)return;const a=new Ii(s,this.editor,i,i?t:null);i&&(a.actualDepth=this.depth+1),e.push(new Ii(s,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const o=i.node.attrs,s=Object.keys(t);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==t[l])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(t);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(l=>t[l]===s.node.attrs[l])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,t,r))))}),i}setAttribute(e){const t=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(t.from).run()}}const rq=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function iq(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}let oq=class extends fW{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=iq(rq,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=PE(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(t))});return this.view.updateState(r),r}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[XU,TW.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),JU,QU,eq,nq,ZU,tq].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new ts(i,this)}createCommandManager(){this.commandManager=new od({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=tm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(s=>s.name!=="collaboration"),this.createExtensionManager()}}),e=tm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const t=_E(e,this.options.autofocus);this.view=new G9(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:es.create({doc:e,selection:t||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return BE(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return LU(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return CU(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return SU(this.state.doc,{blockSeparator:t,textSerializers:{...IE(this.schema),...r}})}get isEmpty(){return av(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Ii(t,this)}get $doc(){return this.$pos(0)}};function ms(n){return new ad({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Ze(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),u=t.from+a.indexOf(s),c=u+s.length;if(sv(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===n.type&&g!==p.mark.type)).filter(p=>p.to>u).length)return null;c<t.to&&o.delete(c,t.to),u>t.from&&o.delete(t.from+l,u);const f=t.from+l+s.length;o.addMark(t.from+l,f,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function sq(n){return new ad({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Ze(n.getAttributes,void 0,r)||{},{tr:o}=e,s=t.from;let a=t.to;const l=n.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=s+u;c>a?c=a:a=c+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(c,a,l)}else if(r[0]){const u=n.type.isInline?s:s-1;o.insert(u,n.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()}})}function rm(n){return new ad({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),o=Ze(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function tl(n){return new ad({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const o=Ze(n.getAttributes,void 0,r)||{},s=e.tr.delete(t.from,t.to),l=s.doc.resolve(t.from).blockRange(),u=l&&dV(l,n.type,o);if(!u)return null;if(s.wrap(l,u),n.keepMarks&&n.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:p}=n.editor.extensionManager,h=f||d.$to.parentOffset&&d.$from.marks();if(h){const g=h.filter(y=>p.includes(y.type.name));s.ensureMarks(g)}}if(n.keepAttributes){const d=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const c=s.doc.resolve(t.from-1).nodeBefore;c&&c.type===n.type&&Zg(s.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,c))&&s.join(t.from-1)}})}let qn=class im{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ze(Ne(this,"addOptions",{name:this.name}))),this.storage=Ze(Ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new im(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ld(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new im(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ze(Ne(t,"addOptions",{name:t.name})),t.storage=Ze(Ne(t,"addStorage",{name:t.name,options:t.options})),t}};function aq(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class lq{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,r,i,o,s,a,l;const{view:u}=this.editor,c=e.target,d=c.nodeType===3?(t=c.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(c)||!d)return;let f=0,p=0;if(this.dom!==d){const x=this.dom.getBoundingClientRect(),b=d.getBoundingClientRect(),w=(i=e.offsetX)!==null&&i!==void 0?i:(o=e.nativeEvent)===null||o===void 0?void 0:o.offsetX,k=(s=e.offsetY)!==null&&s!==void 0?s:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetY;f=b.x-x.x+w,p=b.y-x.y+k}(l=e.dataTransfer)===null||l===void 0||l.setDragImage(this.dom,f,p);const h=this.getPos();if(typeof h!="number")return;const g=Ve.create(u.state.doc,h),y=u.state.tr.setSelection(g);u.dispatch(y)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(r))))return!1;const o=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!o)return!0;const{isEditable:l}=this.editor,{isDragging:u}=this,c=!!this.node.type.spec.draggable,d=Ve.isSelectable(this.node),f=e.type==="copy",p=e.type==="paste",h=e.type==="cut",g=e.type==="mousedown";if(!c&&d&&o&&e.preventDefault(),c&&o&&!u)return e.preventDefault(),!1;if(c&&l&&!u&&g){const y=r.closest("[data-drag-handle]");y&&(this.dom===y||this.dom.contains(y))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(u||s||f||p||h||g&&d)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(ud()||aq())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const r=this.getPos();return typeof r!="number"?!1:(t.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function eo(n){return new wW({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const o=Ze(n.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let u=t.to;if(a){const c=l.search(/\S/),d=t.from+l.indexOf(a),f=d+a.length;if(sv(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(y=>y===n.type&&y!==h.mark.type)).filter(h=>h.to>d).length)return null;f<t.to&&s.delete(f,t.to),d>t.from&&s.delete(t.from+c,d),u=t.from+c+a.length,s.addMark(t.from+c,u,n.type.create(o||{})),s.removeStoredMark(n.type)}}})}function uq(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jE={exports:{}},Up={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function cq(){if(K1)return Up;K1=1;var n=L;function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,o=n.useLayoutEffect,s=n.useDebugValue;function a(d,f){var p=f(),h=r({inst:{value:p,getSnapshot:f}}),g=h[0].inst,y=h[1];return o(function(){g.value=p,g.getSnapshot=f,l(g)&&y({inst:g})},[d,p,f]),i(function(){return l(g)&&y({inst:g}),d(function(){l(g)&&y({inst:g})})},[d]),s(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!t(d,p)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return Up.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:c,Up}jE.exports=cq();var lv=jE.exports;const dq=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},fq=({contentComponent:n})=>{const e=lv.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return L.createElement(L.Fragment,null,Object.values(e))};function pq(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:TA.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class hq extends L.Component{constructor(e){var t;super(e),this.editorContentRef=L.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=pq(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return L.createElement(L.Fragment,null,L.createElement("div",{ref:dq(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&L.createElement(fq,{contentComponent:e.contentComponent}))}}const mq=m.forwardRef((n,e)=>{const t=L.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return L.createElement(hq,{key:t,innerRef:e,...n})}),gq=L.memo(mq);var vq=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!(s==="_owner"&&e.$$typeof)&&!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t},yq=uq(vq),zE={exports:{}},qp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function bq(){if(Y1)return qp;Y1=1;var n=L,e=lv;function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=n.useRef,s=n.useEffect,a=n.useMemo,l=n.useDebugValue;return qp.useSyncExternalStoreWithSelector=function(u,c,d,f,p){var h=o(null);if(h.current===null){var g={hasValue:!1,value:null};h.current=g}else g=h.current;h=a(function(){function x(C){if(!b){if(b=!0,w=C,C=f(C),p!==void 0&&g.hasValue){var M=g.value;if(p(M,C))return k=M}return k=C}if(M=k,r(w,C))return M;var T=f(C);return p!==void 0&&p(M,T)?M:(w=C,k=T)}var b=!1,w,k,S=d===void 0?null:d;return[function(){return x(c())},S===null?void 0:function(){return x(S())}]},[c,d,f,p]);var y=i(u,h[0],h[1]);return s(function(){g.hasValue=!0,g.value=y},[y]),l(y),y},qp}zE.exports=bq();var xq=zE.exports;class wq{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function Cq(n){var e;const[t]=m.useState(()=>new wq(n.editor)),r=xq.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:yq);return m.useEffect(()=>t.watch(n.editor),[n.editor,t]),m.useDebugValue(r),r}const Sq=!1,om=typeof window>"u",kq=om||!!(typeof window<"u"&&window.next);class Mq{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?om||kq?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...r)}};return new oq(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions(this.options.current):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Eq(n={},e=[]){const t=m.useRef(n);t.current=n;const[r]=m.useState(()=>new Mq(t)),i=lv.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return m.useDebugValue(i),m.useEffect(r.onRender(e)),Cq({editor:i,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),i}const Tq=m.createContext({editor:null});Tq.Consumer;const HE=m.createContext({onDragStart:void 0}),Lq=()=>m.useContext(HE),Aq=L.forwardRef((n,e)=>{const{onDragStart:t}=Lq(),r=n.as||"div";return L.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});function Oq(n){return!!(typeof n=="function"&&n.prototype&&n.prototype.isReactComponent)}function Rq(n){var e;return typeof n=="object"&&((e=n.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class Pq{constructor(e,{editor:t,props:r={},as:i="div",className:o=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),this.editor.isInitialized?Ci.flushSync(()=>{this.render()}):this.render()}render(){var e;const t=this.component,r=this.props,i=this.editor;(Oq(t)||Rq(t))&&(r.ref=o=>{this.ref=o}),this.reactElement=L.createElement(t,r),(e=i==null?void 0:i.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t==null?void 0:t.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}}class Dq extends lq{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(u={})=>this.updateAttributes(u),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const u=c=>c.charAt(0).toUpperCase()+c.substring(1);this.component.displayName=u(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:u=>{u&&this.contentDOMElement&&u.firstChild!==this.contentDOMElement&&u.appendChild(this.contentDOMElement)}},o=this.component,s=L.memo(u=>L.createElement(HE.Provider,{value:i},L.createElement(o,u)));s.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:l=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new Pq(s,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${l}`.trim()}),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&t>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,r){const i=o=>{this.renderer.updateProps(o),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const o=this.node,s=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=r,this.options.update({oldNode:o,oldDecorations:s,newNode:e,newDecorations:t,oldInnerDecorations:a,innerDecorations:r,updateProps:()=>i({node:e,decorations:t,innerDecorations:r})})}return e===this.node&&this.decorations===t&&this.innerDecorations===r||(this.node=e,this.decorations=t,this.innerDecorations=r,i({node:e,decorations:t,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,r=Yu(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function Iq(n,e){return t=>t.editor.contentComponent?new Dq(n,t,e):{}}var Fs={},J1;function Nq(){if(J1)return Fs;J1=1;var n=Ct();Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.default=void 0;var e=n(St()),t=wt();return Fs.default=(0,e.default)((0,t.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Fs}var _q=Nq();const $q=it(_q),VE=xi`font-size: font-size: 28px;`,WE=xi`font-size: font-size: 36px;`,UE=xi`font-size: font-size: 22px;`,qE=xi`font-size: font-size: 14px;`,GE=xi`font-size: font-size: 12px;`,KE=xi`font-size: font-size: 12px;`,YE=xi`
    &:disabled {
        color: ${V.colors.gray400};
    }

    &:not(:disabled):hover {
        color: ${V.colors.gray800};
    }

    ${({$active:n})=>`
        color: ${n?V.colors.gray700:V.colors.gray600};
        background-color: ${n?V.newColors.simplyGold[40]:"transparent"};
    `}
`,Z1=xi`
    outline: 1px solid ${V.newColors.almostBlack[100]};
    outline-offset: 2px;
`,Fq=ee.div`
    font-family: ${V.fontFamily};

    ${({$disabled:n})=>n?`
        --border-color: ${V.colors.disableBorder};
        color: ${V.colors.disabledTextColor};
    `:`
        --border-color: ${V.newColors.simplyGrey[100]};
        color: ${V.newColors.almostBlack[100]};
    `}
`,Bq=ee(gq)`
    .tiptap {
        background-color: ${V.newColors.grey1[100]};
        border: 1px solid var(--border-color);
        border-top: 0;
        padding: 16px;
        overflow: auto;

        ${({$minHeight:n="4.75em"})=>n&&`
            min-height: ${typeof n=="number"?`${n}px`:n};
        `}

        ${({$maxHeight:n})=>n&&`
            max-height: ${typeof n=="number"?`${n}px`:n};
        `}

        &:focus {
			border-color: ${V.newColors.almostBlack[100]};
            outline: none;
        }

        * {
            margin: 0;
            padding: 0;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        ul,
        ol,
        blockquote,
        pre,
        .script-tag,
        .tiptap-block {
            margin-bottom: 20px;
            line-height: 1.4;
        }

        h1,
        h2,
        h3 {
            line-height: 1.2;
        }

        h1 {
            ${VE}
            margin: 28px 0;
        }

        h2 {
            ${WE}
            margin: 24px 0;
        }

        h3 {
            ${UE}
        }

        h4 {
            ${qE}
        }

        h5 {
            ${GE}
        }

        h6 {
            ${KE}
        }

        :first-child{
            margin-top: 0;
        }

        :last-child{
            margin-bottom: 0;
        }

        .tiptap-flex {
            display: flex;
        }

        .tiptap-pill {
            background-color: ${V.colors.gray200};
            border-radius: 3px;
            border: 1px solid var(--border-color);
            color: ${V.colors.gray600};
            padding: 0;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 0 6px;

            svg {
                width: 16px;
            }
        }

        .ProseMirror-selectednode .tiptap-pill{
            ${Z1}
        }

        ul,
        ol {
            padding-inline-start: 1.625em;

            > li {
                padding-left: 4px;

                &::marker {
                    color: ${V.colors.gray400};
                }
            }

            p,
            p:last-child {
                margin-bottom: 8px;
            }
        }

        a {
            color: ${V.colors.teal};
        }

        pre {
            background-color: ${V.colors.gray200};
            border-radius: 3px;
            border: 1px solid var(--border-color);
            font-size: 0.85rem;
            line-height: 1.4em;
            padding: 8px 12px;
        }

        blockquote {
            border-left: 3px solid var(--border-color);
            padding: 4px 16px;
        }

        hr {
            border: none;
            border-top: 1px solid var(--border-color);
            margin: 20px 0;
        }

        img {
            vertical-align: bottom;
            height: auto;
            max-width: 100%;

            &.ProseMirror-selectednode {
                ${Z1}
            }
        }

        a > img {
            border-bottom: 1px solid #fff;
            box-shadow: 0 1px 0 #008DA8;
        }
    }
`,jq=ee.div`
    ${({$disabled:n})=>`
        --border-color: ${n?V.colors.disableBorder:V.newColors.simplyGrey[100]};
    `}

    background: white;
    box-shadow: box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    border: 1px solid var(--border-color);
    border-bottom: 0;
`,zq=ee.div`
    background: ${V.newColors.grey1[100]};
    border: 1px solid var(--border-color);
    border-bottom: 0;
    position: sticky;
    top: -25px;
    z-index: 1;

    ${({$focus:n})=>n&&`
        border-color: ${V.newColors.almostBlack[100]};
    `}
`,Hq=ee.div`
    overflow: hidden;
`,Vq=ee.div`
    margin-left: -1px;
`,Wq=ee.div`
    display: flex;
    flex-wrap: wrap;
    position: relative;
    padding: 4px 0;

    &::after {
        border-bottom: 1px solid var(--border-color);
        bottom: 0;
        content: " ";
        left: 8px;
        right: 8px;
        position: absolute;
    }

    &:last-child::after {
        left: 0;
        right: 0;
    }
`,Uq=ee.div`
    display: flex;
    align-items: center;
    padding-left: 8px;
    padding-right: 8px;
    position: relative;
    margin-left: 1px;
    gap: 2px;

    &::before {
        content: " ";
        position: absolute;
        border-left: 1px solid var(--border-color);
        top: 6px;
        bottom: 6px;
        left: -1px;
    }
`,JE=ee.button.attrs(n=>({...n,type:"button"}))`
    align-items: center;
    background: none;
    border-radius: 4px;
    border: 0;
    display: flex;
    height: 32px;
    justify-content: center;
    position: relative;

    &:not(:disabled) {
        cursor: pointer;
    }

    svg {
        height: 24px;
        width: 24px;
    }

    ${({$square:n})=>n&&`
        width: 32px;
    `}

    ${YE}
`,qq=ee(JE)`
    width: 110px;
    text-align: center;
    justify-content: start;
    padding: 0;
    padding-left: 4px;
`,Gq=ee($q)`
    margin-left: auto;
    margin-right: -0.2em;
    height: 20px !important;
    width: 20px !important;
`,Kq=ee.div`
    font-style: italic;
    color: ${V.newColors.grey3[100]};
`,Yq=ee(cL)`
    background: ${V.newColors.grey1[100]};
    border: 1px solid var(--border-color);
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 16px;
    margin: 0;
    min-height: 10rem;
    width: 100%;
    resize: vertical;

    &:focus {
        border-color: ${V.newColors.almostBlack[100]};
        outline: none;
    }
`,Jq=ee(CL)`
    font-family: ${V.fontFamily};
    padding: 10px;

    h1 {
        ${VE}
    }

    h2 {
        ${WE}
    }

    h3 {
        ${UE}
    }

    h4 {
        ${qE}
    }

    h5 {
        ${GE}
    }

    h6 {
        ${KE}
    }
`,uv=ee.button`
    background: none;
    border: 0;
    border-radius: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: start;
    gap: 12px;
    width: 100%;
    padding: 8px 12px;

    ${YE}



    h1, h2, h3, h4, h5, h6 {
        margin: 0;
    }
`,cv=ee.div`
    display: flex;
    align-items: center;
    text-align: left;
    gap: 4px;
`,dv=ee.div`
    background: ${V.colors.gray200};
    font-size: 12px;
    text-align: center;
    padding: 2px 4px;
    border-radius: 3px;
    margin-left: auto;
`,Zq=ee.div`
    background: white;
    border: 1px solid var(--border-color);
    border-bottom: 0;
    justify-content: end;
    align-items: center;
    display: flex;
    padding: 8px 8px 0 8px;
    align-self: end;
    gap: 4px;
    position: relative;
    z-index: 2;
`,Xq=ee.button.attrs(n=>({...n,type:"button"}))`
    border-radius: 0;
    border: 1px solid transparent;
    padding: 4px 8px;

    ${({$active:n,$focus:e})=>n?`
        background: ${V.newColors.grey1[100]};
        border-color: ${e?V.newColors.almostBlack[100]:V.colors.gray300};
        border-bottom-color: ${V.newColors.grey1[100]};
        padding-bottom: 5px;
        margin-bottom: -1px;
    `:`
        background: white;
        cursor: pointer;
    `}
`,Qq=ee(no)`
    z-index: 5;
`,e7=ee.div`
    border: 1px solid ${V.colors.gray300};
    background: white;
    width: 300px;
`,t7=ee(ln)`
    && {
        margin-left: auto;

        .adornment-icon {
            width: 24px;
            height: 24px;
        }
    }
`,n7=ee.a.attrs(n=>({...n,target:"_blank"}))`
    font-family: ${V.fontFamily};
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 14px;
    color: ${V.colors.teal};
`;var Bs={},X1;function r7(){if(X1)return Bs;X1=1;var n=Ct();Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.default=void 0;var e=n(St()),t=wt();return Bs.default=(0,e.default)((0,t.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew"),Bs}var i7=r7();const ZE=it(i7);function o7({url:n}){return v.jsxs(n7,{href:n,target:"_blank",children:[v.jsx(ZE,{})," ","Preview"]})}function XE({onRemove:n}){return v.jsxs(QA,{$spacing:"compact",children:[v.jsx(ln,{color:"yellow",variant:"contained",label:"Submit",type:"submit"}),n&&v.jsx(t7,{color:"red",variant:"text",label:"Remove",onClick:n})]})}function s7({editor:n,isTextBased:e,getFormValues:t,onClose:r,update:i}){const o=Zc(),{state:{data:{url:s}},handleSubmit:a}=o,l=a(m.useCallback(({data:{url:d,newTab:f,text:p}})=>{i({url:d,newTab:f,text:p})},[i])),u=m.useCallback(()=>{n.chain().focus().extendMarkRange("link").unsetLink().run(),r()},[n,r]),c=m.useMemo(()=>[{name:"url",label:"URL",type:"text",required:!0,validateOn:"onSubmit"},{name:"text",label:"Text",type:"text",required:!0,validateOn:"onSubmit",show:e},{name:"open",type:()=>v.jsx(o7,{url:s}),show:({data:d})=>!!d.url},{name:"newTab",label:"Open in new tab",type:"toggle"}],[s,e]);return v.jsx(pd,{...o,fields:c,spacing:"compact",autoFocus:!0,getFormValues:t,onSubmit:l,bottomSlot:v.jsx(XE,{onRemove:u})})}function a7({getFormValues:n,update:e}){const t=Zc(),{handleSubmit:r}=t,i=r(m.useCallback(({data:{alt:s,src:a}})=>{e({alt:s,src:a})},[e])),o=m.useMemo(()=>[{name:"src",label:"Source",type:"text",required:!0,validateOn:"onSubmit"},{name:"alt",label:"Alternative Text",type:"text",validateOn:"onSubmit"}],[]);return v.jsx(pd,{...t,fields:o,spacing:"compact",autoFocus:!0,getFormValues:n,onSubmit:i,bottomSlot:v.jsx(XE,{})})}const l7=[{name:"offset",options:{offset:[0,5]}}];function u7(n){const{type:e,values:t,update:r,anchorEl:i,open:o,...s}=n,{onClose:a}=s,l=m.useCallback(async()=>t||{},[t]);return v.jsx(Qq,{anchorEl:i,open:o,modifiers:l7,children:v.jsx(AA,{onClickAway:a,children:v.jsx(e7,{children:e==="link"?v.jsx(s7,{getFormValues:l,update:r,...s}):e==="image"?v.jsx(a7,{getFormValues:l,update:r,...s}):null})})})}function dd({shortcut:n}){const t=window.navigator.userAgent.toUpperCase().includes("MAC")?n.mac:n.pc;return v.jsx(v.Fragment,{children:t})}const QE=m.forwardRef(function({label:e,children:t,active:r,square:i,shortcut:o,disabled:s,...a},l){const{anchorProps:u,tooltipProps:c}=wm(),d=f=>{u.ref(f),l&&(typeof l=="function"?l(f):l.current=f)};return v.jsxs(v.Fragment,{children:[v.jsx(JE,{...a,...u,ref:d,$active:r,$square:i,disabled:s,children:t}),e&&v.jsxs(Cm,{...c,children:[e," ",o&&v.jsxs(v.Fragment,{children:["(",v.jsx(dd,{shortcut:o}),")"]})]})]})});function ks({editor:n,level:e,onClose:t,shortcut:r}){const i=()=>{n.chain().focus().toggleHeading({level:e}).run(),t&&t()};return v.jsxs(uv,{onClick:i,$active:n.isActive("heading",{level:e}),"data-testid":`${Ar.TEXT_EDITOR_HEADING_CONTROL}-${e}`,children:[v.jsx(cv,{children:L.createElement(`h${e}`,null,`Heading ${e}`)}),r&&v.jsx(dv,{children:v.jsx(dd,{shortcut:r})})]})}function c7({editor:n,onClose:e,shortcut:t}){const r=()=>{n.chain().focus().setParagraph().run(),e&&e()};return v.jsxs(uv,{onClick:r,$active:n.isActive("paragraph"),children:[v.jsx(cv,{children:"Normal Text"}),t&&v.jsx(dv,{children:v.jsx(dd,{shortcut:t})})]})}function d7(n){return v.jsx(ks,{level:1,...n})}function f7(n){return v.jsx(ks,{level:2,...n})}function p7(n){return v.jsx(ks,{level:3,...n})}function h7(n){return v.jsx(ks,{level:4,...n})}function m7(n){return v.jsx(ks,{level:5,...n})}function g7(n){return v.jsx(ks,{level:6,...n})}function v7({name:n,Icon:e,label:t,shortcut:r,cmd:i,editor:o,onClose:s,inputSettings:a}){const l=u=>{i({editor:o,inputSettings:a,event:u}),s()};return v.jsx("li",{children:v.jsxs(uv,{onClick:l,$active:o.isActive(n),"data-testid":`${Ar.TEXT_EDITOR_CONTROL}:${n}`,children:[v.jsxs(cv,{children:[e&&v.jsx(e,{}),t]}),r&&v.jsx(dv,{children:v.jsx(dd,{shortcut:r})})]})})}function Q1({editor:n,controls:e,MenuButton:t,inputSettings:r,testId:i,disabled:o}){const[s,a]=m.useState(null),l=d=>{a(d.currentTarget)},u=()=>{a(null),n.chain().focus()},c=e.some(({name:d})=>n.isActive(d));return v.jsxs(v.Fragment,{children:[t?v.jsx(t,{onClick:l,editor:n,disabled:o}):v.jsx(QE,{onClick:l,square:!0,active:c,"data-testid":i,disabled:o,children:v.jsx(OA,{})}),v.jsx(Jq,{anchorEl:s,open:!!s,onClose:u,children:e.map((d,f)=>"Component"in d?m.createElement(d.Component,{...d,onClose:u,editor:n,key:f,inputSettings:r,"data-testid":`${Ar.TEXT_EDITOR_CONTROL}:${d.name}`,disabled:o}):m.createElement(v7,{...d,onClose:u,editor:n,inputSettings:r,key:f}))})]})}function y7({disabled:n,editor:e,onClick:t}){const r={"Normal Text":e.isActive("paragraph"),"Heading 1":e.isActive("heading",{level:1}),"Heading 2":e.isActive("heading",{level:2}),"Heading 3":e.isActive("heading",{level:3}),"Heading 4":e.isActive("heading",{level:4}),"Heading 5":e.isActive("heading",{level:5}),"Heading 6":e.isActive("heading",{level:6})},i=Object.keys(r).reduce((o,s)=>r[s]?s:o,"");return v.jsxs(qq,{onClick:t,disabled:n,"data-testid":Ar.TEXT_EDITOR_HEADING_MENU,children:[i||v.jsx(Kq,{children:"Multiple Styles"}),v.jsx(Gq,{})]})}var js={},ew;function b7(){if(ew)return js;ew=1;var n=Ct();Object.defineProperty(js,"__esModule",{value:!0}),js.default=void 0;var e=n(St()),t=wt();return js.default=(0,e.default)((0,t.jsx)("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),js}var x7=b7();const w7=it(x7);var zs={},tw;function C7(){if(tw)return zs;tw=1;var n=Ct();Object.defineProperty(zs,"__esModule",{value:!0}),zs.default=void 0;var e=n(St()),t=wt();return zs.default=(0,e.default)((0,t.jsx)("path",{d:"M3.27 5 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5z"}),"FormatClear"),zs}var S7=C7();const k7=it(S7);var Hs={},nw;function M7(){if(nw)return Hs;nw=1;var n=Ct();Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.default=void 0;var e=n(St()),t=wt();return Hs.default=(0,e.default)((0,t.jsx)("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"}),"FormatAlignLeft"),Hs}var E7=M7();const T7=it(E7);var Vs={},rw;function L7(){if(rw)return Vs;rw=1;var n=Ct();Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.default=void 0;var e=n(St()),t=wt();return Vs.default=(0,e.default)((0,t.jsx)("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"}),"FormatAlignCenter"),Vs}var A7=L7();const O7=it(A7);var Ws={},iw;function R7(){if(iw)return Ws;iw=1;var n=Ct();Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.default=void 0;var e=n(St()),t=wt();return Ws.default=(0,e.default)((0,t.jsx)("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"}),"FormatAlignRight"),Ws}var P7=R7();const D7=it(P7);var Us={},ow;function I7(){if(ow)return Us;ow=1;var n=Ct();Object.defineProperty(Us,"__esModule",{value:!0}),Us.default=void 0;var e=n(St()),t=wt();return Us.default=(0,e.default)((0,t.jsx)("path",{d:"M3 21h18v-2H3zm0-4h18v-2H3zm0-4h18v-2H3zm0-4h18V7H3zm0-6v2h18V3z"}),"FormatAlignJustify"),Us}var N7=I7();const _7=it(N7);var qs={},sw;function $7(){if(sw)return qs;sw=1;var n=Ct();Object.defineProperty(qs,"__esModule",{value:!0}),qs.default=void 0;var e=n(St()),t=wt();return qs.default=(0,e.default)((0,t.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),qs}var F7=$7();const B7=it(F7);var Gs={},aw;function j7(){if(aw)return Gs;aw=1;var n=Ct();Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.default=void 0;var e=n(St()),t=wt();return Gs.default=(0,e.default)((0,t.jsx)("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),Gs}var z7=j7();const H7=it(z7);var Ks={},lw;function V7(){if(lw)return Ks;lw=1;var n=Ct();Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.default=void 0;var e=n(St()),t=wt();return Ks.default=(0,e.default)((0,t.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),Ks}var W7=V7();const U7=it(W7);var Ys={},uw;function q7(){if(uw)return Ys;uw=1;var n=Ct();Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.default=void 0;var e=n(St()),t=wt();return Ys.default=(0,e.default)((0,t.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo"),Ys}var G7=q7();const K7=it(G7);var Js={},cw;function Y7(){if(cw)return Js;cw=1;var n=Ct();Object.defineProperty(Js,"__esModule",{value:!0}),Js.default=void 0;var e=n(St()),t=wt();return Js.default=(0,e.default)((0,t.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"}),"Redo"),Js}var J7=Y7();const Z7=it(J7);var Zs={},dw;function X7(){if(dw)return Zs;dw=1;var n=Ct();Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.default=void 0;var e=n(St()),t=wt();return Zs.default=(0,e.default)((0,t.jsx)("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"}),"FormatUnderlined"),Zs}var Q7=X7();const eG=it(Q7);var Xs={},fw;function tG(){if(fw)return Xs;fw=1;var n=Ct();Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.default=void 0;var e=n(St()),t=wt();return Xs.default=(0,e.default)((0,t.jsx)("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"}),"FormatStrikethrough"),Xs}var nG=tG();const rG=it(nG);var Qs={},pw;function iG(){if(pw)return Qs;pw=1;var n=Ct();Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.default=void 0;var e=n(St()),t=wt();return Qs.default=(0,e.default)((0,t.jsx)("path",{d:"M22 7h-2v1h3v1h-4V7c0-.55.45-1 1-1h2V5h-3V4h3c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M5.88 20h2.66l3.4-5.42h.12l3.4 5.42h2.66l-4.65-7.27L17.81 6h-2.68l-3.07 4.99h-.12L8.85 6H6.19l4.32 6.73z"}),"Superscript"),Qs}var oG=iG();const sG=it(oG);var ea={},hw;function aG(){if(hw)return ea;hw=1;var n=Ct();Object.defineProperty(ea,"__esModule",{value:!0}),ea.default=void 0;var e=n(St()),t=wt();return ea.default=(0,e.default)((0,t.jsx)("path",{d:"M22 18h-2v1h3v1h-4v-2c0-.55.45-1 1-1h2v-1h-3v-1h3c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M5.88 18h2.66l3.4-5.42h.12l3.4 5.42h2.66l-4.65-7.27L17.81 4h-2.68l-3.07 4.99h-.12L8.85 4H6.19l4.32 6.73z"}),"Subscript"),ea}var lG=aG();const uG=it(lG);var ta={},mw;function cG(){if(mw)return ta;mw=1;var n=Ct();Object.defineProperty(ta,"__esModule",{value:!0}),ta.default=void 0;var e=n(St()),t=wt();return ta.default=(0,e.default)((0,t.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"}),"FormatListNumbered"),ta}var dG=cG();const fG=it(dG);var na={},gw;function pG(){if(gw)return na;gw=1;var n=Ct();Object.defineProperty(na,"__esModule",{value:!0}),na.default=void 0;var e=n(St()),t=wt();return na.default=(0,e.default)((0,t.jsx)("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),"FormatQuote"),na}var hG=pG();const mG=it(hG);var ra={},vw;function gG(){if(vw)return ra;vw=1;var n=Ct();Object.defineProperty(ra,"__esModule",{value:!0}),ra.default=void 0;var e=n(St()),t=wt();return ra.default=(0,e.default)((0,t.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code"),ra}var vG=gG();const eT=it(vG),yG={name:"normal-text",label:"Normal Text",Component:c7,shortcut:{mac:"Cmd+Alt+0",pc:"Ctrl+Alt+0"}},bG={name:"heading-1",label:"Heading 1",Component:d7,shortcut:{mac:"Cmd+Alt+1",pc:"Ctrl+Alt+1"}},xG={name:"heading-2",label:"Heading 2",Component:f7,shortcut:{mac:"Cmd+Alt+2",pc:"Ctrl+Alt+2"}},wG={name:"heading-3",label:"Heading 3",Component:p7,shortcut:{mac:"Cmd+Alt+3",pc:"Ctrl+Alt+3"}},CG={name:"heading-4",label:"Heading 4",Component:h7,shortcut:{mac:"Cmd+Alt+4",pc:"Ctrl+Alt+4"}},SG={name:"heading-5",label:"Heading 5",Component:m7,shortcut:{mac:"Cmd+Alt+5",pc:"Ctrl+Alt+5"}},kG={name:"heading-6",label:"Heading 6",Component:g7,shortcut:{mac:"Cmd+Alt+6",pc:"Ctrl+Alt+6"}},MG={name:"headings",label:"Headings",MenuButton:y7,controls:[yG,bG,xG,wG,CG,SG,kG]},tT={name:"bold",label:"Bold",cmd:({editor:n})=>n.chain().focus().toggleBold().run(),Icon:w7,shortcut:{mac:"Cmd+B",pc:"Ctrl+B"}},nT={name:"italic",label:"Italic",cmd:({editor:n})=>n.chain().focus().toggleItalic().run(),Icon:H7,shortcut:{mac:"Cmd+I",pc:"Ctrl+I"}},rT={name:"underline",label:"Underline",cmd:({editor:n})=>n.chain().focus().toggleUnderline().run(),Icon:eG,shortcut:{mac:"Cmd+U",pc:"Ctrl+U"}},iT={name:"strike",label:"Strikethrough",cmd:({editor:n})=>n.chain().focus().toggleStrike().run(),Icon:rG,shortcut:{mac:"Cmd+Shift+S",pc:"Ctrl+Shift+S"}},oT={name:"superscript",label:"Superscript",cmd:({editor:n})=>n.chain().focus().toggleSuperscript().run(),Icon:sG,shortcut:{mac:"Cmd+.",pc:"Ctrl+."}},sT={name:"subscript",label:"Subscript",cmd:({editor:n})=>n.chain().focus().toggleSubscript().run(),Icon:uG,shortcut:{mac:"Cmd+,",pc:"Ctrl+,"}},aT={name:"clear",label:"Clear Formatting",cmd:({editor:n})=>n.chain().focus().unsetAllMarks().run(),Icon:k7},EG={name:"bulletList",label:"Bullet List",cmd:({editor:n})=>n.chain().focus().toggleBulletList().run(),Icon:iL,shortcut:{mac:"Cmd+Shift+8",pc:"Ctrl+Shift+8"}},TG={name:"orderedList",label:"Ordered List",cmd:({editor:n})=>n.chain().focus().toggleOrderedList().run(),Icon:fG,shortcut:{mac:"Cmd+Shift+7",pc:"Ctrl+Shift+7"}},LG={name:"alignLeft",label:"Align Left",cmd:({editor:n})=>n.chain().focus().setTextAlign("left").run(),Icon:T7,shortcut:{mac:"Cmd+Shift+L",pc:"Ctrl+Shift+L"}},AG={name:"alignCenter",label:"Align Center",cmd:({editor:n})=>n.chain().focus().setTextAlign("center").run(),Icon:O7,shortcut:{mac:"Cmd+Shift+E",pc:"Ctrl+Shift+E"}},OG={name:"alignRight",label:"Align Right",cmd:({editor:n})=>n.chain().focus().setTextAlign("right").run(),Icon:D7,shortcut:{mac:"Cmd+Shift+R",pc:"Ctrl+Shift+R"}},RG={name:"alignJustify",label:"Align Justify",cmd:({editor:n})=>n.chain().focus().setTextAlign("justify").run(),Icon:_7,shortcut:{mac:"Cmd+Shift+J",pc:"Ctrl+Shift+J"}},lT={name:"link",label:"Link",cmd:({editor:n,inputSettings:{onLink:e,allowedLinkProtocols:t=pk}})=>{var d;const{view:r}=n,{state:i,state:{selection:{from:o,to:s}}}=r,a=!n.isActive("image"),l=n.isActive("link")&&n.getAttributes("link"),u=l?(d=n.state.doc.nodeAt(o-1))==null?void 0:d.textContent:i.doc.textBetween(o,s),c={url:l.href,newTab:l.target==="_blank",text:u};e({...c,isTextBased:a,updateLink:({url:f,newTab:p,text:h})=>{const{state:{selection:{from:g,to:y}}}=n,x=I4(f,t),b=p?"_blank":"",w=n.chain();a?n.isActive("link")?n.state.doc.nodesBetween(g-1,g,(k,S)=>{if(k.type.name==="text")return w.focus().extendMarkRange("link").setLink({href:x,target:b}).insertContentAt({from:S,to:S+k.nodeSize-1},h).insertContentAt({from:S+h.length,to:S+h.length+1},"").extendMarkRange("link"),!1}):w.insertContentAt({from:g,to:y},h).setTextSelection({from:g,to:g+h.length}).focus().extendMarkRange("link").setLink({href:x,target:b}):w.extendMarkRange("link").setLink({href:x,target:b}),w.run()}})},Icon:U7},uT={name:"linkPreview",label:"Open URL in new tab",cmd:({editor:n})=>{const e=n.state.selection.$to.marks().find(({type:t})=>t.name==="link");!e||!e.attrs.href||window.open(e.attrs.href,"_blank")},Icon:ZE},cT={name:"image",label:"Image",cmd:({editor:n,inputSettings:{onImage:e}})=>{const t=n.state.selection.node,r=(t==null?void 0:t.type.name)==="image"?t:void 0,i={src:(r==null?void 0:r.attrs.src)||"",alt:r==null?void 0:r.attrs.alt};e({...i,updateImage:o=>n.chain().focus().setImage(o).run()})},Icon:B7},PG={name:"codeBlock",label:"Code Block",cmd:({editor:n})=>n.chain().focus().toggleCodeBlock().run(),Icon:eT,shortcut:{mac:"Cmd+Alt+C",pc:"Ctrl+Alt+C"}},DG={name:"blockquote",label:"Quote",cmd:({editor:n})=>n.chain().focus().toggleBlockquote().run(),Icon:mG,shortcut:{mac:"Cmd+Shift+B",pc:"Ctrl+Shift+B"}},IG={name:"undo",label:"Undo",cmd:({editor:n})=>n.chain().focus().undo().run(),Icon:K7,shortcut:{mac:"Cmd+Z",pc:"Ctrl+Z"}},NG={name:"redo",label:"Redo",cmd:({editor:n})=>n.chain().focus().redo().run(),Icon:Z7,shortcut:{mac:"Cmd+Y",pc:"Ctrl+Y"}},_G=[LG,AG,OG,RG,MG,tT,nT,rT,iT,oT,sT,aT,EG,TG,lT,uT,cT,PG,DG,IG,NG];function $G(n){return!("MenuButton"in n)&&!Array.isArray(n)}function dT(n,e){if(typeof n=="string"){const t=_G.find(({name:r})=>r===n);if(t){const r=eu(t.show,{selectionTypes:e});if(tu(r))return t}}else if(Array.isArray(n)){const t=[];for(const r of n){const i=dT(r,e);if(i){if(!$G(i))throw new Error("Menu controls only allow standard controls as their children.");const o=eu(i.show,{selectionTypes:e});tu(o)&&t.push(i)}}if(t.length)return t}else{const t=eu(n.show,{selectionTypes:e});if(tu(t))return n}}function FG(n,e){const t=[];for(const r of n){const i=[];for(const o of r){const s=dT(o,e);s&&i.push(s)}i.length&&t.push(i)}return t}const BG=[{label:"Visual",value:"visual"},{label:"Source",value:"code"}];function jG({mode:n,onChange:e,focus:t}){return v.jsx(Zq,{children:BG.map(({value:r,label:i})=>v.jsx(Xq,{onClick:()=>e(r),$active:r===n,$focus:t,children:i},r))})}function zG({editor:n,controls:e,selectionTypes:t,inputSettings:r={},disabled:i}){const o=m.useMemo(()=>FG(e,t),[e,t]);return v.jsx(Wq,{children:o.map((s,a)=>v.jsx(Uq,{children:s.map((l,u)=>Array.isArray(l)?v.jsx(Q1,{editor:n,controls:l,inputSettings:r,testId:`${Ar.TEXT_EDITOR_CONTROL}:menu-${a}-${u}`,disabled:i},u):"MenuButton"in l?v.jsx(Q1,{editor:n,controls:l.controls,MenuButton:l.MenuButton,inputSettings:r,disabled:i},u):"Component"in l?m.createElement(l.Component,{...l,key:u,editor:n,inputSettings:r,"data-testid":`${Ar.TEXT_EDITOR_CONTROL}:${l.name}`,disabled:i}):v.jsx(QE,{onClick:c=>l.cmd({editor:n,inputSettings:r,event:c}),label:l.label,shortcut:l.shortcut,active:n.isActive(l.name),square:!0,"data-testid":`${Ar.TEXT_EDITOR_CONTROL}:${l.name}`,disabled:i,children:v.jsx(l.Icon,{})},l.name))},a))})}function fT({controls:n,...e}){return v.jsx(Hq,{children:v.jsx(Vq,{children:n.map((t,r)=>v.jsx(zG,{controls:t,...e},r))})})}function HG(){return v.jsx(Aq,{className:"tiptap-flex",contentEditable:!1,children:v.jsxs("div",{className:"tiptap-pill",draggable:!0,"data-drag-handle":"",children:[v.jsx(eT,{})," ","Script"]})})}function pT(n,e){const r=new DOMParser().parseFromString(n,"text/html");return kg(r.body,e),r.body.innerHTML}const mu=qn.create({name:"script",group:"block",content:"inline*",code:!0,draggable:!0,parseHTML(){return[{tag:"script",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:n}){return["span",$t({"data-type":this.name},this.options.HTMLAttributes,n),0]},addNodeView(){return Iq(HG,{className:"tiptap-block"})}});function VG(n){return n.includes(`<span data-type="${mu.name}">`)?pT(n,({elem:e})=>{if(!e||e.tagName.toLowerCase()!=="span"||e.getAttribute("data-type")!==mu.name)return;const t=e.outerHTML.replace(new RegExp(`^<span data-type="${mu.name}">`),"<script>").replace(/<\/span>$/,"<\/script>");e.outerHTML=t}):n}const WG=["embed","hr","img","input","link"];function hT(n){if(n.textContent.length)return!1;const e=Array.from(n.childNodes);if(!e.length)return!0;const t={content:0,totalElements:0,inlineElements:0,blockElements:0};for(const r of e){if(Du(r)){if(WG.includes(r.tagName.toLowerCase())){t.content++;continue}if(!hT(r))return!1;t.totalElements++,Pu(r)?t.blockElements++:t.inlineElements++}hk(r)&&t.content++}return t.content?!1:t.totalElements===t.inlineElements?!0:!(t.totalElements>1&&t.blockElements)}const UG=[{name:"offset",options:{offset:[0,5]}}];function qG({anchor:n,open:e,isBusy:t,...r}){return v.jsx(no,{anchorEl:n,open:e,modifiers:UG,children:v.jsx(jq,{onMouseEnter:()=>t.current=!0,onMouseDown:()=>t.current=!0,onMouseLeave:()=>t.current=!1,children:v.jsx(fT,{...r})})})}const GG=/^\s*>\s$/,KG=qn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[tl({find:GG,type:this.type})]}}),YG=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,JG=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,ZG=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,XG=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,QG=Wn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ms({find:YG,type:this.type}),ms({find:ZG,type:this.type})]},addPasteRules(){return[eo({find:JG,type:this.type}),eo({find:XG,type:this.type})]}}),fv=qn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",$t(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Xu=Wn.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:e})=>{const t=iv(n,this.type);return Object.entries(t).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),yw=/^\s*([-+*])\s$/,eK=qn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(fv.name,this.editor.getAttributes(Xu.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=tl({find:yw,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=tl({find:yw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Xu.name),editor:this.editor})),[n]}}),tK=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,nK=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,rK=Wn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ms({find:tK,type:this.type})]},addPasteRules(){return[eo({find:nK,type:this.type})]}}),iK=/^```([a-z]+)?[\s\n]$/,oK=/^~~~([a-z]+)?[\s\n]$/,sK=qn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(t)).map(s=>s.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",$t(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:o}=t;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:u})=>(u.setSelection(Xe.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[rm({find:iK,type:this.type,getAttributes:n=>({language:n[1]})}),rm({find:oK,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new mn({key:new Un("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!t||!o)return!1;const{tr:s,schema:a}=n.state,l=a.text(t.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(Ke.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),n.dispatch(s),!0}}})]}});function aK(n={}){return new mn({view(e){return new lK(e,n)}})}class lK{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=a?c.bottom:c.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!o){let s=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=pM(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const uK=On.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[aK(this.options)]}}),cK=qn.create({name:"doc",topNode:!0,content:"block+"}),dK=qn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",$t(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:o}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&s){const d=l.filter(f=>a.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),fK=qn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>rm({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Qu=200,tn=function(){};tn.prototype.append=function(e){return e.length?(e=tn.from(e),!this.length&&e||e.length<Qu&&this.leafAppend(e)||this.length<Qu&&e.leafPrepend(this)||this.appendInner(e)):this};tn.prototype.prepend=function(e){return e.length?tn.from(e).append(this):this};tn.prototype.appendInner=function(e){return new pK(this,e)};tn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?tn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};tn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};tn.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};tn.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},t,r),i};tn.from=function(e){return e instanceof tn?e:e&&e.length?new mT(e):tn.empty};var mT=function(n){function e(r){n.call(this),this.values=r}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Qu)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Qu)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(tn);tn.empty=new mT([]);var pK=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(tn);const hK=500;class hr{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,c.push(d);return}if(i){c.push(new Sr(d.map));let p=d.step.map(i.slice(o)),h;p&&s.maybeStep(p).doc&&(h=s.mapping.maps[s.mapping.maps.length-1],u.push(new Sr(h,void 0,void 0,u.length+c.length))),o--,h&&i.appendMap(h,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new hr(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,t,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new Sr(e.mapping.maps[c],d,t),p;(p=l&&l.merge(f))&&(f=p,c?o.pop():a=a.slice(0,a.length-1)),o.push(f),t&&(s++,t=void 0),i||(l=f)}let u=s-r.depth;return u>gK&&(a=mK(a,u),s-=u),new hr(a.append(o),s)}remapping(e,t){let r=new dM;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,t),r}addMaps(e){return this.eventCount==0?this:new hr(this.items.append(e.map(t=>new Sr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=t;this.items.forEach(f=>{let p=o.getMirror(--l);if(p==null)return;s=Math.min(s,p);let h=o.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),y=f.selection&&f.selection.map(o.slice(l+1,p));y&&a++,r.push(new Sr(h,g,y))}else r.push(new Sr(h))},i);let u=[];for(let f=t;f<s;f++)u.push(new Sr(o.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new hr(c,a);return d.emptyItemCount()>hK&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(t.slice(r)),u=l&&l.getMap();if(r--,u&&t.appendMap(u,r),l){let c=s.selection&&s.selection.map(t.slice(r));c&&o++;let d=new Sr(u.invert(),l,c),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new hr(tn.from(i.reverse()),o)}}hr.empty=new hr(tn.empty,0);function mK(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class Sr{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Sr(t.getMap().invert(),t,this.selection)}}}class si{constructor(e,t,r,i,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const gK=20;function vK(n,e,t,r){let i=t.getMeta(Gi),o;if(i)return i.historyState;t.getMeta(xK)&&(n=new si(n.done,n.undone,null,0,-1));let s=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(s&&s.getMeta(Gi))return s.getMeta(Gi).redo?new si(n.done.addTransform(t,void 0,r,gu(e)),n.undone,bw(t.mapping.maps),n.prevTime,n.prevComposition):new si(n.done,n.undone.addTransform(t,void 0,r,gu(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!s&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!yK(t,n.prevRanges)),u=s?Gp(n.prevRanges,t.mapping):bw(t.mapping.maps);return new si(n.done.addTransform(t,l?e.selection.getBookmark():void 0,r,gu(e)),hr.empty,u,t.time,a??n.prevComposition)}else return(o=t.getMeta("rebased"))?new si(n.done.rebased(t,o),n.undone.rebased(t,o),Gp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new si(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Gp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function yK(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function bw(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,o,s)=>e.push(o,s));return e}function Gp(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function bK(n,e,t){let r=gu(e),i=Gi.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new si(t?a:o.remaining,t?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(Gi,{redo:t,historyState:l})}let Kp=!1,xw=null;function gu(n){let e=n.plugins;if(xw!=e){Kp=!1,xw=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Kp=!0;break}}return Kp}const Gi=new Un("history"),xK=new Un("closeHistory");function wK(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new mn({key:Gi,state:{init(){return new si(hr.empty,hr.empty,null,0,-1)},apply(e,t,r){return vK(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?vT:r=="historyRedo"?yT:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function gT(n,e){return(t,r)=>{let i=Gi.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let o=bK(i,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const vT=gT(!1,!0),yT=gT(!0,!0),CK=On.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>vT(n,e),redo:()=>({state:n,dispatch:e})=>yT(n,e)}},addProseMirrorPlugins(){return[wK(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Ñ":()=>this.editor.commands.undo(),"Shift-Mod-Ñ":()=>this.editor.commands.redo()}}}),SK=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,kK=qn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",$t(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[sq({find:SK,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),MK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,EK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,TK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,LK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,AK=Wn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ms({find:MK,type:this.type}),ms({find:TK,type:this.type})]},addPasteRules(){return[eo({find:EK,type:this.type}),eo({find:LK,type:this.type})]}}),OK="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mÃ¶gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",RK="ÎµÎ»1Ï…2Ð±Ð³1ÐµÐ»3Ð´ÐµÑ‚Ð¸4ÐµÑŽ2ÐºÐ°Ñ‚Ð¾Ð»Ð¸Ðº6Ð¾Ð¼3Ð¼ÐºÐ´2Ð¾Ð½1ÑÐºÐ²Ð°6Ð¾Ð½Ð»Ð°Ð¹Ð½5Ñ€Ð³3Ñ€ÑƒÑ2Ñ„2ÑÐ°Ð¹Ñ‚3Ñ€Ð±3ÑƒÐºÑ€3Ò›Ð°Ð·3Õ°Õ¡Õµ3×™×©×¨××œ5×§×•×3Ø§Ø¨ÙˆØ¸Ø¨ÙŠ5Ø±Ø§Ù…ÙƒÙˆ5Ù„Ø§Ø±Ø¯Ù†4Ø¨Ø­Ø±ÙŠÙ†5Ø¬Ø²Ø§Ø¦Ø±5Ø³Ø¹ÙˆØ¯ÙŠØ©6Ø¹Ù„ÙŠØ§Ù†5Ù…ØºØ±Ø¨5Ù…Ø§Ø±Ø§Øª5ÛŒØ±Ø§Ù†5Ø¨Ø§Ø±Øª2Ø²Ø§Ø±4ÙŠØªÙƒ3Ú¾Ø§Ø±Øª5ØªÙˆÙ†Ø³4Ø³ÙˆØ¯Ø§Ù†3Ø±ÙŠØ©5Ø´Ø¨ÙƒØ©4Ø¹Ø±Ø§Ù‚2Ø¨2Ù…Ø§Ù†4ÙÙ„Ø³Ø·ÙŠÙ†6Ù‚Ø·Ø±3ÙƒØ§Ø«ÙˆÙ„ÙŠÙƒ6ÙˆÙ…3Ù…ØµØ±2Ù„ÙŠØ³ÙŠØ§5ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§7Ù‚Ø¹4Ù‡Ù…Ø±Ø§Ù‡5Ù¾Ø§Ú©Ø³ØªØ§Ù†7Ú€Ø§Ø±Øª4à¤•à¥‰à¤®3à¤¨à¥‡à¤Ÿ3à¤­à¤¾à¤°à¤¤0à¤®à¥3à¥‹à¤¤5à¤¸à¤‚à¤—à¤ à¤¨5à¦¬à¦¾à¦‚à¦²à¦¾5à¦­à¦¾à¦°à¦¤2à§°à¦¤4à¨­à¨¾à¨°à¨¤4àª­àª¾àª°àª¤4à¬­à¬¾à¬°à¬¤4à®‡à®¨à¯à®¤à®¿à®¯à®¾6à®²à®™à¯à®•à¯ˆ6à®šà®¿à®™à¯à®•à®ªà¯à®ªà¯‚à®°à¯11à°­à°¾à°°à°¤à±5à²­à²¾à²°à²¤4à´­à´¾à´°à´¤à´‚5à¶½à¶‚à¶šà·4à¸„à¸­à¸¡3à¹„à¸—à¸¢3àº¥àº²àº§3áƒ’áƒ”2ã¿ã‚“ãª3ã‚¢ãƒžã‚¾ãƒ³4ã‚¯ãƒ©ã‚¦ãƒ‰4ã‚°ãƒ¼ã‚°ãƒ«4ã‚³ãƒ 2ã‚¹ãƒˆã‚¢3ã‚»ãƒ¼ãƒ«3ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³6ãƒã‚¤ãƒ³ãƒˆ4ä¸–ç•Œ2ä¸­ä¿¡1å›½1åœ‹1æ–‡ç½‘3äºšé©¬é€Š3ä¼ä¸š2ä½›å±±2ä¿¡æ¯2å¥åº·2å…«å¦2å…¬å¸1ç›Š2å°æ¹¾1ç£2å•†åŸŽ1åº—1æ ‡2å˜‰é‡Œ0å¤§é…’åº—5åœ¨çº¿2å¤§æ‹¿2å¤©ä¸»æ•™3å¨±ä¹2å®¶é›»2å¹¿ä¸œ2å¾®åš2æ…ˆå–„2æˆ‘çˆ±ä½ 3æ‰‹æœº2æ‹›è˜2æ”¿åŠ¡1åºœ2æ–°åŠ å¡2é—»2æ—¶å°š2æ›¸ç±2æœºæž„2æ·¡é©¬é”¡3æ¸¸æˆ2æ¾³é–€2ç‚¹çœ‹2ç§»åŠ¨2ç»„ç»‡æœºæž„4ç½‘å€1åº—1ç«™1ç»œ2è”é€š2è°·æ­Œ2è´­ç‰©2é€šè²©2é›†å›¢2é›»è¨Šç›ˆç§‘4é£žåˆ©æµ¦3é£Ÿå“2é¤åŽ…2é¦™æ ¼é‡Œæ‹‰3æ¸¯2ë‹·ë„·1ì»´2ì‚¼ì„±2í•œêµ­2",gs=(n,e)=>{for(const t in e)n[t]=e[t];return n},sm="numeric",am="ascii",lm="alpha",vu="asciinumeric",Jl="alphanumeric",um="domain",bT="emoji",PK="scheme",DK="slashscheme",ww="whitespace";function IK(n,e){return n in e||(e[n]=[]),e[n]}function zi(n,e,t){e[sm]&&(e[vu]=!0,e[Jl]=!0),e[am]&&(e[vu]=!0,e[lm]=!0),e[vu]&&(e[Jl]=!0),e[lm]&&(e[Jl]=!0),e[Jl]&&(e[um]=!0),e[bT]&&(e[um]=!0);for(const r in e){const i=IK(r,t);i.indexOf(n)<0&&i.push(n)}}function NK(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Ln(n){n===void 0&&(n=null),this.j={},this.jr=[],this.jd=null,this.t=n}Ln.groups={};Ln.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(n))return o}return e.jd},has(n,e){return e===void 0&&(e=!1),e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||Ln.groups;let i;return e&&e.j?i=e:(i=new Ln(e),t&&r&&zi(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const o=n.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(n[s]);return i.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||Ln.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const o=e;let s,a=i.go(n);if(a?(s=new Ln,gs(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Ln,o){if(r)if(s.t&&typeof s.t=="string"){const l=gs(NK(s.t,r),t);zi(o,l,r)}else t&&zi(o,t,r);s.t=o}return i.j[n]=s,s}};const qe=(n,e,t,r,i)=>n.ta(e,t,r,i),er=(n,e,t,r,i)=>n.tr(e,t,r,i),Cw=(n,e,t,r,i)=>n.ts(e,t,r,i),Se=(n,e,t,r,i)=>n.tt(e,t,r,i),Br="WORD",cm="UWORD",nl="LOCALHOST",dm="TLD",fm="UTLD",yu="SCHEME",Yo="SLASH_SCHEME",pv="NUM",xT="WS",hv="NL",Ba="OPENBRACE",ja="CLOSEBRACE",ec="OPENBRACKET",tc="CLOSEBRACKET",nc="OPENPAREN",rc="CLOSEPAREN",ic="OPENANGLEBRACKET",oc="CLOSEANGLEBRACKET",sc="FULLWIDTHLEFTPAREN",ac="FULLWIDTHRIGHTPAREN",lc="LEFTCORNERBRACKET",uc="RIGHTCORNERBRACKET",cc="LEFTWHITECORNERBRACKET",dc="RIGHTWHITECORNERBRACKET",fc="FULLWIDTHLESSTHAN",pc="FULLWIDTHGREATERTHAN",hc="AMPERSAND",mc="APOSTROPHE",gc="ASTERISK",ai="AT",vc="BACKSLASH",yc="BACKTICK",bc="CARET",ui="COLON",mv="COMMA",xc="DOLLAR",kr="DOT",wc="EQUALS",gv="EXCLAMATION",Mr="HYPHEN",Cc="PERCENT",Sc="PIPE",kc="PLUS",Mc="POUND",Ec="QUERY",vv="QUOTE",yv="SEMI",Er="SLASH",za="TILDE",Tc="UNDERSCORE",wT="EMOJI",Lc="SYM";var CT=Object.freeze({__proto__:null,WORD:Br,UWORD:cm,LOCALHOST:nl,TLD:dm,UTLD:fm,SCHEME:yu,SLASH_SCHEME:Yo,NUM:pv,WS:xT,NL:hv,OPENBRACE:Ba,CLOSEBRACE:ja,OPENBRACKET:ec,CLOSEBRACKET:tc,OPENPAREN:nc,CLOSEPAREN:rc,OPENANGLEBRACKET:ic,CLOSEANGLEBRACKET:oc,FULLWIDTHLEFTPAREN:sc,FULLWIDTHRIGHTPAREN:ac,LEFTCORNERBRACKET:lc,RIGHTCORNERBRACKET:uc,LEFTWHITECORNERBRACKET:cc,RIGHTWHITECORNERBRACKET:dc,FULLWIDTHLESSTHAN:fc,FULLWIDTHGREATERTHAN:pc,AMPERSAND:hc,APOSTROPHE:mc,ASTERISK:gc,AT:ai,BACKSLASH:vc,BACKTICK:yc,CARET:bc,COLON:ui,COMMA:mv,DOLLAR:xc,DOT:kr,EQUALS:wc,EXCLAMATION:gv,HYPHEN:Mr,PERCENT:Cc,PIPE:Sc,PLUS:kc,POUND:Mc,QUERY:Ec,QUOTE:vv,SEMI:yv,SLASH:Er,TILDE:za,UNDERSCORE:Tc,EMOJI:wT,SYM:Lc});const Eo=/[a-z]/,Yp=new RegExp("\\p{L}","u"),Jp=new RegExp("\\p{Emoji}","u"),Zp=/\d/,Sw=/\s/,kw=`
`,_K="ï¸",$K="â€";let Zl=null,Xl=null;function FK(n){n===void 0&&(n=[]);const e={};Ln.groups=e;const t=new Ln;Zl==null&&(Zl=Mw(OK)),Xl==null&&(Xl=Mw(RK)),Se(t,"'",mc),Se(t,"{",Ba),Se(t,"}",ja),Se(t,"[",ec),Se(t,"]",tc),Se(t,"(",nc),Se(t,")",rc),Se(t,"<",ic),Se(t,">",oc),Se(t,"ï¼ˆ",sc),Se(t,"ï¼‰",ac),Se(t,"ã€Œ",lc),Se(t,"ã€",uc),Se(t,"ã€Ž",cc),Se(t,"ã€",dc),Se(t,"ï¼œ",fc),Se(t,"ï¼ž",pc),Se(t,"&",hc),Se(t,"*",gc),Se(t,"@",ai),Se(t,"`",yc),Se(t,"^",bc),Se(t,":",ui),Se(t,",",mv),Se(t,"$",xc),Se(t,".",kr),Se(t,"=",wc),Se(t,"!",gv),Se(t,"-",Mr),Se(t,"%",Cc),Se(t,"|",Sc),Se(t,"+",kc),Se(t,"#",Mc),Se(t,"?",Ec),Se(t,'"',vv),Se(t,"/",Er),Se(t,";",yv),Se(t,"~",za),Se(t,"_",Tc),Se(t,"\\",vc);const r=er(t,Zp,pv,{[sm]:!0});er(r,Zp,r);const i=er(t,Eo,Br,{[am]:!0});er(i,Eo,i);const o=er(t,Yp,cm,{[lm]:!0});er(o,Eo),er(o,Yp,o);const s=er(t,Sw,xT,{[ww]:!0});Se(t,kw,hv,{[ww]:!0}),Se(s,kw),er(s,Sw,s);const a=er(t,Jp,wT,{[bT]:!0});er(a,Jp,a),Se(a,_K,a);const l=Se(a,$K);er(l,Jp,a);const u=[[Eo,i]],c=[[Eo,null],[Yp,o]];for(let d=0;d<Zl.length;d++)ei(t,Zl[d],dm,Br,u);for(let d=0;d<Xl.length;d++)ei(t,Xl[d],fm,cm,c);zi(dm,{tld:!0,ascii:!0},e),zi(fm,{utld:!0,alpha:!0},e),ei(t,"file",yu,Br,u),ei(t,"mailto",yu,Br,u),ei(t,"http",Yo,Br,u),ei(t,"https",Yo,Br,u),ei(t,"ftp",Yo,Br,u),ei(t,"ftps",Yo,Br,u),zi(yu,{scheme:!0,ascii:!0},e),zi(Yo,{slashscheme:!0,ascii:!0},e),n=n.sort((d,f)=>d[0]>f[0]?1:-1);for(let d=0;d<n.length;d++){const f=n[d][0],h=n[d][1]?{[PK]:!0}:{[DK]:!0};f.indexOf("-")>=0?h[um]=!0:Eo.test(f)?Zp.test(f)?h[vu]=!0:h[am]=!0:h[sm]=!0,Cw(t,f,f,h)}return Cw(t,"localhost",nl,{ascii:!0}),t.jd=new Ln(Lc),{start:t,tokens:gs({groups:e},CT)}}function BK(n,e){const t=jK(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=t.length,i=[];let o=0,s=0;for(;s<r;){let a=n,l=null,u=0,c=null,d=-1,f=-1;for(;s<r&&(l=a.go(t[s]));)a=l,a.accepts()?(d=0,f=0,c=a):d>=0&&(d+=t[s].length,f++),u+=t[s].length,o+=t[s].length,s++;o-=d,s-=f,u-=d,i.push({t:c.t,v:e.slice(o-u,o),s:o-u,e:o})}return i}function jK(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),o,s=i<55296||i>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(s),r+=s.length}return e}function ei(n,e,t,r,i){let o;const s=e.length;for(let a=0;a<s-1;a++){const l=e[a];n.j[l]?o=n.j[l]:(o=new Ln(r),o.jr=i.slice(),n.j[l]=o),n=o}return o=new Ln(t),o.jr=i.slice(),n.j[e[s-1]]=o,o}function Mw(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let o=0;for(;i.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let s=parseInt(n.substring(r,r+o),10);s>0;s--)t.pop();r+=o}else t.push(n[r]),r++}return e}const rl={defaultProtocol:"http",events:null,format:Ew,formatHref:Ew,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function bv(n,e){e===void 0&&(e=null);let t=gs({},rl);n&&(t=gs(t,n instanceof bv?n.o:n));const r=t.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}bv.prototype={o:rl,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:rl[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function Ew(n){return n}function ST(n,e){this.t="token",this.v=n,this.tk=e}ST.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"â€¦":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n){return n===void 0&&(n=rl.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),o=this.toFormattedString(n),s={},a=n.get("className",t,e),l=n.get("target",t,e),u=n.get("rel",t,e),c=n.getObj("attributes",t,e),d=n.getObj("events",t,e);return s.href=r,a&&(s.class=a),l&&(s.target=l),u&&(s.rel=u),c&&gs(s,c),{tagName:i,attributes:s,content:o,eventListeners:d}}};function fd(n,e){class t extends ST{constructor(i,o){super(i,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const Tw=fd("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Lw=fd("text"),zK=fd("nl"),Ql=fd("url",{isLink:!0,toHref(n){return n===void 0&&(n=rl.defaultProtocol),this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==nl&&n[1].t===ui}}),tr=n=>new Ln(n);function HK(n){let{groups:e}=n;const t=e.domain.concat([hc,gc,ai,vc,yc,bc,xc,wc,Mr,pv,Cc,Sc,kc,Mc,Er,Lc,za,Tc]),r=[mc,ui,mv,kr,gv,Ec,vv,yv,ic,oc,Ba,ja,tc,ec,nc,rc,sc,ac,lc,uc,cc,dc,fc,pc],i=[hc,mc,gc,vc,yc,bc,xc,wc,Mr,Ba,ja,Cc,Sc,kc,Mc,Ec,Er,Lc,za,Tc],o=tr(),s=Se(o,za);qe(s,i,s),qe(s,e.domain,s);const a=tr(),l=tr(),u=tr();qe(o,e.domain,a),qe(o,e.scheme,l),qe(o,e.slashscheme,u),qe(a,i,s),qe(a,e.domain,a);const c=Se(a,ai);Se(s,ai,c),Se(l,ai,c),Se(u,ai,c);const d=Se(s,kr);qe(d,i,s),qe(d,e.domain,s);const f=tr();qe(c,e.domain,f),qe(f,e.domain,f);const p=Se(f,kr);qe(p,e.domain,f);const h=tr(Tw);qe(p,e.tld,h),qe(p,e.utld,h),Se(c,nl,h);const g=Se(f,Mr);qe(g,e.domain,f),qe(h,e.domain,f),Se(h,kr,p),Se(h,Mr,g);const y=Se(h,ui);qe(y,e.numeric,Tw);const x=Se(a,Mr),b=Se(a,kr);qe(x,e.domain,a),qe(b,i,s),qe(b,e.domain,a);const w=tr(Ql);qe(b,e.tld,w),qe(b,e.utld,w),qe(w,e.domain,a),qe(w,i,s),Se(w,kr,b),Se(w,Mr,x),Se(w,ai,c);const k=Se(w,ui),S=tr(Ql);qe(k,e.numeric,S);const C=tr(Ql),M=tr();qe(C,t,C),qe(C,r,M),qe(M,t,C),qe(M,r,M),Se(w,Er,C),Se(S,Er,C);const T=Se(l,ui),I=Se(u,ui),R=Se(I,Er),z=Se(R,Er);qe(l,e.domain,a),Se(l,kr,b),Se(l,Mr,x),qe(u,e.domain,a),Se(u,kr,b),Se(u,Mr,x),qe(T,e.domain,C),Se(T,Er,C),qe(z,e.domain,C),qe(z,t,C),Se(z,Er,C);const _=[[Ba,ja],[ec,tc],[nc,rc],[ic,oc],[sc,ac],[lc,uc],[cc,dc],[fc,pc]];for(let W=0;W<_.length;W++){const[D,B]=_[W],F=Se(C,D);Se(M,D,F),Se(F,B,C);const N=tr(Ql);qe(F,t,N);const Z=tr();qe(F,r),qe(N,t,N),qe(N,r,Z),qe(Z,t,N),qe(Z,r,Z),Se(N,B,C),Se(Z,B,C)}return Se(o,nl,w),Se(o,hv,zK),{start:o,tokens:CT}}function VK(n,e,t){let r=t.length,i=0,o=[],s=[];for(;i<r;){let a=n,l=null,u=null,c=0,d=null,f=-1;for(;i<r&&!(l=a.go(t[i].t));)s.push(t[i++]);for(;i<r&&(u=l||a.go(t[i].t));)l=null,a=u,a.accepts()?(f=0,d=a):f>=0&&f++,i++,c++;if(f<0)i-=c,i<r&&(s.push(t[i]),i++);else{s.length>0&&(o.push(Xp(Lw,e,s)),s=[]),i-=f,c-=f;const p=d.t,h=t.slice(i-c,i);o.push(Xp(p,e,h))}}return s.length>0&&o.push(Xp(Lw,e,s)),o}function Xp(n,e,t){const r=t[0].s,i=t[t.length-1].e,o=e.slice(r,i);return new n(o,t)}const WK=typeof console<"u"&&console&&console.warn||(()=>{}),UK="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ot={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function qK(){Ln.groups={},Ot.scanner=null,Ot.parser=null,Ot.tokenQueue=[],Ot.pluginQueue=[],Ot.customSchemes=[],Ot.initialized=!1}function Aw(n,e){if(e===void 0&&(e=!1),Ot.initialized&&WK(`linkifyjs: already initialized - will not register custom scheme "${n}" ${UK}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ot.customSchemes.push([n,e])}function GK(){Ot.scanner=FK(Ot.customSchemes);for(let n=0;n<Ot.tokenQueue.length;n++)Ot.tokenQueue[n][1]({scanner:Ot.scanner});Ot.parser=HK(Ot.scanner.tokens);for(let n=0;n<Ot.pluginQueue.length;n++)Ot.pluginQueue[n][1]({scanner:Ot.scanner,parser:Ot.parser});Ot.initialized=!0}function kT(n){return Ot.initialized||GK(),VK(Ot.parser.start,n,BK(Ot.scanner.start,n))}function MT(n,e,t){if(e===void 0&&(e=null),t===void 0&&(t=null),e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new bv(t),i=kT(n),o=[];for(let s=0;s<i.length;s++){const a=i[s];a.isLink&&(!e||a.t===e)&&r.check(a)&&o.push(a.toFormattedObject(r))}return o}function KK(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function YK(n){return new mn({key:new Un("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(u=>u.docChanged)&&!t.doc.eq(r.doc),o=e.some(u=>u.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,a=yU(t.doc,[...e]);if(TU(a).forEach(({newRange:u})=>{const c=xU(r.doc,u,p=>p.isTextblock);let d,f;if(c.length>1?(d=c[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):c.length&&r.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(d=c[0],f=r.doc.textBetween(d.pos,u.to,void 0," ")),d&&f){const p=f.split(" ").filter(x=>x!=="");if(p.length<=0)return!1;const h=p[p.length-1],g=d.pos+f.lastIndexOf(h);if(!h)return!1;const y=kT(h).map(x=>x.toObject(n.defaultProtocol));if(!KK(y))return!1;y.filter(x=>x.isLink).map(x=>({...x,from:g+x.start+1,to:g+x.end+1})).filter(x=>r.schema.marks.code?!r.doc.rangeHasMark(x.from,x.to,r.schema.marks.code):!0).filter(x=>n.validate(x.value)).forEach(x=>{sv(x.from,x.to,r.doc).some(b=>b.mark.type===n.type)||s.addMark(x.from,x.to,n.type.create({href:x.href}))})}}),!!s.steps.length)return s}})}function JK(n){return new mn({key:new Un("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let s=r.target;const a=[];for(;s.nodeName!=="DIV";)a.push(s),s=s.parentNode;if(!a.find(f=>f.nodeName==="A"))return!1;const l=BE(e.state,n.type.name),u=r.target,c=(i=u==null?void 0:u.href)!==null&&i!==void 0?i:l.href,d=(o=u==null?void 0:u.target)!==null&&o!==void 0?o:l.target;return u&&c?(window.open(c,d),!0):!1}}})}function ZK(n){return new mn({key:new Un("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:o}=i,{empty:s}=o;if(s)return!1;let a="";r.content.forEach(u=>{a+=u.textContent});const l=MT(a,{defaultProtocol:n.defaultProtocol}).find(u=>u.isLink&&u.value===a);return!a||!l?!1:(n.editor.commands.setMark(n.type,{href:l.href}),!0)}}})}const XK=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Ow(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(XK,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const QK=Wn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(n=>{if(typeof n=="string"){Aw(n);return}Aw(n.scheme,n.optionalSlashes)})},onDestroy(){qK()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!Ow(e,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:n}){return Ow(n.href,this.options.protocols)?["a",$t(this.options.HTMLAttributes,n),0]:["a",$t(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>e().setMark(this.name,n).setMeta("preventAutolink",!0).run(),toggleLink:n=>({chain:e})=>e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[eo({find:n=>{const e=[];if(n){const{validate:t}=this.options,r=MT(n).filter(i=>i.isLink&&t(i.value));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[];return this.options.autolink&&n.push(YK({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&n.push(JK({type:this.type})),this.options.linkOnPaste&&n.push(ZK({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),Rw=/^(\d+)\.\s$/,eY=qn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",$t(this.options.HTMLAttributes,t),0]:["ol",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(fv.name,this.editor.getAttributes(Xu.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=tl({find:Rw,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=tl({find:Rw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Xu.name)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),tY=qn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),nY=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,rY=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,iY=Wn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ms({find:nY,type:this.type})]},addPasteRules(){return[eo({find:rY,type:this.type})]}}),oY=Wn.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(n){return n!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sub",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{setSubscript:()=>({commands:n})=>n.setMark(this.name),toggleSubscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSubscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),sY=Wn.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(n){return n!=="super"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sup",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{setSuperscript:()=>({commands:n})=>n.setMark(this.name),toggleSuperscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSuperscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),aY=qn.create({name:"text",group:"inline"}),lY=On.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${n.textAlign}`}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),uY=Wn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",$t(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),cY=["abbr","accept","accept-charset","accesskey","align","alink","allow","allowfullscreen","allowpaymentrequest","alt","anchor","archive","as","async","attributionsrc","autocapitalize","autocomplete","autocorrect","autofocus","autoplay","axis","background","behavior","bgcolor","blocking","border","bottommargin","browsingtopics","capture","cellpadding","cellspacing","char","charoff","charset","checked","cite","class","classid","clear","codebase","codetype","color","cols","colspan","compact","content","contenteditable","controls","controlslist","coords","credentialless","crossorigin","csp","data","data-*","datetime","declare","decoding","default","defer","dir","direction","dirname","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","elementtiming","enterkeyhint","exportparts","face","fetchpriority","for","form","formaction","formenctype","formmethod","formnovalidate","formtarget","frame","frameborder","headers","height","hidden","high","href","hreflang","hspace","http-equiv","id","imagesizes","imagesrcset","inert","inputmode","integrity","is","ismap","itemid","itemprop","itemref","itemscope","itemtype","kind","label","lang","language","leftmargin","link","list","loading","longdesc","loop","low","marginheight","marginwidth","max","maxlength","media","min","minlength","moz-opaque","multiple","muted","name","nomodule","nonce","noresize","noshade","onafterprint","onbeforeprint","onbeforeunload","onblur","onerror","onfocus","onhashchange","onlanguagechange","onload","onmessage","onoffline","ononline","onpopstate","onresize","onstorage","onunload","open","optimum","part","pattern","ping","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","profile","readonly","referrerpolicy","rel","required","rev","reversed","rightmargin","rows","rowspan","rules","sandbox","scope","scrollamount","scrolldelay","scrolling","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootmode","shadowrootserializable","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","standby","start","step","style","summary","tabindex","target","text","title","topmargin","translate","truespeed","type","usemap","valign","value","valuetype","version","virtualkeyboardpolicy","vlink","vspace","width","wrap","writingsuggestions","xmlns"],ET={};for(const n of cY)ET[n]={default:void 0};const dY=qn.create({name:"wildCardContent",group:"block",content:"block*",inline:!1,atom:!1,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"*",getAttrs:n=>{const e={};for(const t of Array.from(n.attributes))e[t.name]=t.value;return{tagName:n.tagName.toLowerCase(),...e}}}]},renderHTML({node:n}){const{tagName:e,...t}=n.attrs;return[e,t,0]},addAttributes(){return{tagName:{default:"div"},...ET,...this.options.HTMLAttributes}}}),fY=({autolink:n}={})=>[uK,cK,tY,aY,QG,KG,rK,sK,kK.configure({inline:!0}),AK,uY,iY,sY,oY,QK.configure({openOnClick:!1,autolink:n}),fK.configure({levels:[1,2,3,4,5,6]}),eY,eK,fv,dK,CK,mu,lY.configure({types:["heading","paragraph"]}),dY];function pY(n,{space:e="&nbsp;",lt:t="&lt;",gt:r="&gt;"}={}){return pT(n,({index:i,parent:o,siblings:s,text:a})=>{const l=o.tagName.toLowerCase();if(!(l==="script"||l==="style")&&a&&mk(a,s[i-1],s[i+1])){const u=a.textContent.replace(/\s(?:\s+)/g,d=>` ${e.repeat(d.length-1)}`).replace(/</g,t).replace(/>/g,r),c=document.createRange().createContextualFragment(u);a.replaceWith(c)}})}const hY=[[["headings"],["bold","italic",["underline","strike","superscript","subscript","clear"]],["bulletList","orderedList"],["alignLeft","alignCenter",["alignRight","alignJustify"]],["link",["image","codeBlock","blockquote"]],["undo","redo"]]],Ai=({selectionTypes:n=[]})=>n.includes("formatting"),mY=[[[{...tT,show:Ai},{...nT,show:Ai},[{...rT,show:Ai},{...iT,show:Ai},{...oT,show:Ai},{...sT,show:Ai},{...aT,show:Ai}]],[{...lT},{...uT,show:({selectionTypes:n=[]})=>n.includes("link")}],[{...cT,show:({selectionTypes:n=[]})=>n.includes("image")}]]];function Qp({view:n,state:{selection:{from:e,to:t}}}){return{getBoundingClientRect:()=>AU(n,e,t)}}function gY({children:n,focus:e}){return v.jsx(zq,{$focus:e,"data-testid":Ar.TEXT_EDITOR_PRIMARY_TOOLBAR,children:n})}function vY({value:n="",onChange:e,onBlur:t,fieldDef:{inputSettings:r={}},disabled:i,skeleton:o}){const{extensions:s,controls:a=hY,autolink:l=!0,minHeight:u,maxHeight:c}=r,[d,f]=m.useState("visual"),[p,h]=m.useState(!1),g=m.useRef(!1),[y,x]=m.useState({open:!1,selectionTypes:[]}),[b,w]=m.useState(null),k=D=>{g.current=!1,w(D)},S=m.useMemo(()=>s||fY({autolink:l}),[l,s]),C=m.useRef(!1),M=m.useRef(n),T=m.useCallback(({editor:D})=>{x(B=>{const{view:F}=D,{state:{selection:{from:N,to:Z}}}=F,me=[],re=D.isActive("link"),U=D.isActive("image");return re&&me.push("link"),U?me.push("image"):N!==Z&&me.push("formatting"),me.length>0?{open:!0,anchor:Qp(D),selectionTypes:Ck(B.selectionTypes,me).length?me:B.selectionTypes}:B.open?{open:!1,selectionTypes:[]}:B})},[]),I=()=>h(!0),R=()=>{t&&t(),h(!1)},z=Eq({content:String(n),extensions:S,onUpdate:({editor:D})=>{C.current=!0;const B=hT(D.view.dom)?"":pY(VG(D.getHTML()));M.current=B,e(B)},onSelectionUpdate:T,editorProps:{attributes:{"data-testid":Ar.TEXT_EDITOR_CANVAS}},editable:!i},[i,S]),_=m.useMemo(()=>({...r,onLink:r.onLink||(({updateLink:D,isTextBased:B,...F})=>k({open:!0,type:"link",values:F,anchorEl:Qp(z),isTextBased:B,update:(...N)=>{k(null),D(...N)}})),onImage:r.onImage||(({updateImage:D,...B})=>k({open:!0,type:"image",values:B,anchorEl:Qp(z),update:(...F)=>{k(null),D(...F)}}))}),[z,r]);m.useEffect(()=>{if(C.current){C.current=!1;return}if(!(!z||C.current))try{const D=String(n);z.commands.setContent(D,!1),M.current=D}catch(D){z.commands.setContent(M.current,!1),console.warn("Could not set rich text content for given value",{error:D,value:n})}},[z,n]);const W=()=>{k(D=>({...D,open:!1})),z.chain().focus()};return o?v.jsx(Qe,{variant:"rectangular",width:"100%",height:130}):v.jsxs(Fq,{$disabled:i,children:[v.jsx(jG,{mode:d,onChange:f,focus:p}),d==="visual"&&v.jsx(gY,{focus:p,children:v.jsx(fT,{editor:z,controls:a,inputSettings:_,disabled:i})}),d==="code"?v.jsx(Yq,{value:n,onChange:({target:{value:D}})=>e(D),onFocus:I,onBlur:R,disabled:i}):v.jsx(Bq,{editor:z,onFocus:I,onBlur:R,disabled:i,$minHeight:u,$maxHeight:c}),b&&v.jsx(u7,{...b,editor:z,onClose:W}),(p||g.current)&&(!b||!b.open)&&v.jsx(qG,{...y,editor:z,controls:mY,inputSettings:_,isBusy:g})]})}const yY=m.memo(vY),TT=/[\\^$.*+?()[\]{}|]/g,bY=RegExp(TT.source);function xY(n){return!n||!bY.test(n)?n:n.replace(TT,"\\$&")}const wY=n=>{var p,h,g;const{value:e,fieldDef:t,onChange:r,handleClose:i}=n;let o,s;t.inputSettings&&"getOptions"in t.inputSettings&&(o=t.inputSettings),t.inputSettings&&"options"in t.inputSettings&&(s=t.inputSettings);const[a,l]=m.useState((e==null?void 0:e.length)>0?e:[]),u=m.useCallback(async()=>{await r(a),i(!0)},[a]),c=[{label:"Cancel",onClick:()=>i(),color:"gray",variant:"outlined"},{label:"Save",onClick:u,color:"yellow",variant:"contained"}],d=({keyword:y})=>{let x=(s==null?void 0:s.options)||[];const b=new RegExp(xY(y),"i");return y!==void 0&&s.options!==void 0&&(x=s==null?void 0:s.options.filter(w=>b.exec(w.label))),{docs:x,hasMore:!1}},f=(((p=t==null?void 0:t.inputSettings)==null?void 0:p.selectLimit)||0)>0?(h=t==null?void 0:t.inputSettings)==null?void 0:h.selectLimit:-1;return v.jsxs(Lm,{className:"advancedSelection",children:[v.jsx(RA,{title:t==null?void 0:t.label,buttons:c,onBack:i,backLabel:"Cancel advanced selection"}),v.jsx(uA,{comparison:"",selected:e,getOptions:(o==null?void 0:o.getOptions)!==void 0?o.getOptions:d,isOpen:!0,onApply:u,placeholder:"Search...",limit:o==null?void 0:o.getOptionsLimit,selectLimit:f,onChange:y=>l(y),hideButtons:!0,createNewOption:(g=t.inputSettings)==null?void 0:g.createNewOption})]})},CY=m.memo(wY);var ia={},Pw;function SY(){if(Pw)return ia;Pw=1;var n=Ct();Object.defineProperty(ia,"__esModule",{value:!0}),ia.default=void 0;var e=n(St()),t=wt();return ia.default=(0,e.default)((0,t.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),ia}var kY=SY();const MY=it(kY),EY=ee.div`
  display: flex;
  flex-wrap: wrap;
  row-gap: 12px;

  & > :not(:last-child) {
    margin-right: 12px;
  }

  & > * {
    margin-top: 8px;
  }
`,Dw=ee.span`
  color: ${V.newColors.grey3[100]};
  cursor: pointer;
  display: flex;
  font-family: ${V.fontFamily};
  width: fit-content;
  font-weight: ${V.fontWeight.bold};
  font-size: 16px;
  margin-top: 16px;
`,TY=ee(xm)`
  color: ${V.newColors.grey3[100]};
  margin-left: 14px;
`,LY=ee(MY)`
  color: ${V.newColors.grey3[100]};
  margin-left: 14px;
`,AY=ee.div`
  display: flex;
  gap: 16px;

  & .MuiSkeleton-root {
    border-radius: 99999em;
  }
`,eh=8,LT=m.forwardRef((n,e)=>{const{fieldDef:t,value:r}=n,[i,o]=m.useState(!1),s=l=>{var c;const u=r.filter(d=>d.value!==l);(c=t==null?void 0:t.inputSettings)==null||c.deleteSelectedOption(u)},a=()=>{o(!i)};return(r==null?void 0:r.length)>0&&v.jsxs("div",{ref:e,children:[v.jsx(EY,{"data-testid":"as-chiplist",children:i?r==null?void 0:r.map((l,u)=>v.jsx(sh,{disabled:t==null?void 0:t.disabled,label:l==null?void 0:l.label,onDelete:()=>s(l==null?void 0:l.value)},`${l==null?void 0:l.label}-${u}`)):r==null?void 0:r.slice(0,eh).map((l,u)=>v.jsx(sh,{disabled:t==null?void 0:t.disabled,label:l==null?void 0:l.label,onDelete:()=>s(l==null?void 0:l.value)},`${l==null?void 0:l.label}-${u}`))}),r.length>eh&&v.jsx("div",{onClick:a,children:i?v.jsxs(Dw,{children:["Hide"," ",v.jsx(LY,{})]}):v.jsxs(Dw,{children:[`${r.length-eh} more`,v.jsx(TY,{})]})})]})});LT.displayName="ChipList";const OY=m.memo(LT);function RY(){return v.jsxs("div",{children:[v.jsx(Qe,{variant:"rectangular",width:143,height:36,sx:{marginBottom:2}}),v.jsxs(AY,{children:[v.jsx(Qe,{variant:"rounded",width:186,height:32}),v.jsx(Qe,{variant:"rounded",width:78,height:32})]})]})}const PY=n=>{var p,h;const{value:e,onBlur:t,onChange:r,disabled:i,fieldDef:o,skeleton:s}=n,[a,l]=m.useState(!1),u=(((p=o==null?void 0:o.inputSettings)==null?void 0:p.selectLimit)||0)>0?(h=o==null?void 0:o.inputSettings)==null?void 0:h.selectLimit:-1,c=()=>{l(!0)},d=async(g=!1)=>{typeof g=="boolean"&&g?(l(!1),t&&await t()):(l(!1),t&&await t())},f=m.useCallback(async g=>{await r(g),await t()},[r]);return s?v.jsx(RY,{}):v.jsxs(v.Fragment,{children:[(e==null?void 0:e.length)>0?v.jsxs("div",{children:[(u<0||(e==null?void 0:e.length)<u)&&v.jsx(ln,{color:"teal",variant:"text",label:"Add",onClick:c,mIcon:cA,attrs:{style:{marginBottom:"16px"}},disabled:i}),v.jsx(OY,{value:e,fieldDef:{inputSettings:{deleteSelectedOption:f},disabled:i}})]}):v.jsx(ln,{color:"gray",variant:"outlined",label:"ADD",onClick:c,disabled:i}),v.jsx(ym,{open:a,onClose:d,backdropCloseHandler:!1,children:v.jsx(CY,{value:e??[],fieldDef:o,onChange:r,isModalOpen:a,handleClose:d})})]})},DY=m.memo(PY),IY=ee.div`
  color: ${V.newColors.grey3[100]};
  font-family: ${V.fontFamily};
  font-size: 14px;
  margin-top: 4px;

  @media (max-width: ${V.breakpoints.mobile}) {
    width: calc(100vw - 40px);
  };
`,NY=ee.div`
  border: 2px solid ${V.newColors.grey2[100]};
  border-radius: 4px;
  font-family: ${V.fontFamily};
  min-height: 204px;
  padding: 16px;
  padding-bottom: 16px;
  position: relative;
  width: 450px;
  max-width: 100%;
  background-color: white;
`,_Y=ee.div`
  display: flex;
  justify-content: end;

  button:first-child {
    padding-right: 16px;
  }

  button:last-child {
    padding-left: 16px;
  }
`,$Y=ee.div`
  display: flex;
  flex-wrap: wrap;
`,FY=ee.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 16px;
`,BY=ee.div`
  margin-right: 16px;
  margin-bottom: 16px;
  height: fit-content;
  border: 2px solid ${V.newColors.grey2[100]};

  img {
    display: block;
    width: 230px;
    max-width: 100%;
  }
`,Iw=ee.span`
  color: ${V.newColors.grey3[100]};
  font-size: 14px;
  font-weight: ${V.fontWeight.semiBold};
  margin-bottom: 8px;
`,AT=ee.span`
  color: ${V.newColors.almostBlack[100]};
  font-size: 14px;
  font-weight: ${V.fontWeight.normal};
`,jY=ee(AT)`
  margin-bottom: 12px;
`,zY=ee.div`
  @media (max-width: ${V.breakpoints.mobile}) {
    width: calc(100vw - 40px);
  };
`,HY=ee.div`
  display: flex;
  flex-grow: 1;
  align-items: end;
`,VY=({value:n,initialCenter:e,onDragMarkerEnd:t,zoom:r=7,focusZoom:i=11,shouldPanRef:o})=>{const s=Ek(),a=m.useRef(null);if(m.useEffect(()=>{(async()=>{const l=us(n)?n:void 0,u=await H6(s),{lat:c,lng:d}=l?n:us(e)?e:Pg,f=new google.maps.LatLng(c,d),p=l&&s.getZoom()<i;u&&f&&(!a.current||!a.current.equals(f))&&(a.current=f,u.getCenter().equals(f)||(u.contains(f)?o.current||!l||p?s.panTo(f):o.current=!0:s.setCenter(f))),l?s.getZoom()<i&&s.setZoom(i):s.setZoom(r)})()},[r,s,n,o.current]),!(!n||n.lat===void 0||n.lng===void 0))return v.jsx(qz,{draggable:!0,position:n,onDragEnd:t})},WY={display:"flex",height:"400px"},UY={disableDefaultUI:!0,zoomControl:!0,draggableCursor:"crosshair"},qY=n=>{const{initialCenter:e,value:t,zoom:r=0,focusZoom:i=11,onCoordinatesChange:o,googleMapsApiKey:s,onBlur:a}=n,[l,u]=m.useState(""),c=us(e)?e:Pg,d=async x=>{u(x);try{const b=await Iu.geocodeByAddress(x),w=await Iu.getLatLng(b[0]);o(w)}catch(b){console.error("Could not change coordinates: ",{error:b,value:x})}},f=()=>{u("")},p=m.useRef(!0),h=({latLng:x})=>{p.current=!1;const b=x.lat(),w=x.lng();o({lat:b,lng:w})};m.useEffect(()=>{(t===void 0||t.lat===void 0&&t.lng===void 0)&&f()},[t]);const{isLoaded:g,loadError:y}=Ag({googleMapsApiKey:s,libraries:Fk});return v.jsxs(zY,{children:[v.jsx(Bk,{className:"mapCoordinates",value:l,onChange:u,onBlur:a,onSelect:d,placeholder:"Type a location, address or cityâ€¦",googleMapsApiKey:s,textField:{InputProps:{endAdornment:v.jsx(xu,{position:"end",children:v.jsx(U6,{"data-testid":"location-search-clear-icon",onClick:f})})}}}),g&&!y&&v.jsx(Fz,{mapContainerStyle:WY,center:c,zoom:t?i:r,onClick:h,options:UY,children:v.jsx(VY,{value:t,initialCenter:e,onDragMarkerEnd:h,zoom:r,focusZoom:i,shouldPanRef:p})})]})},GY=m.memo(qY);function KY({zoom:n,focusZoom:e,initialCenter:t,onCoordinatesChange:r,value:i,googleMapsApiKey:o,onBlur:s}){return v.jsxs("div",{children:[v.jsx(GY,{initialCenter:t,value:i,zoom:n,focusZoom:e,onCoordinatesChange:r,googleMapsApiKey:o,onBlur:s}),v.jsx(IY,{children:"Click on the map to update the latitude and longitude coordinates"})]})}function YY({show:n,onClick:e}){return n&&v.jsx(HY,{children:v.jsx(ln,{className:"reset-button",color:"teal",variant:"text",label:"Reset",onClick:e,size:"large"})})}const JY=[{fields:[[["placesList"]],[["lat"],["lng"],["resetButton"]]]}],ZY=n=>{var T,I;const{value:e,fieldDef:t,onChange:r,handleClose:i,dialogOpen:o,handleDialogClose:s,handleUnsavedChanges:a,initialCenter:l=Pg,googleMapsApiKey:u}=n,c=m.useCallback(async()=>{const R=e?e.lat:void 0,z=e?e.lng:void 0;return{lat:R,lng:z,placesList:{lat:R,lng:z}}},[e]),d=Zc(),{state:f,methods:{setFieldValue:p,setFormValues:h},handleSubmit:g}=d,y=m.useMemo(()=>us(e)?e:void 0,[e]),x=m.useMemo(()=>{const R={lat:Number(f.data.lat),lng:Number(f.data.lng)};return us(R)?R:void 0},[f.data.lat,f.data.lng]);m.useEffect(()=>{if(!f.data.lat)return;const R=String(f.data.lat),z=R.split(",");z.length!==2||!V6(R)||h({values:{lat:z[0].trim(),lng:z[1].trim()}})},[f.data.lat,f.data.lng,h]),m.useEffect(()=>{const R=f.data.lat!==void 0||f.data.lng!==void 0;R!==f.data.resetButton&&p({name:"resetButton",value:R})},[p,f.data.lat,f.data.lng,f.data.reset,f.data.resetButton]),m.useEffect(()=>{if(!x){p({name:"placesList",value:void 0});return}Ix(f.data.placesList,x)||p({name:"placesList",value:{lat:x.lat,lng:x.lng}})},[f.data.placesList,x]),m.useEffect(()=>{const R=Ix(y,x);a(!R)},[y,x,a]);const b=g(()=>{const R={...e,...x};r(R),i(!0)}),w=m.useCallback(R=>{const z=R?R.lat:void 0,_=R?R.lng:void 0;h({values:{placesList:{lat:z,lng:_},lat:String(z),lng:String(_)},validate:!0})},[h]),k=(T=t==null?void 0:t.inputSettings)==null?void 0:T.zoom,S=(I=t==null?void 0:t.inputSettings)==null?void 0:I.focusZoom,C=m.useMemo(()=>[{name:"placesList",type:({value:R,onBlur:z})=>v.jsx(KY,{zoom:k,focusZoom:S,initialCenter:l,onCoordinatesChange:w,value:R,onBlur:z,googleMapsApiKey:u})},{name:"lat",label:"Latitude",type:"text",validators:[Mg],required:!0},{name:"lng",label:"Longitude",type:"text",validators:[Eg],required:!0},{name:"resetButton",label:"Reset",type:({value:R})=>v.jsx(YY,{show:R,onClick:()=>h({values:{lat:void 0,lng:void 0,placesList:void 0},validate:!0})})}],[k,S,l,w,u,h]),M=m.useMemo(()=>[{label:"Cancel",onClick:()=>i(),color:"gray",variant:"outlined"},{label:"Save",onClick:b,type:"submit",color:"yellow",variant:"contained"}],[i,b]);return v.jsx(Lm,{className:"mapCoordinates",children:v.jsx(pd,{...d,onBack:i,backLabel:"Cancel coordinates entry",title:"Map Coordinates",buttons:M,sections:JY,fields:C,dialogOpen:o,handleDialogClose:s,getFormValues:c})})},XY=n=>{var C,M,T;const{value:e,onBlur:t,onChange:r,disabled:i,fieldDef:o,skeleton:s}=n,a=m.useMemo(()=>us(e)?e:void 0,[e]),l=(C=o==null?void 0:o.inputSettings)==null?void 0:C.initialCenter,[u,c]=m.useState(!1),[d,f]=m.useState(!1),[p,h]=m.useState(!1),[g,y]=m.useState(!1),x=()=>{c(!0)},b=async(I=!1)=>{typeof I=="boolean"&&I?(f(!1),c(!1),t&&await t()):d?h(!0):(f(!1),c(!1),t&&await t())},w=async I=>{I&&await b(!0),h(!1)},k=async()=>{r&&await r(void 0),await t()},S=m.useMemo(()=>[{label:"No, keep it",onClick:()=>y(!1),color:"gray",variant:"outlined"},{label:"Yes, remove it",onClick:()=>{k(),y(!1)},color:"yellow",variant:"contained"}],[g]);return s?v.jsx(Qe,{variant:"rectangular",width:280,height:357}):v.jsxs(v.Fragment,{children:[a?v.jsx("div",{children:v.jsxs(NY,{children:[v.jsxs($Y,{children:[v.jsx(BY,{children:v.jsx("img",{src:`https://maps.googleapis.com/maps/api/staticmap?zoom=${((M=o==null?void 0:o.inputSettings)==null?void 0:M.focusZoom)??11}&size=232x153&maptype=roadmap&markers=color:red%7C${a==null?void 0:a.lat},${a==null?void 0:a.lng}&key=${o.inputSettings.googleMapsApiKey}`,alt:"location"})}),v.jsxs(FY,{children:[v.jsx(Iw,{children:"Latitude"}),a?v.jsx(jY,{children:a==null?void 0:a.lat}):v.jsx(ah,{}),v.jsx(Iw,{children:"Longitude"}),a?v.jsx(AT,{children:a==null?void 0:a.lng}):v.jsx(ah,{})]})]}),v.jsxs(_Y,{children:[v.jsx(ln,{color:"teal",variant:"text",label:"Edit",disabled:i,onClick:x}),v.jsx(ln,{color:"red",disabled:i,variant:"text",label:"Remove",onClick:()=>y(!0)})]})]})}):v.jsx(ln,{disabled:i,onClick:x,color:"gray",variant:"outlined",label:"ADD COORDINATES"}),v.jsx(ym,{open:u,onClose:b,children:v.jsx(ZY,{value:e,fieldDef:o,onChange:r,handleClose:b,handleUnsavedChanges:I=>f(I),dialogOpen:p,handleDialogClose:w,initialCenter:l,googleMapsApiKey:(T=o==null?void 0:o.inputSettings)==null?void 0:T.googleMapsApiKey})}),v.jsx(Em,{buttons:S,dialogTitle:"Are you sure you want to remove these coordinates?",open:g,children:"All data for these coordinates will be lost. This action is irreversible."})]})},QY=m.memo(XY),eJ=ee.div`
	& > div > .viewContainer {
		padding-left: 0;
		padding-right: 0;
	}
`,tJ=ee.div`
	margin-bottom: 0.5rem;
`,nJ=ee.div`
    display: flex;
    flex-direction: column;
    gap: 16px;
`,rJ=ee(Qe)`
	margin-bottom: 16px;
`,OT=ee.div`
	display: flex;
	align-items: center;
    gap: 16px;
`,iJ=ee.div`
	flex: 1 1 0%;
`,oJ=ee.div`
	flex: 0 0 32px;
`;function sJ(){return v.jsx(Qe,{variant:"rectangular",width:143,height:36,sx:{marginBottom:2}})}function Nw(){return v.jsx(oJ,{children:v.jsx(Qe,{variant:"rectangular",width:"100%",height:32})})}function th(){return v.jsx(iJ,{children:v.jsx(Qe,{variant:"rectangular",width:"100%",height:48})})}function _w(){return v.jsxs(OT,{children:[v.jsx(Nw,{}),v.jsx(Nw,{}),v.jsx(th,{}),v.jsx(th,{}),v.jsx(th,{})]})}function aJ({buttonCount:n=0}){return v.jsxs("div",{children:[v.jsx(OT,{children:[...Array(n)].map((e,t)=>v.jsx(sJ,{},t))}),v.jsx(rJ,{variant:"rectangular",width:"100%",height:56}),v.jsxs(nJ,{children:[v.jsx(_w,{}),v.jsx(_w,{})]})]})}const lJ=n=>{const{value:e,disabled:t,fieldDef:r,skeleton:i}=n,{buttons:o=[],dataView:s}=r.inputSettings,a=(s.data!==void 0?s.data:e)||[],l=a.length>0;return i?v.jsx(aJ,{buttonCount:o.length}):v.jsxs(eJ,{children:[v.jsx(tJ,{children:v.jsx(il,{children:o.map((u,c)=>v.jsx(ln,{...u,disabled:u.disabled===void 0?t:u.disabled},`${u.label}-${c}`))})}),l&&v.jsx(oL,{data:[],...s,disabled:t,data:a})]})},uJ=m.memo(lJ);let cJ=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var oa={},$w;function dJ(){if($w)return oa;$w=1;var n=Ct();Object.defineProperty(oa,"__esModule",{value:!0}),oa.default=void 0;var e=n(St()),t=wt();return oa.default=(0,e.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),oa}var fJ=dJ();const RT=it(fJ);var sa={},Fw;function pJ(){if(Fw)return sa;Fw=1;var n=Ct();Object.defineProperty(sa,"__esModule",{value:!0}),sa.default=void 0;var e=n(St()),t=wt();return sa.default=(0,e.default)((0,t.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload"),sa}var hJ=pJ();const PT=it(hJ),DT=ee.div`
	display: flex;
	flex-direction: row;
	background-color: ${V.colors.white};
	border: 2px solid ${({$error:n})=>n?V.newColors.darkRed[100]:V.newColors.grey2[100]};
	padding: 16px;
	width: 100%;
	column-gap: 16px;

	${({$isDeleting:n})=>n&&`
		opacity: 0.5;
	`}

	& > div {
		display: flex;
	}

	& .file-img,
	& .file-delete-btn {
		align-items: center;
	}

	& .file-img {
		border: 2px solid ${V.newColors.grey2[100]};

		a, img {
			display: block;
		}

		img, div {
			width: 62px;
			height: 62px;
		}

		img {
			object-fit: contain;
		}

		div {
			background-color: ${V.newColors.grey2[100]};
			color: ${V.newColors.grey3[100]};
			display: flex;
			align-items: center;
			justify-content: center;
		}
	}

	& .file-data {
		font-size: 14px;
		width: 100%;
		flex-direction: column;
		row-gap: 8px;

		p {
			margin: 0px;
			padding: 0px;
		}
	}

	& .file-name {
		color: ${V.newColors.grey3[100]};
		font-weight: ${V.fontWeight.semiBold};
		line-height: 17px;
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
		text-overflow: ellipsis;
		max-width: 100%;
		word-break: break-word;
	}

	& .file-size {
		color: ${V.newColors.almostBlack[100]};
		font-weight: ${V.fontWeight.normal};
		line-height: 24px;
	}
`,mJ=ee(Am)`
	flex: none;
	align-self: center;
`;var aa={},Bw;function gJ(){if(Bw)return aa;Bw=1;var n=Ct();Object.defineProperty(aa,"__esModule",{value:!0}),aa.default=void 0;var e=n(St()),t=wt();return aa.default=(0,e.default)((0,t.jsx)("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),aa}var vJ=gJ();const IT=it(vJ),yJ=({url:n,...e})=>{const[t,r]=m.useState(!1),i=m.useCallback(()=>{r(!0);const o=document.createElement("iframe"),s=()=>{document.body.removeChild(o),r(!1)};o.onload=s,o.onerror=s,o.setAttribute("style","display: none"),o.src=n,document.body.appendChild(o)},[]);return t?v.jsx(Am,{}):v.jsx(ln,{...e,mIcon:PT,onClick:i})},bJ=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],xJ=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],wJ=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],CJ=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],jw=(n,e,t)=>{let r=n;return typeof e=="string"||Array.isArray(e)?r=n.toLocaleString(e,t):(e===!0||t!==void 0)&&(r=n.toLocaleString(void 0,t)),r};function pm(n,e={}){if(!Number.isFinite(n))throw new TypeError(`Expected a finite number, got ${typeof n}: ${n}`);e={bits:!1,binary:!1,space:!0,...e};const t=e.bits?e.binary?CJ:wJ:e.binary?xJ:bJ,r=e.space?" ":"";if(e.signed&&n===0)return` 0${r}${t[0]}`;const i=n<0,o=i?"-":e.signed?"+":"";i&&(n=-n);let s;if(e.minimumFractionDigits!==void 0&&(s={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(s={maximumFractionDigits:e.maximumFractionDigits,...s}),n<1){const c=jw(n,e.locale,s);return o+c+r+t[0]}const a=Math.min(Math.floor(e.binary?Math.log(n)/Math.log(1024):Math.log10(n)/3),t.length-1);n/=(e.binary?1024:1e3)**a,s||(n=Number(n.toPrecision(3)));const l=jw(Number(n),e.locale,s),u=t[a];return o+l+r+u}function NT(n){return m.useMemo(()=>{const t=parseInt(String(n),10);return pm(t)},[n])}function hm({name:n}){return v.jsx(MA,{maxLines:1,breakAll:!0,children:n??v.jsx(ah,{})})}const SJ=n=>{const{id:e,name:t,size:r,fileUrl:i,thumbnailUrl:o,downloadUrl:s,downloadStrategy:a,onFileDelete:l,disabled:u,isDeleting:c}=n,d=a!==void 0?a:s?"iframe":"anchor",f=m.useMemo(()=>o?v.jsx("img",{src:o}):v.jsx("div",{children:v.jsx(IT,{})}),[o]),p=NT(r);return v.jsx("div",{"data-testid":"file-card-container",children:v.jsxs(DT,{$isDeleting:c,children:[v.jsx("div",{className:"file-img","data-testid":"file-img",children:i&&!c?v.jsx("a",{href:i,rel:"noreferrer",target:"_blank",children:f}):f}),v.jsxs("div",{className:"file-data","data-testid":"file-data",children:[i&&!c?v.jsx("a",{href:i,rel:"noreferrer",target:"_blank",className:"file-name","data-testid":"file-name",children:v.jsx(hm,{name:t})}):v.jsx("p",{className:"file-name","data-testid":"file-name",children:v.jsx(hm,{name:t})}),v.jsx("p",{className:"file-size","data-testid":"file-size",children:p??"File size"})]}),c?v.jsx(mJ,{}):v.jsxs(il,{separator:!0,children:[(s||i)&&v.jsx("div",{className:"file-download-btn",children:d==="anchor"?v.jsx(ln,{muiAttrs:{download:!0},href:i,color:"gray",variant:"icon",mIcon:PT}):v.jsx(yJ,{url:s||i,color:"gray",variant:"icon"})}),l&&!u&&v.jsx("div",{className:"file-delete-btn",children:v.jsx(ln,{color:"gray",variant:"icon",mIcon:RT,onClick:()=>l({id:e})})})]})]})})},kJ=m.memo(SJ),MJ=ee.div`
	margin-top: 16px;
	display: flex;
	flex-direction: column;
	gap: 16px;
`,EJ=ee.label`
  border: 1px dashed transparent;
  align-items: center;
  display: flex;
  flex-direction: column;
  height: 204px;
  justify-content: center;
  position: relative;
  max-width: 100%;

  & .button {
    z-index: 1000;
  }

	${({$isOver:n,$disabled:e})=>n&&!e?`
		border-color: ${V.newColors.realTeal[100]};
		background: ${V.newColors.realTeal[20]};
  	`:`
		background: ${V.newColors.grey2[100]};
	`}
`,zw=ee.span`
  color: ${({$isOver:n})=>n?V.newColors.realTeal[100]:V.newColors.grey3[100]};
  font-size: 16px;
  margin-bottom: ${({$isOver:n})=>n?"":"24px"};
`,TJ=ee.input`
  display: none;
`;class xv{constructor(e=[]){Tl(this,"extensions");Tl(this,"acceptAttr");Tl(this,"human");this.extensions=e.map(t=>t.toLowerCase()),this.acceptAttr=this.extensions.map(t=>`.${t}`).join(","),this.human=fk(this.extensions.map(t=>`"${t}"`))}static getExtension(e){return e.slice((Math.max(0,e.lastIndexOf("."))||1/0)+1)}isValidFileName(e){if(!this.extensions.length)return!0;const t=xv.getExtension(e).toLowerCase();return this.extensions.includes(t)}}var la={},Hw;function LJ(){if(Hw)return la;Hw=1;var n=Ct();Object.defineProperty(la,"__esModule",{value:!0}),la.default=void 0;var e=n(St()),t=wt();return la.default=(0,e.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20m6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9"}),"DoNotDisturb"),la}var AJ=LJ();const OJ=it(AJ),RJ=n=>{const{id:e,name:t,size:r,onFileDelete:i,error:o,percent:s,disabled:a}=n,l=NT(r);return v.jsxs("div",{"data-testid":"file-card-container",children:[v.jsxs(DT,{$error:!!o,children:[v.jsx("div",{className:"file-img","data-testid":"file-img",children:v.jsx("div",{children:o?v.jsx(OJ,{}):s!==void 0&&s<100?v.jsx(Am,{progress:s}):v.jsx(IT,{})})}),v.jsxs("div",{className:"file-data","data-testid":"file-data",children:[v.jsx("p",{className:"file-name","data-testid":"file-name",children:v.jsx(hm,{name:t})}),v.jsx("p",{className:"file-size","data-testid":"file-size",children:l??"File size"})]}),v.jsx(il,{separator:!0,children:i&&!a&&(s===void 0||s===100)&&v.jsx("div",{className:"file-delete-btn",children:v.jsx(ln,{color:"gray",variant:"icon",mIcon:RT,onClick:()=>i({id:e})})})})]}),o&&v.jsx(Eh,{error:o!==void 0,children:o})]})},PJ=m.memo(RJ);function DJ(){return v.jsxs("div",{children:[v.jsx(Qe,{variant:"rectangular",width:"100%",height:204,sx:{marginBottom:2}}),v.jsx(Qe,{variant:"rectangular",width:"100%",height:100})]})}const IJ=n=>{const{fieldDef:e,value:t,onChange:r,disabled:i,methods:o,id:s,skeleton:a}=n,{addWait:l}=o||{},u=m.useId(),c=s||u,d=m.useRef(),{limit:f=-1,onFileAdd:p,onFileDelete:h,accept:g,maxFileSize:y,maxTotalSize:x}=e.inputSettings,[b,w]=m.useState(0),[k,S]=m.useState({open:!1,text:""}),C=m.useMemo(()=>t||[],[t]),M=C.length,T=f>=0&&M>=f,I=m.useMemo(()=>new xv(g),[g]),R=m.useMemo(()=>C.filter(J=>lh(J)&&J.error===void 0).length,[C]),z=J=>{J.preventDefault()},_=J=>{J.preventDefault(),w(ue=>ue+1)},W=J=>{J.preventDefault(),w(ue=>ue-1)},D=J=>{if(J.preventDefault(),J.stopPropagation(),w(0),i)return;const ue={target:{files:J.dataTransfer.files}};Z(ue)},B=async({uuid:J,percent:ue})=>{r((Y=[])=>Y.map(E=>J===E.id?{...E,percent:ue*100}:E))};m.useEffect(()=>{if(!l||!R)return;const{remove:J}=l({name:`${e.name}/uploading`,message:`${e.label} is currently uploading ${R} files(s)`});return J},[e.label,e.name,l,R]);const F=async({uuid:J,data:ue})=>{r((Y=[])=>Y.map(E=>J===E.id?{...ue}:E))},N=async({uuid:J,message:ue})=>{r((Y=[])=>Y.map(E=>J===E.id?{...E,error:ue}:E))},Z=async J=>{const ue=Array.from(J.target.files);if(f>=0&&M+ue.length>f){S({open:!0,text:`Upload limited to only ${f} files.`});return}const Y=ue.map(E=>({id:cJ(),name:E.name,size:E.size,error:void 0,rawData:E,isPending:!0}));if(x){const E=sL([...C.map(({size:$})=>$),...Y.map($=>$.rawData.size)]);if(x<E){S({open:!0,text:`Maximum cumulative file size is ${pm(x)}`});return}}r((E=[])=>[...E,...Y]),await Promise.all(Y.map(async E=>{if(!I.isValidFileName(E.rawData.name)){N({uuid:E.id,message:`We only allow ${I.human} file uploads`});return}if(y&&y<E.rawData.size){N({uuid:E.id,message:`Individual file upload size should not exceed ${pm(y)}`});return}try{await p({file:E==null?void 0:E.rawData,onChunkComplete:({percent:$})=>B({uuid:E.id,percent:$}),onUploadComplete:$=>F({uuid:E.id,data:$})})}catch($){const Q=$ instanceof Error?$.message:String($);N({uuid:E.id,message:Q})}}))},me=async(J,ue=!1)=>{r((Y=[])=>Y.map(E=>E.id===J?{...E,isDeleting:!0}:E)),ue||await h({id:J}),r((Y=[])=>Y.filter(E=>E.id!==J))},re=m.useCallback(()=>{d.current&&d.current.click()},[]),U=(J,ue)=>{ue!=="clickaway"&&S(Y=>({...Y,open:!1}))};return a?v.jsx(DJ,{}):v.jsxs(v.Fragment,{children:[!T&&v.jsxs(EJ,{$isOver:!!b,$disabled:i,onDragOver:z,onDragEnter:_,onDragLeave:W,onDrop:D,"data-testid":"drag-and-drop-container",htmlFor:`${c}-input`,children:[!i&&b?v.jsx(zw,{$isOver:!!b,children:"Release and Drop"}):v.jsxs(v.Fragment,{children:[!i&&v.jsx(zw,{$isOver:!!b,children:"Drag & Drop files here or"}),v.jsx(ln,{color:"gray",variant:"outlined",label:"UPLOAD FILES",disabled:i,onClick:re})]}),v.jsx(TJ,{"data-testid":"input-file-test",onChange:Z,title:"",type:"file",value:"",disabled:i,multiple:f<0||f>1&&f-M>1,accept:I.acceptAttr,id:`${c}-input`,ref:d})]}),C.length>0&&v.jsx(MJ,{children:C.map(J=>lh(J)?v.jsx(PJ,{...J,onFileDelete:({id:ue})=>me(ue,!0),disabled:i,percent:J.percent,error:J.error},J.id):v.jsx(kJ,{...J,onFileDelete:({id:ue})=>me(ue),disabled:i},J.id))}),v.jsx(Tm,{autoHideDuration:6e3,label:k.text,open:k.open,onClose:U})]})},NJ=m.memo(IJ),_J=n=>{var T,I,R,z,_;const{fieldDef:e,error:t,onChange:r,onBlur:i,value:o,disabled:s,inputRef:a,id:l,skeleton:u}=n,[c,d]=m.useState(!1),f=m.useRef(),{tooltipProps:p,anchorProps:h}=wm(),g=((T=e==null?void 0:e.inputSettings)==null?void 0:T.decimalPlaces)??-1,y=(I=e==null?void 0:e.inputSettings)==null?void 0:I.prefix,x=(R=e==null?void 0:e.inputSettings)==null?void 0:R.suffix,b=((z=e==null?void 0:e.inputSettings)==null?void 0:z.sign)??"any",w=["Must be a",b!=="any"&&b,g?"numerical value":"whole number",g>0&&`with a maximum of ${g} decimal place${g>1?"s":""}`].filter(Boolean).join(" ")+".",k=W=>{const{value:D}=W.target,B=["^",b==="any"&&"(-|\\+)?",b==="negative"&&"-",b==="positive"&&"\\+?","(?!\\.)\\d*"];g&&B.push("\\.?","\\d",g>0?`{0,${g}}`:"*"),B.push("$");const F=new RegExp(B.filter(Boolean).join(""));if(D&&!D.match(F)){d(!0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>d(!1),3e3);return}d(!1),r&&r(D===""?void 0:D)},S=W=>{const{value:D}=W.target;(D==="-"||D==="+")&&r(""),D&&D[D.length-1]==="."&&r(D.substring(0,D.length-1)),d(!1),i&&i(D===""?void 0:D),e!=null&&e.onBlurCb&&(e==null||e.onBlurCb(D))},C=typeof t=="string"?(t==null?void 0:t.trim().length)>0:!1,M=m.useMemo(()=>{const W={inputRef:a,inputProps:{inputMode:"numeric",...h}};return y&&(W.startAdornment=v.jsx(xu,{position:"start",children:y})),x&&(W.endAdornment=v.jsx(xu,{position:"end",children:x})),W},[h,a,y,x]);return u?v.jsx(Qe,{variant:"rectangular",width:"100%",height:43}):v.jsxs(v.Fragment,{children:[v.jsx(ys,{id:l,"data-testid":"form-field-number-test-id",value:o??"",onChange:k,onBlur:S,variant:"outlined",error:!!c||C||C&&(e==null?void 0:e.required),className:e==null?void 0:e.className,placeholder:(_=e==null?void 0:e.inputSettings)==null?void 0:_.placeholder,fieldSize:e==null?void 0:e.size,InputProps:M,required:e==null?void 0:e.required,type:"text",disabled:s}),v.jsx(Cm,{...p,open:!!c,maxWidth:150,children:w})]})},$J=m.memo(_J),FJ=ee.table`
  border-collapse: collapse;
  color: ${V.newColors.almostBlack[100]};
  background-color: white;
  width: 100%;
`,nh=ee.th`
  padding: 24px 16px;
  font-weight: ${V.fontWeight.medium};
  font-size: 14px;
  text-align: left;
`,BJ=ee.tr`
  background-color: ${V.newColors.grey2[100]};

  th:first-child {
    padding-left: 24px;
  }

  th:last-child {
    padding-right: 24px;
  }
`,mm=ee.td`
  padding: 16px 16px;

  &:first-child {
	padding-left: 24px;
  }

  &:last-child {
	padding-right: 24px;
  }
`,Vw=ee(mm)`
  font-weight: ${V.fontWeight.semiBold};
  font-size: 14px;
`,jJ=ee.p`
  margin: 0;
  font-weight: ${V.fontWeight.semiBold};
  font-size: 14px;
`,zJ=ee.p`
  margin: 8px 0 0 0;
  font-weight: 400;
  font-size: 14px;
`,Ww=ee.td`
  padding-left: 16px;
  font-weight: ${V.fontWeight.normal};
  font-size: 14px;
`,HJ=ee.tbody`
  tr {
    border-bottom: 1px solid ${V.newColors.grey2[100]};
  }

  tr:last-child,
  tr:nth-last-child(2) {
    border: none;
  }
`,VJ=ee.tr`
  background-color: ${V.newColors.grey1[100]};

  .totals-row {
    font-weight: ${V.fontWeight.medium};
  }
`,WX=[{name:"2023_02_10",title:"Shoulder Before"},{name:"2023_02_11",title:"Day 1",subtitle:"Thu, Jan 05 2023"},{name:"2023_02_12",title:"Day 2",subtitle:"Fri, Jan 06 2023"},{name:"2023_02_13",title:"Day 3",subtitle:"Sat, Jan 07 2023"}],UX=[{name:"single",title:"Single"},{name:"double",title:"Double"},{name:"queen",title:"Queen"},{name:"king",title:"King"},{name:"suite",title:"Suite"},{name:"any",title:"Any"}],qX={"2023_02_10":{single:"12",double:"13",queen:"14",king:"15",suite:"16",any:"17"},"2023_02_11":{single:"18",double:"19",queen:"20",king:"21",suite:"22",any:"23"},"2023_02_12":{single:"12",double:"13",queen:"14",king:"15",suite:"16",any:"20"},"2023_02_13":{single:"1",double:"1",queen:"1",king:"1",suite:"1",any:"1"}},Uw=(n,e)=>e.map(t=>t.name).includes(n),WJ=ee.div`
	display: flex;
	align-items: center;
`,gm=ee.div`
	flex: 1 1 0%;
	padding: 16px;
`;function To(){return v.jsx(gm,{children:v.jsx(Qe,{variant:"rectangular",width:"100%",height:43})})}function qw(){return v.jsxs(WJ,{children:[v.jsxs(gm,{children:[v.jsx(Qe,{width:80,height:28}),v.jsx(Qe,{width:64,height:28})]}),v.jsx(To,{}),v.jsx(To,{}),v.jsx(To,{}),v.jsx(To,{}),v.jsx(To,{}),v.jsx(To,{}),v.jsx(gm,{children:v.jsx(Qe,{width:78,height:28})})]})}function UJ(){return v.jsxs("div",{children:[v.jsx(Qe,{variant:"rectangular",width:"100%",height:64}),v.jsx(qw,{}),v.jsx(qw,{})]})}const qJ=n=>{const{fieldDef:e,onChange:t,value:r,disabled:i,inputRef:o,skeleton:s}=n,{inputSettings:a}=e,{displaySumColumn:l=!0,displaySumRow:u=!0}=a,[c,d]=m.useState({}),f=m.useRef([]),p={};m.useEffect(()=>{const x={};if(r){for(const b in r)if(Uw(b,a.rows))for(const w in r[b])Uw(w,a.columns)&&(x[w]=(x[w]||0)+Number(r[b][w]||0))}else a.columns.forEach(b=>{x[b.name]=0});l&&(x.mos_col_totals=Object.values(x).reduce((b,w)=>b+w),d(x))},[r]);const h=(x,b,w)=>{var C;const k=((C=x.target.value)==null?void 0:C.trim())===""?void 0:x.target.value;let S={...r};S[b]?S[b][w]=k:S={...S,[b]:{[w]:k}},k===void 0&&(Object.values(S[b]).every(M=>M===void 0)&&(S={...S,[b]:void 0}),Object.values(S).every(M=>M===void 0)&&(S=void 0)),t(S)},g=x=>x&&new Intl.NumberFormat(navigator.language,a.numberFormatOptions).format(x),y=(x,b,w)=>{var k;switch(x.keyCode){case 37:x.target.selectionStart===0&&w>0&&f.current[b][w-1].focus();break;case 38:b>0&&f.current[b-1][w].focus();break;case 39:x.target.selectionStart===((k=x.target.value)==null?void 0:k.length)&&w<a.columns.length-1&&f.current[b][w+1].focus();break;case 40:b<a.rows.length-1&&f.current[b+1][w].focus();break}};return s?v.jsx(UJ,{}):v.jsxs(FJ,{children:[v.jsx("thead",{children:v.jsxs(BJ,{children:[v.jsx(nh,{children:a.topLeftLabel}),a.columns.map((x,b)=>v.jsx(nh,{children:x.title},`${x.name}-${b}`)),u&&v.jsx(nh,{children:a.columnTotalLabel||"Total"})]})}),v.jsxs(HJ,{children:[a.rows.map((x,b)=>v.jsxs("tr",{children:[v.jsxs(mm,{children:[v.jsx(jJ,{children:x.title}),(x==null?void 0:x.subtitle)&&v.jsx(zJ,{children:x.subtitle})]},`${x.name}`),a.columns.map((w,k)=>{var C;const S=((C=r==null?void 0:r[x.name])==null?void 0:C[w.name])??"";if(u){const M=isNaN(Number(S))?0:Number(S);p[x.name]=(p[x.name]||0)+M}return v.jsx(mm,{children:v.jsx(ys,{inputProps:{"data-testid":`${x.name}-${w.name}`},placeholder:"0",value:S,onChange:M=>h(M,x.name,w.name),fieldSize:"90px",disabled:i,inputRef:M=>{f!=null&&f.current&&(f.current[b]=f.current[b]||[],f.current[b][k]=M),!b&&!k&&o&&(o.current=M)},onKeyDown:M=>y(M,b,k)})},`${x.name}-${w.name}`)}),u&&v.jsx(Vw,{children:g(p[x.name])},`totals-${x.name}`)]},`row-${x.name}`)),l&&v.jsxs(VJ,{children:[v.jsx(Vw,{children:a.rowTotalLabel||"Total"}),a.columns.map(x=>v.jsx(Ww,{children:g(c[x.name])||0},`column-${x.name}`)),u&&v.jsx(Ww,{className:"totals-row",children:g(c.mos_col_totals)||0})]})]})]})},GJ=m.memo(qJ),KJ=ee(S3)`
	box-shadow: none !important;
	border-radius: 0px;
	scroll-margin-top: 60px;
	margin: 0 !important;

	${({$title:n})=>n?`
		border: 1px solid ${V.newColors.grey2[100]};
		margin: 0px 0px 40px 0px;
	`:`
		border: 0;
		margin: 0;
	`}

	&:before {
		content: none !important;
	}
`,YJ=ee(N3)`
	background-color: ${V.newColors.grey2[100]} !important;
	margin: 0px !important;
	padding: 12px 24px !important;
	min-height: 0px !important;
	color: ${V.newColors.grey4[100]} !important;

	& :first-child {
		margin: 0px !important;
	}
`,JJ=ee(L3)`
	padding: 0px !important;
	margin: 0px !important;
`,ZJ=ee.p`
	font-size: 16px;
	font-family: ${V.fontFamily};
	color: ${V.newColors.grey3[100]};
	margin: 18px 0 0;
	padding: 0 24px;
`,_T=ee.div`
	margin: 0px;
	display: grid;
	grid-template-columns: repeat(1,minmax(0,1fr));

	${({$title:n})=>n&&`
		padding: 18px 24px;
	`}

	${({$spacing:n})=>`
		gap: ${n==="compact"?"24px":"12px"} 0;
	`}
`,XJ=ee.h2`
	font-size: 20px;
	font-family: ${V.fontFamily};
	font-weight: 500;
	margin: 0px;
`,QJ=ee.fieldset`
	border: 0;
	margin: 0;
	padding: 0;
`,eZ=({fieldDef:n,methods:e,skeleton:t,path:r})=>{const{name:i,inputSettings:o={fields:[]}}=n,{fields:s}=o,a=m.useMemo(()=>o.layout||s.map(u=>[[u.name]]),[s,o.layout]),l=m.useMemo(()=>[...r||[],i],[r,i]);return v.jsx(QJ,{children:v.jsx(_T,{children:a.map((u,c)=>v.jsx(FT,{row:u,rowIdx:c,fieldsDef:s,spacing:"compact",methods:e,skeleton:t,path:l},`row-${c}`))})})},tZ=m.memo(eZ);function Vt({value:n}){return!(n===void 0||typeof n=="string"&&!n.trim().length||Array.isArray(n)&&!n.length||n===!1)}function nZ(){let n=null;return()=>n||(n={text:{Component:rO,validate:"onBlurAmend",getResolvedValue:Jt,hasValue:Vt},checkbox:{Component:fO,validate:"onChange",getResolvedValue:Jt,hasValue:Vt},chip:{Component:vO,validate:"onChange",getResolvedValue:Jt,hasValue:Vt},dropdown:{Component:xC,validate:"onChange",getResolvedValue:Jt,hasValue:Vt},phone:{Component:s2,validate:"onBlurAmend",getResolvedValue:Jt,hasValue:Vt},radio:{Component:v2,validate:"onChange",getResolvedValue:Jt,hasValue:Vt},toggle:{Component:E2,validate:"onChange",getResolvedValue:Jt,hasValue:Vt},color:{Component:i$,validate:"onBlur",getResolvedValue:Jt,hasValue:Vt},date:{Component:m5,validate:"onBlurAmend",getResolvedValue:(e,t)=>{var r;return e instanceof Date?{internalValue:{date:e},value:e}:!e||!e.date?{internalValue:void 0,value:void 0}:{internalValue:e,value:Ru(e.date,((r=t==null?void 0:t.inputSettings)==null?void 0:r.fixedTime)||[0,0,0,0])}},hasValue:({internalValue:e})=>!!(e&&e.date)},time:{Component:C4,validate:"onBlurAmend",getResolvedValue:e=>{if(typeof e=="string"){const t=new Date,[r,i]=e.split(":");return t.setHours(Number(r)),t.setMinutes(Number(i)),{internalValue:{time:t,keyboardInputValue:void 0},value:e}}else{if(!e||!e.time)return{internalValue:void 0,value:void 0};const t=isNaN(e.time.getTime())?void 0:[String(e.time.getHours()).padStart(2,"0"),String(e.time.getMinutes()).padStart(2,"0")].join(":");return{internalValue:e,value:t}}},hasValue:({internalValue:e})=>!!(e&&e.time)},address:{Component:fH,validate:"onBlur",getResolvedValue:Jt,hasValue:Vt},textEditor:{Component:yY,validate:"onBlurAmend",getResolvedValue:Jt,hasValue:Vt},advancedSelection:{Component:DY,validate:"onBlur",getResolvedValue:Jt,hasValue:Vt},mapCoordinates:{Component:QY,validate:"onBlur",getResolvedValue:Jt,hasValue:Vt},matrix:{Component:uJ,validate:"onChange",getResolvedValue:Jt,hasValue:Vt},upload:{Component:NJ,validate:"onChange",getResolvedValue:(e=[])=>({value:vC(e.filter(t=>!lh(t)&&!t.isDeleting)),internalValue:e||[]}),hasValue:Vt},number:{Component:$J,validate:"onBlurAmend",getResolvedValue:Jt,hasValue:Vt},numberTable:{Component:GJ,validate:"onChange",getResolvedValue:Jt,hasValue:Vt},raw:{Component:b2,validate:"onChange",getResolvedValue:Jt,hasValue:Vt},group:{Component:tZ,validate:"onSubmit",getResolvedValue:Jt,hasValue:Vt}},n)}const rZ=nZ();function $T(n){const e=rZ();return typeof n!="string"?{Component:n,validate:"onBlur",getResolvedValue:Jt,hasValue:Vt}:e[n]?e[n]:{Component:null,validate:"onBlur",getResolvedValue:Jt,hasValue:Vt}}const iZ={text:ht.md,checkbox:ht.md,chip:ht.md,dropdown:ht.md,phone:ht.sm,radio:ht.sm,toggle:ht.md,color:ht.sm,date:ht.md,time:ht.md,address:ht.full,addressSingle:ht.full,textEditor:ht.lg,advancedSelection:ht.lg,mapCoordinates:ht.sm,matrix:ht.full,upload:ht.md,number:ht.sm,numberTable:ht.full,raw:ht.full,group:ht.full};function oZ(n,e){return n?ht[n]?ht[n]:String(n):typeof e=="string"?iZ[e]:"full"}const sZ=({fieldsDef:n,fieldName:e,colsInRow:t,colIdx:r,rowIdx:i,sectionIdx:o,spacing:s,methods:a,skeleton:l,path:u})=>{const{state:c}=m.useContext(co),d=m.useMemo(()=>n.find(({name:z})=>z===e),[n,e]);if(!d)throw new Error(`No field declared for field name '${e}' in section ${o}, row ${i}, column ${r}.`);const f=typeof d.type!="string",{Component:p}=$T(d.type),{setFieldValue:h,setFieldBlur:g}=a;if(!p)throw new Error(`Invalid type ${d.type}`);const y=bu(d,c,"disabled",!1),x=m.useRef(),b=m.useCallback((z,_={})=>{d.onChangeCb&&d.onChangeCb(),h({name:d.name,value:z,touched:!0,validate:_.validate,path:u})},[d,h,u]),w=m.useCallback(()=>{d.onBlurCb&&d.onBlurCb(),g({name:d.name,path:u})},[d,g,u]),k=sr(c.internalData,[...u||[],d.name]),S=y?void 0:c.errors[`${[...u||[],d.name].join(".")}`],C=oZ(d.size,d.type),M=bu(d,c,"show"),T=m.useMemo(()=>({...d,size:C}),[d,C]),I=m.useMemo(()=>v.jsx(p,{fieldDef:T,name:T.name,value:k,error:S,onChange:b,onBlur:w,ref:T.ref,disabled:y,methods:a,inputRef:x,id:`${d.name}-input`,skeleton:l,path:u}),[p,T,k,S,b,w,y,a,d.name,l,u]);if(!M)return null;const R={fieldDef:T,path:u,value:k,error:S,colsInRow:t,id:d.name,spacing:s,methods:a,inputRef:x,disabled:y,skeleton:l};return f?v.jsx(wz,{...R,children:I}):v.jsx(Tg,{...R,children:I})},aZ=m.memo(sZ),lZ=n=>{const{col:e,fieldsDef:t,colsInRow:r,colIdx:i,rowIdx:o,sectionIdx:s,spacing:a,methods:l,skeleton:u,path:c}=n;return v.jsx(tO,{"data-layout":"column",$colsInRow:r,children:e.map(d=>v.jsx(aZ,{fieldName:d,fieldsDef:t,colIdx:i,colsInRow:r,rowIdx:o,sectionIdx:s,spacing:a,methods:l,skeleton:u,path:c},d))})},uZ=m.memo(lZ),cZ=n=>{const{row:e,rowIdx:t,fieldsDef:r,sectionIdx:i,gridMinWidth:o,spacing:s,methods:a,skeleton:l,path:u}=n,{state:c}=m.useContext(co),d=m.useMemo(()=>e.flat().flat().map(p=>r.find(h=>p===h.name)),[r,e]);return bu(d,c,"show",!0).length?v.jsx(eO,{"data-layout":"row",$columns:e.length,$gridMinWidth:o,$spacing:s,children:e.map((p,h)=>v.jsx(uZ,{colIdx:h,rowIdx:t,sectionIdx:i,col:p,fieldsDef:r,colsInRow:e.length,spacing:s,methods:a,skeleton:l,path:u},`col-${h}`))}):null},FT=m.memo(cZ),BT=n=>{const{title:e,description:t,fieldsDef:r,rows:i,sectionIdx:o,collapsed:s=!1,registerRef:a,gridMinWidth:l,spacing:u,methods:c,skeleton:d}=n,{state:f}=m.useContext(co),p=m.useCallback(()=>!!i.flat(2).some(k=>f.errors[k]),[i,f.errors]),h=m.useMemo(()=>p()?!0:!s,[s,p]),[g,y]=m.useState(h),x=m.useRef();m.useEffect(()=>{p()&&y(!0)},[p]),m.useEffect(()=>{y(!s)},[s]);const b=(w,k)=>{y(k)};return m.useEffect(()=>a(x.current),[x.current]),v.jsxs(KJ,{"data-testid":"section-test-id",defaultExpanded:h,expanded:g,onChange:b,square:!0,$title:e,ref:x,children:[e&&v.jsx(YJ,{expandIcon:v.jsx(xm,{}),"aria-controls":"panel1a-content",children:v.jsx(XJ,{className:"section-title",children:e})}),v.jsxs(JJ,{children:[t&&v.jsx(ZJ,{children:t}),i&&v.jsx(_T,{$title:e,children:i.map((w,k)=>v.jsx(FT,{row:w,rowIdx:k,sectionIdx:o,fieldsDef:r,gridMinWidth:l,spacing:u,methods:c,skeleton:d},`row-${k}`))})]})]})};BT.displayName="Section";const dZ=m.memo(BT),fZ=ee.div`
	margin: 0px;
	max-width: 1160px;
	display: grid;
	grid-template-columns: repeat(1,minmax(0,1fr));
	gap: 24px 40px;
`,pZ=n=>{const{fields:e,sections:t,registerRef:r,spacing:i,methods:o,skeleton:s}=n;return v.jsx(fZ,{"data-testid":"form-layout-test-id",className:"layout",children:t.map((a,l)=>v.jsx(dZ,{registerRef:r,title:a.title,sectionIdx:l,description:a.description,fieldsDef:e,rows:a.fields,collapsed:a.collapsed,gridMinWidth:a.gridMinWidth,spacing:i,methods:o,skeleton:s},l))})},hZ=m.memo(pZ),mZ=ee.div`
	border-bottom: 2px solid ${V.newColors.grey2[100]};
	padding: 0 24px 24px;

	${Wt("sm","FORM")} {
		padding-top: 24px;
	}

	${({$bottomBorder:n})=>!n&&`
		${Wt("sm","FORM")} {
			border-bottom: 0;
			padding-bottom: 0;
		}

		${Wt("xl","FORM")} {
			padding-bottom: 24px;
		}
	`}

	${Wt("xl","FORM")} {
		border-bottom: 2px solid ${V.newColors.grey2[100]};
	}
`,gZ=ee.div`
	top: 0;
	z-index: 100;
	display: flex;
	flex-direction: column;

	${Wt("sm","FORM")} {
		align-items: center;
		flex-direction: row;
		flex-wrap: wrap;
	}
`,vZ=ee.div`
	display: flex;
	margin: 0 -24px 24px;
	padding: 12px 24px;
	order: -1;
	justify-content: end;
  	background-color: ${V.newColors.grey2[100]};

	${Wt("sm","FORM")} {
		order: 0;
		background: none;
		margin: 0;
		padding: 0;
  	}
`,yZ=ee.button`
  margin-right: auto;
  border-radius: 0;
  border: 0;
  background: none;
  cursor: pointer;

  ${Wt("sm","FORM")} {
	display: none;
  }
`,bZ=ee(eC)`
  color: ${V.newColors.almostBlack[100]};
`,xZ=ee.div`
	font-family: ${V.fontFamily};

	${Wt("sm","FORM")} {
		margin-right: auto;
		max-width: 50%;
	}
`;ee.div`
	display: flex;
	align-items: center;
`;const wZ=ee(pC)`
	display: none;

	${Wt("md","FORM")} {
		display: block;
	}
`,CZ=ee(pC)`
	width: 100%;

	${Wt("sm","FORM")} {
		order: 1;
	}

	${Wt("md","FORM")} {
		display: none;
	}
`,SZ=n=>{const{buttons:e,description:t,title:r,onBack:i,backLabel:o,bottomBorder:s,collapse:a,skeleton:l}=n;return v.jsxs(mZ,{$bottomBorder:s,children:[v.jsxs(gZ,{children:[v.jsx(xZ,{children:v.jsxs(SA,{children:[n.onBack&&v.jsx(kA,{collapse:a,onClick:n.onBack,label:o}),v.jsx(EA,{attrs:{title:r},children:r})]})}),t&&v.jsx(CZ,{children:t}),v.jsxs(vZ,{children:[i&&v.jsx(yZ,{type:"button",onClick:i,children:v.jsx(bZ,{})}),v.jsx(il,{buttons:e,skeleton:l})]})]}),t&&v.jsx(wZ,{children:t})]})},kZ=m.memo(SZ);function MZ(n,{min:e,max:t}){return e!==void 0&&n<e?e:t!==void 0&&n>t?t:n}function EZ(n){return n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2}function TZ(n){return 1+2.70158*Math.pow(n-1,3)+1.70158*Math.pow(n-1,2)}function LZ(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}const AZ={easeInOutQuart:EZ,easeOutBack:TZ,easeInOutCubic:LZ};function OZ(n={}){const e={fn:()=>null,startTimestamp:0,preventNext:!1,valueStart:0,valueEnd:0,duration:0,easing:"easeInOutCubic",onComplete:()=>null},t=a=>{Object.assign(e,a)};t(n);const r=a=>{if(e.preventNext)return;e.startTimestamp||(e.startTimestamp=a);const l=Math.min((a-e.startTimestamp)/e.duration,1),u=Math.floor(AZ[e.easing](l)*(e.valueEnd-e.valueStart)+e.valueStart);if(e.fn(u,e),l<1){window.requestAnimationFrame(r);return}e.onComplete&&e.onComplete(),e.preventNext=!0};return{start:(a={})=>{t(a),e.preventNext=!1,e.startTimestamp=0,window.requestAnimationFrame(r)},stop:()=>{e.preventNext=!0},inProgress:()=>!e.preventNext}}function RZ(n){return m.useRef(OZ(n)).current}const PZ=400,DZ=1500;function jT({container:n,onComplete:e,onStop:t,onScrollFinished:r}){const i=m.useRef([]),o=RZ({onComplete:()=>{e&&e(),t&&t(),r&&!i.current.length&&r()}});m.useEffect(()=>{const{current:l}=n;if(!l)return;const u=()=>{o.inProgress()&&(o.stop(),t&&t())};return l.addEventListener("wheel",u,{passive:!0}),()=>l.removeEventListener("wheel",u)},[o,n,t]);const s=m.useCallback(({top:l,left:u})=>{const{current:c}=n;if(!c)return;let d=!1;if(l!==void 0&&c.scrollTop!==l&&(c.scrollTop=l,d=!0),u!==void 0&&c.scrollLeft!==u&&(c.scrollLeft=u,d=!0),d){const f=()=>{c.removeEventListener("scroll",f),i.current=i.current.filter(p=>p!==f),!i.current.length&&!o.inProgress()&&r()};i.current.push(f),c.addEventListener("scroll",f,{passive:!0})}},[r,o,n]),a=m.useCallback(({target:l,offset:u=0})=>{if(!l)return;const{current:c}=n,{scrollTop:d}=c,f=l.getBoundingClientRect(),p=c.getBoundingClientRect(),h=f.top+d-p.top-u,g=c.scrollHeight-p.height,y=d,x=Math.min(h,g);o.start({fn:b=>s({top:b}),valueStart:y,valueEnd:x,duration:MZ(Math.abs(x-y)*.75,{min:PZ,max:DZ})})},[o,n]);return{animation:o,scrollTo:a}}function IZ({refs:n,container:e,threshold:t=.2}){const r=m.useRef(!0),{current:i}=e,{animation:o,scrollTo:s}=jT({container:e,onScrollFinished:m.useCallback(()=>{r.current=!0},[])}),[a,l]=m.useState(0),u=m.useCallback(()=>{let d=0;if(!i||!n)return d;const f=i.getBoundingClientRect();if(!i.scrollTop)return 0;if(Math.ceil(i.scrollTop+f.height)>=i.scrollHeight)return n.length-1;for(let p=0;p<n.length&&!(n[p].getBoundingClientRect().top>f.top+f.height*t);p++)d=p;return d},[i,n,t]);m.useEffect(()=>{if(!i)return;function d(){r.current&&l(u())}return i.addEventListener("scroll",d,{passive:!0}),()=>i.removeEventListener("scroll",d)},[i,u]);const c=m.useCallback(d=>{const[f]=n,p=n[d];if(!f||!p||!i)return;r.current=!1,l(d);const h=i.getBoundingClientRect(),y=f.getBoundingClientRect().top+i.scrollTop-h.top;s({target:p,offset:y})},[i,n,s]);return{animation:o,activeSection:a,scrollToSection:c}}const NZ=({sections:n,fields:e})=>n?n.map(t=>{const r=t.fields.filter(i=>i.filter(s=>s.length).length);return{...t,fields:r}}):[{fields:e.map(t=>[[t.name]])}];function _Z(n){return n.map(e=>{var t;if(e.type==="addressSingle"){const{inputSettings:{getOptionsCountries:r,getOptionsStates:i,googleMapsApiKey:o,subFields:s}={},required:a,disabled:l}=e;return{...e,type:"group",inputSettings:{fields:zk({getOptionsCountries:r,getOptionsStates:i,googleMapsApiKey:o,required:a,disabled:l,include:s})}}}if(e.type==="date"){const{inputSettings:r={}}=e,{minDate:i=new Date(1400,0,1),maxDate:o=new Date(3e3,11,31)}=r;return(t=e.inputSettings)!=null&&t.showTime?{...e,type:"group",size:e.size||"md",required:!!e.required&&{asterisk:!0,validator:!1},inputSettings:{fields:[{name:"date",type:"date",size:ht.full,required:e.required,disabled:e.disabled,inputSettings:{...r,minDate:i,maxDate:o,showTime:!1},validates:["time"]},{name:"time",type:"time",size:ht.full,required:e.required,disabled:e.disabled,inputSettings:{defaultTime:r.defaultTime}}],layout:[[["date"],["time"]]]},getResolvedValue:s=>s instanceof Date?{internalValue:{date:{date:s,keyboardInputValue:void 0},time:{time:s,keyboardInputValue:void 0,usingDefaultTime:!1}},value:s}:!s||!s.date||!s.time?{internalValue:s,value:void 0}:{internalValue:s,value:Ru(s.date,s.time)}}:{...e,inputSettings:{...r,minDate:i,maxDate:o}}}return e})}const $Z={name:"FORM",minWidth:"sm"},FZ={name:"FORM",minWidth:"xl"},BZ=n=>{const{buttons:e,state:t,title:r,onBack:i,backLabel:o,fields:s,sections:a,dialogOpen:l=!1,description:u,getFormValues:c,handleDialogClose:d,scrollSpyThreshold:f=.15,fullHeight:p=!0,spacing:h="normal",useSectionHash:g="section",onSubmit:y,methods:x,stable:b,autoFocus:w,skeleton:k,bottomSlot:S=null}=n,C=m.useMemo(()=>({methods:x,state:t}),[x,t]),M=m.useMemo(()=>_Z(s),[s]),{init:T,setFormValues:I,setSubmitWarning:R,disableForm:z}=x,{errors:_,loadingInitial:W,disabled:D}=t,{moveToError:B}=b,[F,N]=m.useState([]),Z=m.useRef(),me=m.useRef(),{animation:{inProgress:re},activeSection:U,scrollToSection:J}=IZ({refs:F,container:me,threshold:f}),ue=m.useCallback(j=>{const K=new URL(window.location.toString());K.hash=`${g}-${j}`,history.replaceState({},"",K.toString())},[g]),{scrollTo:Y}=jT({container:me,onComplete:()=>{b.moveToError=!1}});m.useEffect(()=>{if(!B||!Object.keys(_).filter(Boolean).length)return;const j=Jc(b.fields).map(ae=>ae.join(".")).find(ae=>b.mounted[ae]&&_[ae]);if(!j)return;const K=b.mounted[j];K&&Y({target:K.fieldRef})},[_,B,Y,b.fields,b.mounted]);const E=m.useRef(!1);m.useEffect(()=>{var ae;if(D||W||!w||E.current)return;const[j]=Object.entries(b.fields).filter(([,he])=>b.mounted[he.name]).map(([,he])=>he).sort(({order:he},{order:pe})=>he-pe);if(!j)return;const K=b.mounted[j.name];!K||typeof((ae=K==null?void 0:K.inputRef)==null?void 0:ae.focus)!="function"||(E.current=!0,window.requestAnimationFrame(()=>K.inputRef.focus()))},[D,W,w,b.fields,b.mounted]),m.useEffect(()=>{if(!g)return;const{hash:j}=window.location,K=new RegExp(`^#${g}-(\\d+)`),ae=j&&j.match(K);if(!ae)return;const he=Number(ae[1]);J(he)},[g,J]),m.useEffect(()=>{!g||re()||ue(U)},[U,re,ue,g]);const $=m.useMemo(()=>NZ({sections:a,fields:M}),[a,M]),Q=bu($,t,"show"),te=m.useCallback(j=>(N(K=>[...K,j]),()=>N(K=>K.filter(ae=>ae!==j))),[]),ne=m.useMemo(()=>Q.map((j,K)=>({label:j.title,name:K.toString()})),[Q]),be=m.useCallback(j=>{const K=Number(j.item.name);ue(K),J(K)},[ue,J]),ge=typeof t.submitWarning=="object"?v.jsxs(v.Fragment,{children:[v.jsx("div",{children:t.submitWarning.lead}),v.jsx("ul",{children:t.submitWarning.reasons.map(j=>v.jsx("li",{children:j},j))})]}):t.submitWarning,ye=[{label:"No, stay",onClick:()=>d(!1),color:"gray",variant:"outlined"},{label:"Yes, leave",onClick:()=>d(!0),color:"yellow",variant:"contained"}],Ce=t.disabled||t.waits.length>0,Me=k||W;m.useLayoutEffect(()=>{T({fields:M,sections:a})},[T,M,a]),m.useEffect(()=>{(async()=>{z({disabled:!0,initial:!0});const j=c?await c():{};I({values:j,initial:!0})})()},[z,c,I]);const O=m.useCallback(j=>{j.preventDefault(),y&&y(j)},[y]),P=m.useMemo(()=>(e||[]).map(j=>({...j,disabled:t.disabled?!0:j.disabled})),[t.disabled,e]),H=m.useMemo(()=>M.map(j=>({...j,disabled:t.disabled?!0:j.disabled})),[t.disabled,M]);return v.jsxs(co.Provider,{value:C,children:[v.jsx(KA,{"data-testid":"form-test-id",ref:Z,"aria-busy":Ce?"true":"false",role:"form","aria-label":r,$fullHeight:p,children:v.jsxs(YA,{autoComplete:"off",onSubmit:O,noValidate:!0,children:[r&&v.jsx(kZ,{title:r,onBack:i,backLabel:o,description:u,buttons:P,bottomBorder:ne.length<2,collapse:$Z,skeleton:Me}),v.jsxs(ZA,{className:"form-primary",children:[ne.length>1&&v.jsx(XA,{items:[ne],active:String(U),onNav:be,collapse:FZ}),v.jsx(JA,{ref:me,$spacing:h,children:v.jsx(hZ,{registerRef:te,fields:H,sections:Q,spacing:h,methods:x,skeleton:Me})})]}),S]})}),v.jsx(Em,{buttons:ye,dialogTitle:"Are you sure you want to leave?",open:l,children:"You have unsaved changes. If you leave all your changes will be lost."}),v.jsx(Tm,{label:ge,open:t.submitWarning.open,onClose:()=>R({...t.submitWarning,open:!1}),autoHideDuration:4e3})]})},pd=m.memo(BZ);export{pd as F,DX as V,B4 as a,vk as b,UX as c,H4 as d,F4 as e,j4 as f,z4 as g,PX as h,GA as i,fk as j,Tg as k,fY as l,qX as n,WX as r,dk as t,Zc as u,$4 as v};
