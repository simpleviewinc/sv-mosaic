import{r as u,a as h}from"./index-BP8_t0zE.js";function y(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function _(...e){return u.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{y(r,t)})},e)}const d={};function p(e,t){const r=u.useRef(d);return r.current===d&&(r.current=e(t)),r}const b=[];function E(e){u.useEffect(e,b)}class o{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new o}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function F(){const e=p(o.create).current;return E(e.disposeEffect),e}function P(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,s;for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},f(e,t)}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}const k=h.createContext(null);function K(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}const m=typeof window<"u"?u.useLayoutEffect:u.useEffect;function x(e){const t=u.useRef(e);return m(()=>{t.current=e}),u.useRef((...r)=>(0,t.current)(...r)).current}let c=!0,l=!1;const w=new o,T={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function I(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&T[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function R(e){e.metaKey||e.altKey||e.ctrlKey||(c=!0)}function a(){c=!1}function v(){this.visibilityState==="hidden"&&l&&(c=!0)}function O(e){e.addEventListener("keydown",R,!0),e.addEventListener("mousedown",a,!0),e.addEventListener("pointerdown",a,!0),e.addEventListener("touchstart",a,!0),e.addEventListener("visibilitychange",v,!0)}function L(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return c||I(t)}function j(){const e=u.useCallback(n=>{n!=null&&O(n.ownerDocument)},[]),t=u.useRef(!1);function r(){return t.current?(l=!0,w.start(100,()=>{l=!1}),t.current=!1,!0):!1}function i(n){return L(n)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:i,onBlur:r,ref:e}}export{k as T,V as _,x as a,m as b,K as c,P as d,F as e,j as f,f as g,y as s,_ as u};
